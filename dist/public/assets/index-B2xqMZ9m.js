function cY(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Mx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function an(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zb={exports:{}},Xf={};var tk;function uY(){if(tk)return Xf;tk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,s,i){var l=null;if(i!==void 0&&(l=""+i),s.key!==void 0&&(l=""+s.key),"key"in s){i={};for(var u in s)u!=="key"&&(i[u]=s[u])}else i=s;return s=i.ref,{$$typeof:e,type:a,key:l,ref:s!==void 0?s:null,props:i}}return Xf.Fragment=t,Xf.jsx=r,Xf.jsxs=r,Xf}var nk;function dY(){return nk||(nk=1,zb.exports=uY()),zb.exports}var n=dY(),Bb={exports:{}},Qf={},Ub={exports:{}},Hb={};var rk;function fY(){return rk||(rk=1,(function(e){function t(k,D){var P=k.length;k.push(D);e:for(;0<P;){var U=P-1>>>1,G=k[U];if(0<s(G,D))k[U]=D,k[P]=G,P=U;else break e}}function r(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var D=k[0],P=k.pop();if(P!==D){k[0]=P;e:for(var U=0,G=k.length,B=G>>>1;U<B;){var z=2*(U+1)-1,X=k[z],ee=z+1,je=k[ee];if(0>s(X,P))ee<G&&0>s(je,X)?(k[U]=je,k[ee]=P,U=ee):(k[U]=X,k[z]=P,U=z);else if(ee<G&&0>s(je,P))k[U]=je,k[ee]=P,U=ee;else break e}}return D}function s(k,D){var P=k.sortIndex-D.sortIndex;return P!==0?P:k.id-D.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,p=null,x=3,v=!1,j=!1,y=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function S(k){for(var D=r(f);D!==null;){if(D.callback===null)a(f);else if(D.startTime<=k)a(f),D.sortIndex=D.expirationTime,t(d,D);else break;D=r(f)}}function E(k){if(y=!1,S(k),!j)if(r(d)!==null)j=!0,O||(O=!0,H());else{var D=r(f);D!==null&&$(E,D.startTime-k)}}var O=!1,M=-1,R=5,I=-1;function V(){return N?!0:!(e.unstable_now()-I<R)}function F(){if(N=!1,O){var k=e.unstable_now();I=k;var D=!0;try{e:{j=!1,y&&(y=!1,A(M),M=-1),v=!0;var P=x;try{t:{for(S(k),p=r(d);p!==null&&!(p.expirationTime>k&&V());){var U=p.callback;if(typeof U=="function"){p.callback=null,x=p.priorityLevel;var G=U(p.expirationTime<=k);if(k=e.unstable_now(),typeof G=="function"){p.callback=G,S(k),D=!0;break t}p===r(d)&&a(d),S(k)}else a(d);p=r(d)}if(p!==null)D=!0;else{var B=r(f);B!==null&&$(E,B.startTime-k),D=!1}}break e}finally{p=null,x=P,v=!1}D=void 0}}finally{D?H():O=!1}}}var H;if(typeof w=="function")H=function(){w(F)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,q=K.port2;K.port1.onmessage=F,H=function(){q.postMessage(null)}}else H=function(){C(F,0)};function $(k,D){M=C(function(){k(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(k){switch(x){case 1:case 2:case 3:var D=3;break;default:D=x}var P=x;x=D;try{return k()}finally{x=P}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(k,D){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var P=x;x=k;try{return D()}finally{x=P}},e.unstable_scheduleCallback=function(k,D,P){var U=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?U+P:U):P=U,k){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=P+G,k={id:m++,callback:D,priorityLevel:k,startTime:P,expirationTime:G,sortIndex:-1},P>U?(k.sortIndex=P,t(f,k),r(d)===null&&k===r(f)&&(y?(A(M),M=-1):y=!0,$(E,P-U))):(k.sortIndex=G,t(d,k),j||v||(j=!0,O||(O=!0,H()))),k},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(k){var D=x;return function(){var P=x;x=D;try{return k.apply(this,arguments)}finally{x=P}}}})(Hb)),Hb}var ak;function hY(){return ak||(ak=1,Ub.exports=fY()),Ub.exports}var Kb={exports:{}},Et={};var sk;function mY(){if(sk)return Et;sk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),x=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=x&&B[x]||B["@@iterator"],typeof B=="function"?B:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,N={};function C(B,z,X){this.props=B,this.context=z,this.refs=N,this.updater=X||j}C.prototype.isReactComponent={},C.prototype.setState=function(B,z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,z,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function A(){}A.prototype=C.prototype;function w(B,z,X){this.props=B,this.context=z,this.refs=N,this.updater=X||j}var S=w.prototype=new A;S.constructor=w,y(S,C.prototype),S.isPureReactComponent=!0;var E=Array.isArray;function O(){}var M={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(B,z,X){var ee=X.ref;return{$$typeof:e,type:B,key:z,ref:ee!==void 0?ee:null,props:X}}function V(B,z){return I(B.type,z,B.props)}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function H(B){var z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(X){return z[X]})}var K=/\/+/g;function q(B,z){return typeof B=="object"&&B!==null&&B.key!=null?H(""+B.key):z.toString(36)}function $(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(O,O):(B.status="pending",B.then(function(z){B.status==="pending"&&(B.status="fulfilled",B.value=z)},function(z){B.status==="pending"&&(B.status="rejected",B.reason=z)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function k(B,z,X,ee,je){var he=typeof B;(he==="undefined"||he==="boolean")&&(B=null);var le=!1;if(B===null)le=!0;else switch(he){case"bigint":case"string":case"number":le=!0;break;case"object":switch(B.$$typeof){case e:case t:le=!0;break;case m:return le=B._init,k(le(B._payload),z,X,ee,je)}}if(le)return je=je(B),le=ee===""?"."+q(B,0):ee,E(je)?(X="",le!=null&&(X=le.replace(K,"$&/")+"/"),k(je,z,X,"",function(_e){return _e})):je!=null&&(F(je)&&(je=V(je,X+(je.key==null||B&&B.key===je.key?"":(""+je.key).replace(K,"$&/")+"/")+le)),z.push(je)),1;le=0;var ve=ee===""?".":ee+":";if(E(B))for(var xe=0;xe<B.length;xe++)ee=B[xe],he=ve+q(ee,xe),le+=k(ee,z,X,he,je);else if(xe=v(B),typeof xe=="function")for(B=xe.call(B),xe=0;!(ee=B.next()).done;)ee=ee.value,he=ve+q(ee,xe++),le+=k(ee,z,X,he,je);else if(he==="object"){if(typeof B.then=="function")return k($(B),z,X,ee,je);throw z=String(B),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return le}function D(B,z,X){if(B==null)return B;var ee=[],je=0;return k(B,ee,"","",function(he){return z.call(X,he,je++)}),ee}function P(B){if(B._status===-1){var z=B._result;z=z(),z.then(function(X){(B._status===0||B._status===-1)&&(B._status=1,B._result=X)},function(X){(B._status===0||B._status===-1)&&(B._status=2,B._result=X)}),B._status===-1&&(B._status=0,B._result=z)}if(B._status===1)return B._result.default;throw B._result}var U=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},G={map:D,forEach:function(B,z,X){D(B,function(){z.apply(this,arguments)},X)},count:function(B){var z=0;return D(B,function(){z++}),z},toArray:function(B){return D(B,function(z){return z})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Et.Activity=p,Et.Children=G,Et.Component=C,Et.Fragment=r,Et.Profiler=s,Et.PureComponent=w,Et.StrictMode=a,Et.Suspense=d,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Et.__COMPILER_RUNTIME={__proto__:null,c:function(B){return M.H.useMemoCache(B)}},Et.cache=function(B){return function(){return B.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(B,z,X){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ee=y({},B.props),je=B.key;if(z!=null)for(he in z.key!==void 0&&(je=""+z.key),z)!R.call(z,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&z.ref===void 0||(ee[he]=z[he]);var he=arguments.length-2;if(he===1)ee.children=X;else if(1<he){for(var le=Array(he),ve=0;ve<he;ve++)le[ve]=arguments[ve+2];ee.children=le}return I(B.type,je,ee)},Et.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:i,_context:B},B},Et.createElement=function(B,z,X){var ee,je={},he=null;if(z!=null)for(ee in z.key!==void 0&&(he=""+z.key),z)R.call(z,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(je[ee]=z[ee]);var le=arguments.length-2;if(le===1)je.children=X;else if(1<le){for(var ve=Array(le),xe=0;xe<le;xe++)ve[xe]=arguments[xe+2];je.children=ve}if(B&&B.defaultProps)for(ee in le=B.defaultProps,le)je[ee]===void 0&&(je[ee]=le[ee]);return I(B,he,je)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(B){return{$$typeof:u,render:B}},Et.isValidElement=F,Et.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:P}},Et.memo=function(B,z){return{$$typeof:f,type:B,compare:z===void 0?null:z}},Et.startTransition=function(B){var z=M.T,X={};M.T=X;try{var ee=B(),je=M.S;je!==null&&je(X,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(O,U)}catch(he){U(he)}finally{z!==null&&X.types!==null&&(z.types=X.types),M.T=z}},Et.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Et.use=function(B){return M.H.use(B)},Et.useActionState=function(B,z,X){return M.H.useActionState(B,z,X)},Et.useCallback=function(B,z){return M.H.useCallback(B,z)},Et.useContext=function(B){return M.H.useContext(B)},Et.useDebugValue=function(){},Et.useDeferredValue=function(B,z){return M.H.useDeferredValue(B,z)},Et.useEffect=function(B,z){return M.H.useEffect(B,z)},Et.useEffectEvent=function(B){return M.H.useEffectEvent(B)},Et.useId=function(){return M.H.useId()},Et.useImperativeHandle=function(B,z,X){return M.H.useImperativeHandle(B,z,X)},Et.useInsertionEffect=function(B,z){return M.H.useInsertionEffect(B,z)},Et.useLayoutEffect=function(B,z){return M.H.useLayoutEffect(B,z)},Et.useMemo=function(B,z){return M.H.useMemo(B,z)},Et.useOptimistic=function(B,z){return M.H.useOptimistic(B,z)},Et.useReducer=function(B,z,X){return M.H.useReducer(B,z,X)},Et.useRef=function(B){return M.H.useRef(B)},Et.useState=function(B){return M.H.useState(B)},Et.useSyncExternalStore=function(B,z,X){return M.H.useSyncExternalStore(B,z,X)},Et.useTransition=function(){return M.H.useTransition()},Et.version="19.2.0",Et}var ik;function Rm(){return ik||(ik=1,Kb.exports=mY()),Kb.exports}var Vb={exports:{}},Kr={};var ok;function pY(){if(ok)return Kr;ok=1;var e=Rm();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Kr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(d,f,null,m)},Kr.flushSync=function(d){var f=l.T,m=a.p;try{if(l.T=null,a.p=2,d)return d()}finally{l.T=f,a.p=m,a.d.f()}},Kr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(d,f))},Kr.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},Kr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=u(m,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?a.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:x,fetchPriority:v}):m==="script"&&a.d.X(d,{crossOrigin:p,integrity:x,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Kr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);a.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(d)},Kr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=u(m,f.crossOrigin);a.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Kr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=u(f.as,f.crossOrigin);a.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(d)},Kr.requestFormReset=function(d){a.d.r(d)},Kr.unstable_batchedUpdates=function(d,f){return d(f)},Kr.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},Kr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Kr.version="19.2.0",Kr}var lk;function I6(){if(lk)return Vb.exports;lk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vb.exports=pY(),Vb.exports}var ck;function xY(){if(ck)return Qf;ck=1;var e=hY(),t=Rm(),r=I6();function a(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(i(o)!==o)throw Error(a(188))}function f(o){var c=o.alternate;if(!c){if(c=i(o),c===null)throw Error(a(188));return c!==o?null:o}for(var h=o,g=c;;){var _=h.return;if(_===null)break;var T=_.alternate;if(T===null){if(g=_.return,g!==null){h=g;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===h)return d(_),o;if(T===g)return d(_),c;T=T.sibling}throw Error(a(188))}if(h.return!==g.return)h=_,g=T;else{for(var L=!1,W=_.child;W;){if(W===h){L=!0,h=_,g=T;break}if(W===g){L=!0,g=_,h=T;break}W=W.sibling}if(!L){for(W=T.child;W;){if(W===h){L=!0,h=T,g=_;break}if(W===g){L=!0,g=T,h=_;break}W=W.sibling}if(!L)throw Error(a(189))}}if(h.alternate!==g)throw Error(a(190))}if(h.tag!==3)throw Error(a(188));return h.stateNode.current===h?o:c}function m(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=m(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=F&&o[F]||o["@@iterator"],typeof o=="function"?o:null)}var K=Symbol.for("react.client.reference");function q(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===K?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case y:return"Fragment";case C:return"Profiler";case N:return"StrictMode";case E:return"Suspense";case O:return"SuspenseList";case I:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case j:return"Portal";case w:return o.displayName||"Context";case A:return(o._context.displayName||"Context")+".Consumer";case S:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case M:return c=o.displayName||null,c!==null?c:q(o.type)||"Memo";case R:c=o._payload,o=o._init;try{return q(o(c))}catch{}}return null}var $=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},U=[],G=-1;function B(o){return{current:o}}function z(o){0>G||(o.current=U[G],U[G]=null,G--)}function X(o,c){G++,U[G]=o.current,o.current=c}var ee=B(null),je=B(null),he=B(null),le=B(null);function ve(o,c){switch(X(he,c),X(je,o),X(ee,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?SM(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=SM(c),o=AM(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}z(ee),X(ee,o)}function xe(){z(ee),z(je),z(he)}function _e(o){o.memoizedState!==null&&X(le,o);var c=ee.current,h=AM(c,o.type);c!==h&&(X(je,o),X(ee,h))}function Ee(o){je.current===o&&(z(ee),z(je)),le.current===o&&(z(le),Vf._currentValue=P)}var me,$e;function ue(o){if(me===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);me=c&&c[1]||"",$e=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+o+$e}var Me=!1;function Ze(o,c){if(!o||Me)return"";Me=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(Ce){var Se=Ce}Reflect.construct(o,[],Re)}else{try{Re.call()}catch(Ce){Se=Ce}o.call(Re.prototype)}}else{try{throw Error()}catch(Ce){Se=Ce}(Re=o())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(Ce){if(Ce&&Se&&typeof Ce.stack=="string")return[Ce.stack,Se.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=g.DetermineComponentFrameRoot(),L=T[0],W=T[1];if(L&&W){var se=L.split(`
`),we=W.split(`
`);for(_=g=0;g<se.length&&!se[g].includes("DetermineComponentFrameRoot");)g++;for(;_<we.length&&!we[_].includes("DetermineComponentFrameRoot");)_++;if(g===se.length||_===we.length)for(g=se.length-1,_=we.length-1;1<=g&&0<=_&&se[g]!==we[_];)_--;for(;1<=g&&0<=_;g--,_--)if(se[g]!==we[_]){if(g!==1||_!==1)do if(g--,_--,0>_||se[g]!==we[_]){var Te=`
`+se[g].replace(" at new "," at ");return o.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",o.displayName)),Te}while(1<=g&&0<=_);break}}}finally{Me=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?ue(h):""}function ht(o,c){switch(o.tag){case 26:case 27:case 5:return ue(o.type);case 16:return ue("Lazy");case 13:return o.child!==c&&c!==null?ue("Suspense Fallback"):ue("Suspense");case 19:return ue("SuspenseList");case 0:case 15:return Ze(o.type,!1);case 11:return Ze(o.type.render,!1);case 1:return Ze(o.type,!0);case 31:return ue("Activity");default:return""}}function pe(o){try{var c="",h=null;do c+=ht(o,h),h=o,o=o.return;while(o);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var vt=Object.prototype.hasOwnProperty,Zt=e.unstable_scheduleCallback,Cn=e.unstable_cancelCallback,Ne=e.unstable_shouldYield,Fe=e.unstable_requestPaint,ut=e.unstable_now,zt=e.unstable_getCurrentPriorityLevel,nn=e.unstable_ImmediatePriority,ge=e.unstable_UserBlockingPriority,Ue=e.unstable_NormalPriority,xt=e.unstable_LowPriority,rt=e.unstable_IdlePriority,sn=e.log,Jn=e.unstable_setDisableYieldValue,_n=null,En=null;function Sr(o){if(typeof sn=="function"&&Jn(o),En&&typeof En.setStrictMode=="function")try{En.setStrictMode(_n,o)}catch{}}var Ar=Math.clz32?Math.clz32:nf,tf=Math.log,kc=Math.LN2;function nf(o){return o>>>=0,o===0?32:31-(tf(o)/kc|0)|0}var to=256,fe=262144,He=4194304;function gt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function yt(o,c,h){var g=o.pendingLanes;if(g===0)return 0;var _=0,T=o.suspendedLanes,L=o.pingedLanes;o=o.warmLanes;var W=g&134217727;return W!==0?(g=W&~T,g!==0?_=gt(g):(L&=W,L!==0?_=gt(L):h||(h=W&~o,h!==0&&(_=gt(h))))):(W=g&~T,W!==0?_=gt(W):L!==0?_=gt(L):h||(h=g&~o,h!==0&&(_=gt(h)))),_===0?0:c!==0&&c!==_&&(c&T)===0&&(T=_&-_,h=c&-c,T>=h||T===32&&(h&4194048)!==0)?c:_}function Xt(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Br(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pr(){var o=He;return He<<=1,(He&62914560)===0&&(He=4194304),o}function Ia(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function gl(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function M0(o,c,h,g,_,T){var L=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var W=o.entanglements,se=o.expirationTimes,we=o.hiddenUpdates;for(h=L&~h;0<h;){var Te=31-Ar(h),Re=1<<Te;W[Te]=0,se[Te]=-1;var Se=we[Te];if(Se!==null)for(we[Te]=null,Te=0;Te<Se.length;Te++){var Ce=Se[Te];Ce!==null&&(Ce.lane&=-536870913)}h&=~Re}g!==0&&cp(o,g,0),T!==0&&_===0&&o.tag!==0&&(o.suspendedLanes|=T&~(L&~c))}function cp(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-Ar(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|h&261930}function up(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var g=31-Ar(h),_=1<<g;_&c|o[g]&c&&(o[g]|=c),h&=~_}}function dp(o,c){var h=c&-c;return h=(h&42)!==0?1:rf(h),(h&(o.suspendedLanes|c))!==0?0:h}function rf(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function af(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function fp(){var o=D.p;return o!==0?o:(o=window.event,o===void 0?32:GM(o.type))}function hp(o,c){var h=D.p;try{return D.p=o,c()}finally{D.p=h}}var Is=Math.random().toString(36).slice(2),xr="__reactFiber$"+Is,Ur="__reactProps$"+Is,ai="__reactContainer$"+Is,Pc="__reactEvents$"+Is,mp="__reactListeners$"+Is,k0="__reactHandles$"+Is,pp="__reactResources$"+Is,yl="__reactMarker$"+Is;function sf(o){delete o[xr],delete o[Ur],delete o[Pc],delete o[mp],delete o[k0]}function no(o){var c=o[xr];if(c)return c;for(var h=o.parentNode;h;){if(c=h[ai]||h[xr]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=kM(o);o!==null;){if(h=o[xr])return h;o=kM(o)}return c}o=h,h=o.parentNode}return null}function ro(o){if(o=o[xr]||o[ai]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function ao(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(a(33))}function so(o){var c=o[pp];return c||(c=o[pp]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ar(o){o[yl]=!0}var xp=new Set,gp={};function si(o,c){io(o,c),io(o+"Capture",c)}function io(o,c){for(gp[o]=c,o=0;o<c.length;o++)xp.add(c[o])}var P0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),of={},yp={};function R0(o){return vt.call(yp,o)?!0:vt.call(of,o)?!1:P0.test(o)?yp[o]=!0:(of[o]=!0,!1)}function Rc(o,c,h){if(R0(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function Dc(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function ls(o,c,h,g){if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+g)}}function oa(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function vp(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function D0(o,c,h){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var _=g.get,T=g.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return _.call(this)},set:function(L){h=""+L,T.call(this,L)}}),Object.defineProperty(o,c,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(L){h=""+L},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Ic(o){if(!o._valueTracker){var c=vp(o)?"checked":"value";o._valueTracker=D0(o,c,""+o[c])}}function jp(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return o&&(g=vp(o)?o.checked?"true":"false":o.value),o=g,o!==h?(c.setValue(o),!0):!1}function Lc(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var I0=/[\n"\\]/g;function Hr(o){return o.replace(I0,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function lf(o,c,h,g,_,T,L,W){o.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?o.type=L:o.removeAttribute("type"),c!=null?L==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+oa(c)):o.value!==""+oa(c)&&(o.value=""+oa(c)):L!=="submit"&&L!=="reset"||o.removeAttribute("value"),c!=null?$c(o,L,oa(c)):h!=null?$c(o,L,oa(h)):g!=null&&o.removeAttribute("value"),_==null&&T!=null&&(o.defaultChecked=!!T),_!=null&&(o.checked=_&&typeof _!="function"&&typeof _!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?o.name=""+oa(W):o.removeAttribute("name")}function bp(o,c,h,g,_,T,L,W){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.type=T),c!=null||h!=null){if(!(T!=="submit"&&T!=="reset"||c!=null)){Ic(o);return}h=h!=null?""+oa(h):"",c=c!=null?""+oa(c):h,W||c===o.value||(o.value=c),o.defaultValue=c}g=g??_,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=W?o.checked:!!g,o.defaultChecked=!!g,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(o.name=L),Ic(o)}function $c(o,c,h){c==="number"&&Lc(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Fc(o,c,h,g){if(o=o.options,c){c={};for(var _=0;_<h.length;_++)c["$"+h[_]]=!0;for(h=0;h<o.length;h++)_=c.hasOwnProperty("$"+o[h].value),o[h].selected!==_&&(o[h].selected=_),_&&g&&(o[h].defaultSelected=!0)}else{for(h=""+oa(h),c=null,_=0;_<o.length;_++){if(o[_].value===h){o[_].selected=!0,g&&(o[_].defaultSelected=!0);return}c!==null||o[_].disabled||(c=o[_])}c!==null&&(c.selected=!0)}}function vT(o,c,h){if(c!=null&&(c=""+oa(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+oa(h):""}function jT(o,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(a(92));if($(g)){if(1<g.length)throw Error(a(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=oa(c),o.defaultValue=h,g=o.textContent,g===h&&g!==""&&g!==null&&(o.value=g),Ic(o)}function qc(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var aW=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bT(o,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,h):typeof h!="number"||h===0||aW.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function wT(o,c,h){if(c!=null&&typeof c!="object")throw Error(a(62));if(o=o.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var _ in c)g=c[_],c.hasOwnProperty(_)&&h[_]!==g&&bT(o,_,g)}else for(var T in c)c.hasOwnProperty(T)&&bT(o,T,c[T])}function L0(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sW=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iW=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wp(o){return iW.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function ii(){}var $0=null;function F0(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var zc=null,Bc=null;function NT(o){var c=ro(o);if(c&&(o=c.stateNode)){var h=o[Ur]||null;e:switch(o=c.stateNode,c.type){case"input":if(lf(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Hr(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==o&&g.form===o.form){var _=g[Ur]||null;if(!_)throw Error(a(90));lf(g,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===o.form&&jp(g)}break e;case"textarea":vT(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Fc(o,!!h.multiple,c,!1)}}}var q0=!1;function ST(o,c,h){if(q0)return o(c,h);q0=!0;try{var g=o(c);return g}finally{if(q0=!1,(zc!==null||Bc!==null)&&(cx(),zc&&(c=zc,o=Bc,Bc=zc=null,NT(c),o)))for(c=0;c<o.length;c++)NT(o[c])}}function cf(o,c){var h=o.stateNode;if(h===null)return null;var g=h[Ur]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(a(231,c,typeof h));return h}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),z0=!1;if(oi)try{var uf={};Object.defineProperty(uf,"passive",{get:function(){z0=!0}}),window.addEventListener("test",uf,uf),window.removeEventListener("test",uf,uf)}catch{z0=!1}var oo=null,B0=null,Np=null;function AT(){if(Np)return Np;var o,c=B0,h=c.length,g,_="value"in oo?oo.value:oo.textContent,T=_.length;for(o=0;o<h&&c[o]===_[o];o++);var L=h-o;for(g=1;g<=L&&c[h-g]===_[T-g];g++);return Np=_.slice(o,1<g?1-g:void 0)}function Sp(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Ap(){return!0}function CT(){return!1}function la(o){function c(h,g,_,T,L){this._reactName=h,this._targetInst=_,this.type=g,this.nativeEvent=T,this.target=L,this.currentTarget=null;for(var W in o)o.hasOwnProperty(W)&&(h=o[W],this[W]=h?h(T):T[W]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ap:CT,this.isPropagationStopped=CT,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ap)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ap)},persist:function(){},isPersistent:Ap}),c}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cp=la(vl),df=p({},vl,{view:0,detail:0}),oW=la(df),U0,H0,ff,_p=p({},df,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V0,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ff&&(ff&&o.type==="mousemove"?(U0=o.screenX-ff.screenX,H0=o.screenY-ff.screenY):H0=U0=0,ff=o),U0)},movementY:function(o){return"movementY"in o?o.movementY:H0}}),_T=la(_p),lW=p({},_p,{dataTransfer:0}),cW=la(lW),uW=p({},df,{relatedTarget:0}),K0=la(uW),dW=p({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),fW=la(dW),hW=p({},vl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),mW=la(hW),pW=p({},vl,{data:0}),ET=la(pW),xW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vW(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=yW[o])?!!c[o]:!1}function V0(){return vW}var jW=p({},df,{key:function(o){if(o.key){var c=xW[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Sp(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?gW[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V0,charCode:function(o){return o.type==="keypress"?Sp(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Sp(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),bW=la(jW),wW=p({},_p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TT=la(wW),NW=p({},df,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V0}),SW=la(NW),AW=p({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),CW=la(AW),_W=p({},_p,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),EW=la(_W),TW=p({},vl,{newState:0,oldState:0}),OW=la(TW),MW=[9,13,27,32],W0=oi&&"CompositionEvent"in window,hf=null;oi&&"documentMode"in document&&(hf=document.documentMode);var kW=oi&&"TextEvent"in window&&!hf,OT=oi&&(!W0||hf&&8<hf&&11>=hf),MT=" ",kT=!1;function PT(o,c){switch(o){case"keyup":return MW.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RT(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Uc=!1;function PW(o,c){switch(o){case"compositionend":return RT(c);case"keypress":return c.which!==32?null:(kT=!0,MT);case"textInput":return o=c.data,o===MT&&kT?null:o;default:return null}}function RW(o,c){if(Uc)return o==="compositionend"||!W0&&PT(o,c)?(o=AT(),Np=B0=oo=null,Uc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return OT&&c.locale!=="ko"?null:c.data;default:return null}}var DW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DT(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!DW[o.type]:c==="textarea"}function IT(o,c,h,g){zc?Bc?Bc.push(g):Bc=[g]:zc=g,c=xx(c,"onChange"),0<c.length&&(h=new Cp("onChange","change",null,h,g),o.push({event:h,listeners:c}))}var mf=null,pf=null;function IW(o){yM(o,0)}function Ep(o){var c=ao(o);if(jp(c))return o}function LT(o,c){if(o==="change")return c}var $T=!1;if(oi){var G0;if(oi){var Y0="oninput"in document;if(!Y0){var FT=document.createElement("div");FT.setAttribute("oninput","return;"),Y0=typeof FT.oninput=="function"}G0=Y0}else G0=!1;$T=G0&&(!document.documentMode||9<document.documentMode)}function qT(){mf&&(mf.detachEvent("onpropertychange",zT),pf=mf=null)}function zT(o){if(o.propertyName==="value"&&Ep(pf)){var c=[];IT(c,pf,o,F0(o)),ST(IW,c)}}function LW(o,c,h){o==="focusin"?(qT(),mf=c,pf=h,mf.attachEvent("onpropertychange",zT)):o==="focusout"&&qT()}function $W(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ep(pf)}function FW(o,c){if(o==="click")return Ep(c)}function qW(o,c){if(o==="input"||o==="change")return Ep(c)}function zW(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ya=typeof Object.is=="function"?Object.is:zW;function xf(o,c){if(ya(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var _=h[g];if(!vt.call(c,_)||!ya(o[_],c[_]))return!1}return!0}function BT(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function UT(o,c){var h=BT(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=c&&g>=c)return{node:h,offset:c-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=BT(h)}}function HT(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?HT(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function KT(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Lc(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=Lc(o.document)}return c}function X0(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var BW=oi&&"documentMode"in document&&11>=document.documentMode,Hc=null,Q0=null,gf=null,Z0=!1;function VT(o,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Z0||Hc==null||Hc!==Lc(g)||(g=Hc,"selectionStart"in g&&X0(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),gf&&xf(gf,g)||(gf=g,g=xx(Q0,"onSelect"),0<g.length&&(c=new Cp("onSelect","select",null,c,h),o.push({event:c,listeners:g}),c.target=Hc)))}function jl(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var Kc={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionrun:jl("Transition","TransitionRun"),transitionstart:jl("Transition","TransitionStart"),transitioncancel:jl("Transition","TransitionCancel"),transitionend:jl("Transition","TransitionEnd")},J0={},WT={};oi&&(WT=document.createElement("div").style,"AnimationEvent"in window||(delete Kc.animationend.animation,delete Kc.animationiteration.animation,delete Kc.animationstart.animation),"TransitionEvent"in window||delete Kc.transitionend.transition);function bl(o){if(J0[o])return J0[o];if(!Kc[o])return o;var c=Kc[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in WT)return J0[o]=c[h];return o}var GT=bl("animationend"),YT=bl("animationiteration"),XT=bl("animationstart"),UW=bl("transitionrun"),HW=bl("transitionstart"),KW=bl("transitioncancel"),QT=bl("transitionend"),ZT=new Map,ej="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ej.push("scrollEnd");function cs(o,c){ZT.set(o,c),si(c,[o])}var Tp=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},La=[],Vc=0,tj=0;function Op(){for(var o=Vc,c=tj=Vc=0;c<o;){var h=La[c];La[c++]=null;var g=La[c];La[c++]=null;var _=La[c];La[c++]=null;var T=La[c];if(La[c++]=null,g!==null&&_!==null){var L=g.pending;L===null?_.next=_:(_.next=L.next,L.next=_),g.pending=_}T!==0&&JT(h,_,T)}}function Mp(o,c,h,g){La[Vc++]=o,La[Vc++]=c,La[Vc++]=h,La[Vc++]=g,tj|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function nj(o,c,h,g){return Mp(o,c,h,g),kp(o)}function wl(o,c){return Mp(o,null,null,c),kp(o)}function JT(o,c,h){o.lanes|=h;var g=o.alternate;g!==null&&(g.lanes|=h);for(var _=!1,T=o.return;T!==null;)T.childLanes|=h,g=T.alternate,g!==null&&(g.childLanes|=h),T.tag===22&&(o=T.stateNode,o===null||o._visibility&1||(_=!0)),o=T,T=T.return;return o.tag===3?(T=o.stateNode,_&&c!==null&&(_=31-Ar(h),o=T.hiddenUpdates,g=o[_],g===null?o[_]=[c]:g.push(c),c.lane=h|536870912),T):null}function kp(o){if(50<Ff)throw Ff=0,db=null,Error(a(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Wc={};function VW(o,c,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function va(o,c,h,g){return new VW(o,c,h,g)}function rj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function li(o,c){var h=o.alternate;return h===null?(h=va(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function eO(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Pp(o,c,h,g,_,T){var L=0;if(g=o,typeof o=="function")rj(o)&&(L=1);else if(typeof o=="string")L=QG(o,h,ee.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case I:return o=va(31,h,c,_),o.elementType=I,o.lanes=T,o;case y:return Nl(h.children,_,T,c);case N:L=8,_|=24;break;case C:return o=va(12,h,c,_|2),o.elementType=C,o.lanes=T,o;case E:return o=va(13,h,c,_),o.elementType=E,o.lanes=T,o;case O:return o=va(19,h,c,_),o.elementType=O,o.lanes=T,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case w:L=10;break e;case A:L=9;break e;case S:L=11;break e;case M:L=14;break e;case R:L=16,g=null;break e}L=29,h=Error(a(130,o===null?"null":typeof o,"")),g=null}return c=va(L,h,c,_),c.elementType=o,c.type=g,c.lanes=T,c}function Nl(o,c,h,g){return o=va(7,o,g,c),o.lanes=h,o}function aj(o,c,h){return o=va(6,o,null,c),o.lanes=h,o}function tO(o){var c=va(18,null,null,0);return c.stateNode=o,c}function sj(o,c,h){return c=va(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var nO=new WeakMap;function $a(o,c){if(typeof o=="object"&&o!==null){var h=nO.get(o);return h!==void 0?h:(c={value:o,source:c,stack:pe(c)},nO.set(o,c),c)}return{value:o,source:c,stack:pe(c)}}var Gc=[],Yc=0,Rp=null,yf=0,Fa=[],qa=0,lo=null,Ls=1,$s="";function ci(o,c){Gc[Yc++]=yf,Gc[Yc++]=Rp,Rp=o,yf=c}function rO(o,c,h){Fa[qa++]=Ls,Fa[qa++]=$s,Fa[qa++]=lo,lo=o;var g=Ls;o=$s;var _=32-Ar(g)-1;g&=~(1<<_),h+=1;var T=32-Ar(c)+_;if(30<T){var L=_-_%5;T=(g&(1<<L)-1).toString(32),g>>=L,_-=L,Ls=1<<32-Ar(c)+_|h<<_|g,$s=T+o}else Ls=1<<T|h<<_|g,$s=o}function ij(o){o.return!==null&&(ci(o,1),rO(o,1,0))}function oj(o){for(;o===Rp;)Rp=Gc[--Yc],Gc[Yc]=null,yf=Gc[--Yc],Gc[Yc]=null;for(;o===lo;)lo=Fa[--qa],Fa[qa]=null,$s=Fa[--qa],Fa[qa]=null,Ls=Fa[--qa],Fa[qa]=null}function aO(o,c){Fa[qa++]=Ls,Fa[qa++]=$s,Fa[qa++]=lo,Ls=c.id,$s=c.overflow,lo=o}var Rr=null,Tn=null,Gt=!1,co=null,za=!1,lj=Error(a(519));function uo(o){var c=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vf($a(c,o)),lj}function sO(o){var c=o.stateNode,h=o.type,g=o.memoizedProps;switch(c[xr]=o,c[Ur]=g,h){case"dialog":Ut("cancel",c),Ut("close",c);break;case"iframe":case"object":case"embed":Ut("load",c);break;case"video":case"audio":for(h=0;h<zf.length;h++)Ut(zf[h],c);break;case"source":Ut("error",c);break;case"img":case"image":case"link":Ut("error",c),Ut("load",c);break;case"details":Ut("toggle",c);break;case"input":Ut("invalid",c),bp(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Ut("invalid",c);break;case"textarea":Ut("invalid",c),jT(c,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||wM(c.textContent,h)?(g.popover!=null&&(Ut("beforetoggle",c),Ut("toggle",c)),g.onScroll!=null&&Ut("scroll",c),g.onScrollEnd!=null&&Ut("scrollend",c),g.onClick!=null&&(c.onclick=ii),c=!0):c=!1,c||uo(o,!0)}function iO(o){for(Rr=o.return;Rr;)switch(Rr.tag){case 5:case 31:case 13:za=!1;return;case 27:case 3:za=!0;return;default:Rr=Rr.return}}function Xc(o){if(o!==Rr)return!1;if(!Gt)return iO(o),Gt=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||Cb(o.type,o.memoizedProps)),h=!h),h&&Tn&&uo(o),iO(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));Tn=MM(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));Tn=MM(o)}else c===27?(c=Tn,Ao(o.type)?(o=Mb,Mb=null,Tn=o):Tn=c):Tn=Rr?Ua(o.stateNode.nextSibling):null;return!0}function Sl(){Tn=Rr=null,Gt=!1}function cj(){var o=co;return o!==null&&(fa===null?fa=o:fa.push.apply(fa,o),co=null),o}function vf(o){co===null?co=[o]:co.push(o)}var uj=B(null),Al=null,ui=null;function fo(o,c,h){X(uj,c._currentValue),c._currentValue=h}function di(o){o._currentValue=uj.current,z(uj)}function dj(o,c,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===h)break;o=o.return}}function fj(o,c,h,g){var _=o.child;for(_!==null&&(_.return=o);_!==null;){var T=_.dependencies;if(T!==null){var L=_.child;T=T.firstContext;e:for(;T!==null;){var W=T;T=_;for(var se=0;se<c.length;se++)if(W.context===c[se]){T.lanes|=h,W=T.alternate,W!==null&&(W.lanes|=h),dj(T.return,h,o),g||(L=null);break e}T=W.next}}else if(_.tag===18){if(L=_.return,L===null)throw Error(a(341));L.lanes|=h,T=L.alternate,T!==null&&(T.lanes|=h),dj(L,h,o),L=null}else L=_.child;if(L!==null)L.return=_;else for(L=_;L!==null;){if(L===o){L=null;break}if(_=L.sibling,_!==null){_.return=L.return,L=_;break}L=L.return}_=L}}function Qc(o,c,h,g){o=null;for(var _=c,T=!1;_!==null;){if(!T){if((_.flags&524288)!==0)T=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var L=_.alternate;if(L===null)throw Error(a(387));if(L=L.memoizedProps,L!==null){var W=_.type;ya(_.pendingProps.value,L.value)||(o!==null?o.push(W):o=[W])}}else if(_===le.current){if(L=_.alternate,L===null)throw Error(a(387));L.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(o!==null?o.push(Vf):o=[Vf])}_=_.return}o!==null&&fj(c,o,h,g),c.flags|=262144}function Dp(o){for(o=o.firstContext;o!==null;){if(!ya(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Cl(o){Al=o,ui=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Dr(o){return oO(Al,o)}function Ip(o,c){return Al===null&&Cl(o),oO(o,c)}function oO(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},ui===null){if(o===null)throw Error(a(308));ui=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ui=ui.next=c;return h}var WW=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},GW=e.unstable_scheduleCallback,YW=e.unstable_NormalPriority,sr={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hj(){return{controller:new WW,data:new Map,refCount:0}}function jf(o){o.refCount--,o.refCount===0&&GW(YW,function(){o.controller.abort()})}var bf=null,mj=0,Zc=0,Jc=null;function XW(o,c){if(bf===null){var h=bf=[];mj=0,Zc=gb(),Jc={status:"pending",value:void 0,then:function(g){h.push(g)}}}return mj++,c.then(lO,lO),c}function lO(){if(--mj===0&&bf!==null){Jc!==null&&(Jc.status="fulfilled");var o=bf;bf=null,Zc=0,Jc=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function QW(o,c){var h=[],g={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var _=0;_<h.length;_++)(0,h[_])(c)},function(_){for(g.status="rejected",g.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),g}var cO=k.S;k.S=function(o,c){V4=ut(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&XW(o,c),cO!==null&&cO(o,c)};var _l=B(null);function pj(){var o=_l.current;return o!==null?o:vn.pooledCache}function Lp(o,c){c===null?X(_l,_l.current):X(_l,c.pool)}function uO(){var o=pj();return o===null?null:{parent:sr._currentValue,pool:o}}var eu=Error(a(460)),xj=Error(a(474)),$p=Error(a(542)),Fp={then:function(){}};function dO(o){return o=o.status,o==="fulfilled"||o==="rejected"}function fO(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(ii,ii),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,mO(o),o;default:if(typeof c.status=="string")c.then(ii,ii);else{if(o=vn,o!==null&&100<o.shellSuspendCounter)throw Error(a(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var _=c;_.status="fulfilled",_.value=g}},function(g){if(c.status==="pending"){var _=c;_.status="rejected",_.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,mO(o),o}throw Tl=c,eu}}function El(o){try{var c=o._init;return c(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Tl=h,eu):h}}var Tl=null;function hO(){if(Tl===null)throw Error(a(459));var o=Tl;return Tl=null,o}function mO(o){if(o===eu||o===$p)throw Error(a(483))}var tu=null,wf=0;function qp(o){var c=wf;return wf+=1,tu===null&&(tu=[]),fO(tu,o,c)}function Nf(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function zp(o,c){throw c.$$typeof===x?Error(a(525)):(o=Object.prototype.toString.call(c),Error(a(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function pO(o){function c(ye,ce){if(o){var be=ye.deletions;be===null?(ye.deletions=[ce],ye.flags|=16):be.push(ce)}}function h(ye,ce){if(!o)return null;for(;ce!==null;)c(ye,ce),ce=ce.sibling;return null}function g(ye){for(var ce=new Map;ye!==null;)ye.key!==null?ce.set(ye.key,ye):ce.set(ye.index,ye),ye=ye.sibling;return ce}function _(ye,ce){return ye=li(ye,ce),ye.index=0,ye.sibling=null,ye}function T(ye,ce,be){return ye.index=be,o?(be=ye.alternate,be!==null?(be=be.index,be<ce?(ye.flags|=67108866,ce):be):(ye.flags|=67108866,ce)):(ye.flags|=1048576,ce)}function L(ye){return o&&ye.alternate===null&&(ye.flags|=67108866),ye}function W(ye,ce,be,ke){return ce===null||ce.tag!==6?(ce=aj(be,ye.mode,ke),ce.return=ye,ce):(ce=_(ce,be),ce.return=ye,ce)}function se(ye,ce,be,ke){var jt=be.type;return jt===y?Te(ye,ce,be.props.children,ke,be.key):ce!==null&&(ce.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===R&&El(jt)===ce.type)?(ce=_(ce,be.props),Nf(ce,be),ce.return=ye,ce):(ce=Pp(be.type,be.key,be.props,null,ye.mode,ke),Nf(ce,be),ce.return=ye,ce)}function we(ye,ce,be,ke){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==be.containerInfo||ce.stateNode.implementation!==be.implementation?(ce=sj(be,ye.mode,ke),ce.return=ye,ce):(ce=_(ce,be.children||[]),ce.return=ye,ce)}function Te(ye,ce,be,ke,jt){return ce===null||ce.tag!==7?(ce=Nl(be,ye.mode,ke,jt),ce.return=ye,ce):(ce=_(ce,be),ce.return=ye,ce)}function Re(ye,ce,be){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return ce=aj(""+ce,ye.mode,be),ce.return=ye,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case v:return be=Pp(ce.type,ce.key,ce.props,null,ye.mode,be),Nf(be,ce),be.return=ye,be;case j:return ce=sj(ce,ye.mode,be),ce.return=ye,ce;case R:return ce=El(ce),Re(ye,ce,be)}if($(ce)||H(ce))return ce=Nl(ce,ye.mode,be,null),ce.return=ye,ce;if(typeof ce.then=="function")return Re(ye,qp(ce),be);if(ce.$$typeof===w)return Re(ye,Ip(ye,ce),be);zp(ye,ce)}return null}function Se(ye,ce,be,ke){var jt=ce!==null?ce.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return jt!==null?null:W(ye,ce,""+be,ke);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case v:return be.key===jt?se(ye,ce,be,ke):null;case j:return be.key===jt?we(ye,ce,be,ke):null;case R:return be=El(be),Se(ye,ce,be,ke)}if($(be)||H(be))return jt!==null?null:Te(ye,ce,be,ke,null);if(typeof be.then=="function")return Se(ye,ce,qp(be),ke);if(be.$$typeof===w)return Se(ye,ce,Ip(ye,be),ke);zp(ye,be)}return null}function Ce(ye,ce,be,ke,jt){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ye=ye.get(be)||null,W(ce,ye,""+ke,jt);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case v:return ye=ye.get(ke.key===null?be:ke.key)||null,se(ce,ye,ke,jt);case j:return ye=ye.get(ke.key===null?be:ke.key)||null,we(ce,ye,ke,jt);case R:return ke=El(ke),Ce(ye,ce,be,ke,jt)}if($(ke)||H(ke))return ye=ye.get(be)||null,Te(ce,ye,ke,jt,null);if(typeof ke.then=="function")return Ce(ye,ce,be,qp(ke),jt);if(ke.$$typeof===w)return Ce(ye,ce,be,Ip(ce,ke),jt);zp(ce,ke)}return null}function at(ye,ce,be,ke){for(var jt=null,Jt=null,mt=ce,Mt=ce=0,Wt=null;mt!==null&&Mt<be.length;Mt++){mt.index>Mt?(Wt=mt,mt=null):Wt=mt.sibling;var en=Se(ye,mt,be[Mt],ke);if(en===null){mt===null&&(mt=Wt);break}o&&mt&&en.alternate===null&&c(ye,mt),ce=T(en,ce,Mt),Jt===null?jt=en:Jt.sibling=en,Jt=en,mt=Wt}if(Mt===be.length)return h(ye,mt),Gt&&ci(ye,Mt),jt;if(mt===null){for(;Mt<be.length;Mt++)mt=Re(ye,be[Mt],ke),mt!==null&&(ce=T(mt,ce,Mt),Jt===null?jt=mt:Jt.sibling=mt,Jt=mt);return Gt&&ci(ye,Mt),jt}for(mt=g(mt);Mt<be.length;Mt++)Wt=Ce(mt,ye,Mt,be[Mt],ke),Wt!==null&&(o&&Wt.alternate!==null&&mt.delete(Wt.key===null?Mt:Wt.key),ce=T(Wt,ce,Mt),Jt===null?jt=Wt:Jt.sibling=Wt,Jt=Wt);return o&&mt.forEach(function(Oo){return c(ye,Oo)}),Gt&&ci(ye,Mt),jt}function wt(ye,ce,be,ke){if(be==null)throw Error(a(151));for(var jt=null,Jt=null,mt=ce,Mt=ce=0,Wt=null,en=be.next();mt!==null&&!en.done;Mt++,en=be.next()){mt.index>Mt?(Wt=mt,mt=null):Wt=mt.sibling;var Oo=Se(ye,mt,en.value,ke);if(Oo===null){mt===null&&(mt=Wt);break}o&&mt&&Oo.alternate===null&&c(ye,mt),ce=T(Oo,ce,Mt),Jt===null?jt=Oo:Jt.sibling=Oo,Jt=Oo,mt=Wt}if(en.done)return h(ye,mt),Gt&&ci(ye,Mt),jt;if(mt===null){for(;!en.done;Mt++,en=be.next())en=Re(ye,en.value,ke),en!==null&&(ce=T(en,ce,Mt),Jt===null?jt=en:Jt.sibling=en,Jt=en);return Gt&&ci(ye,Mt),jt}for(mt=g(mt);!en.done;Mt++,en=be.next())en=Ce(mt,ye,Mt,en.value,ke),en!==null&&(o&&en.alternate!==null&&mt.delete(en.key===null?Mt:en.key),ce=T(en,ce,Mt),Jt===null?jt=en:Jt.sibling=en,Jt=en);return o&&mt.forEach(function(lY){return c(ye,lY)}),Gt&&ci(ye,Mt),jt}function pn(ye,ce,be,ke){if(typeof be=="object"&&be!==null&&be.type===y&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case v:e:{for(var jt=be.key;ce!==null;){if(ce.key===jt){if(jt=be.type,jt===y){if(ce.tag===7){h(ye,ce.sibling),ke=_(ce,be.props.children),ke.return=ye,ye=ke;break e}}else if(ce.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===R&&El(jt)===ce.type){h(ye,ce.sibling),ke=_(ce,be.props),Nf(ke,be),ke.return=ye,ye=ke;break e}h(ye,ce);break}else c(ye,ce);ce=ce.sibling}be.type===y?(ke=Nl(be.props.children,ye.mode,ke,be.key),ke.return=ye,ye=ke):(ke=Pp(be.type,be.key,be.props,null,ye.mode,ke),Nf(ke,be),ke.return=ye,ye=ke)}return L(ye);case j:e:{for(jt=be.key;ce!==null;){if(ce.key===jt)if(ce.tag===4&&ce.stateNode.containerInfo===be.containerInfo&&ce.stateNode.implementation===be.implementation){h(ye,ce.sibling),ke=_(ce,be.children||[]),ke.return=ye,ye=ke;break e}else{h(ye,ce);break}else c(ye,ce);ce=ce.sibling}ke=sj(be,ye.mode,ke),ke.return=ye,ye=ke}return L(ye);case R:return be=El(be),pn(ye,ce,be,ke)}if($(be))return at(ye,ce,be,ke);if(H(be)){if(jt=H(be),typeof jt!="function")throw Error(a(150));return be=jt.call(be),wt(ye,ce,be,ke)}if(typeof be.then=="function")return pn(ye,ce,qp(be),ke);if(be.$$typeof===w)return pn(ye,ce,Ip(ye,be),ke);zp(ye,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,ce!==null&&ce.tag===6?(h(ye,ce.sibling),ke=_(ce,be),ke.return=ye,ye=ke):(h(ye,ce),ke=aj(be,ye.mode,ke),ke.return=ye,ye=ke),L(ye)):h(ye,ce)}return function(ye,ce,be,ke){try{wf=0;var jt=pn(ye,ce,be,ke);return tu=null,jt}catch(mt){if(mt===eu||mt===$p)throw mt;var Jt=va(29,mt,null,ye.mode);return Jt.lanes=ke,Jt.return=ye,Jt}finally{}}}var Ol=pO(!0),xO=pO(!1),ho=!1;function gj(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yj(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function mo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function po(o,c,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(rn&2)!==0){var _=g.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),g.pending=c,c=kp(o),JT(o,null,h),c}return Mp(o,g,c,h),kp(o)}function Sf(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,up(o,h)}}function vj(o,c){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var _=null,T=null;if(h=h.firstBaseUpdate,h!==null){do{var L={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};T===null?_=T=L:T=T.next=L,h=h.next}while(h!==null);T===null?_=T=c:T=T.next=c}else _=T=c;h={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:g.shared,callbacks:g.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var jj=!1;function Af(){if(jj){var o=Jc;if(o!==null)throw o}}function Cf(o,c,h,g){jj=!1;var _=o.updateQueue;ho=!1;var T=_.firstBaseUpdate,L=_.lastBaseUpdate,W=_.shared.pending;if(W!==null){_.shared.pending=null;var se=W,we=se.next;se.next=null,L===null?T=we:L.next=we,L=se;var Te=o.alternate;Te!==null&&(Te=Te.updateQueue,W=Te.lastBaseUpdate,W!==L&&(W===null?Te.firstBaseUpdate=we:W.next=we,Te.lastBaseUpdate=se))}if(T!==null){var Re=_.baseState;L=0,Te=we=se=null,W=T;do{var Se=W.lane&-536870913,Ce=Se!==W.lane;if(Ce?(Vt&Se)===Se:(g&Se)===Se){Se!==0&&Se===Zc&&(jj=!0),Te!==null&&(Te=Te.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var at=o,wt=W;Se=c;var pn=h;switch(wt.tag){case 1:if(at=wt.payload,typeof at=="function"){Re=at.call(pn,Re,Se);break e}Re=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=wt.payload,Se=typeof at=="function"?at.call(pn,Re,Se):at,Se==null)break e;Re=p({},Re,Se);break e;case 2:ho=!0}}Se=W.callback,Se!==null&&(o.flags|=64,Ce&&(o.flags|=8192),Ce=_.callbacks,Ce===null?_.callbacks=[Se]:Ce.push(Se))}else Ce={lane:Se,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Te===null?(we=Te=Ce,se=Re):Te=Te.next=Ce,L|=Se;if(W=W.next,W===null){if(W=_.shared.pending,W===null)break;Ce=W,W=Ce.next,Ce.next=null,_.lastBaseUpdate=Ce,_.shared.pending=null}}while(!0);Te===null&&(se=Re),_.baseState=se,_.firstBaseUpdate=we,_.lastBaseUpdate=Te,T===null&&(_.shared.lanes=0),jo|=L,o.lanes=L,o.memoizedState=Re}}function gO(o,c){if(typeof o!="function")throw Error(a(191,o));o.call(c)}function yO(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)gO(h[o],c)}var nu=B(null),Bp=B(0);function vO(o,c){o=ji,X(Bp,o),X(nu,c),ji=o|c.baseLanes}function bj(){X(Bp,ji),X(nu,nu.current)}function wj(){ji=Bp.current,z(nu),z(Bp)}var ja=B(null),Ba=null;function xo(o){var c=o.alternate;X(er,er.current&1),X(ja,o),Ba===null&&(c===null||nu.current!==null||c.memoizedState!==null)&&(Ba=o)}function Nj(o){X(er,er.current),X(ja,o),Ba===null&&(Ba=o)}function jO(o){o.tag===22?(X(er,er.current),X(ja,o),Ba===null&&(Ba=o)):go()}function go(){X(er,er.current),X(ja,ja.current)}function ba(o){z(ja),Ba===o&&(Ba=null),z(er)}var er=B(0);function Up(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Tb(h)||Ob(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var fi=0,Tt=null,hn=null,ir=null,Hp=!1,ru=!1,Ml=!1,Kp=0,_f=0,au=null,ZW=0;function Hn(){throw Error(a(321))}function Sj(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!ya(o[h],c[h]))return!1;return!0}function Aj(o,c,h,g,_,T){return fi=T,Tt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,k.H=o===null||o.memoizedState===null?r4:qj,Ml=!1,T=h(g,_),Ml=!1,ru&&(T=wO(c,h,g,_)),bO(o),T}function bO(o){k.H=Of;var c=hn!==null&&hn.next!==null;if(fi=0,ir=hn=Tt=null,Hp=!1,_f=0,au=null,c)throw Error(a(300));o===null||or||(o=o.dependencies,o!==null&&Dp(o)&&(or=!0))}function wO(o,c,h,g){Tt=o;var _=0;do{if(ru&&(au=null),_f=0,ru=!1,25<=_)throw Error(a(301));if(_+=1,ir=hn=null,o.updateQueue!=null){var T=o.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}k.H=a4,T=c(h,g)}while(ru);return T}function JW(){var o=k.H,c=o.useState()[0];return c=typeof c.then=="function"?Ef(c):c,o=o.useState()[0],(hn!==null?hn.memoizedState:null)!==o&&(Tt.flags|=1024),c}function Cj(){var o=Kp!==0;return Kp=0,o}function _j(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function Ej(o){if(Hp){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Hp=!1}fi=0,ir=hn=Tt=null,ru=!1,_f=Kp=0,au=null}function Zr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?Tt.memoizedState=ir=o:ir=ir.next=o,ir}function tr(){if(hn===null){var o=Tt.alternate;o=o!==null?o.memoizedState:null}else o=hn.next;var c=ir===null?Tt.memoizedState:ir.next;if(c!==null)ir=c,hn=o;else{if(o===null)throw Tt.alternate===null?Error(a(467)):Error(a(310));hn=o,o={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},ir===null?Tt.memoizedState=ir=o:ir=ir.next=o}return ir}function Vp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ef(o){var c=_f;return _f+=1,au===null&&(au=[]),o=fO(au,o,c),c=Tt,(ir===null?c.memoizedState:ir.next)===null&&(c=c.alternate,k.H=c===null||c.memoizedState===null?r4:qj),o}function Wp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ef(o);if(o.$$typeof===w)return Dr(o)}throw Error(a(438,String(o)))}function Tj(o){var c=null,h=Tt.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=Tt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(_){return _.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Vp(),Tt.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),g=0;g<o;g++)h[g]=V;return c.index++,h}function hi(o,c){return typeof c=="function"?c(o):c}function Gp(o){var c=tr();return Oj(c,hn,o)}function Oj(o,c,h){var g=o.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=h;var _=o.baseQueue,T=g.pending;if(T!==null){if(_!==null){var L=_.next;_.next=T.next,T.next=L}c.baseQueue=_=T,g.pending=null}if(T=o.baseState,_===null)o.memoizedState=T;else{c=_.next;var W=L=null,se=null,we=c,Te=!1;do{var Re=we.lane&-536870913;if(Re!==we.lane?(Vt&Re)===Re:(fi&Re)===Re){var Se=we.revertLane;if(Se===0)se!==null&&(se=se.next={lane:0,revertLane:0,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Re===Zc&&(Te=!0);else if((fi&Se)===Se){we=we.next,Se===Zc&&(Te=!0);continue}else Re={lane:0,revertLane:we.revertLane,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},se===null?(W=se=Re,L=T):se=se.next=Re,Tt.lanes|=Se,jo|=Se;Re=we.action,Ml&&h(T,Re),T=we.hasEagerState?we.eagerState:h(T,Re)}else Se={lane:Re,revertLane:we.revertLane,gesture:we.gesture,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},se===null?(W=se=Se,L=T):se=se.next=Se,Tt.lanes|=Re,jo|=Re;we=we.next}while(we!==null&&we!==c);if(se===null?L=T:se.next=W,!ya(T,o.memoizedState)&&(or=!0,Te&&(h=Jc,h!==null)))throw h;o.memoizedState=T,o.baseState=L,o.baseQueue=se,g.lastRenderedState=T}return _===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function Mj(o){var c=tr(),h=c.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=o;var g=h.dispatch,_=h.pending,T=c.memoizedState;if(_!==null){h.pending=null;var L=_=_.next;do T=o(T,L.action),L=L.next;while(L!==_);ya(T,c.memoizedState)||(or=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),h.lastRenderedState=T}return[T,g]}function NO(o,c,h){var g=Tt,_=tr(),T=Gt;if(T){if(h===void 0)throw Error(a(407));h=h()}else h=c();var L=!ya((hn||_).memoizedState,h);if(L&&(_.memoizedState=h,or=!0),_=_.queue,Rj(CO.bind(null,g,_,o),[o]),_.getSnapshot!==c||L||ir!==null&&ir.memoizedState.tag&1){if(g.flags|=2048,su(9,{destroy:void 0},AO.bind(null,g,_,h,c),null),vn===null)throw Error(a(349));T||(fi&127)!==0||SO(g,c,h)}return h}function SO(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=Tt.updateQueue,c===null?(c=Vp(),Tt.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function AO(o,c,h,g){c.value=h,c.getSnapshot=g,_O(c)&&EO(o)}function CO(o,c,h){return h(function(){_O(c)&&EO(o)})}function _O(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!ya(o,h)}catch{return!0}}function EO(o){var c=wl(o,2);c!==null&&ha(c,o,2)}function kj(o){var c=Zr();if(typeof o=="function"){var h=o;if(o=h(),Ml){Sr(!0);try{h()}finally{Sr(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:o},c}function TO(o,c,h,g){return o.baseState=h,Oj(o,hn,typeof g=="function"?g:hi)}function eG(o,c,h,g,_){if(Qp(o))throw Error(a(485));if(o=c.action,o!==null){var T={payload:_,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){T.listeners.push(L)}};k.T!==null?h(!0):T.isTransition=!1,g(T),h=c.pending,h===null?(T.next=c.pending=T,OO(c,T)):(T.next=h.next,c.pending=h.next=T)}}function OO(o,c){var h=c.action,g=c.payload,_=o.state;if(c.isTransition){var T=k.T,L={};k.T=L;try{var W=h(_,g),se=k.S;se!==null&&se(L,W),MO(o,c,W)}catch(we){Pj(o,c,we)}finally{T!==null&&L.types!==null&&(T.types=L.types),k.T=T}}else try{T=h(_,g),MO(o,c,T)}catch(we){Pj(o,c,we)}}function MO(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){kO(o,c,g)},function(g){return Pj(o,c,g)}):kO(o,c,h)}function kO(o,c,h){c.status="fulfilled",c.value=h,PO(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,OO(o,h)))}function Pj(o,c,h){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,PO(c),c=c.next;while(c!==g)}o.action=null}function PO(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function RO(o,c){return c}function DO(o,c){if(Gt){var h=vn.formState;if(h!==null){e:{var g=Tt;if(Gt){if(Tn){t:{for(var _=Tn,T=za;_.nodeType!==8;){if(!T){_=null;break t}if(_=Ua(_.nextSibling),_===null){_=null;break t}}T=_.data,_=T==="F!"||T==="F"?_:null}if(_){Tn=Ua(_.nextSibling),g=_.data==="F!";break e}}uo(g)}g=!1}g&&(c=h[0])}}return h=Zr(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RO,lastRenderedState:c},h.queue=g,h=e4.bind(null,Tt,g),g.dispatch=h,g=kj(!1),T=Fj.bind(null,Tt,!1,g.queue),g=Zr(),_={state:c,dispatch:null,action:o,pending:null},g.queue=_,h=eG.bind(null,Tt,_,T,h),_.dispatch=h,g.memoizedState=o,[c,h,!1]}function IO(o){var c=tr();return LO(c,hn,o)}function LO(o,c,h){if(c=Oj(o,c,RO)[0],o=Gp(hi)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=Ef(c)}catch(L){throw L===eu?$p:L}else g=c;c=tr();var _=c.queue,T=_.dispatch;return h!==c.memoizedState&&(Tt.flags|=2048,su(9,{destroy:void 0},tG.bind(null,_,h),null)),[g,T,o]}function tG(o,c){o.action=c}function $O(o){var c=tr(),h=hn;if(h!==null)return LO(c,h,o);tr(),c=c.memoizedState,h=tr();var g=h.queue.dispatch;return h.memoizedState=o,[c,g,!1]}function su(o,c,h,g){return o={tag:o,create:h,deps:g,inst:c,next:null},c=Tt.updateQueue,c===null&&(c=Vp(),Tt.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,c.lastEffect=o),o}function FO(){return tr().memoizedState}function Yp(o,c,h,g){var _=Zr();Tt.flags|=o,_.memoizedState=su(1|c,{destroy:void 0},h,g===void 0?null:g)}function Xp(o,c,h,g){var _=tr();g=g===void 0?null:g;var T=_.memoizedState.inst;hn!==null&&g!==null&&Sj(g,hn.memoizedState.deps)?_.memoizedState=su(c,T,h,g):(Tt.flags|=o,_.memoizedState=su(1|c,T,h,g))}function qO(o,c){Yp(8390656,8,o,c)}function Rj(o,c){Xp(2048,8,o,c)}function nG(o){Tt.flags|=4;var c=Tt.updateQueue;if(c===null)c=Vp(),Tt.updateQueue=c,c.events=[o];else{var h=c.events;h===null?c.events=[o]:h.push(o)}}function zO(o){var c=tr().memoizedState;return nG({ref:c,nextImpl:o}),function(){if((rn&2)!==0)throw Error(a(440));return c.impl.apply(void 0,arguments)}}function BO(o,c){return Xp(4,2,o,c)}function UO(o,c){return Xp(4,4,o,c)}function HO(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function KO(o,c,h){h=h!=null?h.concat([o]):null,Xp(4,4,HO.bind(null,c,o),h)}function Dj(){}function VO(o,c){var h=tr();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&Sj(c,g[1])?g[0]:(h.memoizedState=[o,c],o)}function WO(o,c){var h=tr();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&Sj(c,g[1]))return g[0];if(g=o(),Ml){Sr(!0);try{o()}finally{Sr(!1)}}return h.memoizedState=[g,c],g}function Ij(o,c,h){return h===void 0||(fi&1073741824)!==0&&(Vt&261930)===0?o.memoizedState=c:(o.memoizedState=h,o=G4(),Tt.lanes|=o,jo|=o,h)}function GO(o,c,h,g){return ya(h,c)?h:nu.current!==null?(o=Ij(o,h,g),ya(o,c)||(or=!0),o):(fi&42)===0||(fi&1073741824)!==0&&(Vt&261930)===0?(or=!0,o.memoizedState=h):(o=G4(),Tt.lanes|=o,jo|=o,c)}function YO(o,c,h,g,_){var T=D.p;D.p=T!==0&&8>T?T:8;var L=k.T,W={};k.T=W,Fj(o,!1,c,h);try{var se=_(),we=k.S;if(we!==null&&we(W,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var Te=QW(se,g);Tf(o,c,Te,Sa(o))}else Tf(o,c,g,Sa(o))}catch(Re){Tf(o,c,{then:function(){},status:"rejected",reason:Re},Sa())}finally{D.p=T,L!==null&&W.types!==null&&(L.types=W.types),k.T=L}}function rG(){}function Lj(o,c,h,g){if(o.tag!==5)throw Error(a(476));var _=XO(o).queue;YO(o,_,c,P,h===null?rG:function(){return QO(o),h(g)})}function XO(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:P},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function QO(o){var c=XO(o);c.next===null&&(c=o.alternate.memoizedState),Tf(o,c.next.queue,{},Sa())}function $j(){return Dr(Vf)}function ZO(){return tr().memoizedState}function JO(){return tr().memoizedState}function aG(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=Sa();o=mo(h);var g=po(c,o,h);g!==null&&(ha(g,c,h),Sf(g,c,h)),c={cache:hj()},o.payload=c;return}c=c.return}}function sG(o,c,h){var g=Sa();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Qp(o)?t4(c,h):(h=nj(o,c,h,g),h!==null&&(ha(h,o,g),n4(h,c,g)))}function e4(o,c,h){var g=Sa();Tf(o,c,h,g)}function Tf(o,c,h,g){var _={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Qp(o))t4(c,_);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var L=c.lastRenderedState,W=T(L,h);if(_.hasEagerState=!0,_.eagerState=W,ya(W,L))return Mp(o,c,_,0),vn===null&&Op(),!1}catch{}finally{}if(h=nj(o,c,_,g),h!==null)return ha(h,o,g),n4(h,c,g),!0}return!1}function Fj(o,c,h,g){if(g={lane:2,revertLane:gb(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Qp(o)){if(c)throw Error(a(479))}else c=nj(o,h,g,2),c!==null&&ha(c,o,2)}function Qp(o){var c=o.alternate;return o===Tt||c!==null&&c===Tt}function t4(o,c){ru=Hp=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function n4(o,c,h){if((h&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,up(o,h)}}var Of={readContext:Dr,use:Wp,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useLayoutEffect:Hn,useInsertionEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useSyncExternalStore:Hn,useId:Hn,useHostTransitionStatus:Hn,useFormState:Hn,useActionState:Hn,useOptimistic:Hn,useMemoCache:Hn,useCacheRefresh:Hn};Of.useEffectEvent=Hn;var r4={readContext:Dr,use:Wp,useCallback:function(o,c){return Zr().memoizedState=[o,c===void 0?null:c],o},useContext:Dr,useEffect:qO,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,Yp(4194308,4,HO.bind(null,c,o),h)},useLayoutEffect:function(o,c){return Yp(4194308,4,o,c)},useInsertionEffect:function(o,c){Yp(4,2,o,c)},useMemo:function(o,c){var h=Zr();c=c===void 0?null:c;var g=o();if(Ml){Sr(!0);try{o()}finally{Sr(!1)}}return h.memoizedState=[g,c],g},useReducer:function(o,c,h){var g=Zr();if(h!==void 0){var _=h(c);if(Ml){Sr(!0);try{h(c)}finally{Sr(!1)}}}else _=c;return g.memoizedState=g.baseState=_,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:_},g.queue=o,o=o.dispatch=sG.bind(null,Tt,o),[g.memoizedState,o]},useRef:function(o){var c=Zr();return o={current:o},c.memoizedState=o},useState:function(o){o=kj(o);var c=o.queue,h=e4.bind(null,Tt,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:Dj,useDeferredValue:function(o,c){var h=Zr();return Ij(h,o,c)},useTransition:function(){var o=kj(!1);return o=YO.bind(null,Tt,o.queue,!0,!1),Zr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var g=Tt,_=Zr();if(Gt){if(h===void 0)throw Error(a(407));h=h()}else{if(h=c(),vn===null)throw Error(a(349));(Vt&127)!==0||SO(g,c,h)}_.memoizedState=h;var T={value:h,getSnapshot:c};return _.queue=T,qO(CO.bind(null,g,T,o),[o]),g.flags|=2048,su(9,{destroy:void 0},AO.bind(null,g,T,h,c),null),h},useId:function(){var o=Zr(),c=vn.identifierPrefix;if(Gt){var h=$s,g=Ls;h=(g&~(1<<32-Ar(g)-1)).toString(32)+h,c="_"+c+"R_"+h,h=Kp++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=ZW++,c="_"+c+"r_"+h.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:$j,useFormState:DO,useActionState:DO,useOptimistic:function(o){var c=Zr();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=Fj.bind(null,Tt,!0,h),h.dispatch=c,[o,c]},useMemoCache:Tj,useCacheRefresh:function(){return Zr().memoizedState=aG.bind(null,Tt)},useEffectEvent:function(o){var c=Zr(),h={impl:o};return c.memoizedState=h,function(){if((rn&2)!==0)throw Error(a(440));return h.impl.apply(void 0,arguments)}}},qj={readContext:Dr,use:Wp,useCallback:VO,useContext:Dr,useEffect:Rj,useImperativeHandle:KO,useInsertionEffect:BO,useLayoutEffect:UO,useMemo:WO,useReducer:Gp,useRef:FO,useState:function(){return Gp(hi)},useDebugValue:Dj,useDeferredValue:function(o,c){var h=tr();return GO(h,hn.memoizedState,o,c)},useTransition:function(){var o=Gp(hi)[0],c=tr().memoizedState;return[typeof o=="boolean"?o:Ef(o),c]},useSyncExternalStore:NO,useId:ZO,useHostTransitionStatus:$j,useFormState:IO,useActionState:IO,useOptimistic:function(o,c){var h=tr();return TO(h,hn,o,c)},useMemoCache:Tj,useCacheRefresh:JO};qj.useEffectEvent=zO;var a4={readContext:Dr,use:Wp,useCallback:VO,useContext:Dr,useEffect:Rj,useImperativeHandle:KO,useInsertionEffect:BO,useLayoutEffect:UO,useMemo:WO,useReducer:Mj,useRef:FO,useState:function(){return Mj(hi)},useDebugValue:Dj,useDeferredValue:function(o,c){var h=tr();return hn===null?Ij(h,o,c):GO(h,hn.memoizedState,o,c)},useTransition:function(){var o=Mj(hi)[0],c=tr().memoizedState;return[typeof o=="boolean"?o:Ef(o),c]},useSyncExternalStore:NO,useId:ZO,useHostTransitionStatus:$j,useFormState:$O,useActionState:$O,useOptimistic:function(o,c){var h=tr();return hn!==null?TO(h,hn,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:Tj,useCacheRefresh:JO};a4.useEffectEvent=zO;function zj(o,c,h,g){c=o.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Bj={enqueueSetState:function(o,c,h){o=o._reactInternals;var g=Sa(),_=mo(g);_.payload=c,h!=null&&(_.callback=h),c=po(o,_,g),c!==null&&(ha(c,o,g),Sf(c,o,g))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var g=Sa(),_=mo(g);_.tag=1,_.payload=c,h!=null&&(_.callback=h),c=po(o,_,g),c!==null&&(ha(c,o,g),Sf(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Sa(),g=mo(h);g.tag=2,c!=null&&(g.callback=c),c=po(o,g,h),c!==null&&(ha(c,o,h),Sf(c,o,h))}};function s4(o,c,h,g,_,T,L){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,T,L):c.prototype&&c.prototype.isPureReactComponent?!xf(h,g)||!xf(_,T):!0}function i4(o,c,h,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==o&&Bj.enqueueReplaceState(c,c.state,null)}function kl(o,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(o=o.defaultProps){h===c&&(h=p({},h));for(var _ in o)h[_]===void 0&&(h[_]=o[_])}return h}function o4(o){Tp(o)}function l4(o){console.error(o)}function c4(o){Tp(o)}function Zp(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function u4(o,c,h){try{var g=o.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Uj(o,c,h){return h=mo(h),h.tag=3,h.payload={element:null},h.callback=function(){Zp(o,c)},h}function d4(o){return o=mo(o),o.tag=3,o}function f4(o,c,h,g){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var T=g.value;o.payload=function(){return _(T)},o.callback=function(){u4(c,h,g)}}var L=h.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(o.callback=function(){u4(c,h,g),typeof _!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var W=g.stack;this.componentDidCatch(g.value,{componentStack:W!==null?W:""})})}function iG(o,c,h,g,_){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&Qc(c,h,_,!0),h=ja.current,h!==null){switch(h.tag){case 31:case 13:return Ba===null?ux():h.alternate===null&&Kn===0&&(Kn=3),h.flags&=-257,h.flags|=65536,h.lanes=_,g===Fp?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),mb(o,g,_)),!1;case 22:return h.flags|=65536,g===Fp?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),mb(o,g,_)),!1}throw Error(a(435,h.tag))}return mb(o,g,_),ux(),!1}if(Gt)return c=ja.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=_,g!==lj&&(o=Error(a(422),{cause:g}),vf($a(o,h)))):(g!==lj&&(c=Error(a(423),{cause:g}),vf($a(c,h))),o=o.current.alternate,o.flags|=65536,_&=-_,o.lanes|=_,g=$a(g,h),_=Uj(o.stateNode,g,_),vj(o,_),Kn!==4&&(Kn=2)),!1;var T=Error(a(520),{cause:g});if(T=$a(T,h),$f===null?$f=[T]:$f.push(T),Kn!==4&&(Kn=2),c===null)return!0;g=$a(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=_&-_,h.lanes|=o,o=Uj(h.stateNode,g,o),vj(h,o),!1;case 1:if(c=h.type,T=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(bo===null||!bo.has(T))))return h.flags|=65536,_&=-_,h.lanes|=_,_=d4(_),f4(_,o,h,g),vj(h,_),!1}h=h.return}while(h!==null);return!1}var Hj=Error(a(461)),or=!1;function Ir(o,c,h,g){c.child=o===null?xO(c,null,h,g):Ol(c,o.child,h,g)}function h4(o,c,h,g,_){h=h.render;var T=c.ref;if("ref"in g){var L={};for(var W in g)W!=="ref"&&(L[W]=g[W])}else L=g;return Cl(c),g=Aj(o,c,h,L,T,_),W=Cj(),o!==null&&!or?(_j(o,c,_),mi(o,c,_)):(Gt&&W&&ij(c),c.flags|=1,Ir(o,c,g,_),c.child)}function m4(o,c,h,g,_){if(o===null){var T=h.type;return typeof T=="function"&&!rj(T)&&T.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=T,p4(o,c,T,g,_)):(o=Pp(h.type,null,g,c,c.mode,_),o.ref=c.ref,o.return=c,c.child=o)}if(T=o.child,!Zj(o,_)){var L=T.memoizedProps;if(h=h.compare,h=h!==null?h:xf,h(L,g)&&o.ref===c.ref)return mi(o,c,_)}return c.flags|=1,o=li(T,g),o.ref=c.ref,o.return=c,c.child=o}function p4(o,c,h,g,_){if(o!==null){var T=o.memoizedProps;if(xf(T,g)&&o.ref===c.ref)if(or=!1,c.pendingProps=g=T,Zj(o,_))(o.flags&131072)!==0&&(or=!0);else return c.lanes=o.lanes,mi(o,c,_)}return Kj(o,c,h,g,_)}function x4(o,c,h,g){var _=g.children,T=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(T=T!==null?T.baseLanes|h:h,o!==null){for(g=c.child=o.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;g=_&~T}else g=0,c.child=null;return g4(o,c,T,h,g)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Lp(c,T!==null?T.cachePool:null),T!==null?vO(c,T):bj(),jO(c);else return g=c.lanes=536870912,g4(o,c,T!==null?T.baseLanes|h:h,h,g)}else T!==null?(Lp(c,T.cachePool),vO(c,T),go(),c.memoizedState=null):(o!==null&&Lp(c,null),bj(),go());return Ir(o,c,_,h),c.child}function Mf(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function g4(o,c,h,g,_){var T=pj();return T=T===null?null:{parent:sr._currentValue,pool:T},c.memoizedState={baseLanes:h,cachePool:T},o!==null&&Lp(c,null),bj(),jO(c),o!==null&&Qc(o,c,g,!0),c.childLanes=_,null}function Jp(o,c){return c=tx({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function y4(o,c,h){return Ol(c,o.child,null,h),o=Jp(c,c.pendingProps),o.flags|=2,ba(c),c.memoizedState=null,o}function oG(o,c,h){var g=c.pendingProps,_=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Gt){if(g.mode==="hidden")return o=Jp(c,g),c.lanes=536870912,Mf(null,o);if(Nj(c),(o=Tn)?(o=OM(o,za),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:lo!==null?{id:Ls,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},h=tO(o),h.return=c,c.child=h,Rr=c,Tn=null)):o=null,o===null)throw uo(c);return c.lanes=536870912,null}return Jp(c,g)}var T=o.memoizedState;if(T!==null){var L=T.dehydrated;if(Nj(c),_)if(c.flags&256)c.flags&=-257,c=y4(o,c,h);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(a(558));else if(or||Qc(o,c,h,!1),_=(h&o.childLanes)!==0,or||_){if(g=vn,g!==null&&(L=dp(g,h),L!==0&&L!==T.retryLane))throw T.retryLane=L,wl(o,L),ha(g,o,L),Hj;ux(),c=y4(o,c,h)}else o=T.treeContext,Tn=Ua(L.nextSibling),Rr=c,Gt=!0,co=null,za=!1,o!==null&&aO(c,o),c=Jp(c,g),c.flags|=4096;return c}return o=li(o.child,{mode:g.mode,children:g.children}),o.ref=c.ref,c.child=o,o.return=c,o}function ex(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(a(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function Kj(o,c,h,g,_){return Cl(c),h=Aj(o,c,h,g,void 0,_),g=Cj(),o!==null&&!or?(_j(o,c,_),mi(o,c,_)):(Gt&&g&&ij(c),c.flags|=1,Ir(o,c,h,_),c.child)}function v4(o,c,h,g,_,T){return Cl(c),c.updateQueue=null,h=wO(c,g,h,_),bO(o),g=Cj(),o!==null&&!or?(_j(o,c,T),mi(o,c,T)):(Gt&&g&&ij(c),c.flags|=1,Ir(o,c,h,T),c.child)}function j4(o,c,h,g,_){if(Cl(c),c.stateNode===null){var T=Wc,L=h.contextType;typeof L=="object"&&L!==null&&(T=Dr(L)),T=new h(g,T),c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Bj,c.stateNode=T,T._reactInternals=c,T=c.stateNode,T.props=g,T.state=c.memoizedState,T.refs={},gj(c),L=h.contextType,T.context=typeof L=="object"&&L!==null?Dr(L):Wc,T.state=c.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(zj(c,h,L,g),T.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(L=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),L!==T.state&&Bj.enqueueReplaceState(T,T.state,null),Cf(c,g,T,_),Af(),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){T=c.stateNode;var W=c.memoizedProps,se=kl(h,W);T.props=se;var we=T.context,Te=h.contextType;L=Wc,typeof Te=="object"&&Te!==null&&(L=Dr(Te));var Re=h.getDerivedStateFromProps;Te=typeof Re=="function"||typeof T.getSnapshotBeforeUpdate=="function",W=c.pendingProps!==W,Te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(W||we!==L)&&i4(c,T,g,L),ho=!1;var Se=c.memoizedState;T.state=Se,Cf(c,g,T,_),Af(),we=c.memoizedState,W||Se!==we||ho?(typeof Re=="function"&&(zj(c,h,Re,g),we=c.memoizedState),(se=ho||s4(c,h,se,g,Se,we,L))?(Te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=we),T.props=g,T.state=we,T.context=L,g=se):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{T=c.stateNode,yj(o,c),L=c.memoizedProps,Te=kl(h,L),T.props=Te,Re=c.pendingProps,Se=T.context,we=h.contextType,se=Wc,typeof we=="object"&&we!==null&&(se=Dr(we)),W=h.getDerivedStateFromProps,(we=typeof W=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==Re||Se!==se)&&i4(c,T,g,se),ho=!1,Se=c.memoizedState,T.state=Se,Cf(c,g,T,_),Af();var Ce=c.memoizedState;L!==Re||Se!==Ce||ho||o!==null&&o.dependencies!==null&&Dp(o.dependencies)?(typeof W=="function"&&(zj(c,h,W,g),Ce=c.memoizedState),(Te=ho||s4(c,h,Te,g,Se,Ce,se)||o!==null&&o.dependencies!==null&&Dp(o.dependencies))?(we||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(g,Ce,se),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(g,Ce,se)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||L===o.memoizedProps&&Se===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&Se===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Ce),T.props=g,T.state=Ce,T.context=se,g=Te):(typeof T.componentDidUpdate!="function"||L===o.memoizedProps&&Se===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&Se===o.memoizedState||(c.flags|=1024),g=!1)}return T=g,ex(o,c),g=(c.flags&128)!==0,T||g?(T=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:T.render(),c.flags|=1,o!==null&&g?(c.child=Ol(c,o.child,null,_),c.child=Ol(c,null,h,_)):Ir(o,c,h,_),c.memoizedState=T.state,o=c.child):o=mi(o,c,_),o}function b4(o,c,h,g){return Sl(),c.flags|=256,Ir(o,c,h,g),c.child}var Vj={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wj(o){return{baseLanes:o,cachePool:uO()}}function Gj(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=Na),o}function w4(o,c,h){var g=c.pendingProps,_=!1,T=(c.flags&128)!==0,L;if((L=T)||(L=o!==null&&o.memoizedState===null?!1:(er.current&2)!==0),L&&(_=!0,c.flags&=-129),L=(c.flags&32)!==0,c.flags&=-33,o===null){if(Gt){if(_?xo(c):go(),(o=Tn)?(o=OM(o,za),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:lo!==null?{id:Ls,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},h=tO(o),h.return=c,c.child=h,Rr=c,Tn=null)):o=null,o===null)throw uo(c);return Ob(o)?c.lanes=32:c.lanes=536870912,null}var W=g.children;return g=g.fallback,_?(go(),_=c.mode,W=tx({mode:"hidden",children:W},_),g=Nl(g,_,h,null),W.return=c,g.return=c,W.sibling=g,c.child=W,g=c.child,g.memoizedState=Wj(h),g.childLanes=Gj(o,L,h),c.memoizedState=Vj,Mf(null,g)):(xo(c),Yj(c,W))}var se=o.memoizedState;if(se!==null&&(W=se.dehydrated,W!==null)){if(T)c.flags&256?(xo(c),c.flags&=-257,c=Xj(o,c,h)):c.memoizedState!==null?(go(),c.child=o.child,c.flags|=128,c=null):(go(),W=g.fallback,_=c.mode,g=tx({mode:"visible",children:g.children},_),W=Nl(W,_,h,null),W.flags|=2,g.return=c,W.return=c,g.sibling=W,c.child=g,Ol(c,o.child,null,h),g=c.child,g.memoizedState=Wj(h),g.childLanes=Gj(o,L,h),c.memoizedState=Vj,c=Mf(null,g));else if(xo(c),Ob(W)){if(L=W.nextSibling&&W.nextSibling.dataset,L)var we=L.dgst;L=we,g=Error(a(419)),g.stack="",g.digest=L,vf({value:g,source:null,stack:null}),c=Xj(o,c,h)}else if(or||Qc(o,c,h,!1),L=(h&o.childLanes)!==0,or||L){if(L=vn,L!==null&&(g=dp(L,h),g!==0&&g!==se.retryLane))throw se.retryLane=g,wl(o,g),ha(L,o,g),Hj;Tb(W)||ux(),c=Xj(o,c,h)}else Tb(W)?(c.flags|=192,c.child=o.child,c=null):(o=se.treeContext,Tn=Ua(W.nextSibling),Rr=c,Gt=!0,co=null,za=!1,o!==null&&aO(c,o),c=Yj(c,g.children),c.flags|=4096);return c}return _?(go(),W=g.fallback,_=c.mode,se=o.child,we=se.sibling,g=li(se,{mode:"hidden",children:g.children}),g.subtreeFlags=se.subtreeFlags&65011712,we!==null?W=li(we,W):(W=Nl(W,_,h,null),W.flags|=2),W.return=c,g.return=c,g.sibling=W,c.child=g,Mf(null,g),g=c.child,W=o.child.memoizedState,W===null?W=Wj(h):(_=W.cachePool,_!==null?(se=sr._currentValue,_=_.parent!==se?{parent:se,pool:se}:_):_=uO(),W={baseLanes:W.baseLanes|h,cachePool:_}),g.memoizedState=W,g.childLanes=Gj(o,L,h),c.memoizedState=Vj,Mf(o.child,g)):(xo(c),h=o.child,o=h.sibling,h=li(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,o!==null&&(L=c.deletions,L===null?(c.deletions=[o],c.flags|=16):L.push(o)),c.child=h,c.memoizedState=null,h)}function Yj(o,c){return c=tx({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function tx(o,c){return o=va(22,o,null,c),o.lanes=0,o}function Xj(o,c,h){return Ol(c,o.child,null,h),o=Yj(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function N4(o,c,h){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),dj(o.return,c,h)}function Qj(o,c,h,g,_,T){var L=o.memoizedState;L===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:_,treeForkCount:T}:(L.isBackwards=c,L.rendering=null,L.renderingStartTime=0,L.last=g,L.tail=h,L.tailMode=_,L.treeForkCount=T)}function S4(o,c,h){var g=c.pendingProps,_=g.revealOrder,T=g.tail;g=g.children;var L=er.current,W=(L&2)!==0;if(W?(L=L&1|2,c.flags|=128):L&=1,X(er,L),Ir(o,c,g,h),g=Gt?yf:0,!W&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&N4(o,h,c);else if(o.tag===19)N4(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(_){case"forwards":for(h=c.child,_=null;h!==null;)o=h.alternate,o!==null&&Up(o)===null&&(_=h),h=h.sibling;h=_,h===null?(_=c.child,c.child=null):(_=h.sibling,h.sibling=null),Qj(c,!1,_,h,T,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,_=c.child,c.child=null;_!==null;){if(o=_.alternate,o!==null&&Up(o)===null){c.child=_;break}o=_.sibling,_.sibling=h,h=_,_=o}Qj(c,!0,h,null,T,g);break;case"together":Qj(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function mi(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),jo|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(Qc(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(a(153));if(c.child!==null){for(o=c.child,h=li(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=li(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function Zj(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Dp(o)))}function lG(o,c,h){switch(c.tag){case 3:ve(c,c.stateNode.containerInfo),fo(c,sr,o.memoizedState.cache),Sl();break;case 27:case 5:_e(c);break;case 4:ve(c,c.stateNode.containerInfo);break;case 10:fo(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Nj(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(xo(c),c.flags|=128,null):(h&c.child.childLanes)!==0?w4(o,c,h):(xo(c),o=mi(o,c,h),o!==null?o.sibling:null);xo(c);break;case 19:var _=(o.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(Qc(o,c,h,!1),g=(h&c.childLanes)!==0),_){if(g)return S4(o,c,h);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),X(er,er.current),g)break;return null;case 22:return c.lanes=0,x4(o,c,h,c.pendingProps);case 24:fo(c,sr,o.memoizedState.cache)}return mi(o,c,h)}function A4(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)or=!0;else{if(!Zj(o,h)&&(c.flags&128)===0)return or=!1,lG(o,c,h);or=(o.flags&131072)!==0}else or=!1,Gt&&(c.flags&1048576)!==0&&rO(c,yf,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(o=El(c.elementType),c.type=o,typeof o=="function")rj(o)?(g=kl(o,g),c.tag=1,c=j4(null,c,o,g,h)):(c.tag=0,c=Kj(null,c,o,g,h));else{if(o!=null){var _=o.$$typeof;if(_===S){c.tag=11,c=h4(null,c,o,g,h);break e}else if(_===M){c.tag=14,c=m4(null,c,o,g,h);break e}}throw c=q(o)||o,Error(a(306,c,""))}}return c;case 0:return Kj(o,c,c.type,c.pendingProps,h);case 1:return g=c.type,_=kl(g,c.pendingProps),j4(o,c,g,_,h);case 3:e:{if(ve(c,c.stateNode.containerInfo),o===null)throw Error(a(387));g=c.pendingProps;var T=c.memoizedState;_=T.element,yj(o,c),Cf(c,g,null,h);var L=c.memoizedState;if(g=L.cache,fo(c,sr,g),g!==T.cache&&fj(c,[sr],h,!0),Af(),g=L.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:L.cache},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){c=b4(o,c,g,h);break e}else if(g!==_){_=$a(Error(a(424)),c),vf(_),c=b4(o,c,g,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Tn=Ua(o.firstChild),Rr=c,Gt=!0,co=null,za=!0,h=xO(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Sl(),g===_){c=mi(o,c,h);break e}Ir(o,c,g,h)}c=c.child}return c;case 26:return ex(o,c),o===null?(h=IM(c.type,null,c.pendingProps,null))?c.memoizedState=h:Gt||(h=c.type,o=c.pendingProps,g=gx(he.current).createElement(h),g[xr]=c,g[Ur]=o,Lr(g,h,o),ar(g),c.stateNode=g):c.memoizedState=IM(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return _e(c),o===null&&Gt&&(g=c.stateNode=PM(c.type,c.pendingProps,he.current),Rr=c,za=!0,_=Tn,Ao(c.type)?(Mb=_,Tn=Ua(g.firstChild)):Tn=_),Ir(o,c,c.pendingProps.children,h),ex(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Gt&&((_=g=Tn)&&(g=$G(g,c.type,c.pendingProps,za),g!==null?(c.stateNode=g,Rr=c,Tn=Ua(g.firstChild),za=!1,_=!0):_=!1),_||uo(c)),_e(c),_=c.type,T=c.pendingProps,L=o!==null?o.memoizedProps:null,g=T.children,Cb(_,T)?g=null:L!==null&&Cb(_,L)&&(c.flags|=32),c.memoizedState!==null&&(_=Aj(o,c,JW,null,null,h),Vf._currentValue=_),ex(o,c),Ir(o,c,g,h),c.child;case 6:return o===null&&Gt&&((o=h=Tn)&&(h=FG(h,c.pendingProps,za),h!==null?(c.stateNode=h,Rr=c,Tn=null,o=!0):o=!1),o||uo(c)),null;case 13:return w4(o,c,h);case 4:return ve(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=Ol(c,null,g,h):Ir(o,c,g,h),c.child;case 11:return h4(o,c,c.type,c.pendingProps,h);case 7:return Ir(o,c,c.pendingProps,h),c.child;case 8:return Ir(o,c,c.pendingProps.children,h),c.child;case 12:return Ir(o,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,fo(c,c.type,g.value),Ir(o,c,g.children,h),c.child;case 9:return _=c.type._context,g=c.pendingProps.children,Cl(c),_=Dr(_),g=g(_),c.flags|=1,Ir(o,c,g,h),c.child;case 14:return m4(o,c,c.type,c.pendingProps,h);case 15:return p4(o,c,c.type,c.pendingProps,h);case 19:return S4(o,c,h);case 31:return oG(o,c,h);case 22:return x4(o,c,h,c.pendingProps);case 24:return Cl(c),g=Dr(sr),o===null?(_=pj(),_===null&&(_=vn,T=hj(),_.pooledCache=T,T.refCount++,T!==null&&(_.pooledCacheLanes|=h),_=T),c.memoizedState={parent:g,cache:_},gj(c),fo(c,sr,_)):((o.lanes&h)!==0&&(yj(o,c),Cf(c,null,null,h),Af()),_=o.memoizedState,T=c.memoizedState,_.parent!==g?(_={parent:g,cache:g},c.memoizedState=_,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=_),fo(c,sr,g)):(g=T.cache,fo(c,sr,g),g!==_.cache&&fj(c,[sr],h,!0))),Ir(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(a(156,c.tag))}function pi(o){o.flags|=4}function Jj(o,c,h,g,_){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(_&335544128)===_)if(o.stateNode.complete)o.flags|=8192;else if(Z4())o.flags|=8192;else throw Tl=Fp,xj}else o.flags&=-16777217}function C4(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!zM(c))if(Z4())o.flags|=8192;else throw Tl=Fp,xj}function nx(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?pr():536870912,o.lanes|=c,cu|=c)}function kf(o,c){if(!Gt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function On(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(c)for(var _=o.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags&65011712,g|=_.flags&65011712,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=g,o.childLanes=h,c}function cG(o,c,h){var g=c.pendingProps;switch(oj(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(c),null;case 1:return On(c),null;case 3:return h=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),di(sr),xe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Xc(c)?pi(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,cj())),On(c),null;case 26:var _=c.type,T=c.memoizedState;return o===null?(pi(c),T!==null?(On(c),C4(c,T)):(On(c),Jj(c,_,null,g,h))):T?T!==o.memoizedState?(pi(c),On(c),C4(c,T)):(On(c),c.flags&=-16777217):(o=o.memoizedProps,o!==g&&pi(c),On(c),Jj(c,_,o,g,h)),null;case 27:if(Ee(c),h=he.current,_=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&pi(c);else{if(!g){if(c.stateNode===null)throw Error(a(166));return On(c),null}o=ee.current,Xc(c)?sO(c):(o=PM(_,g,h),c.stateNode=o,pi(c))}return On(c),null;case 5:if(Ee(c),_=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&pi(c);else{if(!g){if(c.stateNode===null)throw Error(a(166));return On(c),null}if(T=ee.current,Xc(c))sO(c);else{var L=gx(he.current);switch(T){case 1:T=L.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:T=L.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":T=L.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":T=L.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":T=L.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof g.is=="string"?L.createElement("select",{is:g.is}):L.createElement("select"),g.multiple?T.multiple=!0:g.size&&(T.size=g.size);break;default:T=typeof g.is=="string"?L.createElement(_,{is:g.is}):L.createElement(_)}}T[xr]=c,T[Ur]=g;e:for(L=c.child;L!==null;){if(L.tag===5||L.tag===6)T.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===c)break e;for(;L.sibling===null;){if(L.return===null||L.return===c)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}c.stateNode=T;e:switch(Lr(T,_,g),_){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&pi(c)}}return On(c),Jj(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,h),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&pi(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(a(166));if(o=he.current,Xc(c)){if(o=c.stateNode,h=c.memoizedProps,g=null,_=Rr,_!==null)switch(_.tag){case 27:case 5:g=_.memoizedProps}o[xr]=c,o=!!(o.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||wM(o.nodeValue,h)),o||uo(c,!0)}else o=gx(o).createTextNode(g),o[xr]=c,c.stateNode=o}return On(c),null;case 31:if(h=c.memoizedState,o===null||o.memoizedState!==null){if(g=Xc(c),h!==null){if(o===null){if(!g)throw Error(a(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(557));o[xr]=c}else Sl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;On(c),o=!1}else h=cj(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return c.flags&256?(ba(c),c):(ba(c),null);if((c.flags&128)!==0)throw Error(a(558))}return On(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(_=Xc(c),g!==null&&g.dehydrated!==null){if(o===null){if(!_)throw Error(a(318));if(_=c.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(a(317));_[xr]=c}else Sl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;On(c),_=!1}else _=cj(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=_),_=!0;if(!_)return c.flags&256?(ba(c),c):(ba(c),null)}return ba(c),(c.flags&128)!==0?(c.lanes=h,c):(h=g!==null,o=o!==null&&o.memoizedState!==null,h&&(g=c.child,_=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(_=g.alternate.memoizedState.cachePool.pool),T=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(T=g.memoizedState.cachePool.pool),T!==_&&(g.flags|=2048)),h!==o&&h&&(c.child.flags|=8192),nx(c,c.updateQueue),On(c),null);case 4:return xe(),o===null&&bb(c.stateNode.containerInfo),On(c),null;case 10:return di(c.type),On(c),null;case 19:if(z(er),g=c.memoizedState,g===null)return On(c),null;if(_=(c.flags&128)!==0,T=g.rendering,T===null)if(_)kf(g,!1);else{if(Kn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(T=Up(o),T!==null){for(c.flags|=128,kf(g,!1),o=T.updateQueue,c.updateQueue=o,nx(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)eO(h,o),h=h.sibling;return X(er,er.current&1|2),Gt&&ci(c,g.treeForkCount),c.child}o=o.sibling}g.tail!==null&&ut()>ox&&(c.flags|=128,_=!0,kf(g,!1),c.lanes=4194304)}else{if(!_)if(o=Up(T),o!==null){if(c.flags|=128,_=!0,o=o.updateQueue,c.updateQueue=o,nx(c,o),kf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!T.alternate&&!Gt)return On(c),null}else 2*ut()-g.renderingStartTime>ox&&h!==536870912&&(c.flags|=128,_=!0,kf(g,!1),c.lanes=4194304);g.isBackwards?(T.sibling=c.child,c.child=T):(o=g.last,o!==null?o.sibling=T:c.child=T,g.last=T)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=ut(),o.sibling=null,h=er.current,X(er,_?h&1|2:h&1),Gt&&ci(c,g.treeForkCount),o):(On(c),null);case 22:case 23:return ba(c),wj(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(On(c),c.subtreeFlags&6&&(c.flags|=8192)):On(c),h=c.updateQueue,h!==null&&nx(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),o!==null&&z(_l),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),di(sr),On(c),null;case 25:return null;case 30:return null}throw Error(a(156,c.tag))}function uG(o,c){switch(oj(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return di(sr),xe(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ee(c),null;case 31:if(c.memoizedState!==null){if(ba(c),c.alternate===null)throw Error(a(340));Sl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(ba(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(a(340));Sl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return z(er),null;case 4:return xe(),null;case 10:return di(c.type),null;case 22:case 23:return ba(c),wj(),o!==null&&z(_l),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return di(sr),null;case 25:return null;default:return null}}function _4(o,c){switch(oj(c),c.tag){case 3:di(sr),xe();break;case 26:case 27:case 5:Ee(c);break;case 4:xe();break;case 31:c.memoizedState!==null&&ba(c);break;case 13:ba(c);break;case 19:z(er);break;case 10:di(c.type);break;case 22:case 23:ba(c),wj(),o!==null&&z(_l);break;case 24:di(sr)}}function Pf(o,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&o)===o){g=void 0;var T=h.create,L=h.inst;g=T(),L.destroy=g}h=h.next}while(h!==_)}}catch(W){dn(c,c.return,W)}}function yo(o,c,h){try{var g=c.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var T=_.next;g=T;do{if((g.tag&o)===o){var L=g.inst,W=L.destroy;if(W!==void 0){L.destroy=void 0,_=c;var se=h,we=W;try{we()}catch(Te){dn(_,se,Te)}}}g=g.next}while(g!==T)}}catch(Te){dn(c,c.return,Te)}}function E4(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{yO(c,h)}catch(g){dn(o,o.return,g)}}}function T4(o,c,h){h.props=kl(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(g){dn(o,c,g)}}function Rf(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof h=="function"?o.refCleanup=h(g):h.current=g}}catch(_){dn(o,c,_)}}function Fs(o,c){var h=o.ref,g=o.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(_){dn(o,c,_)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){dn(o,c,_)}else h.current=null}function O4(o){var c=o.type,h=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(_){dn(o,o.return,_)}}function eb(o,c,h){try{var g=o.stateNode;kG(g,o.type,h,c),g[Ur]=c}catch(_){dn(o,o.return,_)}}function M4(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ao(o.type)||o.tag===4}function tb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||M4(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ao(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function nb(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=ii));else if(g!==4&&(g===27&&Ao(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(nb(o,c,h),o=o.sibling;o!==null;)nb(o,c,h),o=o.sibling}function rx(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(g!==4&&(g===27&&Ao(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(rx(o,c,h),o=o.sibling;o!==null;)rx(o,c,h),o=o.sibling}function k4(o){var c=o.stateNode,h=o.memoizedProps;try{for(var g=o.type,_=c.attributes;_.length;)c.removeAttributeNode(_[0]);Lr(c,g,h),c[xr]=o,c[Ur]=h}catch(T){dn(o,o.return,T)}}var xi=!1,lr=!1,rb=!1,P4=typeof WeakSet=="function"?WeakSet:Set,Cr=null;function dG(o,c){if(o=o.containerInfo,Sb=Sx,o=KT(o),X0(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var _=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{h.nodeType,T.nodeType}catch{h=null;break e}var L=0,W=-1,se=-1,we=0,Te=0,Re=o,Se=null;t:for(;;){for(var Ce;Re!==h||_!==0&&Re.nodeType!==3||(W=L+_),Re!==T||g!==0&&Re.nodeType!==3||(se=L+g),Re.nodeType===3&&(L+=Re.nodeValue.length),(Ce=Re.firstChild)!==null;)Se=Re,Re=Ce;for(;;){if(Re===o)break t;if(Se===h&&++we===_&&(W=L),Se===T&&++Te===g&&(se=L),(Ce=Re.nextSibling)!==null)break;Re=Se,Se=Re.parentNode}Re=Ce}h=W===-1||se===-1?null:{start:W,end:se}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ab={focusedElem:o,selectionRange:h},Sx=!1,Cr=c;Cr!==null;)if(c=Cr,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Cr=o;else for(;Cr!==null;){switch(c=Cr,T=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)_=o[h],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&T!==null){o=void 0,h=c,_=T.memoizedProps,T=T.memoizedState,g=h.stateNode;try{var at=kl(h.type,_);o=g.getSnapshotBeforeUpdate(at,T),g.__reactInternalSnapshotBeforeUpdate=o}catch(wt){dn(h,h.return,wt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)Eb(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Eb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(a(163))}if(o=c.sibling,o!==null){o.return=c.return,Cr=o;break}Cr=c.return}}function R4(o,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:yi(o,h),g&4&&Pf(5,h);break;case 1:if(yi(o,h),g&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(L){dn(h,h.return,L)}else{var _=kl(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(_,c,o.__reactInternalSnapshotBeforeUpdate)}catch(L){dn(h,h.return,L)}}g&64&&E4(h),g&512&&Rf(h,h.return);break;case 3:if(yi(o,h),g&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{yO(o,c)}catch(L){dn(h,h.return,L)}}break;case 27:c===null&&g&4&&k4(h);case 26:case 5:yi(o,h),c===null&&g&4&&O4(h),g&512&&Rf(h,h.return);break;case 12:yi(o,h);break;case 31:yi(o,h),g&4&&L4(o,h);break;case 13:yi(o,h),g&4&&$4(o,h),g&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=jG.bind(null,h),qG(o,h))));break;case 22:if(g=h.memoizedState!==null||xi,!g){c=c!==null&&c.memoizedState!==null||lr,_=xi;var T=lr;xi=g,(lr=c)&&!T?vi(o,h,(h.subtreeFlags&8772)!==0):yi(o,h),xi=_,lr=T}break;case 30:break;default:yi(o,h)}}function D4(o){var c=o.alternate;c!==null&&(o.alternate=null,D4(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&sf(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var In=null,ca=!1;function gi(o,c,h){for(h=h.child;h!==null;)I4(o,c,h),h=h.sibling}function I4(o,c,h){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(_n,h)}catch{}switch(h.tag){case 26:lr||Fs(h,c),gi(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:lr||Fs(h,c);var g=In,_=ca;Ao(h.type)&&(In=h.stateNode,ca=!1),gi(o,c,h),Uf(h.stateNode),In=g,ca=_;break;case 5:lr||Fs(h,c);case 6:if(g=In,_=ca,In=null,gi(o,c,h),In=g,ca=_,In!==null)if(ca)try{(In.nodeType===9?In.body:In.nodeName==="HTML"?In.ownerDocument.body:In).removeChild(h.stateNode)}catch(T){dn(h,c,T)}else try{In.removeChild(h.stateNode)}catch(T){dn(h,c,T)}break;case 18:In!==null&&(ca?(o=In,EM(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),gu(o)):EM(In,h.stateNode));break;case 4:g=In,_=ca,In=h.stateNode.containerInfo,ca=!0,gi(o,c,h),In=g,ca=_;break;case 0:case 11:case 14:case 15:yo(2,h,c),lr||yo(4,h,c),gi(o,c,h);break;case 1:lr||(Fs(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&T4(h,c,g)),gi(o,c,h);break;case 21:gi(o,c,h);break;case 22:lr=(g=lr)||h.memoizedState!==null,gi(o,c,h),lr=g;break;default:gi(o,c,h)}}function L4(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{gu(o)}catch(h){dn(c,c.return,h)}}}function $4(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{gu(o)}catch(h){dn(c,c.return,h)}}function fG(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new P4),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new P4),c;default:throw Error(a(435,o.tag))}}function ax(o,c){var h=fG(o);c.forEach(function(g){if(!h.has(g)){h.add(g);var _=bG.bind(null,o,g);g.then(_,_)}})}function ua(o,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var _=h[g],T=o,L=c,W=L;e:for(;W!==null;){switch(W.tag){case 27:if(Ao(W.type)){In=W.stateNode,ca=!1;break e}break;case 5:In=W.stateNode,ca=!1;break e;case 3:case 4:In=W.stateNode.containerInfo,ca=!0;break e}W=W.return}if(In===null)throw Error(a(160));I4(T,L,_),In=null,ca=!1,T=_.alternate,T!==null&&(T.return=null),_.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)F4(c,o),c=c.sibling}var us=null;function F4(o,c){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ua(c,o),da(o),g&4&&(yo(3,o,o.return),Pf(3,o),yo(5,o,o.return));break;case 1:ua(c,o),da(o),g&512&&(lr||h===null||Fs(h,h.return)),g&64&&xi&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var _=us;if(ua(c,o),da(o),g&512&&(lr||h===null||Fs(h,h.return)),g&4){var T=h!==null?h.memoizedState:null;if(g=o.memoizedState,h===null)if(g===null)if(o.stateNode===null){e:{g=o.type,h=o.memoizedProps,_=_.ownerDocument||_;t:switch(g){case"title":T=_.getElementsByTagName("title")[0],(!T||T[yl]||T[xr]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=_.createElement(g),_.head.insertBefore(T,_.querySelector("head > title"))),Lr(T,g,h),T[xr]=o,ar(T),g=T;break e;case"link":var L=FM("link","href",_).get(g+(h.href||""));if(L){for(var W=0;W<L.length;W++)if(T=L[W],T.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&T.getAttribute("rel")===(h.rel==null?null:h.rel)&&T.getAttribute("title")===(h.title==null?null:h.title)&&T.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){L.splice(W,1);break t}}T=_.createElement(g),Lr(T,g,h),_.head.appendChild(T);break;case"meta":if(L=FM("meta","content",_).get(g+(h.content||""))){for(W=0;W<L.length;W++)if(T=L[W],T.getAttribute("content")===(h.content==null?null:""+h.content)&&T.getAttribute("name")===(h.name==null?null:h.name)&&T.getAttribute("property")===(h.property==null?null:h.property)&&T.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&T.getAttribute("charset")===(h.charSet==null?null:h.charSet)){L.splice(W,1);break t}}T=_.createElement(g),Lr(T,g,h),_.head.appendChild(T);break;default:throw Error(a(468,g))}T[xr]=o,ar(T),g=T}o.stateNode=g}else qM(_,o.type,o.stateNode);else o.stateNode=$M(_,g,o.memoizedProps);else T!==g?(T===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):T.count--,g===null?qM(_,o.type,o.stateNode):$M(_,g,o.memoizedProps)):g===null&&o.stateNode!==null&&eb(o,o.memoizedProps,h.memoizedProps)}break;case 27:ua(c,o),da(o),g&512&&(lr||h===null||Fs(h,h.return)),h!==null&&g&4&&eb(o,o.memoizedProps,h.memoizedProps);break;case 5:if(ua(c,o),da(o),g&512&&(lr||h===null||Fs(h,h.return)),o.flags&32){_=o.stateNode;try{qc(_,"")}catch(at){dn(o,o.return,at)}}g&4&&o.stateNode!=null&&(_=o.memoizedProps,eb(o,_,h!==null?h.memoizedProps:_)),g&1024&&(rb=!0);break;case 6:if(ua(c,o),da(o),g&4){if(o.stateNode===null)throw Error(a(162));g=o.memoizedProps,h=o.stateNode;try{h.nodeValue=g}catch(at){dn(o,o.return,at)}}break;case 3:if(jx=null,_=us,us=yx(c.containerInfo),ua(c,o),us=_,da(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{gu(c.containerInfo)}catch(at){dn(o,o.return,at)}rb&&(rb=!1,q4(o));break;case 4:g=us,us=yx(o.stateNode.containerInfo),ua(c,o),da(o),us=g;break;case 12:ua(c,o),da(o);break;case 31:ua(c,o),da(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,ax(o,g)));break;case 13:ua(c,o),da(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(ix=ut()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,ax(o,g)));break;case 22:_=o.memoizedState!==null;var se=h!==null&&h.memoizedState!==null,we=xi,Te=lr;if(xi=we||_,lr=Te||se,ua(c,o),lr=Te,xi=we,da(o),g&8192)e:for(c=o.stateNode,c._visibility=_?c._visibility&-2:c._visibility|1,_&&(h===null||se||xi||lr||Pl(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){se=h=c;try{if(T=se.stateNode,_)L=T.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{W=se.stateNode;var Re=se.memoizedProps.style,Se=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;W.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(at){dn(se,se.return,at)}}}else if(c.tag===6){if(h===null){se=c;try{se.stateNode.nodeValue=_?"":se.memoizedProps}catch(at){dn(se,se.return,at)}}}else if(c.tag===18){if(h===null){se=c;try{var Ce=se.stateNode;_?TM(Ce,!0):TM(se.stateNode,!1)}catch(at){dn(se,se.return,at)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,ax(o,h))));break;case 19:ua(c,o),da(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,ax(o,g)));break;case 30:break;case 21:break;default:ua(c,o),da(o)}}function da(o){var c=o.flags;if(c&2){try{for(var h,g=o.return;g!==null;){if(M4(g)){h=g;break}g=g.return}if(h==null)throw Error(a(160));switch(h.tag){case 27:var _=h.stateNode,T=tb(o);rx(o,T,_);break;case 5:var L=h.stateNode;h.flags&32&&(qc(L,""),h.flags&=-33);var W=tb(o);rx(o,W,L);break;case 3:case 4:var se=h.stateNode.containerInfo,we=tb(o);nb(o,we,se);break;default:throw Error(a(161))}}catch(Te){dn(o,o.return,Te)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function q4(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;q4(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function yi(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)R4(o,c.alternate,c),c=c.sibling}function Pl(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:yo(4,c,c.return),Pl(c);break;case 1:Fs(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&T4(c,c.return,h),Pl(c);break;case 27:Uf(c.stateNode);case 26:case 5:Fs(c,c.return),Pl(c);break;case 22:c.memoizedState===null&&Pl(c);break;case 30:Pl(c);break;default:Pl(c)}o=o.sibling}}function vi(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,_=o,T=c,L=T.flags;switch(T.tag){case 0:case 11:case 15:vi(_,T,h),Pf(4,T);break;case 1:if(vi(_,T,h),g=T,_=g.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(we){dn(g,g.return,we)}if(g=T,_=g.updateQueue,_!==null){var W=g.stateNode;try{var se=_.shared.hiddenCallbacks;if(se!==null)for(_.shared.hiddenCallbacks=null,_=0;_<se.length;_++)gO(se[_],W)}catch(we){dn(g,g.return,we)}}h&&L&64&&E4(T),Rf(T,T.return);break;case 27:k4(T);case 26:case 5:vi(_,T,h),h&&g===null&&L&4&&O4(T),Rf(T,T.return);break;case 12:vi(_,T,h);break;case 31:vi(_,T,h),h&&L&4&&L4(_,T);break;case 13:vi(_,T,h),h&&L&4&&$4(_,T);break;case 22:T.memoizedState===null&&vi(_,T,h),Rf(T,T.return);break;case 30:break;default:vi(_,T,h)}c=c.sibling}}function ab(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&jf(h))}function sb(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&jf(o))}function ds(o,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)z4(o,c,h,g),c=c.sibling}function z4(o,c,h,g){var _=c.flags;switch(c.tag){case 0:case 11:case 15:ds(o,c,h,g),_&2048&&Pf(9,c);break;case 1:ds(o,c,h,g);break;case 3:ds(o,c,h,g),_&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&jf(o)));break;case 12:if(_&2048){ds(o,c,h,g),o=c.stateNode;try{var T=c.memoizedProps,L=T.id,W=T.onPostCommit;typeof W=="function"&&W(L,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(se){dn(c,c.return,se)}}else ds(o,c,h,g);break;case 31:ds(o,c,h,g);break;case 13:ds(o,c,h,g);break;case 23:break;case 22:T=c.stateNode,L=c.alternate,c.memoizedState!==null?T._visibility&2?ds(o,c,h,g):Df(o,c):T._visibility&2?ds(o,c,h,g):(T._visibility|=2,iu(o,c,h,g,(c.subtreeFlags&10256)!==0||!1)),_&2048&&ab(L,c);break;case 24:ds(o,c,h,g),_&2048&&sb(c.alternate,c);break;default:ds(o,c,h,g)}}function iu(o,c,h,g,_){for(_=_&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var T=o,L=c,W=h,se=g,we=L.flags;switch(L.tag){case 0:case 11:case 15:iu(T,L,W,se,_),Pf(8,L);break;case 23:break;case 22:var Te=L.stateNode;L.memoizedState!==null?Te._visibility&2?iu(T,L,W,se,_):Df(T,L):(Te._visibility|=2,iu(T,L,W,se,_)),_&&we&2048&&ab(L.alternate,L);break;case 24:iu(T,L,W,se,_),_&&we&2048&&sb(L.alternate,L);break;default:iu(T,L,W,se,_)}c=c.sibling}}function Df(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,g=c,_=g.flags;switch(g.tag){case 22:Df(h,g),_&2048&&ab(g.alternate,g);break;case 24:Df(h,g),_&2048&&sb(g.alternate,g);break;default:Df(h,g)}c=c.sibling}}var If=8192;function ou(o,c,h){if(o.subtreeFlags&If)for(o=o.child;o!==null;)B4(o,c,h),o=o.sibling}function B4(o,c,h){switch(o.tag){case 26:ou(o,c,h),o.flags&If&&o.memoizedState!==null&&ZG(h,us,o.memoizedState,o.memoizedProps);break;case 5:ou(o,c,h);break;case 3:case 4:var g=us;us=yx(o.stateNode.containerInfo),ou(o,c,h),us=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=If,If=16777216,ou(o,c,h),If=g):ou(o,c,h));break;default:ou(o,c,h)}}function U4(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Lf(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Cr=g,K4(g,o)}U4(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)H4(o),o=o.sibling}function H4(o){switch(o.tag){case 0:case 11:case 15:Lf(o),o.flags&2048&&yo(9,o,o.return);break;case 3:Lf(o);break;case 12:Lf(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,sx(o)):Lf(o);break;default:Lf(o)}}function sx(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Cr=g,K4(g,o)}U4(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:yo(8,c,c.return),sx(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,sx(c));break;default:sx(c)}o=o.sibling}}function K4(o,c){for(;Cr!==null;){var h=Cr;switch(h.tag){case 0:case 11:case 15:yo(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:jf(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Cr=g;else e:for(h=o;Cr!==null;){g=Cr;var _=g.sibling,T=g.return;if(D4(g),g===h){Cr=null;break e}if(_!==null){_.return=T,Cr=_;break e}Cr=T}}}var hG={getCacheForType:function(o){var c=Dr(sr),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h},cacheSignal:function(){return Dr(sr).controller.signal}},mG=typeof WeakMap=="function"?WeakMap:Map,rn=0,vn=null,Bt=null,Vt=0,un=0,wa=null,vo=!1,lu=!1,ib=!1,ji=0,Kn=0,jo=0,Rl=0,ob=0,Na=0,cu=0,$f=null,fa=null,lb=!1,ix=0,V4=0,ox=1/0,lx=null,bo=null,gr=0,wo=null,uu=null,bi=0,cb=0,ub=null,W4=null,Ff=0,db=null;function Sa(){return(rn&2)!==0&&Vt!==0?Vt&-Vt:k.T!==null?gb():fp()}function G4(){if(Na===0)if((Vt&536870912)===0||Gt){var o=fe;fe<<=1,(fe&3932160)===0&&(fe=262144),Na=o}else Na=536870912;return o=ja.current,o!==null&&(o.flags|=32),Na}function ha(o,c,h){(o===vn&&(un===2||un===9)||o.cancelPendingCommit!==null)&&(du(o,0),No(o,Vt,Na,!1)),gl(o,h),((rn&2)===0||o!==vn)&&(o===vn&&((rn&2)===0&&(Rl|=h),Kn===4&&No(o,Vt,Na,!1)),qs(o))}function Y4(o,c,h){if((rn&6)!==0)throw Error(a(327));var g=!h&&(c&127)===0&&(c&o.expiredLanes)===0||Xt(o,c),_=g?gG(o,c):hb(o,c,!0),T=g;do{if(_===0){lu&&!g&&No(o,c,0,!1);break}else{if(h=o.current.alternate,T&&!pG(h)){_=hb(o,c,!1),T=!1;continue}if(_===2){if(T=c,o.errorRecoveryDisabledLanes&T)var L=0;else L=o.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){c=L;e:{var W=o;_=$f;var se=W.current.memoizedState.isDehydrated;if(se&&(du(W,L).flags|=256),L=hb(W,L,!1),L!==2){if(ib&&!se){W.errorRecoveryDisabledLanes|=T,Rl|=T,_=4;break e}T=fa,fa=_,T!==null&&(fa===null?fa=T:fa.push.apply(fa,T))}_=L}if(T=!1,_!==2)continue}}if(_===1){du(o,0),No(o,c,0,!0);break}e:{switch(g=o,T=_,T){case 0:case 1:throw Error(a(345));case 4:if((c&4194048)!==c)break;case 6:No(g,c,Na,!vo);break e;case 2:fa=null;break;case 3:case 5:break;default:throw Error(a(329))}if((c&62914560)===c&&(_=ix+300-ut(),10<_)){if(No(g,c,Na,!vo),yt(g,0,!0)!==0)break e;bi=c,g.timeoutHandle=CM(X4.bind(null,g,h,fa,lx,lb,c,Na,Rl,cu,vo,T,"Throttled",-0,0),_);break e}X4(g,h,fa,lx,lb,c,Na,Rl,cu,vo,T,null,-0,0)}}break}while(!0);qs(o)}function X4(o,c,h,g,_,T,L,W,se,we,Te,Re,Se,Ce){if(o.timeoutHandle=-1,Re=c.subtreeFlags,Re&8192||(Re&16785408)===16785408){Re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},B4(c,T,Re);var at=(T&62914560)===T?ix-ut():(T&4194048)===T?V4-ut():0;if(at=JG(Re,at),at!==null){bi=T,o.cancelPendingCommit=at(aM.bind(null,o,c,T,h,g,_,L,W,se,Te,Re,null,Se,Ce)),No(o,T,L,!we);return}}aM(o,c,T,h,g,_,L,W,se)}function pG(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var _=h[g],T=_.getSnapshot;_=_.value;try{if(!ya(T(),_))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function No(o,c,h,g){c&=~ob,c&=~Rl,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var _=c;0<_;){var T=31-Ar(_),L=1<<T;g[T]=-1,_&=~L}h!==0&&cp(o,h,c)}function cx(){return(rn&6)===0?(qf(0),!1):!0}function fb(){if(Bt!==null){if(un===0)var o=Bt.return;else o=Bt,ui=Al=null,Ej(o),tu=null,wf=0,o=Bt;for(;o!==null;)_4(o.alternate,o),o=o.return;Bt=null}}function du(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,DG(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),bi=0,fb(),vn=o,Bt=h=li(o.current,null),Vt=c,un=0,wa=null,vo=!1,lu=Xt(o,c),ib=!1,cu=Na=ob=Rl=jo=Kn=0,fa=$f=null,lb=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var _=31-Ar(g),T=1<<_;c|=o[_],g&=~T}return ji=c,Op(),h}function Q4(o,c){Tt=null,k.H=Of,c===eu||c===$p?(c=hO(),un=3):c===xj?(c=hO(),un=4):un=c===Hj?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,wa=c,Bt===null&&(Kn=1,Zp(o,$a(c,o.current)))}function Z4(){var o=ja.current;return o===null?!0:(Vt&4194048)===Vt?Ba===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?o===Ba:!1}function J4(){var o=k.H;return k.H=Of,o===null?Of:o}function eM(){var o=k.A;return k.A=hG,o}function ux(){Kn=4,vo||(Vt&4194048)!==Vt&&ja.current!==null||(lu=!0),(jo&134217727)===0&&(Rl&134217727)===0||vn===null||No(vn,Vt,Na,!1)}function hb(o,c,h){var g=rn;rn|=2;var _=J4(),T=eM();(vn!==o||Vt!==c)&&(lx=null,du(o,c)),c=!1;var L=Kn;e:do try{if(un!==0&&Bt!==null){var W=Bt,se=wa;switch(un){case 8:fb(),L=6;break e;case 3:case 2:case 9:case 6:ja.current===null&&(c=!0);var we=un;if(un=0,wa=null,fu(o,W,se,we),h&&lu){L=0;break e}break;default:we=un,un=0,wa=null,fu(o,W,se,we)}}xG(),L=Kn;break}catch(Te){Q4(o,Te)}while(!0);return c&&o.shellSuspendCounter++,ui=Al=null,rn=g,k.H=_,k.A=T,Bt===null&&(vn=null,Vt=0,Op()),L}function xG(){for(;Bt!==null;)tM(Bt)}function gG(o,c){var h=rn;rn|=2;var g=J4(),_=eM();vn!==o||Vt!==c?(lx=null,ox=ut()+500,du(o,c)):lu=Xt(o,c);e:do try{if(un!==0&&Bt!==null){c=Bt;var T=wa;t:switch(un){case 1:un=0,wa=null,fu(o,c,T,1);break;case 2:case 9:if(dO(T)){un=0,wa=null,nM(c);break}c=function(){un!==2&&un!==9||vn!==o||(un=7),qs(o)},T.then(c,c);break e;case 3:un=7;break e;case 4:un=5;break e;case 7:dO(T)?(un=0,wa=null,nM(c)):(un=0,wa=null,fu(o,c,T,7));break;case 5:var L=null;switch(Bt.tag){case 26:L=Bt.memoizedState;case 5:case 27:var W=Bt;if(L?zM(L):W.stateNode.complete){un=0,wa=null;var se=W.sibling;if(se!==null)Bt=se;else{var we=W.return;we!==null?(Bt=we,dx(we)):Bt=null}break t}}un=0,wa=null,fu(o,c,T,5);break;case 6:un=0,wa=null,fu(o,c,T,6);break;case 8:fb(),Kn=6;break e;default:throw Error(a(462))}}yG();break}catch(Te){Q4(o,Te)}while(!0);return ui=Al=null,k.H=g,k.A=_,rn=h,Bt!==null?0:(vn=null,Vt=0,Op(),Kn)}function yG(){for(;Bt!==null&&!Ne();)tM(Bt)}function tM(o){var c=A4(o.alternate,o,ji);o.memoizedProps=o.pendingProps,c===null?dx(o):Bt=c}function nM(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=v4(h,c,c.pendingProps,c.type,void 0,Vt);break;case 11:c=v4(h,c,c.pendingProps,c.type.render,c.ref,Vt);break;case 5:Ej(c);default:_4(h,c),c=Bt=eO(c,ji),c=A4(h,c,ji)}o.memoizedProps=o.pendingProps,c===null?dx(o):Bt=c}function fu(o,c,h,g){ui=Al=null,Ej(c),tu=null,wf=0;var _=c.return;try{if(iG(o,_,c,h,Vt)){Kn=1,Zp(o,$a(h,o.current)),Bt=null;return}}catch(T){if(_!==null)throw Bt=_,T;Kn=1,Zp(o,$a(h,o.current)),Bt=null;return}c.flags&32768?(Gt||g===1?o=!0:lu||(Vt&536870912)!==0?o=!1:(vo=o=!0,(g===2||g===9||g===3||g===6)&&(g=ja.current,g!==null&&g.tag===13&&(g.flags|=16384))),rM(c,o)):dx(c)}function dx(o){var c=o;do{if((c.flags&32768)!==0){rM(c,vo);return}o=c.return;var h=cG(c.alternate,c,ji);if(h!==null){Bt=h;return}if(c=c.sibling,c!==null){Bt=c;return}Bt=c=o}while(c!==null);Kn===0&&(Kn=5)}function rM(o,c){do{var h=uG(o.alternate,o);if(h!==null){h.flags&=32767,Bt=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){Bt=o;return}Bt=o=h}while(o!==null);Kn=6,Bt=null}function aM(o,c,h,g,_,T,L,W,se){o.cancelPendingCommit=null;do fx();while(gr!==0);if((rn&6)!==0)throw Error(a(327));if(c!==null){if(c===o.current)throw Error(a(177));if(T=c.lanes|c.childLanes,T|=tj,M0(o,h,T,L,W,se),o===vn&&(Bt=vn=null,Vt=0),uu=c,wo=o,bi=h,cb=T,ub=_,W4=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,wG(Ue,function(){return cM(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=k.T,k.T=null,_=D.p,D.p=2,L=rn,rn|=4;try{dG(o,c,h)}finally{rn=L,D.p=_,k.T=g}}gr=1,sM(),iM(),oM()}}function sM(){if(gr===1){gr=0;var o=wo,c=uu,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=k.T,k.T=null;var g=D.p;D.p=2;var _=rn;rn|=4;try{F4(c,o);var T=Ab,L=KT(o.containerInfo),W=T.focusedElem,se=T.selectionRange;if(L!==W&&W&&W.ownerDocument&&HT(W.ownerDocument.documentElement,W)){if(se!==null&&X0(W)){var we=se.start,Te=se.end;if(Te===void 0&&(Te=we),"selectionStart"in W)W.selectionStart=we,W.selectionEnd=Math.min(Te,W.value.length);else{var Re=W.ownerDocument||document,Se=Re&&Re.defaultView||window;if(Se.getSelection){var Ce=Se.getSelection(),at=W.textContent.length,wt=Math.min(se.start,at),pn=se.end===void 0?wt:Math.min(se.end,at);!Ce.extend&&wt>pn&&(L=pn,pn=wt,wt=L);var ye=UT(W,wt),ce=UT(W,pn);if(ye&&ce&&(Ce.rangeCount!==1||Ce.anchorNode!==ye.node||Ce.anchorOffset!==ye.offset||Ce.focusNode!==ce.node||Ce.focusOffset!==ce.offset)){var be=Re.createRange();be.setStart(ye.node,ye.offset),Ce.removeAllRanges(),wt>pn?(Ce.addRange(be),Ce.extend(ce.node,ce.offset)):(be.setEnd(ce.node,ce.offset),Ce.addRange(be))}}}}for(Re=[],Ce=W;Ce=Ce.parentNode;)Ce.nodeType===1&&Re.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Re.length;W++){var ke=Re[W];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}Sx=!!Sb,Ab=Sb=null}finally{rn=_,D.p=g,k.T=h}}o.current=c,gr=2}}function iM(){if(gr===2){gr=0;var o=wo,c=uu,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=k.T,k.T=null;var g=D.p;D.p=2;var _=rn;rn|=4;try{R4(o,c.alternate,c)}finally{rn=_,D.p=g,k.T=h}}gr=3}}function oM(){if(gr===4||gr===3){gr=0,Fe();var o=wo,c=uu,h=bi,g=W4;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?gr=5:(gr=0,uu=wo=null,lM(o,o.pendingLanes));var _=o.pendingLanes;if(_===0&&(bo=null),af(h),c=c.stateNode,En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(_n,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=k.T,_=D.p,D.p=2,k.T=null;try{for(var T=o.onRecoverableError,L=0;L<g.length;L++){var W=g[L];T(W.value,{componentStack:W.stack})}}finally{k.T=c,D.p=_}}(bi&3)!==0&&fx(),qs(o),_=o.pendingLanes,(h&261930)!==0&&(_&42)!==0?o===db?Ff++:(Ff=0,db=o):Ff=0,qf(0)}}function lM(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,jf(c)))}function fx(){return sM(),iM(),oM(),cM()}function cM(){if(gr!==5)return!1;var o=wo,c=cb;cb=0;var h=af(bi),g=k.T,_=D.p;try{D.p=32>h?32:h,k.T=null,h=ub,ub=null;var T=wo,L=bi;if(gr=0,uu=wo=null,bi=0,(rn&6)!==0)throw Error(a(331));var W=rn;if(rn|=4,H4(T.current),z4(T,T.current,L,h),rn=W,qf(0,!1),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(_n,T)}catch{}return!0}finally{D.p=_,k.T=g,lM(o,c)}}function uM(o,c,h){c=$a(h,c),c=Uj(o.stateNode,c,2),o=po(o,c,2),o!==null&&(gl(o,2),qs(o))}function dn(o,c,h){if(o.tag===3)uM(o,o,h);else for(;c!==null;){if(c.tag===3){uM(c,o,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(bo===null||!bo.has(g))){o=$a(h,o),h=d4(2),g=po(c,h,2),g!==null&&(f4(h,g,c,o),gl(g,2),qs(g));break}}c=c.return}}function mb(o,c,h){var g=o.pingCache;if(g===null){g=o.pingCache=new mG;var _=new Set;g.set(c,_)}else _=g.get(c),_===void 0&&(_=new Set,g.set(c,_));_.has(h)||(ib=!0,_.add(h),o=vG.bind(null,o,c,h),c.then(o,o))}function vG(o,c,h){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,vn===o&&(Vt&h)===h&&(Kn===4||Kn===3&&(Vt&62914560)===Vt&&300>ut()-ix?(rn&2)===0&&du(o,0):ob|=h,cu===Vt&&(cu=0)),qs(o)}function dM(o,c){c===0&&(c=pr()),o=wl(o,c),o!==null&&(gl(o,c),qs(o))}function jG(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),dM(o,h)}function bG(o,c){var h=0;switch(o.tag){case 31:case 13:var g=o.stateNode,_=o.memoizedState;_!==null&&(h=_.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(a(314))}g!==null&&g.delete(c),dM(o,h)}function wG(o,c){return Zt(o,c)}var hx=null,hu=null,pb=!1,mx=!1,xb=!1,So=0;function qs(o){o!==hu&&o.next===null&&(hu===null?hx=hu=o:hu=hu.next=o),mx=!0,pb||(pb=!0,SG())}function qf(o,c){if(!xb&&mx){xb=!0;do for(var h=!1,g=hx;g!==null;){if(o!==0){var _=g.pendingLanes;if(_===0)var T=0;else{var L=g.suspendedLanes,W=g.pingedLanes;T=(1<<31-Ar(42|o)+1)-1,T&=_&~(L&~W),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(h=!0,pM(g,T))}else T=Vt,T=yt(g,g===vn?T:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(T&3)===0||Xt(g,T)||(h=!0,pM(g,T));g=g.next}while(h);xb=!1}}function NG(){fM()}function fM(){mx=pb=!1;var o=0;So!==0&&RG()&&(o=So);for(var c=ut(),h=null,g=hx;g!==null;){var _=g.next,T=hM(g,c);T===0?(g.next=null,h===null?hx=_:h.next=_,_===null&&(hu=h)):(h=g,(o!==0||(T&3)!==0)&&(mx=!0)),g=_}gr!==0&&gr!==5||qf(o),So!==0&&(So=0)}function hM(o,c){for(var h=o.suspendedLanes,g=o.pingedLanes,_=o.expirationTimes,T=o.pendingLanes&-62914561;0<T;){var L=31-Ar(T),W=1<<L,se=_[L];se===-1?((W&h)===0||(W&g)!==0)&&(_[L]=Br(W,c)):se<=c&&(o.expiredLanes|=W),T&=~W}if(c=vn,h=Vt,h=yt(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,h===0||o===c&&(un===2||un===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&Cn(g),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Xt(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(g!==null&&Cn(g),af(h)){case 2:case 8:h=ge;break;case 32:h=Ue;break;case 268435456:h=rt;break;default:h=Ue}return g=mM.bind(null,o),h=Zt(h,g),o.callbackPriority=c,o.callbackNode=h,c}return g!==null&&g!==null&&Cn(g),o.callbackPriority=2,o.callbackNode=null,2}function mM(o,c){if(gr!==0&&gr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(fx()&&o.callbackNode!==h)return null;var g=Vt;return g=yt(o,o===vn?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(Y4(o,g,c),hM(o,ut()),o.callbackNode!=null&&o.callbackNode===h?mM.bind(null,o):null)}function pM(o,c){if(fx())return null;Y4(o,c,!0)}function SG(){IG(function(){(rn&6)!==0?Zt(nn,NG):fM()})}function gb(){if(So===0){var o=Zc;o===0&&(o=to,to<<=1,(to&261888)===0&&(to=256)),So=o}return So}function xM(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:wp(""+o)}function gM(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function AG(o,c,h,g,_){if(c==="submit"&&h&&h.stateNode===_){var T=xM((_[Ur]||null).action),L=g.submitter;L&&(c=(c=L[Ur]||null)?xM(c.formAction):L.getAttribute("formAction"),c!==null&&(T=c,L=null));var W=new Cp("action","action",null,g,_);o.push({event:W,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(So!==0){var se=L?gM(_,L):new FormData(_);Lj(h,{pending:!0,data:se,method:_.method,action:T},null,se)}}else typeof T=="function"&&(W.preventDefault(),se=L?gM(_,L):new FormData(_),Lj(h,{pending:!0,data:se,method:_.method,action:T},T,se))},currentTarget:_}]})}}for(var yb=0;yb<ej.length;yb++){var vb=ej[yb],CG=vb.toLowerCase(),_G=vb[0].toUpperCase()+vb.slice(1);cs(CG,"on"+_G)}cs(GT,"onAnimationEnd"),cs(YT,"onAnimationIteration"),cs(XT,"onAnimationStart"),cs("dblclick","onDoubleClick"),cs("focusin","onFocus"),cs("focusout","onBlur"),cs(UW,"onTransitionRun"),cs(HW,"onTransitionStart"),cs(KW,"onTransitionCancel"),cs(QT,"onTransitionEnd"),io("onMouseEnter",["mouseout","mouseover"]),io("onMouseLeave",["mouseout","mouseover"]),io("onPointerEnter",["pointerout","pointerover"]),io("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zf));function yM(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],_=g.event;g=g.listeners;e:{var T=void 0;if(c)for(var L=g.length-1;0<=L;L--){var W=g[L],se=W.instance,we=W.currentTarget;if(W=W.listener,se!==T&&_.isPropagationStopped())break e;T=W,_.currentTarget=we;try{T(_)}catch(Te){Tp(Te)}_.currentTarget=null,T=se}else for(L=0;L<g.length;L++){if(W=g[L],se=W.instance,we=W.currentTarget,W=W.listener,se!==T&&_.isPropagationStopped())break e;T=W,_.currentTarget=we;try{T(_)}catch(Te){Tp(Te)}_.currentTarget=null,T=se}}}}function Ut(o,c){var h=c[Pc];h===void 0&&(h=c[Pc]=new Set);var g=o+"__bubble";h.has(g)||(vM(c,o,2,!1),h.add(g))}function jb(o,c,h){var g=0;c&&(g|=4),vM(h,o,g,c)}var px="_reactListening"+Math.random().toString(36).slice(2);function bb(o){if(!o[px]){o[px]=!0,xp.forEach(function(h){h!=="selectionchange"&&(EG.has(h)||jb(h,!1,o),jb(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[px]||(c[px]=!0,jb("selectionchange",!1,c))}}function vM(o,c,h,g){switch(GM(c)){case 2:var _=nY;break;case 8:_=rY;break;default:_=Ib}h=_.bind(null,c,h,o),_=void 0,!z0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),g?_!==void 0?o.addEventListener(c,h,{capture:!0,passive:_}):o.addEventListener(c,h,!0):_!==void 0?o.addEventListener(c,h,{passive:_}):o.addEventListener(c,h,!1)}function wb(o,c,h,g,_){var T=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var L=g.tag;if(L===3||L===4){var W=g.stateNode.containerInfo;if(W===_)break;if(L===4)for(L=g.return;L!==null;){var se=L.tag;if((se===3||se===4)&&L.stateNode.containerInfo===_)return;L=L.return}for(;W!==null;){if(L=no(W),L===null)return;if(se=L.tag,se===5||se===6||se===26||se===27){g=T=L;continue e}W=W.parentNode}}g=g.return}ST(function(){var we=T,Te=F0(h),Re=[];e:{var Se=ZT.get(o);if(Se!==void 0){var Ce=Cp,at=o;switch(o){case"keypress":if(Sp(h)===0)break e;case"keydown":case"keyup":Ce=bW;break;case"focusin":at="focus",Ce=K0;break;case"focusout":at="blur",Ce=K0;break;case"beforeblur":case"afterblur":Ce=K0;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=_T;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=cW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=SW;break;case GT:case YT:case XT:Ce=fW;break;case QT:Ce=CW;break;case"scroll":case"scrollend":Ce=oW;break;case"wheel":Ce=EW;break;case"copy":case"cut":case"paste":Ce=mW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=TT;break;case"toggle":case"beforetoggle":Ce=OW}var wt=(c&4)!==0,pn=!wt&&(o==="scroll"||o==="scrollend"),ye=wt?Se!==null?Se+"Capture":null:Se;wt=[];for(var ce=we,be;ce!==null;){var ke=ce;if(be=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||be===null||ye===null||(ke=cf(ce,ye),ke!=null&&wt.push(Bf(ce,ke,be))),pn)break;ce=ce.return}0<wt.length&&(Se=new Ce(Se,at,null,h,Te),Re.push({event:Se,listeners:wt}))}}if((c&7)===0){e:{if(Se=o==="mouseover"||o==="pointerover",Ce=o==="mouseout"||o==="pointerout",Se&&h!==$0&&(at=h.relatedTarget||h.fromElement)&&(no(at)||at[ai]))break e;if((Ce||Se)&&(Se=Te.window===Te?Te:(Se=Te.ownerDocument)?Se.defaultView||Se.parentWindow:window,Ce?(at=h.relatedTarget||h.toElement,Ce=we,at=at?no(at):null,at!==null&&(pn=i(at),wt=at.tag,at!==pn||wt!==5&&wt!==27&&wt!==6)&&(at=null)):(Ce=null,at=we),Ce!==at)){if(wt=_T,ke="onMouseLeave",ye="onMouseEnter",ce="mouse",(o==="pointerout"||o==="pointerover")&&(wt=TT,ke="onPointerLeave",ye="onPointerEnter",ce="pointer"),pn=Ce==null?Se:ao(Ce),be=at==null?Se:ao(at),Se=new wt(ke,ce+"leave",Ce,h,Te),Se.target=pn,Se.relatedTarget=be,ke=null,no(Te)===we&&(wt=new wt(ye,ce+"enter",at,h,Te),wt.target=be,wt.relatedTarget=pn,ke=wt),pn=ke,Ce&&at)t:{for(wt=TG,ye=Ce,ce=at,be=0,ke=ye;ke;ke=wt(ke))be++;ke=0;for(var jt=ce;jt;jt=wt(jt))ke++;for(;0<be-ke;)ye=wt(ye),be--;for(;0<ke-be;)ce=wt(ce),ke--;for(;be--;){if(ye===ce||ce!==null&&ye===ce.alternate){wt=ye;break t}ye=wt(ye),ce=wt(ce)}wt=null}else wt=null;Ce!==null&&jM(Re,Se,Ce,wt,!1),at!==null&&pn!==null&&jM(Re,pn,at,wt,!0)}}e:{if(Se=we?ao(we):window,Ce=Se.nodeName&&Se.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&Se.type==="file")var Jt=LT;else if(DT(Se))if($T)Jt=qW;else{Jt=$W;var mt=LW}else Ce=Se.nodeName,!Ce||Ce.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?we&&L0(we.elementType)&&(Jt=LT):Jt=FW;if(Jt&&(Jt=Jt(o,we))){IT(Re,Jt,h,Te);break e}mt&&mt(o,Se,we),o==="focusout"&&we&&Se.type==="number"&&we.memoizedProps.value!=null&&$c(Se,"number",Se.value)}switch(mt=we?ao(we):window,o){case"focusin":(DT(mt)||mt.contentEditable==="true")&&(Hc=mt,Q0=we,gf=null);break;case"focusout":gf=Q0=Hc=null;break;case"mousedown":Z0=!0;break;case"contextmenu":case"mouseup":case"dragend":Z0=!1,VT(Re,h,Te);break;case"selectionchange":if(BW)break;case"keydown":case"keyup":VT(Re,h,Te)}var Mt;if(W0)e:{switch(o){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else Uc?PT(o,h)&&(Wt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Wt="onCompositionStart");Wt&&(OT&&h.locale!=="ko"&&(Uc||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&Uc&&(Mt=AT()):(oo=Te,B0="value"in oo?oo.value:oo.textContent,Uc=!0)),mt=xx(we,Wt),0<mt.length&&(Wt=new ET(Wt,o,null,h,Te),Re.push({event:Wt,listeners:mt}),Mt?Wt.data=Mt:(Mt=RT(h),Mt!==null&&(Wt.data=Mt)))),(Mt=kW?PW(o,h):RW(o,h))&&(Wt=xx(we,"onBeforeInput"),0<Wt.length&&(mt=new ET("onBeforeInput","beforeinput",null,h,Te),Re.push({event:mt,listeners:Wt}),mt.data=Mt)),AG(Re,o,we,h,Te)}yM(Re,c)})}function Bf(o,c,h){return{instance:o,listener:c,currentTarget:h}}function xx(o,c){for(var h=c+"Capture",g=[];o!==null;){var _=o,T=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||T===null||(_=cf(o,h),_!=null&&g.unshift(Bf(o,_,T)),_=cf(o,c),_!=null&&g.push(Bf(o,_,T))),o.tag===3)return g;o=o.return}return[]}function TG(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function jM(o,c,h,g,_){for(var T=c._reactName,L=[];h!==null&&h!==g;){var W=h,se=W.alternate,we=W.stateNode;if(W=W.tag,se!==null&&se===g)break;W!==5&&W!==26&&W!==27||we===null||(se=we,_?(we=cf(h,T),we!=null&&L.unshift(Bf(h,we,se))):_||(we=cf(h,T),we!=null&&L.push(Bf(h,we,se)))),h=h.return}L.length!==0&&o.push({event:c,listeners:L})}var OG=/\r\n?/g,MG=/\u0000|\uFFFD/g;function bM(o){return(typeof o=="string"?o:""+o).replace(OG,`
`).replace(MG,"")}function wM(o,c){return c=bM(c),bM(o)===c}function mn(o,c,h,g,_,T){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||qc(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&qc(o,""+g);break;case"className":Dc(o,"class",g);break;case"tabIndex":Dc(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Dc(o,h,g);break;case"style":wT(o,g,T);break;case"data":if(c!=="object"){Dc(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=wp(""+g),o.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(h==="formAction"?(c!=="input"&&mn(o,c,"name",_.name,_,null),mn(o,c,"formEncType",_.formEncType,_,null),mn(o,c,"formMethod",_.formMethod,_,null),mn(o,c,"formTarget",_.formTarget,_,null)):(mn(o,c,"encType",_.encType,_,null),mn(o,c,"method",_.method,_,null),mn(o,c,"target",_.target,_,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=wp(""+g),o.setAttribute(h,g);break;case"onClick":g!=null&&(o.onclick=ii);break;case"onScroll":g!=null&&Ut("scroll",o);break;case"onScrollEnd":g!=null&&Ut("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(a(61));if(h=g.__html,h!=null){if(_.children!=null)throw Error(a(60));o.innerHTML=h}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}h=wp(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""+g):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":g===!0?o.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,g):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(h,g):o.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(h):o.setAttribute(h,g);break;case"popover":Ut("beforetoggle",o),Ut("toggle",o),Rc(o,"popover",g);break;case"xlinkActuate":ls(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ls(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ls(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ls(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ls(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ls(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ls(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ls(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ls(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Rc(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=sW.get(h)||h,Rc(o,h,g))}}function Nb(o,c,h,g,_,T){switch(h){case"style":wT(o,g,T);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(a(61));if(h=g.__html,h!=null){if(_.children!=null)throw Error(a(60));o.innerHTML=h}}break;case"children":typeof g=="string"?qc(o,g):(typeof g=="number"||typeof g=="bigint")&&qc(o,""+g);break;case"onScroll":g!=null&&Ut("scroll",o);break;case"onScrollEnd":g!=null&&Ut("scrollend",o);break;case"onClick":g!=null&&(o.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gp.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),c=h.slice(2,_?h.length-7:void 0),T=o[Ur]||null,T=T!=null?T[h]:null,typeof T=="function"&&o.removeEventListener(c,T,_),typeof g=="function")){typeof T!="function"&&T!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,g,_);break e}h in o?o[h]=g:g===!0?o.setAttribute(h,""):Rc(o,h,g)}}}function Lr(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",o),Ut("load",o);var g=!1,_=!1,T;for(T in h)if(h.hasOwnProperty(T)){var L=h[T];if(L!=null)switch(T){case"src":g=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,c));default:mn(o,c,T,L,h,null)}}_&&mn(o,c,"srcSet",h.srcSet,h,null),g&&mn(o,c,"src",h.src,h,null);return;case"input":Ut("invalid",o);var W=T=L=_=null,se=null,we=null;for(g in h)if(h.hasOwnProperty(g)){var Te=h[g];if(Te!=null)switch(g){case"name":_=Te;break;case"type":L=Te;break;case"checked":se=Te;break;case"defaultChecked":we=Te;break;case"value":T=Te;break;case"defaultValue":W=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(a(137,c));break;default:mn(o,c,g,Te,h,null)}}bp(o,T,W,se,we,L,_,!1);return;case"select":Ut("invalid",o),g=L=T=null;for(_ in h)if(h.hasOwnProperty(_)&&(W=h[_],W!=null))switch(_){case"value":T=W;break;case"defaultValue":L=W;break;case"multiple":g=W;default:mn(o,c,_,W,h,null)}c=T,h=L,o.multiple=!!g,c!=null?Fc(o,!!g,c,!1):h!=null&&Fc(o,!!g,h,!0);return;case"textarea":Ut("invalid",o),T=_=g=null;for(L in h)if(h.hasOwnProperty(L)&&(W=h[L],W!=null))switch(L){case"value":g=W;break;case"defaultValue":_=W;break;case"children":T=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(91));break;default:mn(o,c,L,W,h,null)}jT(o,g,_,T);return;case"option":for(se in h)if(h.hasOwnProperty(se)&&(g=h[se],g!=null))switch(se){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:mn(o,c,se,g,h,null)}return;case"dialog":Ut("beforetoggle",o),Ut("toggle",o),Ut("cancel",o),Ut("close",o);break;case"iframe":case"object":Ut("load",o);break;case"video":case"audio":for(g=0;g<zf.length;g++)Ut(zf[g],o);break;case"image":Ut("error",o),Ut("load",o);break;case"details":Ut("toggle",o);break;case"embed":case"source":case"link":Ut("error",o),Ut("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in h)if(h.hasOwnProperty(we)&&(g=h[we],g!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,c));default:mn(o,c,we,g,h,null)}return;default:if(L0(c)){for(Te in h)h.hasOwnProperty(Te)&&(g=h[Te],g!==void 0&&Nb(o,c,Te,g,h,void 0));return}}for(W in h)h.hasOwnProperty(W)&&(g=h[W],g!=null&&mn(o,c,W,g,h,null))}function kG(o,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,T=null,L=null,W=null,se=null,we=null,Te=null;for(Ce in h){var Re=h[Ce];if(h.hasOwnProperty(Ce)&&Re!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":se=Re;default:g.hasOwnProperty(Ce)||mn(o,c,Ce,null,g,Re)}}for(var Se in g){var Ce=g[Se];if(Re=h[Se],g.hasOwnProperty(Se)&&(Ce!=null||Re!=null))switch(Se){case"type":T=Ce;break;case"name":_=Ce;break;case"checked":we=Ce;break;case"defaultChecked":Te=Ce;break;case"value":L=Ce;break;case"defaultValue":W=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(a(137,c));break;default:Ce!==Re&&mn(o,c,Se,Ce,g,Re)}}lf(o,L,W,se,we,Te,T,_);return;case"select":Ce=L=W=Se=null;for(T in h)if(se=h[T],h.hasOwnProperty(T)&&se!=null)switch(T){case"value":break;case"multiple":Ce=se;default:g.hasOwnProperty(T)||mn(o,c,T,null,g,se)}for(_ in g)if(T=g[_],se=h[_],g.hasOwnProperty(_)&&(T!=null||se!=null))switch(_){case"value":Se=T;break;case"defaultValue":W=T;break;case"multiple":L=T;default:T!==se&&mn(o,c,_,T,g,se)}c=W,h=L,g=Ce,Se!=null?Fc(o,!!h,Se,!1):!!g!=!!h&&(c!=null?Fc(o,!!h,c,!0):Fc(o,!!h,h?[]:"",!1));return;case"textarea":Ce=Se=null;for(W in h)if(_=h[W],h.hasOwnProperty(W)&&_!=null&&!g.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:mn(o,c,W,null,g,_)}for(L in g)if(_=g[L],T=h[L],g.hasOwnProperty(L)&&(_!=null||T!=null))switch(L){case"value":Se=_;break;case"defaultValue":Ce=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:_!==T&&mn(o,c,L,_,g,T)}vT(o,Se,Ce);return;case"option":for(var at in h)if(Se=h[at],h.hasOwnProperty(at)&&Se!=null&&!g.hasOwnProperty(at))switch(at){case"selected":o.selected=!1;break;default:mn(o,c,at,null,g,Se)}for(se in g)if(Se=g[se],Ce=h[se],g.hasOwnProperty(se)&&Se!==Ce&&(Se!=null||Ce!=null))switch(se){case"selected":o.selected=Se&&typeof Se!="function"&&typeof Se!="symbol";break;default:mn(o,c,se,Se,g,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in h)Se=h[wt],h.hasOwnProperty(wt)&&Se!=null&&!g.hasOwnProperty(wt)&&mn(o,c,wt,null,g,Se);for(we in g)if(Se=g[we],Ce=h[we],g.hasOwnProperty(we)&&Se!==Ce&&(Se!=null||Ce!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(a(137,c));break;default:mn(o,c,we,Se,g,Ce)}return;default:if(L0(c)){for(var pn in h)Se=h[pn],h.hasOwnProperty(pn)&&Se!==void 0&&!g.hasOwnProperty(pn)&&Nb(o,c,pn,void 0,g,Se);for(Te in g)Se=g[Te],Ce=h[Te],!g.hasOwnProperty(Te)||Se===Ce||Se===void 0&&Ce===void 0||Nb(o,c,Te,Se,g,Ce);return}}for(var ye in h)Se=h[ye],h.hasOwnProperty(ye)&&Se!=null&&!g.hasOwnProperty(ye)&&mn(o,c,ye,null,g,Se);for(Re in g)Se=g[Re],Ce=h[Re],!g.hasOwnProperty(Re)||Se===Ce||Se==null&&Ce==null||mn(o,c,Re,Se,g,Ce)}function NM(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PG(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var _=h[g],T=_.transferSize,L=_.initiatorType,W=_.duration;if(T&&W&&NM(L)){for(L=0,W=_.responseEnd,g+=1;g<h.length;g++){var se=h[g],we=se.startTime;if(we>W)break;var Te=se.transferSize,Re=se.initiatorType;Te&&NM(Re)&&(se=se.responseEnd,L+=Te*(se<W?1:(W-we)/(se-we)))}if(--g,c+=8*(T+L)/(_.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Sb=null,Ab=null;function gx(o){return o.nodeType===9?o:o.ownerDocument}function SM(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AM(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Cb(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var _b=null;function RG(){var o=window.event;return o&&o.type==="popstate"?o===_b?!1:(_b=o,!0):(_b=null,!1)}var CM=typeof setTimeout=="function"?setTimeout:void 0,DG=typeof clearTimeout=="function"?clearTimeout:void 0,_M=typeof Promise=="function"?Promise:void 0,IG=typeof queueMicrotask=="function"?queueMicrotask:typeof _M<"u"?function(o){return _M.resolve(null).then(o).catch(LG)}:CM;function LG(o){setTimeout(function(){throw o})}function Ao(o){return o==="head"}function EM(o,c){var h=c,g=0;do{var _=h.nextSibling;if(o.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"||h==="/&"){if(g===0){o.removeChild(_),gu(c);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")Uf(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,Uf(h);for(var T=h.firstChild;T;){var L=T.nextSibling,W=T.nodeName;T[yl]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&T.rel.toLowerCase()==="stylesheet"||h.removeChild(T),T=L}}else h==="body"&&Uf(o.ownerDocument.body);h=_}while(h);gu(c)}function TM(o,c){var h=o;o=0;do{var g=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=g}while(h)}function Eb(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Eb(h),sf(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function $G(o,c,h,g){for(;o.nodeType===1;){var _=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[yl])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(T=o.getAttribute("rel"),T==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(T!==_.rel||o.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||o.getAttribute("title")!==(_.title==null?null:_.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(T=o.getAttribute("src"),(T!==(_.src==null?null:_.src)||o.getAttribute("type")!==(_.type==null?null:_.type)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&T&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var T=_.name==null?null:""+_.name;if(_.type==="hidden"&&o.getAttribute("name")===T)return o}else return o;if(o=Ua(o.nextSibling),o===null)break}return null}function FG(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=Ua(o.nextSibling),o===null))return null;return o}function OM(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Ua(o.nextSibling),o===null))return null;return o}function Tb(o){return o.data==="$?"||o.data==="$~"}function Ob(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function qG(o,c){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||h.readyState!=="loading")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function Ua(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var Mb=null;function MM(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(c===0)return Ua(o.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}o=o.nextSibling}return null}function kM(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return o;c--}else h!=="/$"&&h!=="/&"||c++}o=o.previousSibling}return null}function PM(o,c,h){switch(c=gx(h),o){case"html":if(o=c.documentElement,!o)throw Error(a(452));return o;case"head":if(o=c.head,!o)throw Error(a(453));return o;case"body":if(o=c.body,!o)throw Error(a(454));return o;default:throw Error(a(451))}}function Uf(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);sf(o)}var Ha=new Map,RM=new Set;function yx(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var wi=D.d;D.d={f:zG,r:BG,D:UG,C:HG,L:KG,m:VG,X:GG,S:WG,M:YG};function zG(){var o=wi.f(),c=cx();return o||c}function BG(o){var c=ro(o);c!==null&&c.tag===5&&c.type==="form"?QO(c):wi.r(o)}var mu=typeof document>"u"?null:document;function DM(o,c,h){var g=mu;if(g&&typeof c=="string"&&c){var _=Hr(c);_='link[rel="'+o+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),RM.has(_)||(RM.add(_),o={rel:o,crossOrigin:h,href:c},g.querySelector(_)===null&&(c=g.createElement("link"),Lr(c,"link",o),ar(c),g.head.appendChild(c)))}}function UG(o){wi.D(o),DM("dns-prefetch",o,null)}function HG(o,c){wi.C(o,c),DM("preconnect",o,c)}function KG(o,c,h){wi.L(o,c,h);var g=mu;if(g&&o&&c){var _='link[rel="preload"][as="'+Hr(c)+'"]';c==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+Hr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+Hr(h.imageSizes)+'"]')):_+='[href="'+Hr(o)+'"]';var T=_;switch(c){case"style":T=pu(o);break;case"script":T=xu(o)}Ha.has(T)||(o=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),Ha.set(T,o),g.querySelector(_)!==null||c==="style"&&g.querySelector(Hf(T))||c==="script"&&g.querySelector(Kf(T))||(c=g.createElement("link"),Lr(c,"link",o),ar(c),g.head.appendChild(c)))}}function VG(o,c){wi.m(o,c);var h=mu;if(h&&o){var g=c&&typeof c.as=="string"?c.as:"script",_='link[rel="modulepreload"][as="'+Hr(g)+'"][href="'+Hr(o)+'"]',T=_;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=xu(o)}if(!Ha.has(T)&&(o=p({rel:"modulepreload",href:o},c),Ha.set(T,o),h.querySelector(_)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Kf(T)))return}g=h.createElement("link"),Lr(g,"link",o),ar(g),h.head.appendChild(g)}}}function WG(o,c,h){wi.S(o,c,h);var g=mu;if(g&&o){var _=so(g).hoistableStyles,T=pu(o);c=c||"default";var L=_.get(T);if(!L){var W={loading:0,preload:null};if(L=g.querySelector(Hf(T)))W.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},h),(h=Ha.get(T))&&kb(o,h);var se=L=g.createElement("link");ar(se),Lr(se,"link",o),se._p=new Promise(function(we,Te){se.onload=we,se.onerror=Te}),se.addEventListener("load",function(){W.loading|=1}),se.addEventListener("error",function(){W.loading|=2}),W.loading|=4,vx(L,c,g)}L={type:"stylesheet",instance:L,count:1,state:W},_.set(T,L)}}}function GG(o,c){wi.X(o,c);var h=mu;if(h&&o){var g=so(h).hoistableScripts,_=xu(o),T=g.get(_);T||(T=h.querySelector(Kf(_)),T||(o=p({src:o,async:!0},c),(c=Ha.get(_))&&Pb(o,c),T=h.createElement("script"),ar(T),Lr(T,"link",o),h.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(_,T))}}function YG(o,c){wi.M(o,c);var h=mu;if(h&&o){var g=so(h).hoistableScripts,_=xu(o),T=g.get(_);T||(T=h.querySelector(Kf(_)),T||(o=p({src:o,async:!0,type:"module"},c),(c=Ha.get(_))&&Pb(o,c),T=h.createElement("script"),ar(T),Lr(T,"link",o),h.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(_,T))}}function IM(o,c,h,g){var _=(_=he.current)?yx(_):null;if(!_)throw Error(a(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=pu(h.href),h=so(_).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=pu(h.href);var T=so(_).hoistableStyles,L=T.get(o);if(L||(_=_.ownerDocument||_,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(o,L),(T=_.querySelector(Hf(o)))&&!T._p&&(L.instance=T,L.state.loading=5),Ha.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ha.set(o,h),T||XG(_,o,h,L.state))),c&&g===null)throw Error(a(528,""));return L}if(c&&g!==null)throw Error(a(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=xu(h),h=so(_).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,o))}}function pu(o){return'href="'+Hr(o)+'"'}function Hf(o){return'link[rel="stylesheet"]['+o+"]"}function LM(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function XG(o,c,h,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Lr(c,"link",h),ar(c),o.head.appendChild(c))}function xu(o){return'[src="'+Hr(o)+'"]'}function Kf(o){return"script[async]"+o}function $M(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+Hr(h.href)+'"]');if(g)return c.instance=g,ar(g),g;var _=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),ar(g),Lr(g,"style",_),vx(g,h.precedence,o),c.instance=g;case"stylesheet":_=pu(h.href);var T=o.querySelector(Hf(_));if(T)return c.state.loading|=4,c.instance=T,ar(T),T;g=LM(h),(_=Ha.get(_))&&kb(g,_),T=(o.ownerDocument||o).createElement("link"),ar(T);var L=T;return L._p=new Promise(function(W,se){L.onload=W,L.onerror=se}),Lr(T,"link",g),c.state.loading|=4,vx(T,h.precedence,o),c.instance=T;case"script":return T=xu(h.src),(_=o.querySelector(Kf(T)))?(c.instance=_,ar(_),_):(g=h,(_=Ha.get(T))&&(g=p({},h),Pb(g,_)),o=o.ownerDocument||o,_=o.createElement("script"),ar(_),Lr(_,"link",g),o.head.appendChild(_),c.instance=_);case"void":return null;default:throw Error(a(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,vx(g,h.precedence,o));return c.instance}function vx(o,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=g.length?g[g.length-1]:null,T=_,L=0;L<g.length;L++){var W=g[L];if(W.dataset.precedence===c)T=W;else if(T!==_)break}T?T.parentNode.insertBefore(o,T.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function kb(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Pb(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var jx=null;function FM(o,c,h){if(jx===null){var g=new Map,_=jx=new Map;_.set(h,g)}else _=jx,g=_.get(h),g||(g=new Map,_.set(h,g));if(g.has(o))return g;for(g.set(o,null),h=h.getElementsByTagName(o),_=0;_<h.length;_++){var T=h[_];if(!(T[yl]||T[xr]||o==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var L=T.getAttribute(c)||"";L=o+L;var W=g.get(L);W?W.push(T):g.set(L,[T])}}return g}function qM(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function QG(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function zM(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function ZG(o,c,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var _=pu(g.href),T=c.querySelector(Hf(_));if(T){c=T._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=bx.bind(o),c.then(o,o)),h.state.loading|=4,h.instance=T,ar(T);return}T=c.ownerDocument||c,g=LM(g),(_=Ha.get(_))&&kb(g,_),T=T.createElement("link"),ar(T);var L=T;L._p=new Promise(function(W,se){L.onload=W,L.onerror=se}),Lr(T,"link",g),h.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=bx.bind(o),c.addEventListener("load",h),c.addEventListener("error",h))}}var Rb=0;function JG(o,c){return o.stylesheets&&o.count===0&&Nx(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var g=setTimeout(function(){if(o.stylesheets&&Nx(o,o.stylesheets),o.unsuspend){var T=o.unsuspend;o.unsuspend=null,T()}},6e4+c);0<o.imgBytes&&Rb===0&&(Rb=62500*PG());var _=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Nx(o,o.stylesheets),o.unsuspend)){var T=o.unsuspend;o.unsuspend=null,T()}},(o.imgBytes>Rb?50:800)+c);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(_)}}:null}function bx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nx(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var wx=null;function Nx(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,wx=new Map,c.forEach(eY,o),wx=null,bx.call(o))}function eY(o,c){if(!(c.state.loading&4)){var h=wx.get(o);if(h)var g=h.get(null);else{h=new Map,wx.set(o,h);for(var _=o.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<_.length;T++){var L=_[T];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(h.set(L.dataset.precedence,L),g=L)}g&&h.set(null,g)}_=c.instance,L=_.getAttribute("data-precedence"),T=h.get(L)||g,T===g&&h.set(null,_),h.set(L,_),this.count++,g=bx.bind(this),_.addEventListener("load",g),_.addEventListener("error",g),T?T.parentNode.insertBefore(_,T.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(_,o.firstChild)),c.state.loading|=4}}var Vf={$$typeof:w,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function tY(o,c,h,g,_,T,L,W,se){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=g,this.onUncaughtError=_,this.onCaughtError=T,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function BM(o,c,h,g,_,T,L,W,se,we,Te,Re){return o=new tY(o,c,h,L,se,we,Te,Re,W),c=1,T===!0&&(c|=24),T=va(3,null,null,c),o.current=T,T.stateNode=o,c=hj(),c.refCount++,o.pooledCache=c,c.refCount++,T.memoizedState={element:g,isDehydrated:h,cache:c},gj(T),o}function UM(o){return o?(o=Wc,o):Wc}function HM(o,c,h,g,_,T){_=UM(_),g.context===null?g.context=_:g.pendingContext=_,g=mo(c),g.payload={element:h},T=T===void 0?null:T,T!==null&&(g.callback=T),h=po(o,g,c),h!==null&&(ha(h,o,c),Sf(h,o,c))}function KM(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function Db(o,c){KM(o,c),(o=o.alternate)&&KM(o,c)}function VM(o){if(o.tag===13||o.tag===31){var c=wl(o,67108864);c!==null&&ha(c,o,67108864),Db(o,67108864)}}function WM(o){if(o.tag===13||o.tag===31){var c=Sa();c=rf(c);var h=wl(o,c);h!==null&&ha(h,o,c),Db(o,c)}}var Sx=!0;function nY(o,c,h,g){var _=k.T;k.T=null;var T=D.p;try{D.p=2,Ib(o,c,h,g)}finally{D.p=T,k.T=_}}function rY(o,c,h,g){var _=k.T;k.T=null;var T=D.p;try{D.p=8,Ib(o,c,h,g)}finally{D.p=T,k.T=_}}function Ib(o,c,h,g){if(Sx){var _=Lb(g);if(_===null)wb(o,c,g,Ax,h),YM(o,g);else if(sY(_,o,c,h,g))g.stopPropagation();else if(YM(o,g),c&4&&-1<aY.indexOf(o)){for(;_!==null;){var T=ro(_);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var L=gt(T.pendingLanes);if(L!==0){var W=T;for(W.pendingLanes|=2,W.entangledLanes|=2;L;){var se=1<<31-Ar(L);W.entanglements[1]|=se,L&=~se}qs(T),(rn&6)===0&&(ox=ut()+500,qf(0))}}break;case 31:case 13:W=wl(T,2),W!==null&&ha(W,T,2),cx(),Db(T,2)}if(T=Lb(g),T===null&&wb(o,c,g,Ax,h),T===_)break;_=T}_!==null&&g.stopPropagation()}else wb(o,c,g,null,h)}}function Lb(o){return o=F0(o),$b(o)}var Ax=null;function $b(o){if(Ax=null,o=no(o),o!==null){var c=i(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=l(c),o!==null)return o;o=null}else if(h===31){if(o=u(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Ax=o,null}function GM(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zt()){case nn:return 2;case ge:return 8;case Ue:case xt:return 32;case rt:return 268435456;default:return 32}default:return 32}}var Fb=!1,Co=null,_o=null,Eo=null,Wf=new Map,Gf=new Map,To=[],aY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function YM(o,c){switch(o){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":Eo=null;break;case"pointerover":case"pointerout":Wf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gf.delete(c.pointerId)}}function Yf(o,c,h,g,_,T){return o===null||o.nativeEvent!==T?(o={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:T,targetContainers:[_]},c!==null&&(c=ro(c),c!==null&&VM(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),o)}function sY(o,c,h,g,_){switch(c){case"focusin":return Co=Yf(Co,o,c,h,g,_),!0;case"dragenter":return _o=Yf(_o,o,c,h,g,_),!0;case"mouseover":return Eo=Yf(Eo,o,c,h,g,_),!0;case"pointerover":var T=_.pointerId;return Wf.set(T,Yf(Wf.get(T)||null,o,c,h,g,_)),!0;case"gotpointercapture":return T=_.pointerId,Gf.set(T,Yf(Gf.get(T)||null,o,c,h,g,_)),!0}return!1}function XM(o){var c=no(o.target);if(c!==null){var h=i(c);if(h!==null){if(c=h.tag,c===13){if(c=l(h),c!==null){o.blockedOn=c,hp(o.priority,function(){WM(h)});return}}else if(c===31){if(c=u(h),c!==null){o.blockedOn=c,hp(o.priority,function(){WM(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Cx(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=Lb(o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);$0=g,h.target.dispatchEvent(g),$0=null}else return c=ro(h),c!==null&&VM(c),o.blockedOn=h,!1;c.shift()}return!0}function QM(o,c,h){Cx(o)&&h.delete(c)}function iY(){Fb=!1,Co!==null&&Cx(Co)&&(Co=null),_o!==null&&Cx(_o)&&(_o=null),Eo!==null&&Cx(Eo)&&(Eo=null),Wf.forEach(QM),Gf.forEach(QM)}function _x(o,c){o.blockedOn===c&&(o.blockedOn=null,Fb||(Fb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iY)))}var Ex=null;function ZM(o){Ex!==o&&(Ex=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ex===o&&(Ex=null);for(var c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],_=o[c+2];if(typeof g!="function"){if($b(g||h)===null)continue;break}var T=ro(h);T!==null&&(o.splice(c,3),c-=3,Lj(T,{pending:!0,data:_,method:h.method,action:g},g,_))}}))}function gu(o){function c(se){return _x(se,o)}Co!==null&&_x(Co,o),_o!==null&&_x(_o,o),Eo!==null&&_x(Eo,o),Wf.forEach(c),Gf.forEach(c);for(var h=0;h<To.length;h++){var g=To[h];g.blockedOn===o&&(g.blockedOn=null)}for(;0<To.length&&(h=To[0],h.blockedOn===null);)XM(h),h.blockedOn===null&&To.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var _=h[g],T=h[g+1],L=_[Ur]||null;if(typeof T=="function")L||ZM(h);else if(L){var W=null;if(T&&T.hasAttribute("formAction")){if(_=T,L=T[Ur]||null)W=L.formAction;else if($b(_)!==null)continue}else W=L.action;typeof W=="function"?h[g+1]=W:(h.splice(g,3),g-=3),ZM(h)}}}function JM(){function o(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(L){return _=L})},focusReset:"manual",scroll:"manual"})}function c(){_!==null&&(_(),_=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,_=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),_!==null&&(_(),_=null)}}}function qb(o){this._internalRoot=o}Tx.prototype.render=qb.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(a(409));var h=c.current,g=Sa();HM(h,g,o,c,null,null)},Tx.prototype.unmount=qb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;HM(o.current,2,null,o,null,null),cx(),c[ai]=null}};function Tx(o){this._internalRoot=o}Tx.prototype.unstable_scheduleHydration=function(o){if(o){var c=fp();o={blockedOn:null,target:o,priority:c};for(var h=0;h<To.length&&c!==0&&c<To[h].priority;h++);To.splice(h,0,o),h===0&&XM(o)}};var ek=t.version;if(ek!=="19.2.0")throw Error(a(527,ek,"19.2.0"));D.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(a(188)):(o=Object.keys(o).join(","),Error(a(268,o)));return o=f(c),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var oY={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ox=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ox.isDisabled&&Ox.supportsFiber)try{_n=Ox.inject(oY),En=Ox}catch{}}return Qf.createRoot=function(o,c){if(!s(o))throw Error(a(299));var h=!1,g="",_=o4,T=l4,L=c4;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(L=c.onRecoverableError)),c=BM(o,1,!1,null,null,h,g,null,_,T,L,JM),o[ai]=c.current,bb(o),new qb(c)},Qf.hydrateRoot=function(o,c,h){if(!s(o))throw Error(a(299));var g=!1,_="",T=o4,L=l4,W=c4,se=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(T=h.onUncaughtError),h.onCaughtError!==void 0&&(L=h.onCaughtError),h.onRecoverableError!==void 0&&(W=h.onRecoverableError),h.formState!==void 0&&(se=h.formState)),c=BM(o,1,!0,c,h??null,g,_,se,T,L,W,JM),c.context=UM(null),h=c.current,g=Sa(),g=rf(g),_=mo(g),_.callback=null,po(h,_,g),h=g,c.current.lanes=h,gl(c,h),qs(c),o[ai]=c.current,bb(o),new Tx(c)},Qf.version="19.2.0",Qf}var uk;function gY(){if(uk)return Bb.exports;uk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Bb.exports=xY(),Bb.exports}var yY=gY();function vY(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,a,s,i,l=[],u="",d=e.split("/");for(d[0]||d.shift();s=d.shift();)r=s[0],r==="*"?(l.push(r),u+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(a=s.indexOf("?",1),i=s.indexOf(".",1),l.push(s.substring(1,~a?a:~i?i:s.length)),u+=~a&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(u+=(~a?"?":"")+"\\"+s.substring(i))):u+="/"+s;return{keys:l,pattern:new RegExp("^"+u+(t?"(?=$|/)":"/?$"),"i")}}var b=Rm();const J=an(b),tv=cY({__proto__:null,default:J},[b]);var Wb={exports:{}},Gb={};var dk;function jY(){if(dk)return Gb;dk=1;var e=Rm();function t(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function u(p,x){var v=x(),j=a({inst:{value:v,getSnapshot:x}}),y=j[0].inst,N=j[1];return i(function(){y.value=v,y.getSnapshot=x,d(y)&&N({inst:y})},[p,v,x]),s(function(){return d(y)&&N({inst:y}),p(function(){d(y)&&N({inst:y})})},[p]),l(v),v}function d(p){var x=p.getSnapshot;p=p.value;try{var v=x();return!r(p,v)}catch{return!0}}function f(p,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Gb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Gb}var fk;function L6(){return fk||(fk=1,Wb.exports=jY()),Wb.exports}var $6=L6();const bY=tv.useInsertionEffect,wY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F6=wY?b.useLayoutEffect:b.useEffect,NY=bY||F6,FC=e=>{const t=b.useRef([e,(...r)=>t[0](...r)]).current;return NY(()=>{t[0]=e}),t[1]},SY="popstate",qC="pushState",zC="replaceState",AY="hashchange",hk=[SY,qC,zC,AY],CY=e=>{for(const t of hk)addEventListener(t,e);return()=>{for(const t of hk)removeEventListener(t,e)}},q6=(e,t)=>$6.useSyncExternalStore(CY,e,t),mk=()=>location.search,_Y=({ssrSearch:e}={})=>q6(mk,e!=null?()=>e:mk),pk=()=>location.pathname,EY=({ssrPath:e}={})=>q6(pk,e!=null?()=>e:pk),TY=(e,{replace:t=!1,state:r=null}={})=>history[t?zC:qC](r,"",e),OY=(e={})=>[EY(e),TY],xk=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[xk]>"u"){for(const e of[qC,zC]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),r}}Object.defineProperty(window,xk,{value:!0})}const MY=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",z6=(e="")=>e==="/"?"":e,kY=(e,t)=>e[0]==="~"?e.slice(1):z6(t)+e,PY=(e="",t)=>MY(gk(z6(e)),gk(t)),gk=e=>{try{return decodeURI(e)}catch{return e}},B6={hook:OY,searchHook:_Y,parser:vY,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},U6=b.createContext(B6),Nc=()=>b.useContext(U6),H6={},K6=b.createContext(H6),RY=()=>b.useContext(K6),Dm=e=>{const[t,r]=e.hook(e);return[PY(e.base,t),FC((a,s)=>r(kY(a,e.base),s))]},il=()=>Dm(Nc()),BC=(e,t,r,a)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",a),l=s.exec(r)||[],[u,...d]=l;return u!==void 0?[!0,(()=>{const f=i!==!1?Object.fromEntries(i.map((p,x)=>[p,d[x]])):l.groups;let m={...d};return f&&Object.assign(m,f),m})(),...a?[u]:[]]:[!1,null]},DY=e=>BC(Nc().parser,e,il()[0]),IY=({children:e,...t})=>{const r=Nc(),a=t.hook?B6:r;let s=a;const[i,l]=t.ssrPath?.split("?")??[];l&&(t.ssrSearch=l,t.ssrPath=i),t.hrefs=t.hrefs??t.hook?.hrefs,t.searchHook=t.searchHook??t.hook?.searchHook;let u=b.useRef({}),d=u.current,f=d;for(let m in a){const p=m==="base"?a[m]+(t[m]||""):t[m]||a[m];d===f&&p!==f[m]&&(u.current=f={...f}),f[m]=p,(p!==a[m]||p!==s[m])&&(s=f)}return b.createElement(U6.Provider,{value:s,children:e})},yk=({children:e,component:t},r)=>t?b.createElement(t,{params:r}):typeof e=="function"?e(r):e,LY=e=>{let t=b.useRef(H6);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([a,s])=>s!==r[a])?e:r},tt=({path:e,nest:t,match:r,...a})=>{const s=Nc(),[i]=Dm(s),[l,u,d]=r??BC(s.parser,e,i,t),f=LY({...RY(),...u});if(!l)return null;const m=d?b.createElement(IY,{base:d},yk(a,f)):yk(a,f);return b.createElement(K6.Provider,{value:f,children:m})},qo=b.forwardRef((e,t)=>{const r=Nc(),[a,s]=Dm(r),{to:i="",href:l=i,onClick:u,asChild:d,children:f,className:m,replace:p,state:x,...v}=e,j=FC(N=>{N.ctrlKey||N.metaKey||N.altKey||N.shiftKey||N.button!==0||(u?.(N),N.defaultPrevented||(N.preventDefault(),s(l,e)))}),y=r.hrefs(l[0]==="~"?l.slice(1):r.base+l,r);return d&&b.isValidElement(f)?b.cloneElement(f,{onClick:j,href:y}):b.createElement("a",{...v,onClick:j,href:y,className:m?.call?m(a===l):m,children:f,ref:t})}),V6=e=>Array.isArray(e)?e.flatMap(t=>V6(t&&t.type===b.Fragment?t.props.children:t)):[e],$Y=({children:e,location:t})=>{const r=Nc(),[a]=Dm(r);for(const s of V6(e)){let i=0;if(b.isValidElement(s)&&(i=BC(r.parser,s.props.path,t||a,s.props.nest))[0])return b.cloneElement(s,{match:i})}return null},W6=e=>{const{to:t,href:r=t}=e,a=Nc(),[,s]=Dm(a),i=FC(()=>s(t||r,e)),{ssrContext:l}=a;return F6(()=>{i()},[]),l&&(l.redirectTo=t),null};var kd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},FY={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},qY=class{#e=FY;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Hl=new qY;function zY(e){setTimeout(e,0)}var Jl=typeof window>"u"||"Deno"in globalThis;function Jr(){}function BY(e,t){return typeof e=="function"?e(t):e}function C2(e){return typeof e=="number"&&e>=0&&e!==1/0}function G6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ko(e,t){return typeof e=="function"?e(t):e}function Xa(e,t){return typeof e=="function"?e(t):e}function vk(e,t){const{type:r="all",exact:a,fetchStatus:s,predicate:i,queryKey:l,stale:u}=e;if(l){if(a){if(t.queryHash!==UC(l,t.options))return!1}else if(!Rh(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||i&&!i(t))}function jk(e,t){const{exact:r,status:a,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ec(t.options.mutationKey)!==ec(i))return!1}else if(!Rh(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||s&&!s(t))}function UC(e,t){return(t?.queryKeyHashFn||ec)(e)}function ec(e){return JSON.stringify(e,(t,r)=>_2(r)?Object.keys(r).sort().reduce((a,s)=>(a[s]=r[s],a),{}):r)}function Rh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Rh(e[r],t[r])):!1}var UY=Object.prototype.hasOwnProperty;function Y6(e,t){if(e===t)return e;const r=bk(e)&&bk(t);if(!r&&!(_2(e)&&_2(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),l=i.length,u=r?new Array(l):{};let d=0;for(let f=0;f<l;f++){const m=r?f:i[f],p=e[m],x=t[m];if(p===x){u[m]=p,(r?f<s:UY.call(e,m))&&d++;continue}if(p===null||x===null||typeof p!="object"||typeof x!="object"){u[m]=x;continue}const v=Y6(p,x);u[m]=v,v===p&&d++}return s===l&&d===s?e:u}function Sg(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function bk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _2(e){if(!wk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!wk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function wk(e){return Object.prototype.toString.call(e)==="[object Object]"}function HY(e){return new Promise(t=>{Hl.setTimeout(t,e)})}function E2(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Y6(e,t):t}function KY(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function VY(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var HC=Symbol();function X6(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===HC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Q6(e,t){return typeof e=="function"?e(...t):!!e}var WY=class extends kd{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Jl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},KC=new WY;function T2(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function a(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},r.reject=s=>{a({status:"rejected",reason:s}),t(s)},r}var GY=zY;function YY(){let e=[],t=0,r=u=>{u()},a=u=>{u()},s=GY;const i=u=>{t?e.push(u):s(()=>{r(u)})},l=()=>{const u=e;e=[],u.length&&s(()=>{a(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{i(()=>{u(...d)})},schedule:i,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{a=u},setScheduler:u=>{s=u}}}var br=YY(),XY=class extends kd{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Jl&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Ag=new XY;function QY(e){return Math.min(1e3*2**e,3e4)}function Z6(e){return(e??"online")==="online"?Ag.isOnline():!0}var O2=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function J6(e){let t=!1,r=0,a;const s=T2(),i=()=>s.status!=="pending",l=y=>{if(!i()){const N=new O2(y);x(N),e.onCancel?.(N)}},u=()=>{t=!0},d=()=>{t=!1},f=()=>KC.isFocused()&&(e.networkMode==="always"||Ag.isOnline())&&e.canRun(),m=()=>Z6(e.networkMode)&&e.canRun(),p=y=>{i()||(a?.(),s.resolve(y))},x=y=>{i()||(a?.(),s.reject(y))},v=()=>new Promise(y=>{a=N=>{(i()||f())&&y(N)},e.onPause?.()}).then(()=>{a=void 0,i()||e.onContinue?.()}),j=()=>{if(i())return;let y;const N=r===0?e.initialPromise:void 0;try{y=N??e.fn()}catch(C){y=Promise.reject(C)}Promise.resolve(y).then(p).catch(C=>{if(i())return;const A=e.retry??(Jl?0:3),w=e.retryDelay??QY,S=typeof w=="function"?w(r,C):w,E=A===!0||typeof A=="number"&&r<A||typeof A=="function"&&A(r,C);if(t||!E){x(C);return}r++,e.onFail?.(r,C),HY(S).then(()=>f()?void 0:v()).then(()=>{t?x(C):j()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(a?.(),s),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?j():v().then(j),s)}}var eF=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),C2(this.gcTime)&&(this.#e=Hl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Jl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Hl.clearTimeout(this.#e),this.#e=void 0)}},ZY=class extends eF{#e;#t;#n;#a;#r;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Sk(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Sk(this.options);t.data!==void 0&&(this.setState(Nk(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=E2(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Jr).catch(Jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Xa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===HC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ko(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!G6(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,a=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},s=()=>{const u=X6(this.options,t),f=(()=>{const m={client:this.#a,queryKey:this.queryKey,meta:this.meta};return a(m),m})();return this.#o=!1,this.options.persister?this.options.persister(u,f,this):u(f)},l=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return a(u),u})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#s({type:"fetch",meta:l.fetchOptions?.meta}),this.#r=J6({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:u=>{u instanceof O2&&u.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const u=await this.#r.start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof O2){if(u.silent)return this.#r.promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw this.#s({type:"error",error:u}),this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...tF(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...Nk(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),br.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function tF(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Z6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Nk(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Sk(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var JY=class extends kd{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#o=T2(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#a=void 0;#r;#i;#o;#s;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Ak(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return M2(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return M2(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#j(),this.#b(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),t._defaulted&&!Sg(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&Ck(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),a&&(this.#t!==r||Xa(this.options.enabled,this.#t)!==Xa(t.enabled,this.#t)||Ko(this.options.staleTime,this.#t)!==Ko(t.staleTime,this.#t))&&this.#x();const s=this.#g();a&&(this.#t!==r||Xa(this.options.enabled,this.#t)!==Xa(t.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return tX(this,r)&&(this.#a=r,this.#i=this.options,this.#r=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t?.(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,a))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Jr)),t}#x(){this.#j();const e=Ko(this.options.staleTime,this.#t);if(Jl||this.#a.isStale||!C2(e))return;const r=G6(this.#a.dataUpdatedAt,e)+1;this.#c=Hl.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#b(),this.#l=e,!(Jl||Xa(this.options.enabled,this.#t)===!1||!C2(this.#l)||this.#l===0)&&(this.#u=Hl.setInterval(()=>{(this.options.refetchIntervalInBackground||KC.isFocused())&&this.#d()},this.#l))}#v(){this.#x(),this.#y(this.#g())}#j(){this.#c&&(Hl.clearTimeout(this.#c),this.#c=void 0)}#b(){this.#u&&(Hl.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,a=this.options,s=this.#a,i=this.#r,l=this.#i,d=e!==r?e.state:this.#n,{state:f}=e;let m={...f},p=!1,x;if(t._optimisticResults){const R=this.hasListeners(),I=!R&&Ak(e,t),V=R&&Ck(e,r,t,a);(I||V)&&(m={...m,...tF(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:j,status:y}=m;x=m.data;let N=!1;if(t.placeholderData!==void 0&&x===void 0&&y==="pending"){let R;s?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(R=s.data,N=!0):R=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,R!==void 0&&(y="success",x=E2(s?.data,R,t),p=!0)}if(t.select&&x!==void 0&&!N)if(s&&x===i?.data&&t.select===this.#p)x=this.#f;else try{this.#p=t.select,x=t.select(x),x=E2(s?.data,x,t),this.#f=x,this.#s=null}catch(R){this.#s=R}this.#s&&(v=this.#s,x=this.#f,j=Date.now(),y="error");const C=m.fetchStatus==="fetching",A=y==="pending",w=y==="error",S=A&&C,E=x!==void 0,M={status:y,fetchStatus:m.fetchStatus,isPending:A,isSuccess:y==="success",isError:w,isInitialLoading:S,isLoading:S,data:x,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:j,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:C,isRefetching:C&&!A,isLoadingError:w&&!E,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:w&&E,isStale:VC(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Xa(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=F=>{M.status==="error"?F.reject(M.error):M.data!==void 0&&F.resolve(M.data)},I=()=>{const F=this.#o=M.promise=T2();R(F)},V=this.#o;switch(V.status){case"pending":e.queryHash===r.queryHash&&R(V);break;case"fulfilled":(M.status==="error"||M.data!==V.value)&&I();break;case"rejected":(M.status!=="error"||M.error!==V.reason)&&I();break}}return M}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#i=this.options,this.#r.data!==void 0&&(this.#h=this.#t),Sg(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!this.#m.size)return!0;const i=new Set(s??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(l=>{const u=l;return this.#a[u]!==e[u]&&i.has(u)})};this.#N({listeners:r()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#N(e){br.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function eX(e,t){return Xa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ak(e,t){return eX(e,t)||e.state.data!==void 0&&M2(e,t,t.refetchOnMount)}function M2(e,t,r){if(Xa(t.enabled,e)!==!1&&Ko(t.staleTime,e)!=="static"){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&VC(e,t)}return!1}function Ck(e,t,r,a){return(e!==t||Xa(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&VC(e,r)}function VC(e,t){return Xa(t.enabled,e)!==!1&&e.isStaleByTime(Ko(t.staleTime,e))}function tX(e,t){return!Sg(e.getCurrentResult(),t)}function _k(e){return{onFetch:(t,r)=>{const a=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let m=!1;const p=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=X6(t.options,t.fetchOptions),v=async(j,y,N)=>{if(m)return Promise.reject();if(y==null&&j.pages.length)return Promise.resolve(j);const A=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:y,direction:N?"backward":"forward",meta:t.options.meta};return p(O),O})(),w=await x(A),{maxPages:S}=t.options,E=N?VY:KY;return{pages:E(j.pages,w,S),pageParams:E(j.pageParams,y,S)}};if(s&&i.length){const j=s==="backward",y=j?nX:Ek,N={pages:i,pageParams:l},C=y(a,N);u=await v(N,C,j)}else{const j=e??i.length;do{const y=d===0?l[0]??a.initialPageParam:Ek(a,u);if(d>0&&y==null)break;u=await v(u,y),d++}while(d<j)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=f}}}function Ek(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function nX(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var rX=class extends eF{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||nF(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=J6({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#r({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",s=!this.#a.canStart();try{if(a)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#n.config.onMutate?.(e,this,r);const l=await this.options.onMutate?.(e,r);l!==this.state.context&&this.#r({type:"pending",context:l,variables:e,isPaused:s})}const i=await this.#a.start();return await this.#n.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,e,this.state.context,this,r),await this.options.onError?.(i,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,i,e,this.state.context,r),i}finally{this.#r({type:"error",error:i})}}finally{this.#n.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),br.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function nF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var aX=class extends kd{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,r){const a=new rX({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){this.#e.add(e);const t=kx(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=kx(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=kx(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(s=>s.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=kx(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){br.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>jk(t,r))}findAll(e={}){return this.getAll().filter(t=>jk(e,t))}notify(e){br.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return br.batch(()=>Promise.all(e.map(t=>t.continue().catch(Jr))))}};function kx(e){return e.options.scope?.id}var sX=class extends kd{#e;#t=void 0;#n;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),Sg(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&ec(r.mutationKey)!==ec(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#i()}mutate(t,r){return this.#a=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??nF();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){br.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,a=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,a,s),this.#a.onSettled?.(t.data,null,r,a,s)):t?.type==="error"&&(this.#a.onError?.(t.error,r,a,s),this.#a.onSettled?.(void 0,t.error,r,a,s))}this.listeners.forEach(r=>{r(this.#t)})})}},iX=class extends kd{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const a=t.queryKey,s=t.queryHash??UC(a,t);let i=this.get(s);return i||(i=new ZY({client:e,queryKey:a,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){br.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>vk(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>vk(e,r)):t}notify(e){br.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){br.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){br.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},oX=class{#e;#t;#n;#a;#r;#i;#o;#s;constructor(e={}){this.#e=e.queryCache||new iX,this.#t=e.mutationCache||new aX,this.#n=e.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=KC.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Ag.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ko(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(a.queryHash)?.state.data,l=BY(t,i);if(l!==void 0)return this.#e.build(this,a).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return br.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;br.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return br.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=br.batch(()=>this.#e.findAll(e).map(s=>s.cancel(r)));return Promise.all(a).then(Jr).catch(Jr)}invalidateQueries(e,t={}){return br.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=br.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Jr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(Jr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Ko(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Jr).catch(Jr)}fetchInfiniteQuery(e){return e.behavior=_k(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Jr).catch(Jr)}ensureInfiniteQueryData(e){return e.behavior=_k(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ag.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#a.set(ec(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(a=>{Rh(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){this.#r.set(ec(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],r={};return t.forEach(a=>{Rh(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=UC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===HC&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},rF=b.createContext(void 0),yn=e=>{const t=b.useContext(rF);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},lX=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(rF.Provider,{value:e,children:t})),aF=b.createContext(!1),cX=()=>b.useContext(aF);aF.Provider;function uX(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var dX=b.createContext(uX()),fX=()=>b.useContext(dX),hX=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},mX=e=>{b.useEffect(()=>{e.clearReset()},[e])},pX=({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(s&&e.data===void 0||Q6(r,[e.error,a])),xX=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...s)=>r(a(...s)):r(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},gX=(e,t)=>e.isLoading&&e.isFetching&&!t,yX=(e,t)=>e?.suspense&&t.isPending,Tk=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function vX(e,t,r){const a=cX(),s=fX(),i=yn(),l=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=a?"isRestoring":"optimistic",xX(l),hX(l,s),mX(s);const u=!i.getQueryCache().get(l.queryHash),[d]=b.useState(()=>new t(i,l)),f=d.getOptimisticResult(l),m=!a&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(p=>{const x=m?d.subscribe(br.batchCalls(p)):Jr;return d.updateResult(),x},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),b.useEffect(()=>{d.setOptions(l)},[l,d]),yX(l,f))throw Tk(l,d,s);if(pX({result:f,errorResetBoundary:s,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(l,f),l.experimental_prefetchInRender&&!Jl&&gX(f,a)&&(u?Tk(l,d,s):i.getQueryCache().get(l.queryHash)?.promise)?.catch(Jr).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?f:d.trackResult(f)}function Ie(e,t){return vX(e,JY)}function qe(e,t){const r=yn(),[a]=b.useState(()=>new sX(r,e));b.useEffect(()=>{a.setOptions(e)},[a,e]);const s=b.useSyncExternalStore(b.useCallback(l=>a.subscribe(br.batchCalls(l)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=b.useCallback((l,u)=>{a.mutate(l,u).catch(Jr)},[a]);if(s.error&&Q6(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const jX="whatsapp_auth_user";function bX(){try{const e=localStorage.getItem(jX);if(!e)return{};const t=JSON.parse(e);return{"x-user-id":t.id||"","x-user-role":t.role||"user","x-user-name":t.name||"","x-user":JSON.stringify(t)}}catch{return{}}}async function wX(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const NX=({on401:e})=>async({queryKey:t})=>{const r=bX(),a=await fetch(t.join("/"),{headers:r});return await wX(a),await a.json()},SX=new oX({defaultOptions:{queries:{queryFn:NX({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),AX=1,CX=1e6;let Yb=0;function _X(){return Yb=(Yb+1)%Number.MAX_SAFE_INTEGER,Yb.toString()}const Xb=new Map,Ok=e=>{if(Xb.has(e))return;const t=setTimeout(()=>{Xb.delete(e),bh({type:"REMOVE_TOAST",toastId:e})},CX);Xb.set(e,t)},EX=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,AX)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Ok(r):e.toasts.forEach(a=>{Ok(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},fg=[];let hg={toasts:[]};function bh(e){hg=EX(hg,e),fg.forEach(t=>{t(hg)})}function TX({...e}){const t=_X(),r=s=>bh({type:"UPDATE_TOAST",toast:{...s,id:t}}),a=()=>bh({type:"DISMISS_TOAST",toastId:t});return bh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||a()}}}),{id:t,dismiss:a,update:r}}function Ki(){const[e,t]=b.useState(hg);return b.useEffect(()=>(fg.push(t),()=>{const r=fg.indexOf(t);r>-1&&fg.splice(r,1)}),[e]),{...e,toast:TX,dismiss:r=>bh({type:"DISMISS_TOAST",toastId:r})}}var Pd=I6();const OX=an(Pd);function Be(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function Mk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vi(...e){return t=>{let r=!1;const a=e.map(s=>{const i=Mk(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():Mk(e[s],null)}}}}function At(...e){return b.useCallback(Vi(...e),e)}function MX(e,t){const r=b.createContext(t),a=i=>{const{children:l,...u}=i,d=b.useMemo(()=>u,Object.values(u));return n.jsx(r.Provider,{value:d,children:l})};a.displayName=e+"Provider";function s(i){const l=b.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function Qr(e,t=[]){let r=[];function a(i,l){const u=b.createContext(l),d=r.length;r=[...r,l];const f=p=>{const{scope:x,children:v,...j}=p,y=x?.[e]?.[d]||u,N=b.useMemo(()=>j,Object.values(j));return n.jsx(y.Provider,{value:N,children:v})};f.displayName=i+"Provider";function m(p,x){const v=x?.[e]?.[d]||u,j=b.useContext(v);if(j)return j;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,m]}const s=()=>{const i=r.map(l=>b.createContext(l));return function(u){const d=u?.[e]||i;return b.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[a,kX(s,...t)]}function kX(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=a.reduce((u,{useScope:d,scopeName:f})=>{const p=d(i)[`__scope${f}`];return{...u,...p}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function kk(e){const t=PX(e),r=b.forwardRef((a,s)=>{const{children:i,...l}=a,u=b.Children.toArray(i),d=u.find(DX);if(d){const f=d.props.children,m=u.map(p=>p===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:p);return n.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,m):null})}return n.jsx(t,{...l,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function PX(e){const t=b.forwardRef((r,a)=>{const{children:s,...i}=r;if(b.isValidElement(s)){const l=LX(s),u=IX(i,s.props);return s.type!==b.Fragment&&(u.ref=a?Vi(a,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RX=Symbol("radix.slottable");function DX(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RX}function IX(e,t){const r={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?r[a]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(r[a]=s):a==="style"?r[a]={...s,...i}:a==="className"&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function LX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Im(e){const t=e+"CollectionProvider",[r,a]=Qr(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=y=>{const{scope:N,children:C}=y,A=J.useRef(null),w=J.useRef(new Map).current;return n.jsx(s,{scope:N,itemMap:w,collectionRef:A,children:C})};l.displayName=t;const u=e+"CollectionSlot",d=kk(u),f=J.forwardRef((y,N)=>{const{scope:C,children:A}=y,w=i(u,C),S=At(N,w.collectionRef);return n.jsx(d,{ref:S,children:A})});f.displayName=u;const m=e+"CollectionItemSlot",p="data-radix-collection-item",x=kk(m),v=J.forwardRef((y,N)=>{const{scope:C,children:A,...w}=y,S=J.useRef(null),E=At(N,S),O=i(m,C);return J.useEffect(()=>(O.itemMap.set(S,{ref:S,...w}),()=>void O.itemMap.delete(S))),n.jsx(x,{[p]:"",ref:E,children:A})});v.displayName=m;function j(y){const N=i(e+"CollectionConsumer",y);return J.useCallback(()=>{const A=N.collectionRef.current;if(!A)return[];const w=Array.from(A.querySelectorAll(`[${p}]`));return Array.from(N.itemMap.values()).sort((O,M)=>w.indexOf(O.ref.current)-w.indexOf(M.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:l,Slot:f,ItemSlot:v},j,a]}function $X(e){const t=FX(e),r=b.forwardRef((a,s)=>{const{children:i,...l}=a,u=b.Children.toArray(i),d=u.find(zX);if(d){const f=d.props.children,m=u.map(p=>p===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:p);return n.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,m):null})}return n.jsx(t,{...l,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function FX(e){const t=b.forwardRef((r,a)=>{const{children:s,...i}=r;if(b.isValidElement(s)){const l=UX(s),u=BX(i,s.props);return s.type!==b.Fragment&&(u.ref=a?Vi(a,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qX=Symbol("radix.slottable");function zX(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qX}function BX(e,t){const r={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?r[a]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(r[a]=s):a==="style"?r[a]={...s,...i}:a==="className"&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function UX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var HX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dt=HX.reduce((e,t)=>{const r=$X(`Primitive.${t}`),a=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...u,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function WC(e,t){e&&Pd.flushSync(()=>e.dispatchEvent(t))}function Gn(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...r)=>t.current?.(...r),[])}function KX(e,t=globalThis?.document){const r=Gn(e);b.useEffect(()=>{const a=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var VX="DismissableLayer",k2="dismissableLayer.update",WX="dismissableLayer.pointerDownOutside",GX="dismissableLayer.focusOutside",Pk,sF=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rd=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...d}=e,f=b.useContext(sF),[m,p]=b.useState(null),x=m?.ownerDocument??globalThis?.document,[,v]=b.useState({}),j=At(t,M=>p(M)),y=Array.from(f.layers),[N]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=y.indexOf(N),A=m?y.indexOf(m):-1,w=f.layersWithOutsidePointerEventsDisabled.size>0,S=A>=C,E=XX(M=>{const R=M.target,I=[...f.branches].some(V=>V.contains(R));!S||I||(s?.(M),l?.(M),M.defaultPrevented||u?.())},x),O=QX(M=>{const R=M.target;[...f.branches].some(V=>V.contains(R))||(i?.(M),l?.(M),M.defaultPrevented||u?.())},x);return KX(M=>{A===f.layers.size-1&&(a?.(M),!M.defaultPrevented&&u&&(M.preventDefault(),u()))},x),b.useEffect(()=>{if(m)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Pk=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),Rk(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Pk)}},[m,x,r,f]),b.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),Rk())},[m,f]),b.useEffect(()=>{const M=()=>v({});return document.addEventListener(k2,M),()=>document.removeEventListener(k2,M)},[]),n.jsx(dt.div,{...d,ref:j,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Be(e.onFocusCapture,O.onFocusCapture),onBlurCapture:Be(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Be(e.onPointerDownCapture,E.onPointerDownCapture)})});Rd.displayName=VX;var YX="DismissableLayerBranch",iF=b.forwardRef((e,t)=>{const r=b.useContext(sF),a=b.useRef(null),s=At(t,a);return b.useEffect(()=>{const i=a.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(dt.div,{...e,ref:s})});iF.displayName=YX;function XX(e,t=globalThis?.document){const r=Gn(e),a=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=u=>{if(u.target&&!a.current){let d=function(){oF(WX,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);a.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function QX(e,t=globalThis?.document){const r=Gn(e),a=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!a.current&&oF(GX,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Rk(){const e=new CustomEvent(k2);document.dispatchEvent(e)}function oF(e,t,r,{discrete:a}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?WC(s,i):s.dispatchEvent(i)}var ZX=Rd,JX=iF,Xn=globalThis?.document?b.useLayoutEffect:()=>{},eQ="Portal",Dd=b.forwardRef((e,t)=>{const{container:r,...a}=e,[s,i]=b.useState(!1);Xn(()=>i(!0),[]);const l=r||s&&globalThis?.document?.body;return l?OX.createPortal(n.jsx(dt.div,{...a,ref:t}),l):null});Dd.displayName=eQ;function tQ(e,t){return b.useReducer((r,a)=>t[r][a]??r,e)}var kr=e=>{const{present:t,children:r}=e,a=nQ(t),s=typeof r=="function"?r({present:a.isPresent}):b.Children.only(r),i=At(a.ref,rQ(s));return typeof r=="function"||a.isPresent?b.cloneElement(s,{ref:i}):null};kr.displayName="Presence";function nQ(e){const[t,r]=b.useState(),a=b.useRef(null),s=b.useRef(e),i=b.useRef("none"),l=e?"mounted":"unmounted",[u,d]=tQ(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const f=Px(a.current);i.current=u==="mounted"?f:"none"},[u]),Xn(()=>{const f=a.current,m=s.current;if(m!==e){const x=i.current,v=Px(f);e?d("MOUNT"):v==="none"||f?.display==="none"?d("UNMOUNT"):d(m&&x!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),Xn(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,p=v=>{const y=Px(a.current).includes(CSS.escape(v.animationName));if(v.target===t&&y&&(d("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},x=v=>{v.target===t&&(i.current=Px(a.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(f=>{a.current=f?getComputedStyle(f):null,r(f)},[])}}function Px(e){return e?.animationName||"none"}function rQ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var aQ=tv[" useInsertionEffect ".trim().toString()]||Xn;function Cs({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[s,i,l]=sQ({defaultProp:t,onChange:r}),u=e!==void 0,d=u?e:s;{const m=b.useRef(e!==void 0);b.useEffect(()=>{const p=m.current;p!==u&&console.warn(`${a} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,a])}const f=b.useCallback(m=>{if(u){const p=iQ(m)?m(e):m;p!==e&&l.current?.(p)}else i(m)},[u,e,i,l]);return[d,f]}function sQ({defaultProp:e,onChange:t}){const[r,a]=b.useState(e),s=b.useRef(r),i=b.useRef(t);return aQ(()=>{i.current=t},[t]),b.useEffect(()=>{s.current!==r&&(i.current?.(r),s.current=r)},[r,s]),[r,a,i]}function iQ(e){return typeof e=="function"}var lF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oQ="VisuallyHidden",nv=b.forwardRef((e,t)=>n.jsx(dt.span,{...e,ref:t,style:{...lF,...e.style}}));nv.displayName=oQ;var lQ=nv,GC="ToastProvider",[YC,cQ,uQ]=Im("Toast"),[cF]=Qr("Toast",[uQ]),[dQ,rv]=cF(GC),uF=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:l}=e,[u,d]=b.useState(null),[f,m]=b.useState(0),p=b.useRef(!1),x=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${GC}\`. Expected non-empty \`string\`.`),n.jsx(YC.Provider,{scope:t,children:n.jsx(dQ,{scope:t,label:r,duration:a,swipeDirection:s,swipeThreshold:i,toastCount:f,viewport:u,onViewportChange:d,onToastAdd:b.useCallback(()=>m(v=>v+1),[]),onToastRemove:b.useCallback(()=>m(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:x,children:l})})};uF.displayName=GC;var dF="ToastViewport",fQ=["F8"],P2="toast.viewportPause",R2="toast.viewportResume",fF=b.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=fQ,label:s="Notifications ({hotkey})",...i}=e,l=rv(dF,r),u=cQ(r),d=b.useRef(null),f=b.useRef(null),m=b.useRef(null),p=b.useRef(null),x=At(t,p,l.onViewportChange),v=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=l.toastCount>0;b.useEffect(()=>{const N=C=>{a.length!==0&&a.every(w=>C[w]||C.code===w)&&p.current?.focus()};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[a]),b.useEffect(()=>{const N=d.current,C=p.current;if(j&&N&&C){const A=()=>{if(!l.isClosePausedRef.current){const O=new CustomEvent(P2);C.dispatchEvent(O),l.isClosePausedRef.current=!0}},w=()=>{if(l.isClosePausedRef.current){const O=new CustomEvent(R2);C.dispatchEvent(O),l.isClosePausedRef.current=!1}},S=O=>{!N.contains(O.relatedTarget)&&w()},E=()=>{N.contains(document.activeElement)||w()};return N.addEventListener("focusin",A),N.addEventListener("focusout",S),N.addEventListener("pointermove",A),N.addEventListener("pointerleave",E),window.addEventListener("blur",A),window.addEventListener("focus",w),()=>{N.removeEventListener("focusin",A),N.removeEventListener("focusout",S),N.removeEventListener("pointermove",A),N.removeEventListener("pointerleave",E),window.removeEventListener("blur",A),window.removeEventListener("focus",w)}}},[j,l.isClosePausedRef]);const y=b.useCallback(({tabbingDirection:N})=>{const A=u().map(w=>{const S=w.ref.current,E=[S,...AQ(S)];return N==="forwards"?E:E.reverse()});return(N==="forwards"?A.reverse():A).flat()},[u]);return b.useEffect(()=>{const N=p.current;if(N){const C=A=>{const w=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!w){const E=document.activeElement,O=A.shiftKey;if(A.target===N&&O){f.current?.focus();return}const I=y({tabbingDirection:O?"backwards":"forwards"}),V=I.findIndex(F=>F===E);Qb(I.slice(V+1))?A.preventDefault():O?f.current?.focus():m.current?.focus()}};return N.addEventListener("keydown",C),()=>N.removeEventListener("keydown",C)}},[u,y]),n.jsxs(JX,{ref:d,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&n.jsx(D2,{ref:f,onFocusFromOutsideViewport:()=>{const N=y({tabbingDirection:"forwards"});Qb(N)}}),n.jsx(YC.Slot,{scope:r,children:n.jsx(dt.ol,{tabIndex:-1,...i,ref:x})}),j&&n.jsx(D2,{ref:m,onFocusFromOutsideViewport:()=>{const N=y({tabbingDirection:"backwards"});Qb(N)}})]})});fF.displayName=dF;var hF="ToastFocusProxy",D2=b.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...s}=e,i=rv(hF,r);return n.jsx(nv,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:l=>{const u=l.relatedTarget;!i.viewport?.contains(u)&&a()}})});D2.displayName=hF;var Lm="Toast",hQ="toast.swipeStart",mQ="toast.swipeMove",pQ="toast.swipeCancel",xQ="toast.swipeEnd",mF=b.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:s,onOpenChange:i,...l}=e,[u,d]=Cs({prop:a,defaultProp:s??!0,onChange:i,caller:Lm});return n.jsx(kr,{present:r||u,children:n.jsx(vQ,{open:u,...l,ref:t,onClose:()=>d(!1),onPause:Gn(e.onPause),onResume:Gn(e.onResume),onSwipeStart:Be(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Be(e.onSwipeMove,f=>{const{x:m,y:p}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Be(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Be(e.onSwipeEnd,f=>{const{x:m,y:p}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),d(!1)})})})});mF.displayName=Lm;var[gQ,yQ]=cF(Lm,{onClose(){}}),vQ=b.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:s,open:i,onClose:l,onEscapeKeyDown:u,onPause:d,onResume:f,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:x,onSwipeEnd:v,...j}=e,y=rv(Lm,r),[N,C]=b.useState(null),A=At(t,q=>C(q)),w=b.useRef(null),S=b.useRef(null),E=s||y.duration,O=b.useRef(0),M=b.useRef(E),R=b.useRef(0),{onToastAdd:I,onToastRemove:V}=y,F=Gn(()=>{N?.contains(document.activeElement)&&y.viewport?.focus(),l()}),H=b.useCallback(q=>{!q||q===1/0||(window.clearTimeout(R.current),O.current=new Date().getTime(),R.current=window.setTimeout(F,q))},[F]);b.useEffect(()=>{const q=y.viewport;if(q){const $=()=>{H(M.current),f?.()},k=()=>{const D=new Date().getTime()-O.current;M.current=M.current-D,window.clearTimeout(R.current),d?.()};return q.addEventListener(P2,k),q.addEventListener(R2,$),()=>{q.removeEventListener(P2,k),q.removeEventListener(R2,$)}}},[y.viewport,E,d,f,H]),b.useEffect(()=>{i&&!y.isClosePausedRef.current&&H(E)},[i,E,y.isClosePausedRef,H]),b.useEffect(()=>(I(),()=>V()),[I,V]);const K=b.useMemo(()=>N?bF(N):null,[N]);return y.viewport?n.jsxs(n.Fragment,{children:[K&&n.jsx(jQ,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:K}),n.jsx(gQ,{scope:r,onClose:F,children:Pd.createPortal(n.jsx(YC.ItemSlot,{scope:r,children:n.jsx(ZX,{asChild:!0,onEscapeKeyDown:Be(u,()=>{y.isFocusedToastEscapeKeyDownRef.current||F(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(dt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...j,ref:A,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Be(e.onKeyDown,q=>{q.key==="Escape"&&(u?.(q.nativeEvent),q.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Be(e.onPointerDown,q=>{q.button===0&&(w.current={x:q.clientX,y:q.clientY})}),onPointerMove:Be(e.onPointerMove,q=>{if(!w.current)return;const $=q.clientX-w.current.x,k=q.clientY-w.current.y,D=!!S.current,P=["left","right"].includes(y.swipeDirection),U=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,G=P?U(0,$):0,B=P?0:U(0,k),z=q.pointerType==="touch"?10:2,X={x:G,y:B},ee={originalEvent:q,delta:X};D?(S.current=X,Rx(mQ,p,ee,{discrete:!1})):Dk(X,y.swipeDirection,z)?(S.current=X,Rx(hQ,m,ee,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs($)>z||Math.abs(k)>z)&&(w.current=null)}),onPointerUp:Be(e.onPointerUp,q=>{const $=S.current,k=q.target;if(k.hasPointerCapture(q.pointerId)&&k.releasePointerCapture(q.pointerId),S.current=null,w.current=null,$){const D=q.currentTarget,P={originalEvent:q,delta:$};Dk($,y.swipeDirection,y.swipeThreshold)?Rx(xQ,v,P,{discrete:!0}):Rx(pQ,x,P,{discrete:!0}),D.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),jQ=e=>{const{__scopeToast:t,children:r,...a}=e,s=rv(Lm,t),[i,l]=b.useState(!1),[u,d]=b.useState(!1);return NQ(()=>l(!0)),b.useEffect(()=>{const f=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(f)},[]),u?null:n.jsx(Dd,{asChild:!0,children:n.jsx(nv,{...a,children:i&&n.jsxs(n.Fragment,{children:[s.label," ",r]})})})},bQ="ToastTitle",pF=b.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(dt.div,{...a,ref:t})});pF.displayName=bQ;var wQ="ToastDescription",xF=b.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(dt.div,{...a,ref:t})});xF.displayName=wQ;var gF="ToastAction",yF=b.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?n.jsx(jF,{altText:r,asChild:!0,children:n.jsx(XC,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${gF}\`. Expected non-empty \`string\`.`),null)});yF.displayName=gF;var vF="ToastClose",XC=b.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,s=yQ(vF,r);return n.jsx(jF,{asChild:!0,children:n.jsx(dt.button,{type:"button",...a,ref:t,onClick:Be(e.onClick,s.onClose)})})});XC.displayName=vF;var jF=b.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...s}=e;return n.jsx(dt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:t})});function bF(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),SQ(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const l=a.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...bF(a))}}),t}function Rx(e,t,r,{discrete:a}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?WC(s,i):s.dispatchEvent(i)}var Dk=(e,t,r=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),i=a>s;return t==="left"||t==="right"?i&&a>r:!i&&s>r};function NQ(e=()=>{}){const t=Gn(e);Xn(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function SQ(e){return e.nodeType===e.ELEMENT_NODE}function AQ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Qb(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var CQ=uF,wF=fF,NF=mF,SF=pF,AF=xF,CF=yF,_F=XC;function EF(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=EF(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function _t(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=EF(e))&&(a&&(a+=" "),a+=t);return a}const Ik=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Lk=_t,Id=(e,t)=>r=>{var a;if(t?.variants==null)return Lk(e,r?.class,r?.className);const{variants:s,defaultVariants:i}=t,l=Object.keys(s).map(f=>{const m=r?.[f],p=i?.[f];if(m===null)return null;const x=Ik(m)||Ik(p);return s[f][x]}),u=r&&Object.entries(r).reduce((f,m)=>{let[p,x]=m;return x===void 0||(f[p]=x),f},{}),d=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((f,m)=>{let{class:p,className:x,...v}=m;return Object.entries(v).every(j=>{let[y,N]=j;return Array.isArray(N)?N.includes({...i,...u}[y]):{...i,...u}[y]===N})?[...f,p,x]:f},[]);return Lk(e,l,d,r?.class,r?.className)};const _Q=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EQ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),$k=e=>{const t=EQ(e);return t.charAt(0).toUpperCase()+t.slice(1)},TF=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),TQ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var OQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const MQ=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:l,...u},d)=>b.createElement("svg",{ref:d,...OQ,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:TF("lucide",s),...!i&&!TQ(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,m])=>b.createElement(f,m)),...Array.isArray(i)?i:[i]]));const De=(e,t)=>{const r=b.forwardRef(({className:a,...s},i)=>b.createElement(MQ,{ref:i,iconNode:t,className:TF(`lucide-${_Q($k(e))}`,`lucide-${e}`,a),...s}));return r.displayName=$k(e),r};const kQ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],vs=De("activity",kQ);const PQ=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],RQ=De("arrow-down-right",PQ);const DQ=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],IQ=De("arrow-down",DQ);const LQ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],QC=De("arrow-left",LQ);const $Q=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],wh=De("arrow-right",$Q);const FQ=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],qQ=De("arrow-up-right",FQ);const zQ=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],BQ=De("arrow-up",zQ);const UQ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],OF=De("at-sign",UQ);const HQ=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zo=De("ban",HQ);const KQ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],VQ=De("bell",KQ);const WQ=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Ct=De("bot",WQ);const GQ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ii=De("calendar",GQ);const YQ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_s=De("chart-column",YQ);const XQ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ld=De("check",XQ);const QQ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],av=De("chevron-down",QQ);const ZQ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ZC=De("chevron-right",ZQ);const JQ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],eZ=De("chevron-up",JQ);const tZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],el=De("circle-alert",tZ);const nZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Pn=De("circle-check",nZ);const rZ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Eu=De("circle-check-big",rZ);const aZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],sZ=De("circle-pause",aZ);const iZ=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oZ=De("circle-play",iZ);const lZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Li=De("circle-x",lZ);const cZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uZ=De("circle",cZ);const dZ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ht=De("clock",dZ);const fZ=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],hZ=De("coins",fZ);const mZ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Sc=De("copy",mZ);const pZ=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],MF=De("credit-card",pZ);const xZ=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],gZ=De("crown",xZ);const yZ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],$u=De("dollar-sign",yZ);const vZ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Or=De("download",vZ);const jZ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],sv=De("ellipsis-vertical",jZ);const bZ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],JC=De("ellipsis",bZ);const wZ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Dh=De("external-link",wZ);const NZ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Dx=De("eye-off",NZ);const SZ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ma=De("eye",SZ);const AZ=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],$d=De("facebook",AZ);const CZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],e_=De("file-spreadsheet",CZ);const _Z=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yn=De("file-text",_Z);const EZ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],$m=De("funnel",EZ);const TZ=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],ws=De("git-branch",TZ);const OZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kF=De("globe",OZ);const MZ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],kZ=De("history",MZ);const PZ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],RZ=De("image",PZ);const DZ=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Fk=De("inbox",DZ);const IZ=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],LZ=De("indian-rupee",IZ);const $Z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Nh=De("info",$Z);const FZ=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],qZ=De("instagram",FZ);const zZ=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Cg=De("key",zZ);const BZ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],_g=De("layout-dashboard",BZ);const UZ=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],HZ=De("layout-grid",UZ);const KZ=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Tu=De("lightbulb",KZ);const VZ=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],qk=De("link-2",VZ);const WZ=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],zk=De("link",WZ);const GZ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],We=De("loader-circle",GZ);const YZ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],XZ=De("log-out",YZ);const QZ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Eg=De("lock",QZ);const ZZ=[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]],t_=De("mail-open",ZZ);const JZ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xa=De("mail",JZ);const eJ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],tJ=De("map-pin",eJ);const nJ=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],PF=De("megaphone",nJ);const rJ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],aJ=De("menu",rJ);const sJ=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],ki=De("message-circle",sJ);const iJ=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],qt=De("message-square",iJ);const oJ=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ih=De("minus",oJ);const lJ=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],n_=De("paperclip",lJ);const cJ=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],r_=De("pause",cJ);const uJ=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ac=De("phone",uJ);const dJ=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Za=De("play",dJ);const fJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],An=De("plus",fJ);const hJ=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],mJ=De("radio",hJ);const pJ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gn=De("refresh-cw",pJ);const xJ=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],es=De("reply",xJ);const gJ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],RF=De("save",gJ);const yJ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qn=De("search",yJ);const vJ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],nr=De("send",vJ);const jJ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tg=De("settings",jJ);const bJ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wJ=De("shield-check",bJ);const NJ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tc=De("shield",NJ);const SJ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],I2=De("smartphone",SJ);const AJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],a_=De("smile",AJ);const CJ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_J=De("sparkles",CJ);const EJ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Es=De("square-pen",EJ);const TJ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],s_=De("star",TJ);const OJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ou=De("target",OJ);const MJ=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Vo=De("thumbs-down",MJ);const kJ=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Wo=De("thumbs-up",kJ);const PJ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hr=De("trash-2",PJ);const RJ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],DJ=De("trending-down",RJ);const IJ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ks=De("trending-up",IJ);const LJ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Go=De("triangle-alert",LJ);const $J=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Zb=De("trophy",$J);const FJ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Lh=De("upload",FJ);const qJ=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],i_=De("user-check",qJ);const zJ=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],iv=De("user-cog",zJ);const BJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],nc=De("user-plus",BJ);const UJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yt=De("users",UJ);const HJ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rc=De("user",HJ);const KJ=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],ov=De("video",KJ);const VJ=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],WJ=De("workflow",VJ);const GJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wi=De("x",GJ);const YJ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Yr=De("zap",YJ),XJ=(e,t)=>{const r=new Array(e.length+t.length);for(let a=0;a<e.length;a++)r[a]=e[a];for(let a=0;a<t.length;a++)r[e.length+a]=t[a];return r},QJ=(e,t)=>({classGroupId:e,validator:t}),DF=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Og="-",Bk=[],ZJ="arbitrary..",JJ=e=>{const t=tee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return eee(l);const u=l.split(Og),d=u[0]===""&&u.length>1?1:0;return IF(u,d,t)},getConflictingClassGroupIds:(l,u)=>{if(u){const d=a[l],f=r[l];return d?f?XJ(f,d):d:f||Bk}return r[l]||Bk}}},IF=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],i=r.nextPart.get(s);if(i){const f=IF(e,t+1,i);if(f)return f}const l=r.validators;if(l===null)return;const u=t===0?e.join(Og):e.slice(t).join(Og),d=l.length;for(let f=0;f<d;f++){const m=l[f];if(m.validator(u))return m.classGroupId}},eee=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),a=t.slice(0,r);return a?ZJ+a:void 0})(),tee=e=>{const{theme:t,classGroups:r}=e;return nee(r,t)},nee=(e,t)=>{const r=DF();for(const a in e){const s=e[a];o_(s,r,a,t)}return r},o_=(e,t,r,a)=>{const s=e.length;for(let i=0;i<s;i++){const l=e[i];ree(l,t,r,a)}},ree=(e,t,r,a)=>{if(typeof e=="string"){aee(e,t,r);return}if(typeof e=="function"){see(e,t,r,a);return}iee(e,t,r,a)},aee=(e,t,r)=>{const a=e===""?t:LF(t,e);a.classGroupId=r},see=(e,t,r,a)=>{if(oee(e)){o_(e(a),t,r,a);return}t.validators===null&&(t.validators=[]),t.validators.push(QJ(r,e))},iee=(e,t,r,a)=>{const s=Object.entries(e),i=s.length;for(let l=0;l<i;l++){const[u,d]=s[l];o_(d,LF(t,u),r,a)}},LF=(e,t)=>{let r=e;const a=t.split(Og),s=a.length;for(let i=0;i<s;i++){const l=a[i];let u=r.nextPart.get(l);u||(u=DF(),r.nextPart.set(l,u)),r=u}return r},oee=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,lee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),a=Object.create(null);const s=(i,l)=>{r[i]=l,t++,t>e&&(t=0,a=r,r=Object.create(null))};return{get(i){let l=r[i];if(l!==void 0)return l;if((l=a[i])!==void 0)return s(i,l),l},set(i,l){i in r?r[i]=l:s(i,l)}}},L2="!",Uk=":",cee=[],Hk=(e,t,r,a,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:a,isExternal:s}),uee=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=s=>{const i=[];let l=0,u=0,d=0,f;const m=s.length;for(let y=0;y<m;y++){const N=s[y];if(l===0&&u===0){if(N===Uk){i.push(s.slice(d,y)),d=y+1;continue}if(N==="/"){f=y;continue}}N==="["?l++:N==="]"?l--:N==="("?u++:N===")"&&u--}const p=i.length===0?s:s.slice(d);let x=p,v=!1;p.endsWith(L2)?(x=p.slice(0,-1),v=!0):p.startsWith(L2)&&(x=p.slice(1),v=!0);const j=f&&f>d?f-d:void 0;return Hk(i,v,x,j)};if(t){const s=t+Uk,i=a;a=l=>l.startsWith(s)?i(l.slice(s.length)):Hk(cee,!1,l,void 0,!0)}if(r){const s=a;a=i=>r({className:i,parseClassName:s})}return a},dee=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,a)=>{t.set(r,1e6+a)}),r=>{const a=[];let s=[];for(let i=0;i<r.length;i++){const l=r[i],u=l[0]==="[",d=t.has(l);u||d?(s.length>0&&(s.sort(),a.push(...s),s=[]),a.push(l)):s.push(l)}return s.length>0&&(s.sort(),a.push(...s)),a}},fee=e=>({cache:lee(e.cacheSize),parseClassName:uee(e),sortModifiers:dee(e),...JJ(e)}),hee=/\s+/,mee=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s,sortModifiers:i}=t,l=[],u=e.trim().split(hee);let d="";for(let f=u.length-1;f>=0;f-=1){const m=u[f],{isExternal:p,modifiers:x,hasImportantModifier:v,baseClassName:j,maybePostfixModifierPosition:y}=r(m);if(p){d=m+(d.length>0?" "+d:d);continue}let N=!!y,C=a(N?j.substring(0,y):j);if(!C){if(!N){d=m+(d.length>0?" "+d:d);continue}if(C=a(j),!C){d=m+(d.length>0?" "+d:d);continue}N=!1}const A=x.length===0?"":x.length===1?x[0]:i(x).join(":"),w=v?A+L2:A,S=w+C;if(l.indexOf(S)>-1)continue;l.push(S);const E=s(C,N);for(let O=0;O<E.length;++O){const M=E[O];l.push(w+M)}d=m+(d.length>0?" "+d:d)}return d},pee=(...e)=>{let t=0,r,a,s="";for(;t<e.length;)(r=e[t++])&&(a=$F(r))&&(s&&(s+=" "),s+=a);return s},$F=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=$F(e[a]))&&(r&&(r+=" "),r+=t);return r},xee=(e,...t)=>{let r,a,s,i;const l=d=>{const f=t.reduce((m,p)=>p(m),e());return r=fee(f),a=r.cache.get,s=r.cache.set,i=u,u(d)},u=d=>{const f=a(d);if(f)return f;const m=mee(d,r);return s(d,m),m};return i=l,(...d)=>i(pee(...d))},gee=[],yr=e=>{const t=r=>r[e]||gee;return t.isThemeGetter=!0,t},FF=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,qF=/^\((?:(\w[\w-]*):)?(.+)\)$/i,yee=/^\d+\/\d+$/,vee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,wee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Nee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yu=e=>yee.test(e),Ft=e=>!!e&&!Number.isNaN(Number(e)),Mo=e=>!!e&&Number.isInteger(Number(e)),Jb=e=>e.endsWith("%")&&Ft(e.slice(0,-1)),Ni=e=>vee.test(e),See=()=>!0,Aee=e=>jee.test(e)&&!bee.test(e),zF=()=>!1,Cee=e=>wee.test(e),_ee=e=>Nee.test(e),Eee=e=>!it(e)&&!ot(e),Tee=e=>Fd(e,HF,zF),it=e=>FF.test(e),Dl=e=>Fd(e,KF,Aee),ew=e=>Fd(e,Ree,Ft),Kk=e=>Fd(e,BF,zF),Oee=e=>Fd(e,UF,_ee),Ix=e=>Fd(e,VF,Cee),ot=e=>qF.test(e),Zf=e=>qd(e,KF),Mee=e=>qd(e,Dee),Vk=e=>qd(e,BF),kee=e=>qd(e,HF),Pee=e=>qd(e,UF),Lx=e=>qd(e,VF,!0),Fd=(e,t,r)=>{const a=FF.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},qd=(e,t,r=!1)=>{const a=qF.exec(e);return a?a[1]?t(a[1]):r:!1},BF=e=>e==="position"||e==="percentage",UF=e=>e==="image"||e==="url",HF=e=>e==="length"||e==="size"||e==="bg-size",KF=e=>e==="length",Ree=e=>e==="number",Dee=e=>e==="family-name",VF=e=>e==="shadow",Iee=()=>{const e=yr("color"),t=yr("font"),r=yr("text"),a=yr("font-weight"),s=yr("tracking"),i=yr("leading"),l=yr("breakpoint"),u=yr("container"),d=yr("spacing"),f=yr("radius"),m=yr("shadow"),p=yr("inset-shadow"),x=yr("text-shadow"),v=yr("drop-shadow"),j=yr("blur"),y=yr("perspective"),N=yr("aspect"),C=yr("ease"),A=yr("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...S(),ot,it],O=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],R=()=>[ot,it,d],I=()=>[yu,"full","auto",...R()],V=()=>[Mo,"none","subgrid",ot,it],F=()=>["auto",{span:["full",Mo,ot,it]},Mo,ot,it],H=()=>[Mo,"auto",ot,it],K=()=>["auto","min","max","fr",ot,it],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],k=()=>["auto",...R()],D=()=>[yu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],P=()=>[e,ot,it],U=()=>[...S(),Vk,Kk,{position:[ot,it]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",kee,Tee,{size:[ot,it]}],z=()=>[Jb,Zf,Dl],X=()=>["","none","full",f,ot,it],ee=()=>["",Ft,Zf,Dl],je=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[Ft,Jb,Vk,Kk],ve=()=>["","none",j,ot,it],xe=()=>["none",Ft,ot,it],_e=()=>["none",Ft,ot,it],Ee=()=>[Ft,ot,it],me=()=>[yu,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ni],breakpoint:[Ni],color:[See],container:[Ni],"drop-shadow":[Ni],ease:["in","out","in-out"],font:[Eee],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ni],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ni],shadow:[Ni],spacing:["px",Ft],text:[Ni],"text-shadow":[Ni],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",yu,it,ot,N]}],container:["container"],columns:[{columns:[Ft,it,ot,u]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Mo,"auto",ot,it]}],basis:[{basis:[yu,"full","auto",u,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ft,yu,"auto","initial","none",it]}],grow:[{grow:["",Ft,ot,it]}],shrink:[{shrink:["",Ft,ot,it]}],order:[{order:[Mo,"first","last","none",ot,it]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[u,"screen",...D()]}],"min-w":[{"min-w":[u,"screen","none",...D()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",r,Zf,Dl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,ot,ew]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jb,it]}],"font-family":[{font:[Mee,it,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ot,it]}],"line-clamp":[{"line-clamp":[Ft,"none",ot,ew]}],leading:[{leading:[i,...R()]}],"list-image":[{"list-image":["none",ot,it]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ot,it]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...je(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ft,"from-font","auto",ot,Dl]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[Ft,"auto",ot,it]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ot,it]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ot,it]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mo,ot,it],radial:["",ot,it],conic:[Mo,ot,it]},Pee,Oee]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...je(),"hidden","none"]}],"divide-style":[{divide:[...je(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...je(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ft,ot,it]}],"outline-w":[{outline:["",Ft,Zf,Dl]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",m,Lx,Ix]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",p,Lx,Ix]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[Ft,Dl]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",x,Lx,Ix]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[Ft,ot,it]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ft]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[ot,it]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[Ft]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ot,it]}],filter:[{filter:["","none",ot,it]}],blur:[{blur:ve()}],brightness:[{brightness:[Ft,ot,it]}],contrast:[{contrast:[Ft,ot,it]}],"drop-shadow":[{"drop-shadow":["","none",v,Lx,Ix]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",Ft,ot,it]}],"hue-rotate":[{"hue-rotate":[Ft,ot,it]}],invert:[{invert:["",Ft,ot,it]}],saturate:[{saturate:[Ft,ot,it]}],sepia:[{sepia:["",Ft,ot,it]}],"backdrop-filter":[{"backdrop-filter":["","none",ot,it]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[Ft,ot,it]}],"backdrop-contrast":[{"backdrop-contrast":[Ft,ot,it]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ft,ot,it]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ft,ot,it]}],"backdrop-invert":[{"backdrop-invert":["",Ft,ot,it]}],"backdrop-opacity":[{"backdrop-opacity":[Ft,ot,it]}],"backdrop-saturate":[{"backdrop-saturate":[Ft,ot,it]}],"backdrop-sepia":[{"backdrop-sepia":["",Ft,ot,it]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ot,it]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ft,"initial",ot,it]}],ease:[{ease:["linear","initial",C,ot,it]}],delay:[{delay:[Ft,ot,it]}],animate:[{animate:["none",A,ot,it]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ot,it]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:xe()}],"rotate-x":[{"rotate-x":xe()}],"rotate-y":[{"rotate-y":xe()}],"rotate-z":[{"rotate-z":xe()}],scale:[{scale:_e()}],"scale-x":[{"scale-x":_e()}],"scale-y":[{"scale-y":_e()}],"scale-z":[{"scale-z":_e()}],"scale-3d":["scale-3d"],skew:[{skew:Ee()}],"skew-x":[{"skew-x":Ee()}],"skew-y":[{"skew-y":Ee()}],transform:[{transform:[ot,it,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:me()}],"translate-x":[{"translate-x":me()}],"translate-y":[{"translate-y":me()}],"translate-z":[{"translate-z":me()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ot,it]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ot,it]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[Ft,Zf,Dl,ew]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Lee=xee(Iee);function Je(...e){return Lee(_t(e))}const $ee=CQ,WF=b.forwardRef(({className:e,...t},r)=>n.jsx(wF,{ref:r,className:Je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));WF.displayName=wF.displayName;const Fee=Id("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),GF=b.forwardRef(({className:e,variant:t,...r},a)=>n.jsx(NF,{ref:a,className:Je(Fee({variant:t}),e),...r}));GF.displayName=NF.displayName;const qee=b.forwardRef(({className:e,...t},r)=>n.jsx(CF,{ref:r,className:Je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));qee.displayName=CF.displayName;const YF=b.forwardRef(({className:e,...t},r)=>n.jsx(_F,{ref:r,className:Je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(Wi,{className:"h-4 w-4"})}));YF.displayName=_F.displayName;const XF=b.forwardRef(({className:e,...t},r)=>n.jsx(SF,{ref:r,className:Je("text-sm font-semibold",e),...t}));XF.displayName=SF.displayName;const QF=b.forwardRef(({className:e,...t},r)=>n.jsx(AF,{ref:r,className:Je("text-sm opacity-90",e),...t}));QF.displayName=AF.displayName;function zee(){const{toasts:e}=Ki();return n.jsxs($ee,{children:[e.map(function({id:t,title:r,description:a,action:s,...i}){return n.jsxs(GF,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(XF,{children:r}),a&&n.jsx(QF,{children:a})]}),s,n.jsx(YF,{})]},t)}),n.jsx(WF,{})]})}var Bee=tv[" useId ".trim().toString()]||(()=>{}),Uee=0;function Ns(e){const[t,r]=b.useState(Bee());return Xn(()=>{r(a=>a??String(Uee++))},[e]),t?`radix-${t}`:""}const Hee=["top","right","bottom","left"],tl=Math.min,Ea=Math.max,Mg=Math.round,$x=Math.floor,Ks=e=>({x:e,y:e}),Kee={left:"right",right:"left",bottom:"top",top:"bottom"},Vee={start:"end",end:"start"};function $2(e,t,r){return Ea(e,tl(t,r))}function $i(e,t){return typeof e=="function"?e(t):e}function Fi(e){return e.split("-")[0]}function zd(e){return e.split("-")[1]}function l_(e){return e==="x"?"y":"x"}function c_(e){return e==="y"?"height":"width"}const Wee=new Set(["top","bottom"]);function Bs(e){return Wee.has(Fi(e))?"y":"x"}function u_(e){return l_(Bs(e))}function Gee(e,t,r){r===void 0&&(r=!1);const a=zd(e),s=u_(e),i=c_(s);let l=s==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=kg(l)),[l,kg(l)]}function Yee(e){const t=kg(e);return[F2(e),t,F2(t)]}function F2(e){return e.replace(/start|end/g,t=>Vee[t])}const Wk=["left","right"],Gk=["right","left"],Xee=["top","bottom"],Qee=["bottom","top"];function Zee(e,t,r){switch(e){case"top":case"bottom":return r?t?Gk:Wk:t?Wk:Gk;case"left":case"right":return t?Xee:Qee;default:return[]}}function Jee(e,t,r,a){const s=zd(e);let i=Zee(Fi(e),r==="start",a);return s&&(i=i.map(l=>l+"-"+s),t&&(i=i.concat(i.map(F2)))),i}function kg(e){return e.replace(/left|right|bottom|top/g,t=>Kee[t])}function ete(e){return{top:0,right:0,bottom:0,left:0,...e}}function ZF(e){return typeof e!="number"?ete(e):{top:e,right:e,bottom:e,left:e}}function Pg(e){const{x:t,y:r,width:a,height:s}=e;return{width:a,height:s,top:r,left:t,right:t+a,bottom:r+s,x:t,y:r}}function Yk(e,t,r){let{reference:a,floating:s}=e;const i=Bs(t),l=u_(t),u=c_(l),d=Fi(t),f=i==="y",m=a.x+a.width/2-s.width/2,p=a.y+a.height/2-s.height/2,x=a[u]/2-s[u]/2;let v;switch(d){case"top":v={x:m,y:a.y-s.height};break;case"bottom":v={x:m,y:a.y+a.height};break;case"right":v={x:a.x+a.width,y:p};break;case"left":v={x:a.x-s.width,y:p};break;default:v={x:a.x,y:a.y}}switch(zd(t)){case"start":v[l]-=x*(r&&f?-1:1);break;case"end":v[l]+=x*(r&&f?-1:1);break}return v}const tte=async(e,t,r)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:l}=r,u=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:p}=Yk(f,a,d),x=a,v={},j=0;for(let y=0;y<u.length;y++){const{name:N,fn:C}=u[y],{x:A,y:w,data:S,reset:E}=await C({x:m,y:p,initialPlacement:a,placement:x,strategy:s,middlewareData:v,rects:f,platform:l,elements:{reference:e,floating:t}});m=A??m,p=w??p,v={...v,[N]:{...v[N],...S}},E&&j<=50&&(j++,typeof E=="object"&&(E.placement&&(x=E.placement),E.rects&&(f=E.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:m,y:p}=Yk(f,x,d)),y=-1)}return{x:m,y:p,placement:x,strategy:s,middlewareData:v}};async function $h(e,t){var r;t===void 0&&(t={});const{x:a,y:s,platform:i,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:x=!1,padding:v=0}=$i(t,e),j=ZF(v),N=u[x?p==="floating"?"reference":"floating":p],C=Pg(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(N)))==null||r?N:N.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:f,rootBoundary:m,strategy:d})),A=p==="floating"?{x:a,y:s,width:l.floating.width,height:l.floating.height}:l.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},E=Pg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:A,offsetParent:w,strategy:d}):A);return{top:(C.top-E.top+j.top)/S.y,bottom:(E.bottom-C.bottom+j.bottom)/S.y,left:(C.left-E.left+j.left)/S.x,right:(E.right-C.right+j.right)/S.x}}const nte=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:s,rects:i,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:m=0}=$i(e,t)||{};if(f==null)return{};const p=ZF(m),x={x:r,y:a},v=u_(s),j=c_(v),y=await l.getDimensions(f),N=v==="y",C=N?"top":"left",A=N?"bottom":"right",w=N?"clientHeight":"clientWidth",S=i.reference[j]+i.reference[v]-x[v]-i.floating[j],E=x[v]-i.reference[v],O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let M=O?O[w]:0;(!M||!await(l.isElement==null?void 0:l.isElement(O)))&&(M=u.floating[w]||i.floating[j]);const R=S/2-E/2,I=M/2-y[j]/2-1,V=tl(p[C],I),F=tl(p[A],I),H=V,K=M-y[j]-F,q=M/2-y[j]/2+R,$=$2(H,q,K),k=!d.arrow&&zd(s)!=null&&q!==$&&i.reference[j]/2-(q<H?V:F)-y[j]/2<0,D=k?q<H?q-H:q-K:0;return{[v]:x[v]+D,data:{[v]:$,centerOffset:q-$-D,...k&&{alignmentOffset:D}},reset:k}}}),rte=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:s,middlewareData:i,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:y=!0,...N}=$i(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const C=Fi(s),A=Bs(u),w=Fi(u)===u,S=await(d.isRTL==null?void 0:d.isRTL(f.floating)),E=x||(w||!y?[kg(u)]:Yee(u)),O=j!=="none";!x&&O&&E.push(...Jee(u,y,j,S));const M=[u,...E],R=await $h(t,N),I=[];let V=((a=i.flip)==null?void 0:a.overflows)||[];if(m&&I.push(R[C]),p){const q=Gee(s,l,S);I.push(R[q[0]],R[q[1]])}if(V=[...V,{placement:s,overflows:I}],!I.every(q=>q<=0)){var F,H;const q=(((F=i.flip)==null?void 0:F.index)||0)+1,$=M[q];if($&&(!(p==="alignment"?A!==Bs($):!1)||V.every(P=>Bs(P.placement)===A?P.overflows[0]>0:!0)))return{data:{index:q,overflows:V},reset:{placement:$}};let k=(H=V.filter(D=>D.overflows[0]<=0).sort((D,P)=>D.overflows[1]-P.overflows[1])[0])==null?void 0:H.placement;if(!k)switch(v){case"bestFit":{var K;const D=(K=V.filter(P=>{if(O){const U=Bs(P.placement);return U===A||U==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(U=>U>0).reduce((U,G)=>U+G,0)]).sort((P,U)=>P[1]-U[1])[0])==null?void 0:K[0];D&&(k=D);break}case"initialPlacement":k=u;break}if(s!==k)return{reset:{placement:k}}}return{}}}};function Xk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Qk(e){return Hee.some(t=>e[t]>=0)}const ate=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...s}=$i(e,t);switch(a){case"referenceHidden":{const i=await $h(t,{...s,elementContext:"reference"}),l=Xk(i,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Qk(l)}}}case"escaped":{const i=await $h(t,{...s,altBoundary:!0}),l=Xk(i,r.floating);return{data:{escapedOffsets:l,escaped:Qk(l)}}}default:return{}}}}},JF=new Set(["left","top"]);async function ste(e,t){const{placement:r,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),l=Fi(r),u=zd(r),d=Bs(r)==="y",f=JF.has(l)?-1:1,m=i&&d?-1:1,p=$i(t,e);let{mainAxis:x,crossAxis:v,alignmentAxis:j}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof j=="number"&&(v=u==="end"?j*-1:j),d?{x:v*m,y:x*f}:{x:x*f,y:v*m}}const ite=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:s,y:i,placement:l,middlewareData:u}=t,d=await ste(t,e);return l===((r=u.offset)==null?void 0:r.placement)&&(a=u.arrow)!=null&&a.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:l}}}}},ote=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:s}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:N=>{let{x:C,y:A}=N;return{x:C,y:A}}},...d}=$i(e,t),f={x:r,y:a},m=await $h(t,d),p=Bs(Fi(s)),x=l_(p);let v=f[x],j=f[p];if(i){const N=x==="y"?"top":"left",C=x==="y"?"bottom":"right",A=v+m[N],w=v-m[C];v=$2(A,v,w)}if(l){const N=p==="y"?"top":"left",C=p==="y"?"bottom":"right",A=j+m[N],w=j-m[C];j=$2(A,j,w)}const y=u.fn({...t,[x]:v,[p]:j});return{...y,data:{x:y.x-r,y:y.y-a,enabled:{[x]:i,[p]:l}}}}}},lte=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:s,rects:i,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=$i(e,t),m={x:r,y:a},p=Bs(s),x=l_(p);let v=m[x],j=m[p];const y=$i(u,t),N=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(d){const w=x==="y"?"height":"width",S=i.reference[x]-i.floating[w]+N.mainAxis,E=i.reference[x]+i.reference[w]-N.mainAxis;v<S?v=S:v>E&&(v=E)}if(f){var C,A;const w=x==="y"?"width":"height",S=JF.has(Fi(s)),E=i.reference[p]-i.floating[w]+(S&&((C=l.offset)==null?void 0:C[p])||0)+(S?0:N.crossAxis),O=i.reference[p]+i.reference[w]+(S?0:((A=l.offset)==null?void 0:A[p])||0)-(S?N.crossAxis:0);j<E?j=E:j>O&&(j=O)}return{[x]:v,[p]:j}}}},cte=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:s,rects:i,platform:l,elements:u}=t,{apply:d=()=>{},...f}=$i(e,t),m=await $h(t,f),p=Fi(s),x=zd(s),v=Bs(s)==="y",{width:j,height:y}=i.floating;let N,C;p==="top"||p==="bottom"?(N=p,C=x===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(C=p,N=x==="end"?"top":"bottom");const A=y-m.top-m.bottom,w=j-m.left-m.right,S=tl(y-m[N],A),E=tl(j-m[C],w),O=!t.middlewareData.shift;let M=S,R=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=w),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(M=A),O&&!x){const V=Ea(m.left,0),F=Ea(m.right,0),H=Ea(m.top,0),K=Ea(m.bottom,0);v?R=j-2*(V!==0||F!==0?V+F:Ea(m.left,m.right)):M=y-2*(H!==0||K!==0?H+K:Ea(m.top,m.bottom))}await d({...t,availableWidth:R,availableHeight:M});const I=await l.getDimensions(u.floating);return j!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function lv(){return typeof window<"u"}function Bd(e){return e8(e)?(e.nodeName||"").toLowerCase():"#document"}function Ma(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Js(e){var t;return(t=(e8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function e8(e){return lv()?e instanceof Node||e instanceof Ma(e).Node:!1}function Ts(e){return lv()?e instanceof Element||e instanceof Ma(e).Element:!1}function Ys(e){return lv()?e instanceof HTMLElement||e instanceof Ma(e).HTMLElement:!1}function Zk(e){return!lv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ma(e).ShadowRoot}const ute=new Set(["inline","contents"]);function Fm(e){const{overflow:t,overflowX:r,overflowY:a,display:s}=Os(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!ute.has(s)}const dte=new Set(["table","td","th"]);function fte(e){return dte.has(Bd(e))}const hte=[":popover-open",":modal"];function cv(e){return hte.some(t=>{try{return e.matches(t)}catch{return!1}})}const mte=["transform","translate","scale","rotate","perspective"],pte=["transform","translate","scale","rotate","perspective","filter"],xte=["paint","layout","strict","content"];function d_(e){const t=f_(),r=Ts(e)?Os(e):e;return mte.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||pte.some(a=>(r.willChange||"").includes(a))||xte.some(a=>(r.contain||"").includes(a))}function gte(e){let t=nl(e);for(;Ys(t)&&!Vu(t);){if(d_(t))return t;if(cv(t))return null;t=nl(t)}return null}function f_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yte=new Set(["html","body","#document"]);function Vu(e){return yte.has(Bd(e))}function Os(e){return Ma(e).getComputedStyle(e)}function uv(e){return Ts(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nl(e){if(Bd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zk(e)&&e.host||Js(e);return Zk(t)?t.host:t}function t8(e){const t=nl(e);return Vu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ys(t)&&Fm(t)?t:t8(t)}function Fh(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=t8(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),l=Ma(s);if(i){const u=q2(l);return t.concat(l,l.visualViewport||[],Fm(s)?s:[],u&&r?Fh(u):[])}return t.concat(s,Fh(s,[],r))}function q2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function n8(e){const t=Os(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=Ys(e),i=s?e.offsetWidth:r,l=s?e.offsetHeight:a,u=Mg(r)!==i||Mg(a)!==l;return u&&(r=i,a=l),{width:r,height:a,$:u}}function h_(e){return Ts(e)?e:e.contextElement}function Fu(e){const t=h_(e);if(!Ys(t))return Ks(1);const r=t.getBoundingClientRect(),{width:a,height:s,$:i}=n8(t);let l=(i?Mg(r.width):r.width)/a,u=(i?Mg(r.height):r.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const vte=Ks(0);function r8(e){const t=Ma(e);return!f_()||!t.visualViewport?vte:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jte(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ma(e)?!1:t}function ac(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=h_(e);let l=Ks(1);t&&(a?Ts(a)&&(l=Fu(a)):l=Fu(e));const u=jte(i,r,a)?r8(i):Ks(0);let d=(s.left+u.x)/l.x,f=(s.top+u.y)/l.y,m=s.width/l.x,p=s.height/l.y;if(i){const x=Ma(i),v=a&&Ts(a)?Ma(a):a;let j=x,y=q2(j);for(;y&&a&&v!==j;){const N=Fu(y),C=y.getBoundingClientRect(),A=Os(y),w=C.left+(y.clientLeft+parseFloat(A.paddingLeft))*N.x,S=C.top+(y.clientTop+parseFloat(A.paddingTop))*N.y;d*=N.x,f*=N.y,m*=N.x,p*=N.y,d+=w,f+=S,j=Ma(y),y=q2(j)}}return Pg({width:m,height:p,x:d,y:f})}function dv(e,t){const r=uv(e).scrollLeft;return t?t.left+r:ac(Js(e)).left+r}function a8(e,t){const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-dv(e,r),s=r.top+t.scrollTop;return{x:a,y:s}}function bte(e){let{elements:t,rect:r,offsetParent:a,strategy:s}=e;const i=s==="fixed",l=Js(a),u=t?cv(t.floating):!1;if(a===l||u&&i)return r;let d={scrollLeft:0,scrollTop:0},f=Ks(1);const m=Ks(0),p=Ys(a);if((p||!p&&!i)&&((Bd(a)!=="body"||Fm(l))&&(d=uv(a)),Ys(a))){const v=ac(a);f=Fu(a),m.x=v.x+a.clientLeft,m.y=v.y+a.clientTop}const x=l&&!p&&!i?a8(l,d):Ks(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+m.x+x.x,y:r.y*f.y-d.scrollTop*f.y+m.y+x.y}}function wte(e){return Array.from(e.getClientRects())}function Nte(e){const t=Js(e),r=uv(e),a=e.ownerDocument.body,s=Ea(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=Ea(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let l=-r.scrollLeft+dv(e);const u=-r.scrollTop;return Os(a).direction==="rtl"&&(l+=Ea(t.clientWidth,a.clientWidth)-s),{width:s,height:i,x:l,y:u}}const Jk=25;function Ste(e,t){const r=Ma(e),a=Js(e),s=r.visualViewport;let i=a.clientWidth,l=a.clientHeight,u=0,d=0;if(s){i=s.width,l=s.height;const m=f_();(!m||m&&t==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}const f=dv(a);if(f<=0){const m=a.ownerDocument,p=m.body,x=getComputedStyle(p),v=m.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,j=Math.abs(a.clientWidth-p.clientWidth-v);j<=Jk&&(i-=j)}else f<=Jk&&(i+=f);return{width:i,height:l,x:u,y:d}}const Ate=new Set(["absolute","fixed"]);function Cte(e,t){const r=ac(e,!0,t==="fixed"),a=r.top+e.clientTop,s=r.left+e.clientLeft,i=Ys(e)?Fu(e):Ks(1),l=e.clientWidth*i.x,u=e.clientHeight*i.y,d=s*i.x,f=a*i.y;return{width:l,height:u,x:d,y:f}}function eP(e,t,r){let a;if(t==="viewport")a=Ste(e,r);else if(t==="document")a=Nte(Js(e));else if(Ts(t))a=Cte(t,r);else{const s=r8(e);a={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Pg(a)}function s8(e,t){const r=nl(e);return r===t||!Ts(r)||Vu(r)?!1:Os(r).position==="fixed"||s8(r,t)}function _te(e,t){const r=t.get(e);if(r)return r;let a=Fh(e,[],!1).filter(u=>Ts(u)&&Bd(u)!=="body"),s=null;const i=Os(e).position==="fixed";let l=i?nl(e):e;for(;Ts(l)&&!Vu(l);){const u=Os(l),d=d_(l);!d&&u.position==="fixed"&&(s=null),(i?!d&&!s:!d&&u.position==="static"&&!!s&&Ate.has(s.position)||Fm(l)&&!d&&s8(e,l))?a=a.filter(m=>m!==l):s=u,l=nl(l)}return t.set(e,a),a}function Ete(e){let{element:t,boundary:r,rootBoundary:a,strategy:s}=e;const l=[...r==="clippingAncestors"?cv(t)?[]:_te(t,this._c):[].concat(r),a],u=l[0],d=l.reduce((f,m)=>{const p=eP(t,m,s);return f.top=Ea(p.top,f.top),f.right=tl(p.right,f.right),f.bottom=tl(p.bottom,f.bottom),f.left=Ea(p.left,f.left),f},eP(t,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Tte(e){const{width:t,height:r}=n8(e);return{width:t,height:r}}function Ote(e,t,r){const a=Ys(t),s=Js(t),i=r==="fixed",l=ac(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const d=Ks(0);function f(){d.x=dv(s)}if(a||!a&&!i)if((Bd(t)!=="body"||Fm(s))&&(u=uv(t)),a){const v=ac(t,!0,i,t);d.x=v.x+t.clientLeft,d.y=v.y+t.clientTop}else s&&f();i&&!a&&s&&f();const m=s&&!a&&!i?a8(s,u):Ks(0),p=l.left+u.scrollLeft-d.x-m.x,x=l.top+u.scrollTop-d.y-m.y;return{x:p,y:x,width:l.width,height:l.height}}function tw(e){return Os(e).position==="static"}function tP(e,t){if(!Ys(e)||Os(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Js(e)===r&&(r=r.ownerDocument.body),r}function i8(e,t){const r=Ma(e);if(cv(e))return r;if(!Ys(e)){let s=nl(e);for(;s&&!Vu(s);){if(Ts(s)&&!tw(s))return s;s=nl(s)}return r}let a=tP(e,t);for(;a&&fte(a)&&tw(a);)a=tP(a,t);return a&&Vu(a)&&tw(a)&&!d_(a)?r:a||gte(e)||r}const Mte=async function(e){const t=this.getOffsetParent||i8,r=this.getDimensions,a=await r(e.floating);return{reference:Ote(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function kte(e){return Os(e).direction==="rtl"}const Pte={convertOffsetParentRelativeRectToViewportRelativeRect:bte,getDocumentElement:Js,getClippingRect:Ete,getOffsetParent:i8,getElementRects:Mte,getClientRects:wte,getDimensions:Tte,getScale:Fu,isElement:Ts,isRTL:kte};function o8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Rte(e,t){let r=null,a;const s=Js(e);function i(){var u;clearTimeout(a),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:m,top:p,width:x,height:v}=f;if(u||t(),!x||!v)return;const j=$x(p),y=$x(s.clientWidth-(m+x)),N=$x(s.clientHeight-(p+v)),C=$x(m),w={rootMargin:-j+"px "+-y+"px "+-N+"px "+-C+"px",threshold:Ea(0,tl(1,d))||1};let S=!0;function E(O){const M=O[0].intersectionRatio;if(M!==d){if(!S)return l();M?l(!1,M):a=setTimeout(()=>{l(!1,1e-7)},1e3)}M===1&&!o8(f,e.getBoundingClientRect())&&l(),S=!1}try{r=new IntersectionObserver(E,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(E,w)}r.observe(e)}return l(!0),i}function Dte(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=a,f=h_(e),m=s||i?[...f?Fh(f):[],...Fh(t)]:[];m.forEach(C=>{s&&C.addEventListener("scroll",r,{passive:!0}),i&&C.addEventListener("resize",r)});const p=f&&u?Rte(f,r):null;let x=-1,v=null;l&&(v=new ResizeObserver(C=>{let[A]=C;A&&A.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var w;(w=v)==null||w.observe(t)})),r()}),f&&!d&&v.observe(f),v.observe(t));let j,y=d?ac(e):null;d&&N();function N(){const C=ac(e);y&&!o8(y,C)&&r(),y=C,j=requestAnimationFrame(N)}return r(),()=>{var C;m.forEach(A=>{s&&A.removeEventListener("scroll",r),i&&A.removeEventListener("resize",r)}),p?.(),(C=v)==null||C.disconnect(),v=null,d&&cancelAnimationFrame(j)}}const Ite=ite,Lte=ote,$te=rte,Fte=cte,qte=ate,nP=nte,zte=lte,Bte=(e,t,r)=>{const a=new Map,s={platform:Pte,...r},i={...s.platform,_c:a};return tte(e,t,{...s,platform:i})};var Ute=typeof document<"u",Hte=function(){},mg=Ute?b.useLayoutEffect:Hte;function Rg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!Rg(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=r;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!Rg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function l8(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rP(e,t){const r=l8(e);return Math.round(t*r)/r}function nw(e){const t=b.useRef(e);return mg(()=>{t.current=e}),t}function Kte(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[m,p]=b.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,v]=b.useState(a);Rg(x,a)||v(a);const[j,y]=b.useState(null),[N,C]=b.useState(null),A=b.useCallback(P=>{P!==O.current&&(O.current=P,y(P))},[]),w=b.useCallback(P=>{P!==M.current&&(M.current=P,C(P))},[]),S=i||j,E=l||N,O=b.useRef(null),M=b.useRef(null),R=b.useRef(m),I=d!=null,V=nw(d),F=nw(s),H=nw(f),K=b.useCallback(()=>{if(!O.current||!M.current)return;const P={placement:t,strategy:r,middleware:x};F.current&&(P.platform=F.current),Bte(O.current,M.current,P).then(U=>{const G={...U,isPositioned:H.current!==!1};q.current&&!Rg(R.current,G)&&(R.current=G,Pd.flushSync(()=>{p(G)}))})},[x,t,r,F,H]);mg(()=>{f===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,p(P=>({...P,isPositioned:!1})))},[f]);const q=b.useRef(!1);mg(()=>(q.current=!0,()=>{q.current=!1}),[]),mg(()=>{if(S&&(O.current=S),E&&(M.current=E),S&&E){if(V.current)return V.current(S,E,K);K()}},[S,E,K,V,I]);const $=b.useMemo(()=>({reference:O,floating:M,setReference:A,setFloating:w}),[A,w]),k=b.useMemo(()=>({reference:S,floating:E}),[S,E]),D=b.useMemo(()=>{const P={position:r,left:0,top:0};if(!k.floating)return P;const U=rP(k.floating,m.x),G=rP(k.floating,m.y);return u?{...P,transform:"translate("+U+"px, "+G+"px)",...l8(k.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:G}},[r,u,k.floating,m.x,m.y]);return b.useMemo(()=>({...m,update:K,refs:$,elements:k,floatingStyles:D}),[m,K,$,k,D])}const Vte=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:s}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?nP({element:a.current,padding:s}).fn(r):{}:a?nP({element:a,padding:s}).fn(r):{}}}},Wte=(e,t)=>({...Ite(e),options:[e,t]}),Gte=(e,t)=>({...Lte(e),options:[e,t]}),Yte=(e,t)=>({...zte(e),options:[e,t]}),Xte=(e,t)=>({...$te(e),options:[e,t]}),Qte=(e,t)=>({...Fte(e),options:[e,t]}),Zte=(e,t)=>({...qte(e),options:[e,t]}),Jte=(e,t)=>({...Vte(e),options:[e,t]});var ene="Arrow",c8=b.forwardRef((e,t)=>{const{children:r,width:a=10,height:s=5,...i}=e;return n.jsx(dt.svg,{...i,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});c8.displayName=ene;var tne=c8;function fv(e){const[t,r]=b.useState(void 0);return Xn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,u;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var m_="Popper",[u8,Ud]=Qr(m_),[nne,d8]=u8(m_),f8=e=>{const{__scopePopper:t,children:r}=e,[a,s]=b.useState(null);return n.jsx(nne,{scope:t,anchor:a,onAnchorChange:s,children:r})};f8.displayName=m_;var h8="PopperAnchor",m8=b.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...s}=e,i=d8(h8,r),l=b.useRef(null),u=At(t,l),d=b.useRef(null);return b.useEffect(()=>{const f=d.current;d.current=a?.current||l.current,f!==d.current&&i.onAnchorChange(d.current)}),a?null:n.jsx(dt.div,{...s,ref:u})});m8.displayName=h8;var p_="PopperContent",[rne,ane]=u8(p_),p8=b.forwardRef((e,t)=>{const{__scopePopper:r,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:v="optimized",onPlaced:j,...y}=e,N=d8(p_,r),[C,A]=b.useState(null),w=At(t,le=>A(le)),[S,E]=b.useState(null),O=fv(S),M=O?.width??0,R=O?.height??0,I=a+(i!=="center"?"-"+i:""),V=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},F=Array.isArray(f)?f:[f],H=F.length>0,K={padding:V,boundary:F.filter(ine),altBoundary:H},{refs:q,floatingStyles:$,placement:k,isPositioned:D,middlewareData:P}=Kte({strategy:"fixed",placement:I,whileElementsMounted:(...le)=>Dte(...le,{animationFrame:v==="always"}),elements:{reference:N.anchor},middleware:[Wte({mainAxis:s+R,alignmentAxis:l}),d&&Gte({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Yte():void 0,...K}),d&&Xte({...K}),Qte({...K,apply:({elements:le,rects:ve,availableWidth:xe,availableHeight:_e})=>{const{width:Ee,height:me}=ve.reference,$e=le.floating.style;$e.setProperty("--radix-popper-available-width",`${xe}px`),$e.setProperty("--radix-popper-available-height",`${_e}px`),$e.setProperty("--radix-popper-anchor-width",`${Ee}px`),$e.setProperty("--radix-popper-anchor-height",`${me}px`)}}),S&&Jte({element:S,padding:u}),one({arrowWidth:M,arrowHeight:R}),x&&Zte({strategy:"referenceHidden",...K})]}),[U,G]=y8(k),B=Gn(j);Xn(()=>{D&&B?.()},[D,B]);const z=P.arrow?.x,X=P.arrow?.y,ee=P.arrow?.centerOffset!==0,[je,he]=b.useState();return Xn(()=>{C&&he(window.getComputedStyle(C).zIndex)},[C]),n.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:D?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[P.transformOrigin?.x,P.transformOrigin?.y].join(" "),...P.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(rne,{scope:r,placedSide:U,onArrowChange:E,arrowX:z,arrowY:X,shouldHideArrow:ee,children:n.jsx(dt.div,{"data-side":U,"data-align":G,...y,ref:w,style:{...y.style,animation:D?void 0:"none"}})})})});p8.displayName=p_;var x8="PopperArrow",sne={top:"bottom",right:"left",bottom:"top",left:"right"},g8=b.forwardRef(function(t,r){const{__scopePopper:a,...s}=t,i=ane(x8,a),l=sne[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(tne,{...s,ref:r,style:{...s.style,display:"block"}})})});g8.displayName=x8;function ine(e){return e!==null}var one=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:a,middlewareData:s}=t,l=s.arrow?.centerOffset!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,m]=y8(r),p={start:"0%",center:"50%",end:"100%"}[m],x=(s.arrow?.x??0)+u/2,v=(s.arrow?.y??0)+d/2;let j="",y="";return f==="bottom"?(j=l?p:`${x}px`,y=`${-d}px`):f==="top"?(j=l?p:`${x}px`,y=`${a.floating.height+d}px`):f==="right"?(j=`${-d}px`,y=l?p:`${v}px`):f==="left"&&(j=`${a.floating.width+d}px`,y=l?p:`${v}px`),{data:{x:j,y}}}});function y8(e){const[t,r="center"]=e.split("-");return[t,r]}var v8=f8,x_=m8,g_=p8,y_=g8,lne=Symbol("radix.slottable");function cne(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=lne,t}var[hv]=Qr("Tooltip",[Ud]),v_=Ud(),j8="TooltipProvider",une=700,aP="tooltip.open",[dne,b8]=hv(j8),w8=e=>{const{__scopeTooltip:t,delayDuration:r=une,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:i}=e,l=b.useRef(!0),u=b.useRef(!1),d=b.useRef(0);return b.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),n.jsx(dne,{scope:t,isOpenDelayedRef:l,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,a)},[a]),isPointerInTransitRef:u,onPointerInTransitChange:b.useCallback(f=>{u.current=f},[]),disableHoverableContent:s,children:i})};w8.displayName=j8;var N8="Tooltip",[OMe,qm]=hv(N8),z2="TooltipTrigger",fne=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=qm(z2,r),i=b8(z2,r),l=v_(r),u=b.useRef(null),d=At(t,u,s.onTriggerChange),f=b.useRef(!1),m=b.useRef(!1),p=b.useCallback(()=>f.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),n.jsx(x_,{asChild:!0,...l,children:n.jsx(dt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:d,onPointerMove:Be(e.onPointerMove,x=>{x.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:Be(e.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:Be(e.onPointerDown,()=>{s.open&&s.onClose(),f.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Be(e.onFocus,()=>{f.current||s.onOpen()}),onBlur:Be(e.onBlur,s.onClose),onClick:Be(e.onClick,s.onClose)})})});fne.displayName=z2;var j_="TooltipPortal",[hne,mne]=hv(j_,{forceMount:void 0}),S8=e=>{const{__scopeTooltip:t,forceMount:r,children:a,container:s}=e,i=qm(j_,t);return n.jsx(hne,{scope:t,forceMount:r,children:n.jsx(kr,{present:r||i.open,children:n.jsx(Dd,{asChild:!0,container:s,children:a})})})};S8.displayName=j_;var Wu="TooltipContent",A8=b.forwardRef((e,t)=>{const r=mne(Wu,e.__scopeTooltip),{forceMount:a=r.forceMount,side:s="top",...i}=e,l=qm(Wu,e.__scopeTooltip);return n.jsx(kr,{present:a||l.open,children:l.disableHoverableContent?n.jsx(C8,{side:s,...i,ref:t}):n.jsx(pne,{side:s,...i,ref:t})})}),pne=b.forwardRef((e,t)=>{const r=qm(Wu,e.__scopeTooltip),a=b8(Wu,e.__scopeTooltip),s=b.useRef(null),i=At(t,s),[l,u]=b.useState(null),{trigger:d,onClose:f}=r,m=s.current,{onPointerInTransitChange:p}=a,x=b.useCallback(()=>{u(null),p(!1)},[p]),v=b.useCallback((j,y)=>{const N=j.currentTarget,C={x:j.clientX,y:j.clientY},A=jne(C,N.getBoundingClientRect()),w=bne(C,A),S=wne(y.getBoundingClientRect()),E=Sne([...w,...S]);u(E),p(!0)},[p]);return b.useEffect(()=>()=>x(),[x]),b.useEffect(()=>{if(d&&m){const j=N=>v(N,m),y=N=>v(N,d);return d.addEventListener("pointerleave",j),m.addEventListener("pointerleave",y),()=>{d.removeEventListener("pointerleave",j),m.removeEventListener("pointerleave",y)}}},[d,m,v,x]),b.useEffect(()=>{if(l){const j=y=>{const N=y.target,C={x:y.clientX,y:y.clientY},A=d?.contains(N)||m?.contains(N),w=!Nne(C,l);A?x():w&&(x(),f())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[d,m,l,f,x]),n.jsx(C8,{...e,ref:i})}),[xne,gne]=hv(N8,{isInside:!1}),yne=cne("TooltipContent"),C8=b.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...u}=e,d=qm(Wu,r),f=v_(r),{onClose:m}=d;return b.useEffect(()=>(document.addEventListener(aP,m),()=>document.removeEventListener(aP,m)),[m]),b.useEffect(()=>{if(d.trigger){const p=x=>{x.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,m]),n.jsx(Rd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:p=>p.preventDefault(),onDismiss:m,children:n.jsxs(g_,{"data-state":d.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(yne,{children:a}),n.jsx(xne,{scope:r,isInside:!0,children:n.jsx(lQ,{id:d.contentId,role:"tooltip",children:s||a})})]})})});A8.displayName=Wu;var _8="TooltipArrow",vne=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=v_(r);return gne(_8,r).isInside?null:n.jsx(y_,{...s,...a,ref:t})});vne.displayName=_8;function jne(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,a,s,i)){case i:return"left";case s:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function bne(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function wne(e){const{top:t,right:r,bottom:a,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:a},{x:s,y:a}]}function Nne(e,t){const{x:r,y:a}=e;let s=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const u=t[i],d=t[l],f=u.x,m=u.y,p=d.x,x=d.y;m>a!=x>a&&r<(p-f)*(a-m)/(x-m)+f&&(s=!s)}return s}function Sne(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),Ane(t)}function Ane(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const s=e[a];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;r.length>=2;){const i=r[r.length-1],l=r[r.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Cne=w8,_ne=S8,E8=A8;const Ene=Cne,Tne=b.forwardRef(({className:e,sideOffset:t=4,...r},a)=>n.jsx(_ne,{children:n.jsx(E8,{ref:a,sideOffset:t,className:Je("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r})}));Tne.displayName=E8.displayName;const B2="whatsapp_auth_user",T8=b.createContext(void 0);function O8(){try{const e=localStorage.getItem(B2);return e?JSON.parse(e):null}catch{return null}}function Jf(e){e?localStorage.setItem(B2,JSON.stringify(e)):localStorage.removeItem(B2)}function Ke(){const e=O8();return e?{"x-user-id":e.id||"","x-user-role":e.role||"user","x-user-name":e.name||"","x-user":JSON.stringify(e)}:{}}function One({children:e}){const[t,r]=b.useState(!1),[a,s]=b.useState(!0),[i,l]=b.useState(null),u=async()=>{try{if(!O8()){r(!1),l(null),s(!1);return}const v=await(await fetch("/api/auth/check",{headers:Ke()})).json();v.authenticated&&v.user?(r(!0),l(v.user),Jf(v.user)):(r(!1),l(null),Jf(null))}catch(p){console.error("Auth check failed:",p),r(!1),l(null)}finally{s(!1)}};b.useEffect(()=>{u()},[]);const d=async(p,x)=>{try{const v=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:p,password:x})}),j=await v.json();return v.ok&&j.success?(r(!0),l(j.user),Jf(j.user),!0):!1}catch(v){return console.error("Login failed:",v),!1}},f=async(p,x,v,j)=>{try{const y=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:p,password:x,name:v,email:j})}),N=await y.json();return y.ok&&N.success?(r(!0),l(N.user),Jf(N.user),{success:!0}):{success:!1,error:N.error||"Registration failed"}}catch(y){return console.error("Registration failed:",y),{success:!1,error:"Registration failed"}}},m=async()=>{try{await fetch("/api/auth/logout",{method:"POST",headers:Ke()})}catch(p){console.error("Logout error:",p)}finally{r(!1),l(null),Jf(null)}};return n.jsx(T8.Provider,{value:{isAuthenticated:t,isLoading:a,user:i,login:d,register:f,logout:m,checkAuth:u},children:e})}function zm(){const e=b.useContext(T8);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Q=b.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Je("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Q.displayName="Card";const ie=b.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Je("flex flex-col space-y-1.5 p-6",e),...t}));ie.displayName="CardHeader";const oe=b.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Je("font-semibold leading-none tracking-tight",e),...t}));oe.displayName="CardTitle";const Le=b.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Je("text-sm text-muted-foreground",e),...t}));Le.displayName="CardDescription";const Z=b.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Je("p-6 pt-0",e),...t}));Z.displayName="CardContent";const Fr=b.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Je("flex items-center p-6 pt-0",e),...t}));Fr.displayName="CardFooter";function Mne(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(Q,{className:"w-full max-w-md mx-4",children:n.jsxs(Z,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(el,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var kne=Symbol.for("react.lazy"),Dg=tv[" use ".trim().toString()];function Pne(e){return typeof e=="object"&&e!==null&&"then"in e}function M8(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===kne&&"_payload"in e&&Pne(e._payload)}function Bm(e){const t=Dne(e),r=b.forwardRef((a,s)=>{let{children:i,...l}=a;M8(i)&&typeof Dg=="function"&&(i=Dg(i._payload));const u=b.Children.toArray(i),d=u.find(Lne);if(d){const f=d.props.children,m=u.map(p=>p===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:p);return n.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,m):null})}return n.jsx(t,{...l,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var Rne=Bm("Slot");function Dne(e){const t=b.forwardRef((r,a)=>{let{children:s,...i}=r;if(M8(s)&&typeof Dg=="function"&&(s=Dg(s._payload)),b.isValidElement(s)){const l=Fne(s),u=$ne(i,s.props);return s.type!==b.Fragment&&(u.ref=a?Vi(a,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ine=Symbol("radix.slottable");function Lne(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ine}function $ne(e,t){const r={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?r[a]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(r[a]=s):a==="style"?r[a]={...s,...i}:a==="className"&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Fne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const b_=Id("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground shadow-sm border-destructive-border",outline:" border [border-color:var(--button-outline)] shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Y=b.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...s},i)=>{const l=a?Rne:"button";return n.jsx(l,{className:Je(b_({variant:t,size:r,className:e})),ref:i,...s})});Y.displayName="Button";const Pe=b.forwardRef(({className:e,type:t,...r},a)=>n.jsx("input",{type:t,className:Je("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));Pe.displayName="Input";var qne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zne=qne.reduce((e,t)=>{const r=Bm(`Primitive.${t}`),a=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...u,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Bne="Label",k8=b.forwardRef((e,t)=>n.jsx(zne.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));k8.displayName=Bne;var P8=k8;const Une=Id("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),de=b.forwardRef(({className:e,...t},r)=>n.jsx(P8,{ref:r,className:Je(Une(),e),...t}));de.displayName=P8.displayName;var Hne=b.createContext(void 0);function Hd(e){const t=b.useContext(Hne);return e||t||"ltr"}var rw="rovingFocusGroup.onEntryFocus",Kne={bubbles:!1,cancelable:!0},Um="RovingFocusGroup",[U2,R8,Vne]=Im(Um),[Wne,mv]=Qr(Um,[Vne]),[Gne,Yne]=Wne(Um),D8=b.forwardRef((e,t)=>n.jsx(U2.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(U2.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Xne,{...e,ref:t})})}));D8.displayName=Um;var Xne=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...p}=e,x=b.useRef(null),v=At(t,x),j=Hd(i),[y,N]=Cs({prop:l,defaultProp:u??null,onChange:d,caller:Um}),[C,A]=b.useState(!1),w=Gn(f),S=R8(r),E=b.useRef(!1),[O,M]=b.useState(0);return b.useEffect(()=>{const R=x.current;if(R)return R.addEventListener(rw,w),()=>R.removeEventListener(rw,w)},[w]),n.jsx(Gne,{scope:r,orientation:a,dir:j,loop:s,currentTabStopId:y,onItemFocus:b.useCallback(R=>N(R),[N]),onItemShiftTab:b.useCallback(()=>A(!0),[]),onFocusableItemAdd:b.useCallback(()=>M(R=>R+1),[]),onFocusableItemRemove:b.useCallback(()=>M(R=>R-1),[]),children:n.jsx(dt.div,{tabIndex:C||O===0?-1:0,"data-orientation":a,...p,ref:v,style:{outline:"none",...e.style},onMouseDown:Be(e.onMouseDown,()=>{E.current=!0}),onFocus:Be(e.onFocus,R=>{const I=!E.current;if(R.target===R.currentTarget&&I&&!C){const V=new CustomEvent(rw,Kne);if(R.currentTarget.dispatchEvent(V),!V.defaultPrevented){const F=S().filter(k=>k.focusable),H=F.find(k=>k.active),K=F.find(k=>k.id===y),$=[H,K,...F].filter(Boolean).map(k=>k.ref.current);$8($,m)}}E.current=!1}),onBlur:Be(e.onBlur,()=>A(!1))})})}),I8="RovingFocusGroupItem",L8=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:s=!1,tabStopId:i,children:l,...u}=e,d=Ns(),f=i||d,m=Yne(I8,r),p=m.currentTabStopId===f,x=R8(r),{onFocusableItemAdd:v,onFocusableItemRemove:j,currentTabStopId:y}=m;return b.useEffect(()=>{if(a)return v(),()=>j()},[a,v,j]),n.jsx(U2.ItemSlot,{scope:r,id:f,focusable:a,active:s,children:n.jsx(dt.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:Be(e.onMouseDown,N=>{a?m.onItemFocus(f):N.preventDefault()}),onFocus:Be(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:Be(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){m.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const C=Jne(N,m.orientation,m.dir);if(C!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let w=x().filter(S=>S.focusable).map(S=>S.ref.current);if(C==="last")w.reverse();else if(C==="prev"||C==="next"){C==="prev"&&w.reverse();const S=w.indexOf(N.currentTarget);w=m.loop?ere(w,S+1):w.slice(S+1)}setTimeout(()=>$8(w))}}),children:typeof l=="function"?l({isCurrentTabStop:p,hasTabStop:y!=null}):l})})});L8.displayName=I8;var Qne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Zne(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Jne(e,t,r){const a=Zne(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Qne[a]}function $8(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function ere(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var F8=D8,q8=L8,pv="Tabs",[tre]=Qr(pv,[mv]),z8=mv(),[nre,w_]=tre(pv),B8=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:s,defaultValue:i,orientation:l="horizontal",dir:u,activationMode:d="automatic",...f}=e,m=Hd(u),[p,x]=Cs({prop:a,onChange:s,defaultProp:i??"",caller:pv});return n.jsx(nre,{scope:r,baseId:Ns(),value:p,onValueChange:x,orientation:l,dir:m,activationMode:d,children:n.jsx(dt.div,{dir:m,"data-orientation":l,...f,ref:t})})});B8.displayName=pv;var U8="TabsList",H8=b.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...s}=e,i=w_(U8,r),l=z8(r);return n.jsx(F8,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:a,children:n.jsx(dt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});H8.displayName=U8;var K8="TabsTrigger",V8=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:s=!1,...i}=e,l=w_(K8,r),u=z8(r),d=Y8(l.baseId,a),f=X8(l.baseId,a),m=a===l.value;return n.jsx(q8,{asChild:!0,...u,focusable:!s,active:m,children:n.jsx(dt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...i,ref:t,onMouseDown:Be(e.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?l.onValueChange(a):p.preventDefault()}),onKeyDown:Be(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(a)}),onFocus:Be(e.onFocus,()=>{const p=l.activationMode!=="manual";!m&&!s&&p&&l.onValueChange(a)})})})});V8.displayName=K8;var W8="TabsContent",G8=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:s,children:i,...l}=e,u=w_(W8,r),d=Y8(u.baseId,a),f=X8(u.baseId,a),m=a===u.value,p=b.useRef(m);return b.useEffect(()=>{const x=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(x)},[]),n.jsx(kr,{present:s||m,children:({present:x})=>n.jsx(dt.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!x,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:x&&i})})});G8.displayName=W8;function Y8(e,t){return`${e}-trigger-${t}`}function X8(e,t){return`${e}-content-${t}`}var rre=B8,Q8=H8,Z8=V8,J8=G8;const rr=rre,Zn=b.forwardRef(({className:e,...t},r)=>n.jsx(Q8,{ref:r,className:Je("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Zn.displayName=Q8.displayName;const lt=b.forwardRef(({className:e,...t},r)=>n.jsx(Z8,{ref:r,className:Je("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));lt.displayName=Z8.displayName;const ft=b.forwardRef(({className:e,...t},r)=>n.jsx(J8,{ref:r,className:Je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ft.displayName=J8.displayName;function are(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let H2=1;class sre{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:a,...s}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:H2++,l=this.toasts.find(d=>d.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:a}),{...d,...t,id:i,dismissible:u,title:a}):d):this.addToast({title:a,...s,dismissible:u,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(a=>a({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let a;r.loading!==void 0&&(a=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=a!==void 0,l;const u=s.then(async f=>{if(l=["resolve",f],J.isValidElement(f))i=!1,this.create({id:a,type:"default",message:f});else if(ore(f)&&!f.ok){i=!1;const p=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,j=typeof p=="object"&&!J.isValidElement(p)?p:{message:p};this.create({id:a,type:"error",description:x,...j})}else if(f instanceof Error){i=!1;const p=typeof r.error=="function"?await r.error(f):r.error,x=typeof r.description=="function"?await r.description(f):r.description,j=typeof p=="object"&&!J.isValidElement(p)?p:{message:p};this.create({id:a,type:"error",description:x,...j})}else if(r.success!==void 0){i=!1;const p=typeof r.success=="function"?await r.success(f):r.success,x=typeof r.description=="function"?await r.description(f):r.description,j=typeof p=="object"&&!J.isValidElement(p)?p:{message:p};this.create({id:a,type:"success",description:x,...j})}}).catch(async f=>{if(l=["reject",f],r.error!==void 0){i=!1;const m=typeof r.error=="function"?await r.error(f):r.error,p=typeof r.description=="function"?await r.description(f):r.description,v=typeof m=="object"&&!J.isValidElement(m)?m:{message:m};this.create({id:a,type:"error",description:p,...v})}}).finally(()=>{i&&(this.dismiss(a),a=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((f,m)=>u.then(()=>l[0]==="reject"?m(l[1]):f(l[1])).catch(m));return typeof a!="string"&&typeof a!="number"?{unwrap:d}:Object.assign(a,{unwrap:d})},this.custom=(t,r)=>{const a=r?.id||H2++;return this.create({jsx:t(a),id:a,...r}),a},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ga=new sre,ire=(e,t)=>{const r=t?.id||H2++;return Ga.addToast({title:e,...t,id:r}),r},ore=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",lre=ire,cre=()=>Ga.toasts,ure=()=>Ga.getActiveToasts(),re=Object.assign(lre,{success:Ga.success,info:Ga.info,warning:Ga.warning,error:Ga.error,custom:Ga.custom,message:Ga.message,promise:Ga.promise,dismiss:Ga.dismiss,loading:Ga.loading},{getHistory:cre,getToasts:ure});are("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function dre(){const[e,t]=b.useState(""),[r,a]=b.useState(""),[s,i]=b.useState(""),[l,u]=b.useState(""),[d,f]=b.useState(""),[m,p]=b.useState(!1),[x,v]=b.useState("login"),{login:j,register:y}=zm(),[,N]=il(),C=async w=>{w.preventDefault(),f(""),p(!0);try{await j(e,r)?(re.success("Welcome back!"),N("/")):f("Invalid email/username or password")}catch{f("Login failed. Please try again.")}finally{p(!1)}},A=async w=>{if(w.preventDefault(),f(""),p(!0),r.length<6){f("Password must be at least 6 characters"),p(!1);return}try{const S=await y(l,r,s,l);S.success?(re.success("Account created successfully!"),N("/")):f(S.error||"Registration failed")}catch{f("Registration failed. Please try again.")}finally{p(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-50 via-white to-teal-50",children:n.jsxs(Q,{className:"w-full max-w-md mx-4 shadow-xl border-0",children:[n.jsxs(ie,{className:"text-center space-y-4 pb-2",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-lg",children:n.jsx(qt,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx(oe,{className:"text-2xl font-bold text-gray-900",children:"WhatsApp Business API"}),n.jsx(Le,{className:"text-gray-500 mt-1",children:x==="login"?"Sign in to your dashboard":"Create your account"})]})]}),n.jsx(Z,{className:"pt-4",children:n.jsxs(rr,{value:x,onValueChange:v,children:[n.jsxs(Zn,{className:"grid w-full grid-cols-2 mb-6",children:[n.jsx(lt,{value:"login",children:"Sign In"}),n.jsx(lt,{value:"register",children:"Register"})]}),n.jsxs(ft,{value:"login",children:[n.jsxs("form",{onSubmit:C,className:"space-y-4",children:[d&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[n.jsx(el,{className:"h-4 w-4"}),d]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"login-identifier",className:"text-gray-700",children:"Email or Username"}),n.jsxs("div",{className:"relative",children:[n.jsx(OF,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(Pe,{id:"login-identifier",type:"text",placeholder:"Enter email or username",value:e,onChange:w=>t(w.target.value),className:"pl-10",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"login-password",className:"text-gray-700",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Eg,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(Pe,{id:"login-password",type:"password",placeholder:"Enter your password",value:r,onChange:w=>a(w.target.value),className:"pl-10",required:!0})]})]}),n.jsx(Y,{type:"submit",className:"w-full bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700",disabled:m,children:m?"Signing in...":"Sign In"})]}),n.jsx("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg border border-gray-100"})]}),n.jsx(ft,{value:"register",children:n.jsxs("form",{onSubmit:A,className:"space-y-4",children:[d&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[n.jsx(el,{className:"h-4 w-4"}),d]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"register-name",className:"text-gray-700",children:"Full Name"}),n.jsxs("div",{className:"relative",children:[n.jsx(rc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(Pe,{id:"register-name",type:"text",placeholder:"Your name",value:s,onChange:w=>i(w.target.value),className:"pl-10",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"register-email",className:"text-gray-700",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(xa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(Pe,{id:"register-email",type:"email",placeholder:"you@example.com",value:l,onChange:w=>u(w.target.value),className:"pl-10",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"register-password",className:"text-gray-700",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Eg,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(Pe,{id:"register-password",type:"password",placeholder:"Min. 6 characters",value:r,onChange:w=>a(w.target.value),className:"pl-10",required:!0,minLength:6})]})]}),n.jsx(Y,{type:"submit",className:"w-full bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700",disabled:m,children:m?"Creating account...":"Create Account"})]})})]})})]})})}function fre(e,t=[]){let r=[];function a(i,l){const u=b.createContext(l);u.displayName=i+"Context";const d=r.length;r=[...r,l];const f=p=>{const{scope:x,children:v,...j}=p,y=x?.[e]?.[d]||u,N=b.useMemo(()=>j,Object.values(j));return n.jsx(y.Provider,{value:N,children:v})};f.displayName=i+"Provider";function m(p,x){const v=x?.[e]?.[d]||u,j=b.useContext(v);if(j)return j;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,m]}const s=()=>{const i=r.map(l=>b.createContext(l));return function(u){const d=u?.[e]||i;return b.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[a,hre(s,...t)]}function hre(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=a.reduce((u,{useScope:d,scopeName:f})=>{const p=d(i)[`__scope${f}`];return{...u,...p}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var mre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],N_=mre.reduce((e,t)=>{const r=Bm(`Primitive.${t}`),a=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...u,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function pre(){return $6.useSyncExternalStore(xre,()=>!0,()=>!1)}function xre(){return()=>{}}var S_="Avatar",[gre]=fre(S_),[yre,eq]=gre(S_),tq=b.forwardRef((e,t)=>{const{__scopeAvatar:r,...a}=e,[s,i]=b.useState("idle");return n.jsx(yre,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:n.jsx(N_.span,{...a,ref:t})})});tq.displayName=S_;var nq="AvatarImage",rq=b.forwardRef((e,t)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:s=()=>{},...i}=e,l=eq(nq,r),u=vre(a,i),d=Gn(f=>{s(f),l.onImageLoadingStatusChange(f)});return Xn(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?n.jsx(N_.img,{...i,ref:t,src:a}):null});rq.displayName=nq;var aq="AvatarFallback",sq=b.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:a,...s}=e,i=eq(aq,r),[l,u]=b.useState(a===void 0);return b.useEffect(()=>{if(a!==void 0){const d=window.setTimeout(()=>u(!0),a);return()=>window.clearTimeout(d)}},[a]),l&&i.imageLoadingStatus!=="loaded"?n.jsx(N_.span,{...s,ref:t}):null});sq.displayName=aq;function sP(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function vre(e,{referrerPolicy:t,crossOrigin:r}){const a=pre(),s=b.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[l,u]=b.useState(()=>sP(i,e));return Xn(()=>{u(sP(i,e))},[i,e]),Xn(()=>{const d=p=>()=>{u(p)};if(!i)return;const f=d("loaded"),m=d("error");return i.addEventListener("load",f),i.addEventListener("error",m),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",f),i.removeEventListener("error",m)}},[i,r,t]),l}var iq=tq,oq=rq,lq=sq;const aa=b.forwardRef(({className:e,...t},r)=>n.jsx(iq,{ref:r,className:Je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));aa.displayName=iq.displayName;const A_=b.forwardRef(({className:e,...t},r)=>n.jsx(oq,{ref:r,className:Je("aspect-square h-full w-full",e),...t}));A_.displayName=oq.displayName;const sa=b.forwardRef(({className:e,...t},r)=>n.jsx(lq,{ref:r,className:Je("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));sa.displayName=lq.displayName;const jre=Id("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"text-foreground border [border-color:var(--badge-outline)]"}},defaultVariants:{variant:"default"}});function Ae({className:e,variant:t,...r}){return n.jsx("div",{className:Je(jre({variant:t}),e),...r})}var aw=0;function C_(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??iP()),document.body.insertAdjacentElement("beforeend",e[1]??iP()),aw++,()=>{aw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),aw--}},[])}function iP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sw="focusScope.autoFocusOnMount",iw="focusScope.autoFocusOnUnmount",oP={bubbles:!1,cancelable:!0},bre="FocusScope",xv=b.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=e,[u,d]=b.useState(null),f=Gn(s),m=Gn(i),p=b.useRef(null),x=At(t,y=>d(y)),v=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(a){let y=function(w){if(v.paused||!u)return;const S=w.target;u.contains(S)?p.current=S:Do(p.current,{select:!0})},N=function(w){if(v.paused||!u)return;const S=w.relatedTarget;S!==null&&(u.contains(S)||Do(p.current,{select:!0}))},C=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&Do(u)};document.addEventListener("focusin",y),document.addEventListener("focusout",N);const A=new MutationObserver(C);return u&&A.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",N),A.disconnect()}}},[a,u,v.paused]),b.useEffect(()=>{if(u){cP.add(v);const y=document.activeElement;if(!u.contains(y)){const C=new CustomEvent(sw,oP);u.addEventListener(sw,f),u.dispatchEvent(C),C.defaultPrevented||(wre(_re(cq(u)),{select:!0}),document.activeElement===y&&Do(u))}return()=>{u.removeEventListener(sw,f),setTimeout(()=>{const C=new CustomEvent(iw,oP);u.addEventListener(iw,m),u.dispatchEvent(C),C.defaultPrevented||Do(y??document.body,{select:!0}),u.removeEventListener(iw,m),cP.remove(v)},0)}}},[u,f,m,v]);const j=b.useCallback(y=>{if(!r&&!a||v.paused)return;const N=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,C=document.activeElement;if(N&&C){const A=y.currentTarget,[w,S]=Nre(A);w&&S?!y.shiftKey&&C===S?(y.preventDefault(),r&&Do(w,{select:!0})):y.shiftKey&&C===w&&(y.preventDefault(),r&&Do(S,{select:!0})):C===A&&y.preventDefault()}},[r,a,v.paused]);return n.jsx(dt.div,{tabIndex:-1,...l,ref:x,onKeyDown:j})});xv.displayName=bre;function wre(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(Do(a,{select:t}),document.activeElement!==r)return}function Nre(e){const t=cq(e),r=lP(t,e),a=lP(t.reverse(),e);return[r,a]}function cq(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function lP(e,t){for(const r of e)if(!Sre(r,{upTo:t}))return r}function Sre(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Are(e){return e instanceof HTMLInputElement&&"select"in e}function Do(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Are(e)&&t&&e.select()}}var cP=Cre();function Cre(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=uP(e,t),e.unshift(t)},remove(t){e=uP(e,t),e[0]?.resume()}}}function uP(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function _re(e){return e.filter(t=>t.tagName!=="A")}function Ere(e){const t=Tre(e),r=b.forwardRef((a,s)=>{const{children:i,...l}=a,u=b.Children.toArray(i),d=u.find(Mre);if(d){const f=d.props.children,m=u.map(p=>p===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:p);return n.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,m):null})}return n.jsx(t,{...l,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Tre(e){const t=b.forwardRef((r,a)=>{const{children:s,...i}=r;if(b.isValidElement(s)){const l=Pre(s),u=kre(i,s.props);return s.type!==b.Fragment&&(u.ref=a?Vi(a,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ore=Symbol("radix.slottable");function Mre(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ore}function kre(e,t){const r={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?r[a]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(r[a]=s):a==="style"?r[a]={...s,...i}:a==="className"&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Pre(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Rre=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vu=new WeakMap,Fx=new WeakMap,qx={},ow=0,uq=function(e){return e&&(e.host||uq(e.parentNode))},Dre=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=uq(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Ire=function(e,t,r,a){var s=Dre(t,Array.isArray(e)?e:[e]);qx[r]||(qx[r]=new WeakMap);var i=qx[r],l=[],u=new Set,d=new Set(s),f=function(p){!p||u.has(p)||(u.add(p),f(p.parentNode))};s.forEach(f);var m=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(x){if(u.has(x))m(x);else try{var v=x.getAttribute(a),j=v!==null&&v!=="false",y=(vu.get(x)||0)+1,N=(i.get(x)||0)+1;vu.set(x,y),i.set(x,N),l.push(x),y===1&&j&&Fx.set(x,!0),N===1&&x.setAttribute(r,"true"),j||x.setAttribute(a,"true")}catch(C){console.error("aria-hidden: cannot operate on ",x,C)}})};return m(t),u.clear(),ow++,function(){l.forEach(function(p){var x=vu.get(p)-1,v=i.get(p)-1;vu.set(p,x),i.set(p,v),x||(Fx.has(p)||p.removeAttribute(a),Fx.delete(p)),v||p.removeAttribute(r)}),ow--,ow||(vu=new WeakMap,vu=new WeakMap,Fx=new WeakMap,qx={})}},__=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=Rre(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),Ire(a,s,r,"aria-hidden")):function(){return null}},zs=function(){return zs=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},zs.apply(this,arguments)};function dq(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function Lre(e,t,r){if(r||arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var pg="right-scroll-bar-position",xg="width-before-scroll-bar",$re="with-scroll-bars-hidden",Fre="--removed-body-scroll-bar-size";function lw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qre(e,t){var r=b.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var s=r.value;s!==a&&(r.value=a,r.callback(a,s))}}}})[0];return r.callback=t,r.facade}var zre=typeof window<"u"?b.useLayoutEffect:b.useEffect,dP=new WeakMap;function Bre(e,t){var r=qre(null,function(a){return e.forEach(function(s){return lw(s,a)})});return zre(function(){var a=dP.get(r);if(a){var s=new Set(a),i=new Set(e),l=r.current;s.forEach(function(u){i.has(u)||lw(u,null)}),i.forEach(function(u){s.has(u)||lw(u,l)})}dP.set(r,e)},[e]),r}function Ure(e){return e}function Hre(e,t){t===void 0&&(t=Ure);var r=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var l=t(i,a);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(a=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(u){return i(u)},filter:function(){return r}}},assignMedium:function(i){a=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(i),l=r}var d=function(){var m=l;l=[],m.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(m){l.push(m),f()},filter:function(m){return l=l.filter(m),r}}}};return s}function Kre(e){e===void 0&&(e={});var t=Hre(null);return t.options=zs({async:!0,ssr:!1},e),t}var fq=function(e){var t=e.sideCar,r=dq(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return b.createElement(a,zs({},r))};fq.isSideCarExport=!0;function Vre(e,t){return e.useMedium(t),fq}var hq=Kre(),cw=function(){},gv=b.forwardRef(function(e,t){var r=b.useRef(null),a=b.useState({onScrollCapture:cw,onWheelCapture:cw,onTouchMoveCapture:cw}),s=a[0],i=a[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,p=e.shards,x=e.sideCar,v=e.noRelative,j=e.noIsolation,y=e.inert,N=e.allowPinchZoom,C=e.as,A=C===void 0?"div":C,w=e.gapMode,S=dq(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=x,O=Bre([r,t]),M=zs(zs({},S),s);return b.createElement(b.Fragment,null,m&&b.createElement(E,{sideCar:hq,removeScrollBar:f,shards:p,noRelative:v,noIsolation:j,inert:y,setCallbacks:i,allowPinchZoom:!!N,lockRef:r,gapMode:w}),l?b.cloneElement(b.Children.only(u),zs(zs({},M),{ref:O})):b.createElement(A,zs({},M,{className:d,ref:O}),u))});gv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gv.classNames={fullWidth:xg,zeroRight:pg};var Wre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Gre(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Wre();return t&&e.setAttribute("nonce",t),e}function Yre(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Xre(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Qre=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Gre())&&(Yre(t,r),Xre(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Zre=function(){var e=Qre();return function(t,r){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},mq=function(){var e=Zre(),t=function(r){var a=r.styles,s=r.dynamic;return e(a,s),null};return t},Jre={left:0,top:0,right:0,gap:0},uw=function(e){return parseInt(e||"",10)||0},eae=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[uw(r),uw(a),uw(s)]},tae=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Jre;var t=eae(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},nae=mq(),qu="data-scroll-locked",rae=function(e,t,r,a){var s=e.left,i=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat($re,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(u,"px ").concat(a,`;
  }
  body[`).concat(qu,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pg,` {
    right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(xg,` {
    margin-right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(pg," .").concat(pg,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(xg," .").concat(xg,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(qu,`] {
    `).concat(Fre,": ").concat(u,`px;
  }
`)},fP=function(){var e=parseInt(document.body.getAttribute(qu)||"0",10);return isFinite(e)?e:0},aae=function(){b.useEffect(function(){return document.body.setAttribute(qu,(fP()+1).toString()),function(){var e=fP()-1;e<=0?document.body.removeAttribute(qu):document.body.setAttribute(qu,e.toString())}},[])},sae=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;aae();var i=b.useMemo(function(){return tae(s)},[s]);return b.createElement(nae,{styles:rae(i,!t,s,r?"":"!important")})},K2=!1;if(typeof window<"u")try{var zx=Object.defineProperty({},"passive",{get:function(){return K2=!0,!0}});window.addEventListener("test",zx,zx),window.removeEventListener("test",zx,zx)}catch{K2=!1}var ju=K2?{passive:!1}:!1,iae=function(e){return e.tagName==="TEXTAREA"},pq=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!iae(e)&&r[t]==="visible")},oae=function(e){return pq(e,"overflowY")},lae=function(e){return pq(e,"overflowX")},hP=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=xq(e,a);if(s){var i=gq(e,a),l=i[1],u=i[2];if(l>u)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},cae=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},uae=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},xq=function(e,t){return e==="v"?oae(t):lae(t)},gq=function(e,t){return e==="v"?cae(t):uae(t)},dae=function(e,t){return e==="h"&&t==="rtl"?-1:1},fae=function(e,t,r,a,s){var i=dae(e,window.getComputedStyle(t).direction),l=i*a,u=r.target,d=t.contains(u),f=!1,m=l>0,p=0,x=0;do{if(!u)break;var v=gq(e,u),j=v[0],y=v[1],N=v[2],C=y-N-i*j;(j||C)&&xq(e,u)&&(p+=C,x+=j);var A=u.parentNode;u=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(m&&Math.abs(p)<1||!m&&Math.abs(x)<1)&&(f=!0),f},Bx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mP=function(e){return[e.deltaX,e.deltaY]},pP=function(e){return e&&"current"in e?e.current:e},hae=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pae=0,bu=[];function xae(e){var t=b.useRef([]),r=b.useRef([0,0]),a=b.useRef(),s=b.useState(pae++)[0],i=b.useState(mq)[0],l=b.useRef(e);b.useEffect(function(){l.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=Lre([e.lockRef.current],(e.shards||[]).map(pP),!0).filter(Boolean);return y.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=b.useCallback(function(y,N){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!l.current.allowPinchZoom;var C=Bx(y),A=r.current,w="deltaX"in y?y.deltaX:A[0]-C[0],S="deltaY"in y?y.deltaY:A[1]-C[1],E,O=y.target,M=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in y&&M==="h"&&O.type==="range")return!1;var R=hP(M,O);if(!R)return!0;if(R?E=M:(E=M==="v"?"h":"v",R=hP(M,O)),!R)return!1;if(!a.current&&"changedTouches"in y&&(w||S)&&(a.current=E),!E)return!0;var I=a.current||E;return fae(I,N,y,I==="h"?w:S)},[]),d=b.useCallback(function(y){var N=y;if(!(!bu.length||bu[bu.length-1]!==i)){var C="deltaY"in N?mP(N):Bx(N),A=t.current.filter(function(E){return E.name===N.type&&(E.target===N.target||N.target===E.shadowParent)&&hae(E.delta,C)})[0];if(A&&A.should){N.cancelable&&N.preventDefault();return}if(!A){var w=(l.current.shards||[]).map(pP).filter(Boolean).filter(function(E){return E.contains(N.target)}),S=w.length>0?u(N,w[0]):!l.current.noIsolation;S&&N.cancelable&&N.preventDefault()}}},[]),f=b.useCallback(function(y,N,C,A){var w={name:y,delta:N,target:C,should:A,shadowParent:gae(C)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),m=b.useCallback(function(y){r.current=Bx(y),a.current=void 0},[]),p=b.useCallback(function(y){f(y.type,mP(y),y.target,u(y,e.lockRef.current))},[]),x=b.useCallback(function(y){f(y.type,Bx(y),y.target,u(y,e.lockRef.current))},[]);b.useEffect(function(){return bu.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",d,ju),document.addEventListener("touchmove",d,ju),document.addEventListener("touchstart",m,ju),function(){bu=bu.filter(function(y){return y!==i}),document.removeEventListener("wheel",d,ju),document.removeEventListener("touchmove",d,ju),document.removeEventListener("touchstart",m,ju)}},[]);var v=e.removeScrollBar,j=e.inert;return b.createElement(b.Fragment,null,j?b.createElement(i,{styles:mae(s)}):null,v?b.createElement(sae,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function gae(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yae=Vre(hq,xae);var yv=b.forwardRef(function(e,t){return b.createElement(gv,zs({},e,{ref:t,sideCar:yae}))});yv.classNames=gv.classNames;var V2=["Enter"," "],vae=["ArrowDown","PageUp","Home"],yq=["ArrowUp","PageDown","End"],jae=[...vae,...yq],bae={ltr:[...V2,"ArrowRight"],rtl:[...V2,"ArrowLeft"]},wae={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hm="Menu",[qh,Nae,Sae]=Im(Hm),[Cc,vq]=Qr(Hm,[Sae,Ud,mv]),vv=Ud(),jq=mv(),[Aae,_c]=Cc(Hm),[Cae,Km]=Cc(Hm),bq=e=>{const{__scopeMenu:t,open:r=!1,children:a,dir:s,onOpenChange:i,modal:l=!0}=e,u=vv(t),[d,f]=b.useState(null),m=b.useRef(!1),p=Gn(i),x=Hd(s);return b.useEffect(()=>{const v=()=>{m.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>m.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),n.jsx(v8,{...u,children:n.jsx(Aae,{scope:t,open:r,onOpenChange:p,content:d,onContentChange:f,children:n.jsx(Cae,{scope:t,onClose:b.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:m,dir:x,modal:l,children:a})})})};bq.displayName=Hm;var _ae="MenuAnchor",E_=b.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,s=vv(r);return n.jsx(x_,{...s,...a,ref:t})});E_.displayName=_ae;var T_="MenuPortal",[Eae,wq]=Cc(T_,{forceMount:void 0}),Nq=e=>{const{__scopeMenu:t,forceMount:r,children:a,container:s}=e,i=_c(T_,t);return n.jsx(Eae,{scope:t,forceMount:r,children:n.jsx(kr,{present:r||i.open,children:n.jsx(Dd,{asChild:!0,container:s,children:a})})})};Nq.displayName=T_;var ts="MenuContent",[Tae,O_]=Cc(ts),Sq=b.forwardRef((e,t)=>{const r=wq(ts,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=_c(ts,e.__scopeMenu),l=Km(ts,e.__scopeMenu);return n.jsx(qh.Provider,{scope:e.__scopeMenu,children:n.jsx(kr,{present:a||i.open,children:n.jsx(qh.Slot,{scope:e.__scopeMenu,children:l.modal?n.jsx(Oae,{...s,ref:t}):n.jsx(Mae,{...s,ref:t})})})})}),Oae=b.forwardRef((e,t)=>{const r=_c(ts,e.__scopeMenu),a=b.useRef(null),s=At(t,a);return b.useEffect(()=>{const i=a.current;if(i)return __(i)},[]),n.jsx(M_,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Be(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Mae=b.forwardRef((e,t)=>{const r=_c(ts,e.__scopeMenu);return n.jsx(M_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),kae=Ere("MenuContent.ScrollLock"),M_=b.forwardRef((e,t)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:x,onDismiss:v,disableOutsideScroll:j,...y}=e,N=_c(ts,r),C=Km(ts,r),A=vv(r),w=jq(r),S=Nae(r),[E,O]=b.useState(null),M=b.useRef(null),R=At(t,M,N.onContentChange),I=b.useRef(0),V=b.useRef(""),F=b.useRef(0),H=b.useRef(null),K=b.useRef("right"),q=b.useRef(0),$=j?yv:b.Fragment,k=j?{as:kae,allowPinchZoom:!0}:void 0,D=U=>{const G=V.current+U,B=S().filter(le=>!le.disabled),z=document.activeElement,X=B.find(le=>le.ref.current===z)?.textValue,ee=B.map(le=>le.textValue),je=Hae(ee,G,X),he=B.find(le=>le.textValue===je)?.ref.current;(function le(ve){V.current=ve,window.clearTimeout(I.current),ve!==""&&(I.current=window.setTimeout(()=>le(""),1e3))})(G),he&&setTimeout(()=>he.focus())};b.useEffect(()=>()=>window.clearTimeout(I.current),[]),C_();const P=b.useCallback(U=>K.current===H.current?.side&&Vae(U,H.current?.area),[]);return n.jsx(Tae,{scope:r,searchRef:V,onItemEnter:b.useCallback(U=>{P(U)&&U.preventDefault()},[P]),onItemLeave:b.useCallback(U=>{P(U)||(M.current?.focus(),O(null))},[P]),onTriggerLeave:b.useCallback(U=>{P(U)&&U.preventDefault()},[P]),pointerGraceTimerRef:F,onPointerGraceIntentChange:b.useCallback(U=>{H.current=U},[]),children:n.jsx($,{...k,children:n.jsx(xv,{asChild:!0,trapped:s,onMountAutoFocus:Be(i,U=>{U.preventDefault(),M.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:n.jsx(Rd,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:x,onDismiss:v,children:n.jsx(F8,{asChild:!0,...w,dir:C.dir,orientation:"vertical",loop:a,currentTabStopId:E,onCurrentTabStopIdChange:O,onEntryFocus:Be(d,U=>{C.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(g_,{role:"menu","aria-orientation":"vertical","data-state":qq(N.open),"data-radix-menu-content":"",dir:C.dir,...A,...y,ref:R,style:{outline:"none",...y.style},onKeyDown:Be(y.onKeyDown,U=>{const B=U.target.closest("[data-radix-menu-content]")===U.currentTarget,z=U.ctrlKey||U.altKey||U.metaKey,X=U.key.length===1;B&&(U.key==="Tab"&&U.preventDefault(),!z&&X&&D(U.key));const ee=M.current;if(U.target!==ee||!jae.includes(U.key))return;U.preventDefault();const he=S().filter(le=>!le.disabled).map(le=>le.ref.current);yq.includes(U.key)&&he.reverse(),Bae(he)}),onBlur:Be(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(I.current),V.current="")}),onPointerMove:Be(e.onPointerMove,zh(U=>{const G=U.target,B=q.current!==U.clientX;if(U.currentTarget.contains(G)&&B){const z=U.clientX>q.current?"right":"left";K.current=z,q.current=U.clientX}}))})})})})})})});Sq.displayName=ts;var Pae="MenuGroup",k_=b.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(dt.div,{role:"group",...a,ref:t})});k_.displayName=Pae;var Rae="MenuLabel",Aq=b.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(dt.div,{...a,ref:t})});Aq.displayName=Rae;var Ig="MenuItem",xP="menu.itemSelect",jv=b.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:a,...s}=e,i=b.useRef(null),l=Km(Ig,e.__scopeMenu),u=O_(Ig,e.__scopeMenu),d=At(t,i),f=b.useRef(!1),m=()=>{const p=i.current;if(!r&&p){const x=new CustomEvent(xP,{bubbles:!0,cancelable:!0});p.addEventListener(xP,v=>a?.(v),{once:!0}),WC(p,x),x.defaultPrevented?f.current=!1:l.onClose()}};return n.jsx(Cq,{...s,ref:d,disabled:r,onClick:Be(e.onClick,m),onPointerDown:p=>{e.onPointerDown?.(p),f.current=!0},onPointerUp:Be(e.onPointerUp,p=>{f.current||p.currentTarget?.click()}),onKeyDown:Be(e.onKeyDown,p=>{const x=u.searchRef.current!=="";r||x&&p.key===" "||V2.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});jv.displayName=Ig;var Cq=b.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:a=!1,textValue:s,...i}=e,l=O_(Ig,r),u=jq(r),d=b.useRef(null),f=At(t,d),[m,p]=b.useState(!1),[x,v]=b.useState("");return b.useEffect(()=>{const j=d.current;j&&v((j.textContent??"").trim())},[i.children]),n.jsx(qh.ItemSlot,{scope:r,disabled:a,textValue:s??x,children:n.jsx(q8,{asChild:!0,...u,focusable:!a,children:n.jsx(dt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:f,onPointerMove:Be(e.onPointerMove,zh(j=>{a?l.onItemLeave(j):(l.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Be(e.onPointerLeave,zh(j=>l.onItemLeave(j))),onFocus:Be(e.onFocus,()=>p(!0)),onBlur:Be(e.onBlur,()=>p(!1))})})})}),Dae="MenuCheckboxItem",_q=b.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:a,...s}=e;return n.jsx(kq,{scope:e.__scopeMenu,checked:r,children:n.jsx(jv,{role:"menuitemcheckbox","aria-checked":Lg(r)?"mixed":r,...s,ref:t,"data-state":R_(r),onSelect:Be(s.onSelect,()=>a?.(Lg(r)?!0:!r),{checkForDefaultPrevented:!1})})})});_q.displayName=Dae;var Eq="MenuRadioGroup",[Iae,Lae]=Cc(Eq,{value:void 0,onValueChange:()=>{}}),Tq=b.forwardRef((e,t)=>{const{value:r,onValueChange:a,...s}=e,i=Gn(a);return n.jsx(Iae,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(k_,{...s,ref:t})})});Tq.displayName=Eq;var Oq="MenuRadioItem",Mq=b.forwardRef((e,t)=>{const{value:r,...a}=e,s=Lae(Oq,e.__scopeMenu),i=r===s.value;return n.jsx(kq,{scope:e.__scopeMenu,checked:i,children:n.jsx(jv,{role:"menuitemradio","aria-checked":i,...a,ref:t,"data-state":R_(i),onSelect:Be(a.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});Mq.displayName=Oq;var P_="MenuItemIndicator",[kq,$ae]=Cc(P_,{checked:!1}),Pq=b.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:a,...s}=e,i=$ae(P_,r);return n.jsx(kr,{present:a||Lg(i.checked)||i.checked===!0,children:n.jsx(dt.span,{...s,ref:t,"data-state":R_(i.checked)})})});Pq.displayName=P_;var Fae="MenuSeparator",Rq=b.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(dt.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});Rq.displayName=Fae;var qae="MenuArrow",Dq=b.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,s=vv(r);return n.jsx(y_,{...s,...a,ref:t})});Dq.displayName=qae;var zae="MenuSub",[MMe,Iq]=Cc(zae),mh="MenuSubTrigger",Lq=b.forwardRef((e,t)=>{const r=_c(mh,e.__scopeMenu),a=Km(mh,e.__scopeMenu),s=Iq(mh,e.__scopeMenu),i=O_(mh,e.__scopeMenu),l=b.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=i,f={__scopeMenu:e.__scopeMenu},m=b.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return b.useEffect(()=>m,[m]),b.useEffect(()=>{const p=u.current;return()=>{window.clearTimeout(p),d(null)}},[u,d]),n.jsx(E_,{asChild:!0,...f,children:n.jsx(Cq,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":qq(r.open),...e,ref:Vi(t,s.onTriggerChange),onClick:p=>{e.onClick?.(p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Be(e.onPointerMove,zh(p=>{i.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:Be(e.onPointerLeave,zh(p=>{m();const x=r.content?.getBoundingClientRect();if(x){const v=r.content?.dataset.side,j=v==="right",y=j?-5:5,N=x[j?"left":"right"],C=x[j?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+y,y:p.clientY},{x:N,y:x.top},{x:C,y:x.top},{x:C,y:x.bottom},{x:N,y:x.bottom}],side:v}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Be(e.onKeyDown,p=>{const x=i.searchRef.current!=="";e.disabled||x&&p.key===" "||bae[a.dir].includes(p.key)&&(r.onOpenChange(!0),r.content?.focus(),p.preventDefault())})})})});Lq.displayName=mh;var $q="MenuSubContent",Fq=b.forwardRef((e,t)=>{const r=wq(ts,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=_c(ts,e.__scopeMenu),l=Km(ts,e.__scopeMenu),u=Iq($q,e.__scopeMenu),d=b.useRef(null),f=At(t,d);return n.jsx(qh.Provider,{scope:e.__scopeMenu,children:n.jsx(kr,{present:a||i.open,children:n.jsx(qh.Slot,{scope:e.__scopeMenu,children:n.jsx(M_,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{l.isUsingKeyboardRef.current&&d.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Be(e.onFocusOutside,m=>{m.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Be(e.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:Be(e.onKeyDown,m=>{const p=m.currentTarget.contains(m.target),x=wae[l.dir].includes(m.key);p&&x&&(i.onOpenChange(!1),u.trigger?.focus(),m.preventDefault())})})})})})});Fq.displayName=$q;function qq(e){return e?"open":"closed"}function Lg(e){return e==="indeterminate"}function R_(e){return Lg(e)?"indeterminate":e?"checked":"unchecked"}function Bae(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Uae(e,t){return e.map((r,a)=>e[(t+a)%e.length])}function Hae(e,t,r){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let l=Uae(e,Math.max(i,0));s.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function Kae(e,t){const{x:r,y:a}=e;let s=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const u=t[i],d=t[l],f=u.x,m=u.y,p=d.x,x=d.y;m>a!=x>a&&r<(p-f)*(a-m)/(x-m)+f&&(s=!s)}return s}function Vae(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Kae(r,t)}function zh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Wae=bq,Gae=E_,Yae=Nq,Xae=Sq,Qae=k_,Zae=Aq,Jae=jv,ese=_q,tse=Tq,nse=Mq,rse=Pq,ase=Rq,sse=Dq,ise=Lq,ose=Fq,bv="DropdownMenu",[lse]=Qr(bv,[vq]),ia=vq(),[cse,zq]=lse(bv),Bq=e=>{const{__scopeDropdownMenu:t,children:r,dir:a,open:s,defaultOpen:i,onOpenChange:l,modal:u=!0}=e,d=ia(t),f=b.useRef(null),[m,p]=Cs({prop:s,defaultProp:i??!1,onChange:l,caller:bv});return n.jsx(cse,{scope:t,triggerId:Ns(),triggerRef:f,contentId:Ns(),open:m,onOpenChange:p,onOpenToggle:b.useCallback(()=>p(x=>!x),[p]),modal:u,children:n.jsx(Wae,{...d,open:m,onOpenChange:p,dir:a,modal:u,children:r})})};Bq.displayName=bv;var Uq="DropdownMenuTrigger",Hq=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...s}=e,i=zq(Uq,r),l=ia(r);return n.jsx(Gae,{asChild:!0,...l,children:n.jsx(dt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:Vi(t,i.triggerRef),onPointerDown:Be(e.onPointerDown,u=>{!a&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:Be(e.onKeyDown,u=>{a||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});Hq.displayName=Uq;var use="DropdownMenuPortal",Kq=e=>{const{__scopeDropdownMenu:t,...r}=e,a=ia(t);return n.jsx(Yae,{...a,...r})};Kq.displayName=use;var Vq="DropdownMenuContent",Wq=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=zq(Vq,r),i=ia(r),l=b.useRef(!1);return n.jsx(Xae,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:t,onCloseAutoFocus:Be(e.onCloseAutoFocus,u=>{l.current||s.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Be(e.onInteractOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,m=d.button===2||f;(!s.modal||m)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Wq.displayName=Vq;var dse="DropdownMenuGroup",fse=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ia(r);return n.jsx(Qae,{...s,...a,ref:t})});fse.displayName=dse;var hse="DropdownMenuLabel",Gq=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ia(r);return n.jsx(Zae,{...s,...a,ref:t})});Gq.displayName=hse;var mse="DropdownMenuItem",Yq=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ia(r);return n.jsx(Jae,{...s,...a,ref:t})});Yq.displayName=mse;var pse="DropdownMenuCheckboxItem",Xq=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ia(r);return n.jsx(ese,{...s,...a,ref:t})});Xq.displayName=pse;var xse="DropdownMenuRadioGroup",gse=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ia(r);return n.jsx(tse,{...s,...a,ref:t})});gse.displayName=xse;var yse="DropdownMenuRadioItem",Qq=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ia(r);return n.jsx(nse,{...s,...a,ref:t})});Qq.displayName=yse;var vse="DropdownMenuItemIndicator",Zq=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ia(r);return n.jsx(rse,{...s,...a,ref:t})});Zq.displayName=vse;var jse="DropdownMenuSeparator",Jq=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ia(r);return n.jsx(ase,{...s,...a,ref:t})});Jq.displayName=jse;var bse="DropdownMenuArrow",wse=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ia(r);return n.jsx(sse,{...s,...a,ref:t})});wse.displayName=bse;var Nse="DropdownMenuSubTrigger",ez=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ia(r);return n.jsx(ise,{...s,...a,ref:t})});ez.displayName=Nse;var Sse="DropdownMenuSubContent",tz=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ia(r);return n.jsx(ose,{...s,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tz.displayName=Sse;var Ase=Bq,Cse=Hq,_se=Kq,nz=Wq,rz=Gq,az=Yq,sz=Xq,iz=Qq,oz=Zq,lz=Jq,cz=ez,uz=tz;const ol=Ase,ll=Cse,Ese=b.forwardRef(({className:e,inset:t,children:r,...a},s)=>n.jsxs(cz,{ref:s,className:Je("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-white [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...a,children:[r,n.jsx(ZC,{className:"ml-auto"})]}));Ese.displayName=cz.displayName;const Tse=b.forwardRef(({className:e,...t},r)=>n.jsx(uz,{ref:r,className:Je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Tse.displayName=uz.displayName;const Gi=b.forwardRef(({className:e,sideOffset:t=4,...r},a)=>n.jsx(_se,{children:n.jsx(nz,{ref:a,sideOffset:t,className:Je("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-white p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));Gi.displayName=nz.displayName;const Bn=b.forwardRef(({className:e,inset:t,...r},a)=>n.jsx(az,{ref:a,className:Je("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-white focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...r}));Bn.displayName=az.displayName;const Ose=b.forwardRef(({className:e,children:t,checked:r,...a},s)=>n.jsxs(sz,{ref:s,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-white focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(oz,{children:n.jsx(Ld,{className:"h-4 w-4"})})}),t]}));Ose.displayName=sz.displayName;const Mse=b.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(iz,{ref:a,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-white focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(oz,{children:n.jsx(uZ,{className:"h-2 w-2 fill-current"})})}),t]}));Mse.displayName=iz.displayName;const dz=b.forwardRef(({className:e,inset:t,...r},a)=>n.jsx(rz,{ref:a,className:Je("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));dz.displayName=rz.displayName;const W2=b.forwardRef(({className:e,...t},r)=>n.jsx(lz,{ref:r,className:Je("-mx-1 my-1 h-px bg-muted",e),...t}));W2.displayName=lz.displayName;function kse(e){const t=Pse(e),r=b.forwardRef((a,s)=>{const{children:i,...l}=a,u=b.Children.toArray(i),d=u.find(Dse);if(d){const f=d.props.children,m=u.map(p=>p===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:p);return n.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,m):null})}return n.jsx(t,{...l,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Pse(e){const t=b.forwardRef((r,a)=>{const{children:s,...i}=r;if(b.isValidElement(s)){const l=Lse(s),u=Ise(i,s.props);return s.type!==b.Fragment&&(u.ref=a?Vi(a,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Rse=Symbol("radix.slottable");function Dse(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Rse}function Ise(e,t){const r={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?r[a]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(r[a]=s):a==="style"?r[a]={...s,...i}:a==="className"&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Lse(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wv="Dialog",[fz,hz]=Qr(wv),[$se,Ps]=fz(wv),mz=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,u=b.useRef(null),d=b.useRef(null),[f,m]=Cs({prop:a,defaultProp:s??!1,onChange:i,caller:wv});return n.jsx($se,{scope:t,triggerRef:u,contentRef:d,contentId:Ns(),titleId:Ns(),descriptionId:Ns(),open:f,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(p=>!p),[m]),modal:l,children:r})};mz.displayName=wv;var pz="DialogTrigger",xz=b.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ps(pz,r),i=At(t,s.triggerRef);return n.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":L_(s.open),...a,ref:i,onClick:Be(e.onClick,s.onOpenToggle)})});xz.displayName=pz;var D_="DialogPortal",[Fse,gz]=fz(D_,{forceMount:void 0}),yz=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:s}=e,i=Ps(D_,t);return n.jsx(Fse,{scope:t,forceMount:r,children:b.Children.map(a,l=>n.jsx(kr,{present:r||i.open,children:n.jsx(Dd,{asChild:!0,container:s,children:l})}))})};yz.displayName=D_;var $g="DialogOverlay",vz=b.forwardRef((e,t)=>{const r=gz($g,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=Ps($g,e.__scopeDialog);return i.modal?n.jsx(kr,{present:a||i.open,children:n.jsx(zse,{...s,ref:t})}):null});vz.displayName=$g;var qse=kse("DialogOverlay.RemoveScroll"),zse=b.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ps($g,r);return n.jsx(yv,{as:qse,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(dt.div,{"data-state":L_(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),sc="DialogContent",jz=b.forwardRef((e,t)=>{const r=gz(sc,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=Ps(sc,e.__scopeDialog);return n.jsx(kr,{present:a||i.open,children:i.modal?n.jsx(Bse,{...s,ref:t}):n.jsx(Use,{...s,ref:t})})});jz.displayName=sc;var Bse=b.forwardRef((e,t)=>{const r=Ps(sc,e.__scopeDialog),a=b.useRef(null),s=At(t,r.contentRef,a);return b.useEffect(()=>{const i=a.current;if(i)return __(i)},[]),n.jsx(bz,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Be(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Be(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:Be(e.onFocusOutside,i=>i.preventDefault())})}),Use=b.forwardRef((e,t)=>{const r=Ps(sc,e.__scopeDialog),a=b.useRef(!1),s=b.useRef(!1);return n.jsx(bz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(a.current||r.triggerRef.current?.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;r.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),bz=b.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=e,u=Ps(sc,r),d=b.useRef(null),f=At(t,d);return C_(),n.jsxs(n.Fragment,{children:[n.jsx(xv,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(Rd,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":L_(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(Kse,{titleId:u.titleId}),n.jsx(Wse,{contentRef:d,descriptionId:u.descriptionId})]})]})}),I_="DialogTitle",wz=b.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ps(I_,r);return n.jsx(dt.h2,{id:s.titleId,...a,ref:t})});wz.displayName=I_;var Nz="DialogDescription",Sz=b.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ps(Nz,r);return n.jsx(dt.p,{id:s.descriptionId,...a,ref:t})});Sz.displayName=Nz;var Az="DialogClose",Cz=b.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ps(Az,r);return n.jsx(dt.button,{type:"button",...a,ref:t,onClick:Be(e.onClick,()=>s.onOpenChange(!1))})});Cz.displayName=Az;function L_(e){return e?"open":"closed"}var _z="DialogTitleWarning",[Hse,Ez]=MX(_z,{contentName:sc,titleName:I_,docsSlug:"dialog"}),Kse=({titleId:e})=>{const t=Ez(_z),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Vse="DialogDescriptionWarning",Wse=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ez(Vse).contentName}}.`;return b.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},$_=mz,F_=xz,q_=yz,Vm=vz,Wm=jz,Gm=wz,Ym=Sz,Nv=Cz;const Gse=$_,Yse=F_,Xse=q_,Tz=b.forwardRef(({className:e,...t},r)=>n.jsx(Vm,{className:Je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Tz.displayName=Vm.displayName;const Qse=Id("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Oz=b.forwardRef(({side:e="right",className:t,children:r,...a},s)=>n.jsxs(Xse,{children:[n.jsx(Tz,{}),n.jsxs(Wm,{ref:s,className:Je(Qse({side:e}),t),...a,children:[n.jsxs(Nv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(Wi,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));Oz.displayName=Wm.displayName;const Zse=b.forwardRef(({className:e,...t},r)=>n.jsx(Gm,{ref:r,className:Je("text-lg font-semibold text-foreground",e),...t}));Zse.displayName=Gm.displayName;const Jse=b.forwardRef(({className:e,...t},r)=>n.jsx(Ym,{ref:r,className:Je("text-sm text-muted-foreground",e),...t}));Jse.displayName=Ym.displayName;var Sv="Collapsible",[eie]=Qr(Sv),[tie,z_]=eie(Sv),Mz=b.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:a,defaultOpen:s,disabled:i,onOpenChange:l,...u}=e,[d,f]=Cs({prop:a,defaultProp:s??!1,onChange:l,caller:Sv});return n.jsx(tie,{scope:r,disabled:i,contentId:Ns(),open:d,onOpenToggle:b.useCallback(()=>f(m=>!m),[f]),children:n.jsx(dt.div,{"data-state":U_(d),"data-disabled":i?"":void 0,...u,ref:t})})});Mz.displayName=Sv;var kz="CollapsibleTrigger",Pz=b.forwardRef((e,t)=>{const{__scopeCollapsible:r,...a}=e,s=z_(kz,r);return n.jsx(dt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":U_(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...a,ref:t,onClick:Be(e.onClick,s.onOpenToggle)})});Pz.displayName=kz;var B_="CollapsibleContent",Rz=b.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=z_(B_,e.__scopeCollapsible);return n.jsx(kr,{present:r||s.open,children:({present:i})=>n.jsx(nie,{...a,ref:t,present:i})})});Rz.displayName=B_;var nie=b.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:a,children:s,...i}=e,l=z_(B_,r),[u,d]=b.useState(a),f=b.useRef(null),m=At(t,f),p=b.useRef(0),x=p.current,v=b.useRef(0),j=v.current,y=l.open||u,N=b.useRef(y),C=b.useRef(void 0);return b.useEffect(()=>{const A=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(A)},[]),Xn(()=>{const A=f.current;if(A){C.current=C.current||{transitionDuration:A.style.transitionDuration,animationName:A.style.animationName},A.style.transitionDuration="0s",A.style.animationName="none";const w=A.getBoundingClientRect();p.current=w.height,v.current=w.width,N.current||(A.style.transitionDuration=C.current.transitionDuration,A.style.animationName=C.current.animationName),d(a)}},[l.open,a]),n.jsx(dt.div,{"data-state":U_(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!y,...i,ref:m,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:y&&s})});function U_(e){return e?"open":"closed"}var rie=Mz;const aie=rie,sie=Pz,iie=Rz;function ct({children:e}){const[t,r]=il(),[a,s]=b.useState(!1),{user:i,logout:l}=zm(),u=()=>{l(),r("/login")},{data:d=0}=Ie({queryKey:["/api/chats","window-unread-count"],queryFn:async()=>{const y=await fetch("/api/chats");if(!y.ok)return 0;const N=await y.json(),C=new Date;let A=0;for(const w of N)if(!(w.unreadCount<=0)&&w.lastInboundMessageTime){const S=new Date(w.lastInboundMessageTime);(C.getTime()-S.getTime())/(1e3*60*60)<=24&&(A+=w.unreadCount)}return A},refetchInterval:1e4}),f=[{icon:_g,label:"Dashboard",href:"/",pageId:"dashboard"},{icon:Ht,label:"24-Hour Window",href:"/inbox/window",pageId:"window-inbox",badge:d>0?d:void 0},{icon:qt,label:"Inbox",href:"/inbox",pageId:"inbox"},{icon:PF,label:"Campaigns",href:"/campaigns",pageId:"broadcast",subItems:[{label:"Broadcasts",href:"/campaigns/broadcast"},{label:"Schedule Messages",href:"/campaigns/schedule"},{label:"Single Message",href:"/campaigns/single"}]},{icon:ws,label:"Automation",href:"/automation/dashboard",pageId:"auto-reply",subItems:[{label:"Dashboard",href:"/automation/dashboard"},{label:"Triggers",href:"/automation/triggers"},{label:"Flows",href:"/automation/flows"},{label:"Drip Campaigns",href:"/automation/campaigns"},{label:"Analytics",href:"/automation/analytics"},{label:"Interest Lists",href:"/automation/interest"},{label:"Follow-up",href:"/automation/follow-up"}]},{icon:HZ,label:"Connect Apps",href:"/apps/connect",pageId:"flow-builder"},{icon:Yn,label:"Templates",href:"/templates",pageId:"templates",subItems:[{label:"Add Template",href:"/templates/add"},{label:"Manage Templates",href:"/templates/manage"}]},{icon:Yn,label:"Usage & Billings",href:"/templates",subItems:[{label:"Billing & Credits",href:"/settings/billing"},{label:"Credits",href:"/reports/credits"},{label:"Spending",href:"/reports/spending"}]},{icon:Ct,label:"AI Agent",href:"/ai",pageId:"ai-agents",subItems:[{label:"All Agents",href:"/ai/agents"},{label:"New Agent",href:"/ai/new"},{label:"Pre-filled Text",href:"/ai/prefilled"}]},{icon:$d,label:"Facebook",href:"/facebook",pageId:"facebook-leads",subItems:[{label:"Lead Forms",href:"/facebook/forms"},{label:"Leads",href:"/facebook/leads"}]},{icon:WJ,label:"WhatsApp Flows",href:"/whatsapp/flows",pageId:"whatsapp-flows"},{icon:_s,label:"Reports",href:"/reports",pageId:"reports-campaign",subItems:[{label:"Delivery Report",href:"/reports/delivery"},{label:"Broadcast Report",href:"/reports/broadcast"},{label:"Campaign Perf.",href:"/campaigns/report"},{label:"Replies",href:"/reports/replies"},{label:"Agent Perf.",href:"/reports/agents"},{label:"Contact Analytics",href:"/reports/contacts"},{label:"Lead Assignments",href:"/reports/lead-assignments"},{label:"User Activity",href:"/reports/user-activity"},{label:"Blocked Contacts",href:"/reports/blocked"},{label:"User Engagement",href:"/reports/user-engagement"},{label:"Billing Report",href:"/reports/billing"}]},{icon:Yt,label:"Contacts",href:"/contacts",pageId:"contacts"},{icon:iv,label:"User Management",href:"/user-management",pageId:"user-management",adminOnly:!0},{icon:Tg,label:"Settings",href:"/settings",pageId:"settings",subItems:[{label:"Profile Details",href:"/settings/profile"},{label:"Webhook & API",href:"/settings/api"}]}],m=i?.pageAccess&&i.pageAccess.length>0,p=i?.role==="super_admin"||i?.role==="sub_admin",x=f.filter(y=>m?y.adminOnly&&!p?!1:y.pageId?i?.pageAccess?.includes(y.pageId)??!1:!0:!0),v=({item:y})=>{const N=t===y.href||y.subItems&&y.subItems.some(E=>t===E.href),[C,A]=b.useState(N),w=b.useRef(null),S=E=>{A(E),E&&w.current&&setTimeout(()=>{w.current?.scrollIntoView({behavior:"smooth",block:"start"})},50)};return y.subItems?n.jsx("div",{ref:w,children:n.jsxs(aie,{open:C,onOpenChange:S,className:"space-y-1",children:[n.jsx(sie,{asChild:!0,children:n.jsxs("div",{className:`
                  flex items-center justify-between px-3 py-2.5 rounded-md text-sm font-medium transition-colors cursor-pointer select-none
                  ${N?"bg-sidebar-accent/50 text-sidebar-accent-foreground":"text-black hover:bg-sidebar-accent/30 hover:text-sidebar-foreground"}
                `,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(y.icon,{className:"h-4 w-4"}),y.label]}),C?n.jsx(av,{className:"h-3 w-3 opacity-50"}):n.jsx(ZC,{className:"h-3 w-3 opacity-50"})]})}),n.jsx(iie,{className:"pl-9 space-y-1 animate-in slide-in-from-top-2 duration-200",children:y.subItems.map(E=>n.jsx(qo,{href:E.href,children:n.jsx("div",{className:`
                      block px-3 py-2 rounded-md text-xs font-medium transition-colors cursor-pointer
                      ${t===E.href?"bg-sidebar-accent text-sidebar-accent-foreground":"text-black hover:bg-sidebar-accent/30 hover:text-sidebar-foreground"}
                    `,children:E.label})},E.href))})]})}):n.jsx(qo,{href:y.href,children:n.jsxs("div",{className:`
            flex items-center justify-between px-3 py-2.5 rounded-md text-sm font-medium transition-colors cursor-pointer
            ${N?"bg-sidebar-accent text-sidebar-accent-foreground":"text-black hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"}
          `,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(y.icon,{className:"h-4 w-4"}),y.label]}),y.badge&&n.jsx(Ae,{className:"bg-red-500 hover:bg-red-600 text-white text-xs px-1.5 py-0.5 min-w-[20px] text-center",children:y.badge>99?"99+":y.badge})]})})},j=()=>n.jsxs("div",{className:"flex flex-col h-screen",children:[n.jsxs("div",{className:"p-6 flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary flex items-center justify-center",children:n.jsx(qt,{className:"h-6 w-6 text-primary-foreground"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-heading font-bold text-lg leading-none tracking-tight",children:"WhatsApp"}),n.jsx("span",{className:"text-xs text-sidebar-foreground/60",children:"Business API"})]})]}),n.jsx("div",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:x.map((y,N)=>n.jsx(v,{item:y},N))}),n.jsx("div",{className:"p-4 border-t border-sidebar-border shrink-0"})]});return n.jsxs("div",{className:"min-h-screen bg-gray-50/50 flex",children:[n.jsx("div",{className:"hidden md:block w-64 bg-[#9fadcc] text-black border-r border-sidebar-border shrink-0",children:n.jsx(j,{})}),n.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[n.jsxs("header",{className:"h-16 border-b border-border bg-background px-6 flex items-center justify-between shrink-0 sticky top-0 z-10",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(Gse,{open:a,onOpenChange:s,children:[n.jsx(Yse,{asChild:!0,children:n.jsx(Y,{variant:"ghost",size:"icon",className:"md:hidden",children:n.jsx(aJ,{className:"h-5 w-5"})})}),n.jsx(Oz,{side:"left",className:"p-0 w-64 bg-sidebar border-r border-sidebar-border text-black",children:n.jsx(j,{})})]}),n.jsxs("div",{className:"relative hidden sm:block w-96",children:[n.jsx(Qn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-black"}),n.jsx(Pe,{placeholder:"Search messages, contacts, campaigns...",className:"pl-9 bg-secondary/50 border-none focus-visible:ring-1"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(Y,{variant:"ghost",size:"icon",className:"relative",children:[n.jsx(VQ,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("span",{className:"absolute top-2 right-2 h-2 w-2 rounded-full bg-destructive border-2 border-background"})]}),n.jsxs(ol,{children:[n.jsx(ll,{asChild:!0,children:n.jsx(Y,{variant:"ghost",className:"relative h-9 w-9 rounded-full",children:n.jsxs(aa,{className:"h-9 w-9 border border-border",children:[n.jsx(A_,{src:"https://github.com/shadcn.png",alt:"@user"}),n.jsx(sa,{children:"CN"})]})})}),n.jsxs(Gi,{className:"w-56 bg-white",align:"end",forceMount:!0,children:[n.jsx(dz,{className:"font-normal bg-white",children:n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsx("p",{className:"text-sm font-medium leading-none",children:"WhatsApp Admin"}),n.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:i?.email||"admin@whatsapp.com"})]})}),n.jsx(W2,{}),n.jsxs(Bn,{children:[n.jsx(Yt,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Team Members"})]}),n.jsxs(Bn,{children:[n.jsx(Tg,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Settings"})]}),n.jsx(W2,{}),n.jsxs(Bn,{onClick:u,className:"text-destructive focus:text-destructive cursor-pointer",children:[n.jsx(XZ,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Log out"})]})]})]})]})]}),n.jsx("main",{className:"flex-1 overflow-auto p-6",children:e})]})]})}function _i({title:e,value:t,description:r,icon:a,trend:s,className:i}){return n.jsxs(Q,{className:i,children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:e}),n.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t}),(r||s)&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[s&&n.jsxs("span",{className:s.value>0?"text-emerald-600 font-medium":"text-destructive font-medium",children:[s.value>0?"+":"",s.value,"%"]}),s&&n.jsx("span",{className:"text-muted-foreground/60",children:s.label}),!s&&r]})]})]})}var dw,gP;function ga(){if(gP)return dw;gP=1;var e=Array.isArray;return dw=e,dw}var fw,yP;function Dz(){if(yP)return fw;yP=1;var e=typeof Mx=="object"&&Mx&&Mx.Object===Object&&Mx;return fw=e,fw}var hw,vP;function ei(){if(vP)return hw;vP=1;var e=Dz(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return hw=r,hw}var mw,jP;function Xm(){if(jP)return mw;jP=1;var e=ei(),t=e.Symbol;return mw=t,mw}var pw,bP;function oie(){if(bP)return pw;bP=1;var e=Xm(),t=Object.prototype,r=t.hasOwnProperty,a=t.toString,s=e?e.toStringTag:void 0;function i(l){var u=r.call(l,s),d=l[s];try{l[s]=void 0;var f=!0}catch{}var m=a.call(l);return f&&(u?l[s]=d:delete l[s]),m}return pw=i,pw}var xw,wP;function lie(){if(wP)return xw;wP=1;var e=Object.prototype,t=e.toString;function r(a){return t.call(a)}return xw=r,xw}var gw,NP;function Yi(){if(NP)return gw;NP=1;var e=Xm(),t=oie(),r=lie(),a="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?s:a:i&&i in Object(u)?t(u):r(u)}return gw=l,gw}var yw,SP;function Xi(){if(SP)return yw;SP=1;function e(t){return t!=null&&typeof t=="object"}return yw=e,yw}var vw,AP;function Kd(){if(AP)return vw;AP=1;var e=Yi(),t=Xi(),r="[object Symbol]";function a(s){return typeof s=="symbol"||t(s)&&e(s)==r}return vw=a,vw}var jw,CP;function H_(){if(CP)return jw;CP=1;var e=ga(),t=Kd(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,l){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||t(i)?!0:a.test(i)||!r.test(i)||l!=null&&i in Object(l)}return jw=s,jw}var bw,_P;function cl(){if(_P)return bw;_P=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return bw=e,bw}var ww,EP;function K_(){if(EP)return ww;EP=1;var e=Yi(),t=cl(),r="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==a||d==s||d==r||d==i}return ww=l,ww}var Nw,TP;function cie(){if(TP)return Nw;TP=1;var e=ei(),t=e["__core-js_shared__"];return Nw=t,Nw}var Sw,OP;function uie(){if(OP)return Sw;OP=1;var e=cie(),t=(function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function r(a){return!!t&&t in a}return Sw=r,Sw}var Aw,MP;function Iz(){if(MP)return Aw;MP=1;var e=Function.prototype,t=e.toString;function r(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return Aw=r,Aw}var Cw,kP;function die(){if(kP)return Cw;kP=1;var e=K_(),t=uie(),r=cl(),a=Iz(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,m=RegExp("^"+d.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(x){if(!r(x)||t(x))return!1;var v=e(x)?m:i;return v.test(a(x))}return Cw=p,Cw}var _w,PP;function fie(){if(PP)return _w;PP=1;function e(t,r){return t?.[r]}return _w=e,_w}var Ew,RP;function Ec(){if(RP)return Ew;RP=1;var e=die(),t=fie();function r(a,s){var i=t(a,s);return e(i)?i:void 0}return Ew=r,Ew}var Tw,DP;function Av(){if(DP)return Tw;DP=1;var e=Ec(),t=e(Object,"create");return Tw=t,Tw}var Ow,IP;function hie(){if(IP)return Ow;IP=1;var e=Av();function t(){this.__data__=e?e(null):{},this.size=0}return Ow=t,Ow}var Mw,LP;function mie(){if(LP)return Mw;LP=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Mw=e,Mw}var kw,$P;function pie(){if($P)return kw;$P=1;var e=Av(),t="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function s(i){var l=this.__data__;if(e){var u=l[i];return u===t?void 0:u}return a.call(l,i)?l[i]:void 0}return kw=s,kw}var Pw,FP;function xie(){if(FP)return Pw;FP=1;var e=Av(),t=Object.prototype,r=t.hasOwnProperty;function a(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return Pw=a,Pw}var Rw,qP;function gie(){if(qP)return Rw;qP=1;var e=Av(),t="__lodash_hash_undefined__";function r(a,s){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=e&&s===void 0?t:s,this}return Rw=r,Rw}var Dw,zP;function yie(){if(zP)return Dw;zP=1;var e=hie(),t=mie(),r=pie(),a=xie(),s=gie();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,Dw=i,Dw}var Iw,BP;function vie(){if(BP)return Iw;BP=1;function e(){this.__data__=[],this.size=0}return Iw=e,Iw}var Lw,UP;function V_(){if(UP)return Lw;UP=1;function e(t,r){return t===r||t!==t&&r!==r}return Lw=e,Lw}var $w,HP;function Cv(){if(HP)return $w;HP=1;var e=V_();function t(r,a){for(var s=r.length;s--;)if(e(r[s][0],a))return s;return-1}return $w=t,$w}var Fw,KP;function jie(){if(KP)return Fw;KP=1;var e=Cv(),t=Array.prototype,r=t.splice;function a(s){var i=this.__data__,l=e(i,s);if(l<0)return!1;var u=i.length-1;return l==u?i.pop():r.call(i,l,1),--this.size,!0}return Fw=a,Fw}var qw,VP;function bie(){if(VP)return qw;VP=1;var e=Cv();function t(r){var a=this.__data__,s=e(a,r);return s<0?void 0:a[s][1]}return qw=t,qw}var zw,WP;function wie(){if(WP)return zw;WP=1;var e=Cv();function t(r){return e(this.__data__,r)>-1}return zw=t,zw}var Bw,GP;function Nie(){if(GP)return Bw;GP=1;var e=Cv();function t(r,a){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,a])):s[i][1]=a,this}return Bw=t,Bw}var Uw,YP;function _v(){if(YP)return Uw;YP=1;var e=vie(),t=jie(),r=bie(),a=wie(),s=Nie();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,Uw=i,Uw}var Hw,XP;function W_(){if(XP)return Hw;XP=1;var e=Ec(),t=ei(),r=e(t,"Map");return Hw=r,Hw}var Kw,QP;function Sie(){if(QP)return Kw;QP=1;var e=yie(),t=_v(),r=W_();function a(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Kw=a,Kw}var Vw,ZP;function Aie(){if(ZP)return Vw;ZP=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Vw=e,Vw}var Ww,JP;function Ev(){if(JP)return Ww;JP=1;var e=Aie();function t(r,a){var s=r.__data__;return e(a)?s[typeof a=="string"?"string":"hash"]:s.map}return Ww=t,Ww}var Gw,eR;function Cie(){if(eR)return Gw;eR=1;var e=Ev();function t(r){var a=e(this,r).delete(r);return this.size-=a?1:0,a}return Gw=t,Gw}var Yw,tR;function _ie(){if(tR)return Yw;tR=1;var e=Ev();function t(r){return e(this,r).get(r)}return Yw=t,Yw}var Xw,nR;function Eie(){if(nR)return Xw;nR=1;var e=Ev();function t(r){return e(this,r).has(r)}return Xw=t,Xw}var Qw,rR;function Tie(){if(rR)return Qw;rR=1;var e=Ev();function t(r,a){var s=e(this,r),i=s.size;return s.set(r,a),this.size+=s.size==i?0:1,this}return Qw=t,Qw}var Zw,aR;function G_(){if(aR)return Zw;aR=1;var e=Sie(),t=Cie(),r=_ie(),a=Eie(),s=Tie();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,Zw=i,Zw}var Jw,sR;function Lz(){if(sR)return Jw;sR=1;var e=G_(),t="Expected a function";function r(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var l=arguments,u=s?s.apply(this,l):l[0],d=i.cache;if(d.has(u))return d.get(u);var f=a.apply(this,l);return i.cache=d.set(u,f)||d,f};return i.cache=new(r.Cache||e),i}return r.Cache=e,Jw=r,Jw}var eN,iR;function Oie(){if(iR)return eN;iR=1;var e=Lz(),t=500;function r(a){var s=e(a,function(l){return i.size===t&&i.clear(),l}),i=s.cache;return s}return eN=r,eN}var tN,oR;function Mie(){if(oR)return tN;oR=1;var e=Oie(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(l,u,d,f){i.push(d?f.replace(r,"$1"):u||l)}),i});return tN=a,tN}var nN,lR;function Y_(){if(lR)return nN;lR=1;function e(t,r){for(var a=-1,s=t==null?0:t.length,i=Array(s);++a<s;)i[a]=r(t[a],a,t);return i}return nN=e,nN}var rN,cR;function kie(){if(cR)return rN;cR=1;var e=Xm(),t=Y_(),r=ga(),a=Kd(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(a(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return rN=l,rN}var aN,uR;function $z(){if(uR)return aN;uR=1;var e=kie();function t(r){return r==null?"":e(r)}return aN=t,aN}var sN,dR;function Fz(){if(dR)return sN;dR=1;var e=ga(),t=H_(),r=Mie(),a=$z();function s(i,l){return e(i)?i:t(i,l)?[i]:r(a(i))}return sN=s,sN}var iN,fR;function Tv(){if(fR)return iN;fR=1;var e=Kd();function t(r){if(typeof r=="string"||e(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return iN=t,iN}var oN,hR;function X_(){if(hR)return oN;hR=1;var e=Fz(),t=Tv();function r(a,s){s=e(s,a);for(var i=0,l=s.length;a!=null&&i<l;)a=a[t(s[i++])];return i&&i==l?a:void 0}return oN=r,oN}var lN,mR;function qz(){if(mR)return lN;mR=1;var e=X_();function t(r,a,s){var i=r==null?void 0:e(r,a);return i===void 0?s:i}return lN=t,lN}var Pie=qz();const ka=an(Pie);var cN,pR;function Rie(){if(pR)return cN;pR=1;function e(t){return t==null}return cN=e,cN}var Die=Rie();const bt=an(Die);var uN,xR;function Iie(){if(xR)return uN;xR=1;var e=Yi(),t=ga(),r=Xi(),a="[object String]";function s(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==a}return uN=s,uN}var Lie=Iie();const ic=an(Lie);var $ie=K_();const Nt=an($ie);var Fie=cl();const Vd=an(Fie);var dN={exports:{}},on={};var gR;function qie(){if(gR)return on;gR=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function y(N){if(typeof N=="object"&&N!==null){var C=N.$$typeof;switch(C){case e:switch(N=N.type,N){case r:case s:case a:case f:case m:return N;default:switch(N=N&&N.$$typeof,N){case u:case l:case d:case x:case p:case i:return N;default:return C}}case t:return C}}}return on.ContextConsumer=l,on.ContextProvider=i,on.Element=e,on.ForwardRef=d,on.Fragment=r,on.Lazy=x,on.Memo=p,on.Portal=t,on.Profiler=s,on.StrictMode=a,on.Suspense=f,on.SuspenseList=m,on.isAsyncMode=function(){return!1},on.isConcurrentMode=function(){return!1},on.isContextConsumer=function(N){return y(N)===l},on.isContextProvider=function(N){return y(N)===i},on.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},on.isForwardRef=function(N){return y(N)===d},on.isFragment=function(N){return y(N)===r},on.isLazy=function(N){return y(N)===x},on.isMemo=function(N){return y(N)===p},on.isPortal=function(N){return y(N)===t},on.isProfiler=function(N){return y(N)===s},on.isStrictMode=function(N){return y(N)===a},on.isSuspense=function(N){return y(N)===f},on.isSuspenseList=function(N){return y(N)===m},on.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===s||N===a||N===f||N===m||N===v||typeof N=="object"&&N!==null&&(N.$$typeof===x||N.$$typeof===p||N.$$typeof===i||N.$$typeof===l||N.$$typeof===d||N.$$typeof===j||N.getModuleId!==void 0)},on.typeOf=y,on}var yR;function zie(){return yR||(yR=1,dN.exports=qie()),dN.exports}var Bie=zie(),fN,vR;function zz(){if(vR)return fN;vR=1;var e=Yi(),t=Xi(),r="[object Number]";function a(s){return typeof s=="number"||t(s)&&e(s)==r}return fN=a,fN}var hN,jR;function Uie(){if(jR)return hN;jR=1;var e=zz();function t(r){return e(r)&&r!=+r}return hN=t,hN}var Hie=Uie();const Wd=an(Hie);var Kie=zz();const Vie=an(Kie);var ea=function(t){return t===0?0:t>0?1:-1},Kl=function(t){return ic(t)&&t.indexOf("%")===t.length-1},ze=function(t){return Vie(t)&&!Wd(t)},Wie=function(t){return bt(t)},wr=function(t){return ze(t)||ic(t)},Gie=0,ul=function(t){var r=++Gie;return"".concat(t||"").concat(r)},ta=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze(t)&&!ic(t))return a;var i;if(Kl(t)){var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Wd(i)&&(i=a),s&&i>r&&(i=r),i},$o=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Yie=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},s=0;s<r;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},zn=function(t,r){return ze(t)&&ze(r)?function(a){return t+a*(r-t)}:function(){return r}};function Fg(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):ka(a,t))===r})}var Xie=function(t){if(!t||!t.length)return null;for(var r=t.length,a=0,s=0,i=0,l=0,u=1/0,d=-1/0,f=0,m=0,p=0;p<r;p++)f=t[p].cx||0,m=t[p].cy||0,a+=f,s+=m,i+=f*m,l+=f*f,u=Math.min(u,f),d=Math.max(d,f);var x=r*l!==a*a?(r*i-a*s)/(r*l-a*a):0;return{xmin:u,xmax:d,a:x,b:(s-x*a)/r}},Qie=function(t,r){return ze(t)&&ze(r)?t-r:ic(t)&&ic(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function zu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function G2(e){"@babel/helpers - typeof";return G2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G2(e)}var Zie=["viewBox","children"],Jie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bR=["points","pathLength"],mN={svg:Zie,polygon:bR,polyline:bR},Q_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qg=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(b.isValidElement(t)&&(a=t.props),!Vd(a))return null;var s={};return Object.keys(a).forEach(function(i){Q_.includes(i)&&(s[i]=r||function(l){return a[i](a,l)})}),s},eoe=function(t,r,a){return function(s){return t(r,a,s),null}},rl=function(t,r,a){if(!Vd(t)||G2(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var l=t[i];Q_.includes(i)&&typeof l=="function"&&(s||(s={}),s[i]=eoe(l,r,a))}),s},toe=["children"],noe=["children"];function wR(e,t){if(e==null)return{};var r=roe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function roe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Y2(e){"@babel/helpers - typeof";return Y2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y2(e)}var NR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Pi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},SR=null,pN=null,Z_=function e(t){if(t===SR&&Array.isArray(pN))return pN;var r=[];return b.Children.forEach(t,function(a){bt(a)||(Bie.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),pN=r,SR=t,r};function ra(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(s){return Pi(s)}):a=[Pi(t)],Z_(e).forEach(function(s){var i=ka(s,"type.displayName")||ka(s,"type.name");a.indexOf(i)!==-1&&r.push(s)}),r}function _a(e,t){var r=ra(e,t);return r&&r[0]}var AR=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,s=r.height;return!(!ze(a)||a<=0||!ze(s)||s<=0)},aoe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],soe=function(t){return t&&t.type&&ic(t.type)&&aoe.indexOf(t.type)>=0},Bz=function(t){return t&&Y2(t)==="object"&&"clipDot"in t},ioe=function(t,r,a,s){var i,l=(i=mN?.[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Nt(t)&&(s&&l.includes(r)||Jie.includes(r))||a&&Q_.includes(r)},pt=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(b.isValidElement(t)&&(s=t.props),!Vd(s))return null;var i={};return Object.keys(s).forEach(function(l){var u;ioe((u=s)===null||u===void 0?void 0:u[l],l,r,a)&&(i[l]=s[l])}),i},X2=function e(t,r){if(t===r)return!0;var a=b.Children.count(t);if(a!==b.Children.count(r))return!1;if(a===0)return!0;if(a===1)return CR(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var i=t[s],l=r[s];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!CR(i,l))return!1}return!0},CR=function(t,r){if(bt(t)&&bt(r))return!0;if(!bt(t)&&!bt(r)){var a=t.props||{},s=a.children,i=wR(a,toe),l=r.props||{},u=l.children,d=wR(l,noe);return s&&u?zu(i,d)&&X2(s,u):!s&&!u?zu(i,d):!1}return!1},_R=function(t,r){var a=[],s={};return Z_(t).forEach(function(i,l){if(soe(i))a.push(i);else if(i){var u=Pi(i.type),d=r[u]||{},f=d.handler,m=d.once;if(f&&(!m||!s[u])){var p=f(i,u,l);a.push(p),s[u]=!0}}}),a},ooe=function(t){var r=t&&t.type;return r&&NR[r]?NR[r]:null},loe=function(t,r){return Z_(r).indexOf(t)},coe=["children","width","height","viewBox","className","style","title","desc"];function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Q2.apply(this,arguments)}function uoe(e,t){if(e==null)return{};var r=doe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function doe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Z2(e){var t=e.children,r=e.width,a=e.height,s=e.viewBox,i=e.className,l=e.style,u=e.title,d=e.desc,f=uoe(e,coe),m=s||{width:r,height:a,x:0,y:0},p=_t("recharts-surface",i);return J.createElement("svg",Q2({},pt(f,!0,"svg"),{className:p,width:r,height:a,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),J.createElement("title",null,u),J.createElement("desc",null,d),t)}var foe=["children","className"];function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},J2.apply(this,arguments)}function hoe(e,t){if(e==null)return{};var r=moe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function moe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Ot=J.forwardRef(function(e,t){var r=e.children,a=e.className,s=hoe(e,foe),i=_t("recharts-layer",a);return J.createElement("g",J2({className:i},pt(s,!0),{ref:t}),r)}),Ss=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]},xN,ER;function poe(){if(ER)return xN;ER=1;function e(t,r,a){var s=-1,i=t.length;r<0&&(r=-r>i?0:i+r),a=a>i?i:a,a<0&&(a+=i),i=r>a?0:a-r>>>0,r>>>=0;for(var l=Array(i);++s<i;)l[s]=t[s+r];return l}return xN=e,xN}var gN,TR;function xoe(){if(TR)return gN;TR=1;var e=poe();function t(r,a,s){var i=r.length;return s=s===void 0?i:s,!a&&s>=i?r:e(r,a,s)}return gN=t,gN}var yN,OR;function Uz(){if(OR)return yN;OR=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+r+a,i="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+s+i+"]");function d(f){return u.test(f)}return yN=d,yN}var vN,MR;function goe(){if(MR)return vN;MR=1;function e(t){return t.split("")}return vN=e,vN}var jN,kR;function yoe(){if(kR)return jN;kR=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+r+a,i="\\ufe0e\\ufe0f",l="["+e+"]",u="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",m="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",j=f+"?",y="["+i+"]?",N="(?:"+v+"(?:"+[m,p,x].join("|")+")"+y+j+")*",C=y+j+N,A="(?:"+[m+u+"?",u,p,x,l].join("|")+")",w=RegExp(d+"(?="+d+")|"+A+C,"g");function S(E){return E.match(w)||[]}return jN=S,jN}var bN,PR;function voe(){if(PR)return bN;PR=1;var e=goe(),t=Uz(),r=yoe();function a(s){return t(s)?r(s):e(s)}return bN=a,bN}var wN,RR;function joe(){if(RR)return wN;RR=1;var e=xoe(),t=Uz(),r=voe(),a=$z();function s(i){return function(l){l=a(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[i]()+f}}return wN=s,wN}var NN,DR;function boe(){if(DR)return NN;DR=1;var e=joe(),t=e("toUpperCase");return NN=t,NN}var woe=boe();const Ov=an(woe);function wn(e){return function(){return e}}const Hz=Math.cos,zg=Math.sin,Rs=Math.sqrt,Bg=Math.PI,Mv=2*Bg,eA=Math.PI,tA=2*eA,Fl=1e-6,Noe=tA-Fl;function Kz(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Soe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Kz;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class Aoe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Kz:Soe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,l){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,u=this._y1,d=a-t,f=s-r,m=l-t,p=u-r,x=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>Fl)if(!(Math.abs(p*d-f*m)>Fl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let v=a-l,j=s-u,y=d*d+f*f,N=v*v+j*j,C=Math.sqrt(y),A=Math.sqrt(x),w=i*Math.tan((eA-Math.acos((y+x-N)/(2*C*A)))/2),S=w/A,E=w/C;Math.abs(S-1)>Fl&&this._append`L${t+S*m},${r+S*p}`,this._append`A${i},${i},0,0,${+(p*v>m*j)},${this._x1=t+E*d},${this._y1=r+E*f}`}}arc(t,r,a,s,i,l){if(t=+t,r=+r,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let u=a*Math.cos(s),d=a*Math.sin(s),f=t+u,m=r+d,p=1^l,x=l?s-i:i-s;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Fl||Math.abs(this._y1-m)>Fl)&&this._append`L${f},${m}`,a&&(x<0&&(x=x%tA+tA),x>Noe?this._append`A${a},${a},0,1,${p},${t-u},${r-d}A${a},${a},0,1,${p},${this._x1=f},${this._y1=m}`:x>Fl&&this._append`A${a},${a},0,${+(x>=eA)},${p},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function J_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new Aoe(t)}function eE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Vz(e){this._context=e}Vz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function kv(e){return new Vz(e)}function Wz(e){return e[0]}function Gz(e){return e[1]}function Yz(e,t){var r=wn(!0),a=null,s=kv,i=null,l=J_(u);e=typeof e=="function"?e:e===void 0?Wz:wn(e),t=typeof t=="function"?t:t===void 0?Gz:wn(t);function u(d){var f,m=(d=eE(d)).length,p,x=!1,v;for(a==null&&(i=s(v=l())),f=0;f<=m;++f)!(f<m&&r(p=d[f],f,d))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(p,f,d),+t(p,f,d));if(v)return i=null,v+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:wn(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:wn(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:wn(!!d),u):r},u.curve=function(d){return arguments.length?(s=d,a!=null&&(i=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=i=null:i=s(a=d),u):a},u}function Ux(e,t,r){var a=null,s=wn(!0),i=null,l=kv,u=null,d=J_(f);e=typeof e=="function"?e:e===void 0?Wz:wn(+e),t=typeof t=="function"?t:wn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Gz:wn(+r);function f(p){var x,v,j,y=(p=eE(p)).length,N,C=!1,A,w=new Array(y),S=new Array(y);for(i==null&&(u=l(A=d())),x=0;x<=y;++x){if(!(x<y&&s(N=p[x],x,p))===C)if(C=!C)v=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=x-1;j>=v;--j)u.point(w[j],S[j]);u.lineEnd(),u.areaEnd()}C&&(w[x]=+e(N,x,p),S[x]=+t(N,x,p),u.point(a?+a(N,x,p):w[x],r?+r(N,x,p):S[x]))}if(A)return u=null,A+""||null}function m(){return Yz().defined(s).curve(l).context(i)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:wn(+p),a=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:wn(+p),f):e},f.x1=function(p){return arguments.length?(a=p==null?null:typeof p=="function"?p:wn(+p),f):a},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:wn(+p),r=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:wn(+p),f):t},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:wn(+p),f):r},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(r)},f.lineX1=function(){return m().x(a).y(t)},f.defined=function(p){return arguments.length?(s=typeof p=="function"?p:wn(!!p),f):s},f.curve=function(p){return arguments.length?(l=p,i!=null&&(u=l(i)),f):l},f.context=function(p){return arguments.length?(p==null?i=u=null:u=l(i=p),f):i},f}class Xz{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Coe(e){return new Xz(e,!0)}function _oe(e){return new Xz(e,!1)}const tE={draw(e,t){const r=Rs(t/Bg);e.moveTo(r,0),e.arc(0,0,r,0,Mv)}},Eoe={draw(e,t){const r=Rs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Qz=Rs(1/3),Toe=Qz*2,Ooe={draw(e,t){const r=Rs(t/Toe),a=r*Qz;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},Moe={draw(e,t){const r=Rs(t),a=-r/2;e.rect(a,a,r,r)}},koe=.8908130915292852,Zz=zg(Bg/10)/zg(7*Bg/10),Poe=zg(Mv/10)*Zz,Roe=-Hz(Mv/10)*Zz,Doe={draw(e,t){const r=Rs(t*koe),a=Poe*r,s=Roe*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const l=Mv*i/5,u=Hz(l),d=zg(l);e.lineTo(d*r,-u*r),e.lineTo(u*a-d*s,d*a+u*s)}e.closePath()}},SN=Rs(3),Ioe={draw(e,t){const r=-Rs(t/(SN*3));e.moveTo(0,r*2),e.lineTo(-SN*r,-r),e.lineTo(SN*r,-r),e.closePath()}},Ka=-.5,Va=Rs(3)/2,nA=1/Rs(12),Loe=(nA/2+1)*3,$oe={draw(e,t){const r=Rs(t/Loe),a=r/2,s=r*nA,i=a,l=r*nA+r,u=-i,d=l;e.moveTo(a,s),e.lineTo(i,l),e.lineTo(u,d),e.lineTo(Ka*a-Va*s,Va*a+Ka*s),e.lineTo(Ka*i-Va*l,Va*i+Ka*l),e.lineTo(Ka*u-Va*d,Va*u+Ka*d),e.lineTo(Ka*a+Va*s,Ka*s-Va*a),e.lineTo(Ka*i+Va*l,Ka*l-Va*i),e.lineTo(Ka*u+Va*d,Ka*d-Va*u),e.closePath()}};function Foe(e,t){let r=null,a=J_(s);e=typeof e=="function"?e:wn(e||tE),t=typeof t=="function"?t:wn(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:wn(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:wn(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Ug(){}function Hg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Jz(e){this._context=e}Jz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qoe(e){return new Jz(e)}function eB(e){this._context=e}eB.prototype={areaStart:Ug,areaEnd:Ug,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zoe(e){return new eB(e)}function tB(e){this._context=e}tB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Hg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Boe(e){return new tB(e)}function nB(e){this._context=e}nB.prototype={areaStart:Ug,areaEnd:Ug,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Uoe(e){return new nB(e)}function IR(e){return e<0?-1:1}function LR(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),l=(r-e._y1)/(s||a<0&&-0),u=(i*s+l*a)/(a+s);return(IR(i)+IR(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(u))||0}function $R(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function AN(e,t,r){var a=e._x0,s=e._y0,i=e._x1,l=e._y1,u=(i-a)/3;e._context.bezierCurveTo(a+u,s+u*t,i-u,l-u*r,i,l)}function Kg(e){this._context=e}Kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:AN(this,this._t0,$R(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,AN(this,$R(this,r=LR(this,e,t)),r);break;default:AN(this,this._t0,r=LR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function rB(e){this._context=new aB(e)}(rB.prototype=Object.create(Kg.prototype)).point=function(e,t){Kg.prototype.point.call(this,t,e)};function aB(e){this._context=e}aB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function Hoe(e){return new Kg(e)}function Koe(e){return new rB(e)}function sB(e){this._context=e}sB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=FR(e),s=FR(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function FR(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),l=new Array(r);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,l[t]-=a*l[t-1];for(s[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function Voe(e){return new sB(e)}function Pv(e,t){this._context=e,this._t=t}Pv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Woe(e){return new Pv(e,.5)}function Goe(e){return new Pv(e,0)}function Yoe(e){return new Pv(e,1)}function Gu(e,t){if((l=e.length)>1)for(var r=1,a,s,i=e[t[0]],l,u=i.length;r<l;++r)for(s=i,i=e[t[r]],a=0;a<u;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function rA(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Xoe(e,t){return e[t]}function Qoe(e){const t=[];return t.key=e,t}function Zoe(){var e=wn([]),t=rA,r=Gu,a=Xoe;function s(i){var l=Array.from(e.apply(this,arguments),Qoe),u,d=l.length,f=-1,m;for(const p of i)for(u=0,++f;u<d;++u)(l[u][f]=[0,+a(p,l[u].key,f,i)]).data=p;for(u=0,m=eE(t(l));u<d;++u)l[m[u]].index=u;return r(l,m),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:wn(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:wn(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?rA:typeof i=="function"?i:wn(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Gu,s):r},s}function Joe(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,l;s<i;++s){for(l=r=0;r<a;++r)l+=e[r][s][1]||0;if(l)for(r=0;r<a;++r)e[r][s][1]/=l}Gu(e,t)}}function ele(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var l=0,u=0;l<s;++l)u+=e[l][r][1]||0;a[r][1]+=a[r][0]=-u/2}Gu(e,t)}}function tle(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,l;a<i;++a){for(var u=0,d=0,f=0;u<l;++u){for(var m=e[t[u]],p=m[a][1]||0,x=m[a-1][1]||0,v=(p-x)/2,j=0;j<u;++j){var y=e[t[j]],N=y[a][1]||0,C=y[a-1][1]||0;v+=N-C}d+=p,f+=v*p}s[a-1][1]+=s[a-1][0]=r,d&&(r-=f/d)}s[a-1][1]+=s[a-1][0]=r,Gu(e,t)}}function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}var nle=["type","size","sizeType"];function aA(){return aA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},aA.apply(this,arguments)}function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function zR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(a){rle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rle(e,t,r){return t=ale(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ale(e){var t=sle(e,"string");return Bh(t)=="symbol"?t:t+""}function sle(e,t){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Bh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ile(e,t){if(e==null)return{};var r=ole(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ole(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var iB={symbolCircle:tE,symbolCross:Eoe,symbolDiamond:Ooe,symbolSquare:Moe,symbolStar:Doe,symbolTriangle:Ioe,symbolWye:$oe},lle=Math.PI/180,cle=function(t){var r="symbol".concat(Ov(t));return iB[r]||tE},ule=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*lle;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},dle=function(t,r){iB["symbol".concat(Ov(t))]=r},Rv=function(t){var r=t.type,a=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,l=t.sizeType,u=l===void 0?"area":l,d=ile(t,nle),f=zR(zR({},d),{},{type:a,size:i,sizeType:u}),m=function(){var N=cle(a),C=Foe().type(N).size(ule(i,u,a));return C()},p=f.className,x=f.cx,v=f.cy,j=pt(f,!0);return x===+x&&v===+v&&i===+i?J.createElement("path",aA({},j,{className:_t("recharts-symbols",p),transform:"translate(".concat(x,", ").concat(v,")"),d:m()})):null};Rv.registerSymbol=dle;function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function sA(){return sA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},sA.apply(this,arguments)}function BR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fle(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(r),!0).forEach(function(a){Uh(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mle(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lB(a.key),a)}}function ple(e,t,r){return t&&mle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xle(e,t,r){return t=Vg(t),gle(e,oB()?Reflect.construct(t,r||[],Vg(e).constructor):t.apply(e,r))}function gle(e,t){if(t&&(Yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yle(e)}function yle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oB=function(){return!!e})()}function Vg(e){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vg(e)}function vle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iA(e,t)}function iA(e,t){return iA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},iA(e,t)}function Uh(e,t,r){return t=lB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lB(e){var t=jle(e,"string");return Yu(t)=="symbol"?t:t+""}function jle(e,t){if(Yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Yu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wa=32,nE=(function(e){function t(){return hle(this,t),xle(this,t,arguments)}return vle(t,e),ple(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=Wa/2,l=Wa/6,u=Wa/3,d=a.inactive?s:a.color;if(a.type==="plainline")return J.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:Wa,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return J.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(Wa,"M").concat(2*u,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return J.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Wa/8,"h").concat(Wa,"v").concat(Wa*3/4,"h").concat(-Wa,"z"),className:"recharts-legend-icon"});if(J.isValidElement(a.legendIcon)){var f=fle({},a);return delete f.legendIcon,J.cloneElement(a.legendIcon,f)}return J.createElement(Rv,{fill:d,cx:i,cy:i,size:Wa,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,l=s.iconSize,u=s.layout,d=s.formatter,f=s.inactiveColor,m={x:0,y:0,width:Wa,height:Wa},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(v,j){var y=v.formatter||d,N=_t(Uh(Uh({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",v.inactive));if(v.type==="none")return null;var C=Nt(v.value)?null:v.value;Ss(!Nt(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=v.inactive?f:v.color;return J.createElement("li",sA({className:N,style:p,key:"legend-item-".concat(j)},rl(a.props,v,j)),J.createElement(Z2,{width:l,height:l,viewBox:m,style:x},a.renderIcon(v)),J.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},y?y(C,v,j):C))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,l=a.align;if(!s||!s.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return J.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(b.PureComponent);Uh(nE,"displayName","Legend");Uh(nE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var CN,UR;function ble(){if(UR)return CN;UR=1;var e=_v();function t(){this.__data__=new e,this.size=0}return CN=t,CN}var _N,HR;function wle(){if(HR)return _N;HR=1;function e(t){var r=this.__data__,a=r.delete(t);return this.size=r.size,a}return _N=e,_N}var EN,KR;function Nle(){if(KR)return EN;KR=1;function e(t){return this.__data__.get(t)}return EN=e,EN}var TN,VR;function Sle(){if(VR)return TN;VR=1;function e(t){return this.__data__.has(t)}return TN=e,TN}var ON,WR;function Ale(){if(WR)return ON;WR=1;var e=_v(),t=W_(),r=G_(),a=200;function s(i,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<a-1)return d.push([i,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(i,l),this.size=u.size,this}return ON=s,ON}var MN,GR;function cB(){if(GR)return MN;GR=1;var e=_v(),t=ble(),r=wle(),a=Nle(),s=Sle(),i=Ale();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=s,l.prototype.set=i,MN=l,MN}var kN,YR;function Cle(){if(YR)return kN;YR=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return kN=t,kN}var PN,XR;function _le(){if(XR)return PN;XR=1;function e(t){return this.__data__.has(t)}return PN=e,PN}var RN,QR;function uB(){if(QR)return RN;QR=1;var e=G_(),t=Cle(),r=_le();function a(s){var i=-1,l=s==null?0:s.length;for(this.__data__=new e;++i<l;)this.add(s[i])}return a.prototype.add=a.prototype.push=t,a.prototype.has=r,RN=a,RN}var DN,ZR;function dB(){if(ZR)return DN;ZR=1;function e(t,r){for(var a=-1,s=t==null?0:t.length;++a<s;)if(r(t[a],a,t))return!0;return!1}return DN=e,DN}var IN,JR;function fB(){if(JR)return IN;JR=1;function e(t,r){return t.has(r)}return IN=e,IN}var LN,eD;function hB(){if(eD)return LN;eD=1;var e=uB(),t=dB(),r=fB(),a=1,s=2;function i(l,u,d,f,m,p){var x=d&a,v=l.length,j=u.length;if(v!=j&&!(x&&j>v))return!1;var y=p.get(l),N=p.get(u);if(y&&N)return y==u&&N==l;var C=-1,A=!0,w=d&s?new e:void 0;for(p.set(l,u),p.set(u,l);++C<v;){var S=l[C],E=u[C];if(f)var O=x?f(E,S,C,u,l,p):f(S,E,C,l,u,p);if(O!==void 0){if(O)continue;A=!1;break}if(w){if(!t(u,function(M,R){if(!r(w,R)&&(S===M||m(S,M,d,f,p)))return w.push(R)})){A=!1;break}}else if(!(S===E||m(S,E,d,f,p))){A=!1;break}}return p.delete(l),p.delete(u),A}return LN=i,LN}var $N,tD;function Ele(){if(tD)return $N;tD=1;var e=ei(),t=e.Uint8Array;return $N=t,$N}var FN,nD;function Tle(){if(nD)return FN;nD=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(s,i){a[++r]=[i,s]}),a}return FN=e,FN}var qN,rD;function rE(){if(rD)return qN;rD=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(s){a[++r]=s}),a}return qN=e,qN}var zN,aD;function Ole(){if(aD)return zN;aD=1;var e=Xm(),t=Ele(),r=V_(),a=hB(),s=Tle(),i=rE(),l=1,u=2,d="[object Boolean]",f="[object Date]",m="[object Error]",p="[object Map]",x="[object Number]",v="[object RegExp]",j="[object Set]",y="[object String]",N="[object Symbol]",C="[object ArrayBuffer]",A="[object DataView]",w=e?e.prototype:void 0,S=w?w.valueOf:void 0;function E(O,M,R,I,V,F,H){switch(R){case A:if(O.byteLength!=M.byteLength||O.byteOffset!=M.byteOffset)return!1;O=O.buffer,M=M.buffer;case C:return!(O.byteLength!=M.byteLength||!F(new t(O),new t(M)));case d:case f:case x:return r(+O,+M);case m:return O.name==M.name&&O.message==M.message;case v:case y:return O==M+"";case p:var K=s;case j:var q=I&l;if(K||(K=i),O.size!=M.size&&!q)return!1;var $=H.get(O);if($)return $==M;I|=u,H.set(O,M);var k=a(K(O),K(M),I,V,F,H);return H.delete(O),k;case N:if(S)return S.call(O)==S.call(M)}return!1}return zN=E,zN}var BN,sD;function mB(){if(sD)return BN;sD=1;function e(t,r){for(var a=-1,s=r.length,i=t.length;++a<s;)t[i+a]=r[a];return t}return BN=e,BN}var UN,iD;function Mle(){if(iD)return UN;iD=1;var e=mB(),t=ga();function r(a,s,i){var l=s(a);return t(a)?l:e(l,i(a))}return UN=r,UN}var HN,oD;function kle(){if(oD)return HN;oD=1;function e(t,r){for(var a=-1,s=t==null?0:t.length,i=0,l=[];++a<s;){var u=t[a];r(u,a,t)&&(l[i++]=u)}return l}return HN=e,HN}var KN,lD;function Ple(){if(lD)return KN;lD=1;function e(){return[]}return KN=e,KN}var VN,cD;function Rle(){if(cD)return VN;cD=1;var e=kle(),t=Ple(),r=Object.prototype,a=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(l){return l==null?[]:(l=Object(l),e(s(l),function(u){return a.call(l,u)}))}:t;return VN=i,VN}var WN,uD;function Dle(){if(uD)return WN;uD=1;function e(t,r){for(var a=-1,s=Array(t);++a<t;)s[a]=r(a);return s}return WN=e,WN}var GN,dD;function Ile(){if(dD)return GN;dD=1;var e=Yi(),t=Xi(),r="[object Arguments]";function a(s){return t(s)&&e(s)==r}return GN=a,GN}var YN,fD;function aE(){if(fD)return YN;fD=1;var e=Ile(),t=Xi(),r=Object.prototype,a=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(l){return t(l)&&a.call(l,"callee")&&!s.call(l,"callee")};return YN=i,YN}var ph={exports:{}},XN,hD;function Lle(){if(hD)return XN;hD=1;function e(){return!1}return XN=e,XN}ph.exports;var mD;function pB(){return mD||(mD=1,(function(e,t){var r=ei(),a=Lle(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||a;e.exports=f})(ph,ph.exports)),ph.exports}var QN,pD;function sE(){if(pD)return QN;pD=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(a,s){var i=typeof a;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<s}return QN=r,QN}var ZN,xD;function iE(){if(xD)return ZN;xD=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return ZN=t,ZN}var JN,gD;function $le(){if(gD)return JN;gD=1;var e=Yi(),t=iE(),r=Xi(),a="[object Arguments]",s="[object Array]",i="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",m="[object Number]",p="[object Object]",x="[object RegExp]",v="[object Set]",j="[object String]",y="[object WeakMap]",N="[object ArrayBuffer]",C="[object DataView]",A="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",E="[object Int16Array]",O="[object Int32Array]",M="[object Uint8Array]",R="[object Uint8ClampedArray]",I="[object Uint16Array]",V="[object Uint32Array]",F={};F[A]=F[w]=F[S]=F[E]=F[O]=F[M]=F[R]=F[I]=F[V]=!0,F[a]=F[s]=F[N]=F[i]=F[C]=F[l]=F[u]=F[d]=F[f]=F[m]=F[p]=F[x]=F[v]=F[j]=F[y]=!1;function H(K){return r(K)&&t(K.length)&&!!F[e(K)]}return JN=H,JN}var e1,yD;function xB(){if(yD)return e1;yD=1;function e(t){return function(r){return t(r)}}return e1=e,e1}var xh={exports:{}};xh.exports;var vD;function Fle(){return vD||(vD=1,(function(e,t){var r=Dz(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i&&r.process,u=(function(){try{var d=s&&s.require&&s.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(xh,xh.exports)),xh.exports}var t1,jD;function gB(){if(jD)return t1;jD=1;var e=$le(),t=xB(),r=Fle(),a=r&&r.isTypedArray,s=a?t(a):e;return t1=s,t1}var n1,bD;function qle(){if(bD)return n1;bD=1;var e=Dle(),t=aE(),r=ga(),a=pB(),s=sE(),i=gB(),l=Object.prototype,u=l.hasOwnProperty;function d(f,m){var p=r(f),x=!p&&t(f),v=!p&&!x&&a(f),j=!p&&!x&&!v&&i(f),y=p||x||v||j,N=y?e(f.length,String):[],C=N.length;for(var A in f)(m||u.call(f,A))&&!(y&&(A=="length"||v&&(A=="offset"||A=="parent")||j&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||s(A,C)))&&N.push(A);return N}return n1=d,n1}var r1,wD;function zle(){if(wD)return r1;wD=1;var e=Object.prototype;function t(r){var a=r&&r.constructor,s=typeof a=="function"&&a.prototype||e;return r===s}return r1=t,r1}var a1,ND;function yB(){if(ND)return a1;ND=1;function e(t,r){return function(a){return t(r(a))}}return a1=e,a1}var s1,SD;function Ble(){if(SD)return s1;SD=1;var e=yB(),t=e(Object.keys,Object);return s1=t,s1}var i1,AD;function Ule(){if(AD)return i1;AD=1;var e=zle(),t=Ble(),r=Object.prototype,a=r.hasOwnProperty;function s(i){if(!e(i))return t(i);var l=[];for(var u in Object(i))a.call(i,u)&&u!="constructor"&&l.push(u);return l}return i1=s,i1}var o1,CD;function Qm(){if(CD)return o1;CD=1;var e=K_(),t=iE();function r(a){return a!=null&&t(a.length)&&!e(a)}return o1=r,o1}var l1,_D;function Dv(){if(_D)return l1;_D=1;var e=qle(),t=Ule(),r=Qm();function a(s){return r(s)?e(s):t(s)}return l1=a,l1}var c1,ED;function Hle(){if(ED)return c1;ED=1;var e=Mle(),t=Rle(),r=Dv();function a(s){return e(s,r,t)}return c1=a,c1}var u1,TD;function Kle(){if(TD)return u1;TD=1;var e=Hle(),t=1,r=Object.prototype,a=r.hasOwnProperty;function s(i,l,u,d,f,m){var p=u&t,x=e(i),v=x.length,j=e(l),y=j.length;if(v!=y&&!p)return!1;for(var N=v;N--;){var C=x[N];if(!(p?C in l:a.call(l,C)))return!1}var A=m.get(i),w=m.get(l);if(A&&w)return A==l&&w==i;var S=!0;m.set(i,l),m.set(l,i);for(var E=p;++N<v;){C=x[N];var O=i[C],M=l[C];if(d)var R=p?d(M,O,C,l,i,m):d(O,M,C,i,l,m);if(!(R===void 0?O===M||f(O,M,u,d,m):R)){S=!1;break}E||(E=C=="constructor")}if(S&&!E){var I=i.constructor,V=l.constructor;I!=V&&"constructor"in i&&"constructor"in l&&!(typeof I=="function"&&I instanceof I&&typeof V=="function"&&V instanceof V)&&(S=!1)}return m.delete(i),m.delete(l),S}return u1=s,u1}var d1,OD;function Vle(){if(OD)return d1;OD=1;var e=Ec(),t=ei(),r=e(t,"DataView");return d1=r,d1}var f1,MD;function Wle(){if(MD)return f1;MD=1;var e=Ec(),t=ei(),r=e(t,"Promise");return f1=r,f1}var h1,kD;function vB(){if(kD)return h1;kD=1;var e=Ec(),t=ei(),r=e(t,"Set");return h1=r,h1}var m1,PD;function Gle(){if(PD)return m1;PD=1;var e=Ec(),t=ei(),r=e(t,"WeakMap");return m1=r,m1}var p1,RD;function Yle(){if(RD)return p1;RD=1;var e=Vle(),t=W_(),r=Wle(),a=vB(),s=Gle(),i=Yi(),l=Iz(),u="[object Map]",d="[object Object]",f="[object Promise]",m="[object Set]",p="[object WeakMap]",x="[object DataView]",v=l(e),j=l(t),y=l(r),N=l(a),C=l(s),A=i;return(e&&A(new e(new ArrayBuffer(1)))!=x||t&&A(new t)!=u||r&&A(r.resolve())!=f||a&&A(new a)!=m||s&&A(new s)!=p)&&(A=function(w){var S=i(w),E=S==d?w.constructor:void 0,O=E?l(E):"";if(O)switch(O){case v:return x;case j:return u;case y:return f;case N:return m;case C:return p}return S}),p1=A,p1}var x1,DD;function Xle(){if(DD)return x1;DD=1;var e=cB(),t=hB(),r=Ole(),a=Kle(),s=Yle(),i=ga(),l=pB(),u=gB(),d=1,f="[object Arguments]",m="[object Array]",p="[object Object]",x=Object.prototype,v=x.hasOwnProperty;function j(y,N,C,A,w,S){var E=i(y),O=i(N),M=E?m:s(y),R=O?m:s(N);M=M==f?p:M,R=R==f?p:R;var I=M==p,V=R==p,F=M==R;if(F&&l(y)){if(!l(N))return!1;E=!0,I=!1}if(F&&!I)return S||(S=new e),E||u(y)?t(y,N,C,A,w,S):r(y,N,M,C,A,w,S);if(!(C&d)){var H=I&&v.call(y,"__wrapped__"),K=V&&v.call(N,"__wrapped__");if(H||K){var q=H?y.value():y,$=K?N.value():N;return S||(S=new e),w(q,$,C,A,S)}}return F?(S||(S=new e),a(y,N,C,A,w,S)):!1}return x1=j,x1}var g1,ID;function oE(){if(ID)return g1;ID=1;var e=Xle(),t=Xi();function r(a,s,i,l,u){return a===s?!0:a==null||s==null||!t(a)&&!t(s)?a!==a&&s!==s:e(a,s,i,l,r,u)}return g1=r,g1}var y1,LD;function Qle(){if(LD)return y1;LD=1;var e=cB(),t=oE(),r=1,a=2;function s(i,l,u,d){var f=u.length,m=f,p=!d;if(i==null)return!m;for(i=Object(i);f--;){var x=u[f];if(p&&x[2]?x[1]!==i[x[0]]:!(x[0]in i))return!1}for(;++f<m;){x=u[f];var v=x[0],j=i[v],y=x[1];if(p&&x[2]){if(j===void 0&&!(v in i))return!1}else{var N=new e;if(d)var C=d(j,y,v,i,l,N);if(!(C===void 0?t(y,j,r|a,d,N):C))return!1}}return!0}return y1=s,y1}var v1,$D;function jB(){if($D)return v1;$D=1;var e=cl();function t(r){return r===r&&!e(r)}return v1=t,v1}var j1,FD;function Zle(){if(FD)return j1;FD=1;var e=jB(),t=Dv();function r(a){for(var s=t(a),i=s.length;i--;){var l=s[i],u=a[l];s[i]=[l,u,e(u)]}return s}return j1=r,j1}var b1,qD;function bB(){if(qD)return b1;qD=1;function e(t,r){return function(a){return a==null?!1:a[t]===r&&(r!==void 0||t in Object(a))}}return b1=e,b1}var w1,zD;function Jle(){if(zD)return w1;zD=1;var e=Qle(),t=Zle(),r=bB();function a(s){var i=t(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(l){return l===s||e(l,s,i)}}return w1=a,w1}var N1,BD;function ece(){if(BD)return N1;BD=1;function e(t,r){return t!=null&&r in Object(t)}return N1=e,N1}var S1,UD;function tce(){if(UD)return S1;UD=1;var e=Fz(),t=aE(),r=ga(),a=sE(),s=iE(),i=Tv();function l(u,d,f){d=e(d,u);for(var m=-1,p=d.length,x=!1;++m<p;){var v=i(d[m]);if(!(x=u!=null&&f(u,v)))break;u=u[v]}return x||++m!=p?x:(p=u==null?0:u.length,!!p&&s(p)&&a(v,p)&&(r(u)||t(u)))}return S1=l,S1}var A1,HD;function nce(){if(HD)return A1;HD=1;var e=ece(),t=tce();function r(a,s){return a!=null&&t(a,s,e)}return A1=r,A1}var C1,KD;function rce(){if(KD)return C1;KD=1;var e=oE(),t=qz(),r=nce(),a=H_(),s=jB(),i=bB(),l=Tv(),u=1,d=2;function f(m,p){return a(m)&&s(p)?i(l(m),p):function(x){var v=t(x,m);return v===void 0&&v===p?r(x,m):e(p,v,u|d)}}return C1=f,C1}var _1,VD;function Gd(){if(VD)return _1;VD=1;function e(t){return t}return _1=e,_1}var E1,WD;function ace(){if(WD)return E1;WD=1;function e(t){return function(r){return r?.[t]}}return E1=e,E1}var T1,GD;function sce(){if(GD)return T1;GD=1;var e=X_();function t(r){return function(a){return e(a,r)}}return T1=t,T1}var O1,YD;function ice(){if(YD)return O1;YD=1;var e=ace(),t=sce(),r=H_(),a=Tv();function s(i){return r(i)?e(a(i)):t(i)}return O1=s,O1}var M1,XD;function ti(){if(XD)return M1;XD=1;var e=Jle(),t=rce(),r=Gd(),a=ga(),s=ice();function i(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?a(l)?t(l[0],l[1]):e(l):s(l)}return M1=i,M1}var k1,QD;function wB(){if(QD)return k1;QD=1;function e(t,r,a,s){for(var i=t.length,l=a+(s?1:-1);s?l--:++l<i;)if(r(t[l],l,t))return l;return-1}return k1=e,k1}var P1,ZD;function oce(){if(ZD)return P1;ZD=1;function e(t){return t!==t}return P1=e,P1}var R1,JD;function lce(){if(JD)return R1;JD=1;function e(t,r,a){for(var s=a-1,i=t.length;++s<i;)if(t[s]===r)return s;return-1}return R1=e,R1}var D1,eI;function cce(){if(eI)return D1;eI=1;var e=wB(),t=oce(),r=lce();function a(s,i,l){return i===i?r(s,i,l):e(s,t,l)}return D1=a,D1}var I1,tI;function uce(){if(tI)return I1;tI=1;var e=cce();function t(r,a){var s=r==null?0:r.length;return!!s&&e(r,a,0)>-1}return I1=t,I1}var L1,nI;function dce(){if(nI)return L1;nI=1;function e(t,r,a){for(var s=-1,i=t==null?0:t.length;++s<i;)if(a(r,t[s]))return!0;return!1}return L1=e,L1}var $1,rI;function fce(){if(rI)return $1;rI=1;function e(){}return $1=e,$1}var F1,aI;function hce(){if(aI)return F1;aI=1;var e=vB(),t=fce(),r=rE(),a=1/0,s=e&&1/r(new e([,-0]))[1]==a?function(i){return new e(i)}:t;return F1=s,F1}var q1,sI;function mce(){if(sI)return q1;sI=1;var e=uB(),t=uce(),r=dce(),a=fB(),s=hce(),i=rE(),l=200;function u(d,f,m){var p=-1,x=t,v=d.length,j=!0,y=[],N=y;if(m)j=!1,x=r;else if(v>=l){var C=f?null:s(d);if(C)return i(C);j=!1,x=a,N=new e}else N=f?[]:y;e:for(;++p<v;){var A=d[p],w=f?f(A):A;if(A=m||A!==0?A:0,j&&w===w){for(var S=N.length;S--;)if(N[S]===w)continue e;f&&N.push(w),y.push(A)}else x(N,w,m)||(N!==y&&N.push(w),y.push(A))}return y}return q1=u,q1}var z1,iI;function pce(){if(iI)return z1;iI=1;var e=ti(),t=mce();function r(a,s){return a&&a.length?t(a,e(s,2)):[]}return z1=r,z1}var xce=pce();const oI=an(xce);function NB(e,t,r){return t===!0?oI(e,r):Nt(t)?oI(e,t):e}function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}var gce=["ref"];function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(a){Iv(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cI(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AB(a.key),a)}}function vce(e,t,r){return t&&cI(e.prototype,t),r&&cI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jce(e,t,r){return t=Wg(t),bce(e,SB()?Reflect.construct(t,r||[],Wg(e).constructor):t.apply(e,r))}function bce(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wce(e)}function wce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SB=function(){return!!e})()}function Wg(e){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wg(e)}function Nce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oA(e,t)}function oA(e,t){return oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},oA(e,t)}function Iv(e,t,r){return t=AB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AB(e){var t=Sce(e,"string");return Xu(t)=="symbol"?t:t+""}function Sce(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Xu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ace(e,t){if(e==null)return{};var r=Cce(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Cce(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function _ce(e){return e.value}function Ece(e,t){if(J.isValidElement(e))return J.cloneElement(e,t);if(typeof e=="function")return J.createElement(e,t);t.ref;var r=Ace(t,gce);return J.createElement(nE,r)}var uI=1,qr=(function(e){function t(){var r;yce(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=jce(this,t,[].concat(s)),Iv(r,"lastBoundingBox",{width:-1,height:-1}),r}return Nce(t,e),vce(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>uI||Math.abs(s.height-this.lastBoundingBox.height)>uI)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Si({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,l=s.align,u=s.verticalAlign,d=s.margin,f=s.chartWidth,m=s.chartHeight,p,x;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&i==="vertical"){var v=this.getBBoxSnapshot();p={left:((f||0)-v.width)/2}}else p=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(u==="middle"){var j=this.getBBoxSnapshot();x={top:((m||0)-j.height)/2}}else x=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Si(Si({},p),x)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,l=s.width,u=s.height,d=s.wrapperStyle,f=s.payloadUniqBy,m=s.payload,p=Si(Si({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return J.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){a.wrapperNode=v}},Ece(i,Si(Si({},this.props),{},{payload:NB(m,f,_ce)})))}}],[{key:"getWithHeight",value:function(a,s){var i=Si(Si({},this.defaultProps),a.props),l=i.layout;return l==="vertical"&&ze(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||s}:null}}])})(b.PureComponent);Iv(qr,"displayName","Legend");Iv(qr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var B1,dI;function Tce(){if(dI)return B1;dI=1;var e=Xm(),t=aE(),r=ga(),a=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||t(i)||!!(a&&i&&i[a])}return B1=s,B1}var U1,fI;function CB(){if(fI)return U1;fI=1;var e=mB(),t=Tce();function r(a,s,i,l,u){var d=-1,f=a.length;for(i||(i=t),u||(u=[]);++d<f;){var m=a[d];s>0&&i(m)?s>1?r(m,s-1,i,l,u):e(u,m):l||(u[u.length]=m)}return u}return U1=r,U1}var H1,hI;function Oce(){if(hI)return H1;hI=1;function e(t){return function(r,a,s){for(var i=-1,l=Object(r),u=s(r),d=u.length;d--;){var f=u[t?d:++i];if(a(l[f],f,l)===!1)break}return r}}return H1=e,H1}var K1,mI;function Mce(){if(mI)return K1;mI=1;var e=Oce(),t=e();return K1=t,K1}var V1,pI;function _B(){if(pI)return V1;pI=1;var e=Mce(),t=Dv();function r(a,s){return a&&e(a,s,t)}return V1=r,V1}var W1,xI;function kce(){if(xI)return W1;xI=1;var e=Qm();function t(r,a){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var l=s.length,u=a?l:-1,d=Object(s);(a?u--:++u<l)&&i(d[u],u,d)!==!1;);return s}}return W1=t,W1}var G1,gI;function lE(){if(gI)return G1;gI=1;var e=_B(),t=kce(),r=t(e);return G1=r,G1}var Y1,yI;function EB(){if(yI)return Y1;yI=1;var e=lE(),t=Qm();function r(a,s){var i=-1,l=t(a)?Array(a.length):[];return e(a,function(u,d,f){l[++i]=s(u,d,f)}),l}return Y1=r,Y1}var X1,vI;function Pce(){if(vI)return X1;vI=1;function e(t,r){var a=t.length;for(t.sort(r);a--;)t[a]=t[a].value;return t}return X1=e,X1}var Q1,jI;function Rce(){if(jI)return Q1;jI=1;var e=Kd();function t(r,a){if(r!==a){var s=r!==void 0,i=r===null,l=r===r,u=e(r),d=a!==void 0,f=a===null,m=a===a,p=e(a);if(!f&&!p&&!u&&r>a||u&&d&&m&&!f&&!p||i&&d&&m||!s&&m||!l)return 1;if(!i&&!u&&!p&&r<a||p&&s&&l&&!i&&!u||f&&s&&l||!d&&l||!m)return-1}return 0}return Q1=t,Q1}var Z1,bI;function Dce(){if(bI)return Z1;bI=1;var e=Rce();function t(r,a,s){for(var i=-1,l=r.criteria,u=a.criteria,d=l.length,f=s.length;++i<d;){var m=e(l[i],u[i]);if(m){if(i>=f)return m;var p=s[i];return m*(p=="desc"?-1:1)}}return r.index-a.index}return Z1=t,Z1}var J1,wI;function Ice(){if(wI)return J1;wI=1;var e=Y_(),t=X_(),r=ti(),a=EB(),s=Pce(),i=xB(),l=Dce(),u=Gd(),d=ga();function f(m,p,x){p.length?p=e(p,function(y){return d(y)?function(N){return t(N,y.length===1?y[0]:y)}:y}):p=[u];var v=-1;p=e(p,i(r));var j=a(m,function(y,N,C){var A=e(p,function(w){return w(y)});return{criteria:A,index:++v,value:y}});return s(j,function(y,N){return l(y,N,x)})}return J1=f,J1}var eS,NI;function Lce(){if(NI)return eS;NI=1;function e(t,r,a){switch(a.length){case 0:return t.call(r);case 1:return t.call(r,a[0]);case 2:return t.call(r,a[0],a[1]);case 3:return t.call(r,a[0],a[1],a[2])}return t.apply(r,a)}return eS=e,eS}var tS,SI;function $ce(){if(SI)return tS;SI=1;var e=Lce(),t=Math.max;function r(a,s,i){return s=t(s===void 0?a.length-1:s,0),function(){for(var l=arguments,u=-1,d=t(l.length-s,0),f=Array(d);++u<d;)f[u]=l[s+u];u=-1;for(var m=Array(s+1);++u<s;)m[u]=l[u];return m[s]=i(f),e(a,this,m)}}return tS=r,tS}var nS,AI;function Fce(){if(AI)return nS;AI=1;function e(t){return function(){return t}}return nS=e,nS}var rS,CI;function TB(){if(CI)return rS;CI=1;var e=Ec(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return rS=t,rS}var aS,_I;function qce(){if(_I)return aS;_I=1;var e=Fce(),t=TB(),r=Gd(),a=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return aS=a,aS}var sS,EI;function zce(){if(EI)return sS;EI=1;var e=800,t=16,r=Date.now;function a(s){var i=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return sS=a,sS}var iS,TI;function Bce(){if(TI)return iS;TI=1;var e=qce(),t=zce(),r=t(e);return iS=r,iS}var oS,OI;function Uce(){if(OI)return oS;OI=1;var e=Gd(),t=$ce(),r=Bce();function a(s,i){return r(t(s,i,e),s+"")}return oS=a,oS}var lS,MI;function Lv(){if(MI)return lS;MI=1;var e=V_(),t=Qm(),r=sE(),a=cl();function s(i,l,u){if(!a(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],i):!1}return lS=s,lS}var cS,kI;function Hce(){if(kI)return cS;kI=1;var e=CB(),t=Ice(),r=Uce(),a=Lv(),s=r(function(i,l){if(i==null)return[];var u=l.length;return u>1&&a(i,l[0],l[1])?l=[]:u>2&&a(l[0],l[1],l[2])&&(l=[l[0]]),t(i,e(l,1),[])});return cS=s,cS}var Kce=Hce();const cE=an(Kce);function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function lA(){return lA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lA.apply(this,arguments)}function Vce(e,t){return Xce(e)||Yce(e,t)||Gce(e,t)||Wce()}function Wce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gce(e,t){if(e){if(typeof e=="string")return PI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PI(e,t)}}function PI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Yce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Xce(e){if(Array.isArray(e))return e}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function uS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(a){Qce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Qce(e,t,r){return t=Zce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zce(e){var t=Jce(e,"string");return Hh(t)=="symbol"?t:t+""}function Jce(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Hh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eue(e){return Array.isArray(e)&&wr(e[0])&&wr(e[1])?e.join(" ~ "):e}var tue=function(t){var r=t.separator,a=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,m=t.payload,p=t.formatter,x=t.itemSorter,v=t.wrapperClassName,j=t.labelClassName,y=t.label,N=t.labelFormatter,C=t.accessibilityLayer,A=C===void 0?!1:C,w=function(){if(m&&m.length){var H={padding:0,margin:0},K=(x?cE(m,x):m).map(function(q,$){if(q.type==="none")return null;var k=uS({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},u),D=q.formatter||p||eue,P=q.value,U=q.name,G=P,B=U;if(D&&G!=null&&B!=null){var z=D(P,U,q,$,m);if(Array.isArray(z)){var X=Vce(z,2);G=X[0],B=X[1]}else G=z}return J.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:k},wr(B)?J.createElement("span",{className:"recharts-tooltip-item-name"},B):null,wr(B)?J.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,J.createElement("span",{className:"recharts-tooltip-item-value"},G),J.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return J.createElement("ul",{className:"recharts-tooltip-item-list",style:H},K)}return null},S=uS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=uS({margin:0},f),O=!bt(y),M=O?y:"",R=_t("recharts-default-tooltip",v),I=_t("recharts-tooltip-label",j);O&&N&&m!==void 0&&m!==null&&(M=N(y,m));var V=A?{role:"status","aria-live":"assertive"}:{};return J.createElement("div",lA({className:R,style:S},V),J.createElement("p",{className:I,style:E},J.isValidElement(M)?M:"".concat(M)),w())};function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function Hx(e,t,r){return t=nue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nue(e){var t=rue(e,"string");return Kh(t)=="symbol"?t:t+""}function rue(e,t){if(Kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Kh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eh="recharts-tooltip-wrapper",aue={visibility:"hidden"};function sue(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return _t(eh,Hx(Hx(Hx(Hx({},"".concat(eh,"-right"),ze(r)&&t&&ze(t.x)&&r>=t.x),"".concat(eh,"-left"),ze(r)&&t&&ze(t.x)&&r<t.x),"".concat(eh,"-bottom"),ze(a)&&t&&ze(t.y)&&a>=t.y),"".concat(eh,"-top"),ze(a)&&t&&ze(t.y)&&a<t.y))}function DI(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(i&&ze(i[a]))return i[a];var m=r[a]-u-s,p=r[a]+s;if(t[a])return l[a]?m:p;if(l[a]){var x=m,v=d[a];return x<v?Math.max(p,d[a]):Math.max(m,d[a])}var j=p+u,y=d[a]+f;return j>y?Math.max(m,d[a]):Math.max(p,d[a])}function iue(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function oue(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,m,p;return l.height>0&&l.width>0&&r?(m=DI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=DI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=iue({translateX:m,translateY:p,useTranslate3d:u})):f=aue,{cssProperties:f,cssClasses:sue({translateX:m,translateY:p,coordinate:r})}}function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function II(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function LI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?II(Object(r),!0).forEach(function(a){uA(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cue(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,MB(a.key),a)}}function uue(e,t,r){return t&&cue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function due(e,t,r){return t=Gg(t),fue(e,OB()?Reflect.construct(t,r||[],Gg(e).constructor):t.apply(e,r))}function fue(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hue(e)}function hue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OB=function(){return!!e})()}function Gg(e){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(e)}function mue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cA(e,t)}function cA(e,t){return cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},cA(e,t)}function uA(e,t,r){return t=MB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MB(e){var t=pue(e,"string");return Qu(t)=="symbol"?t:t+""}function pue(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Qu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $I=1,xue=(function(e){function t(){var r;lue(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=due(this,t,[].concat(s)),uA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uA(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&f!==void 0?f:0}})}}),r}return mue(t,e),uue(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>$I||Math.abs(a.height-this.state.lastBoundingBox.height)>$I)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.children,m=s.coordinate,p=s.hasPayload,x=s.isAnimationActive,v=s.offset,j=s.position,y=s.reverseDirection,N=s.useTranslate3d,C=s.viewBox,A=s.wrapperStyle,w=oue({allowEscapeViewBox:l,coordinate:m,offsetTopLeft:v,position:j,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:N,viewBox:C}),S=w.cssClasses,E=w.cssProperties,O=LI(LI({transition:x&&i?"transform ".concat(u,"ms ").concat(d):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&p?"visible":"hidden",position:"absolute",top:0,left:0},A);return J.createElement("div",{tabIndex:-1,className:S,style:O,ref:function(R){a.wrapperNode=R}},f)}}])})(b.PureComponent),gue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Qi={isSsr:gue()};function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function qI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(a){uE(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vue(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,PB(a.key),a)}}function jue(e,t,r){return t&&vue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bue(e,t,r){return t=Yg(t),wue(e,kB()?Reflect.construct(t,r||[],Yg(e).constructor):t.apply(e,r))}function wue(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nue(e)}function Nue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kB=function(){return!!e})()}function Yg(e){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yg(e)}function Sue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dA(e,t)}function dA(e,t){return dA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},dA(e,t)}function uE(e,t,r){return t=PB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PB(e){var t=Aue(e,"string");return Zu(t)=="symbol"?t:t+""}function Aue(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Zu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Cue(e){return e.dataKey}function _ue(e,t){return J.isValidElement(e)?J.cloneElement(e,t):typeof e=="function"?J.createElement(e,t):J.createElement(tue,t)}var kn=(function(e){function t(){return yue(this,t),bue(this,t,arguments)}return Sue(t,e),jue(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.content,m=s.coordinate,p=s.filterNull,x=s.isAnimationActive,v=s.offset,j=s.payload,y=s.payloadUniqBy,N=s.position,C=s.reverseDirection,A=s.useTranslate3d,w=s.viewBox,S=s.wrapperStyle,E=j??[];p&&E.length&&(E=NB(j.filter(function(M){return M.value!=null&&(M.hide!==!0||a.props.includeHidden)}),y,Cue));var O=E.length>0;return J.createElement(xue,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:x,active:i,coordinate:m,hasPayload:O,offset:v,position:N,reverseDirection:C,useTranslate3d:A,viewBox:w,wrapperStyle:S},_ue(f,qI(qI({},this.props),{},{payload:E})))}}])})(b.PureComponent);uE(kn,"displayName","Tooltip");uE(kn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Qi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dS,zI;function Eue(){if(zI)return dS;zI=1;var e=ei(),t=function(){return e.Date.now()};return dS=t,dS}var fS,BI;function Tue(){if(BI)return fS;BI=1;var e=/\s/;function t(r){for(var a=r.length;a--&&e.test(r.charAt(a)););return a}return fS=t,fS}var hS,UI;function Oue(){if(UI)return hS;UI=1;var e=Tue(),t=/^\s+/;function r(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return hS=r,hS}var mS,HI;function RB(){if(HI)return mS;HI=1;var e=Oue(),t=cl(),r=Kd(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return a;if(t(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=t(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=e(f);var p=i.test(f);return p||l.test(f)?u(f.slice(2),p?2:8):s.test(f)?a:+f}return mS=d,mS}var pS,KI;function Mue(){if(KI)return pS;KI=1;var e=cl(),t=Eue(),r=RB(),a="Expected a function",s=Math.max,i=Math.min;function l(u,d,f){var m,p,x,v,j,y,N=0,C=!1,A=!1,w=!0;if(typeof u!="function")throw new TypeError(a);d=r(d)||0,e(f)&&(C=!!f.leading,A="maxWait"in f,x=A?s(r(f.maxWait)||0,d):x,w="trailing"in f?!!f.trailing:w);function S(K){var q=m,$=p;return m=p=void 0,N=K,v=u.apply($,q),v}function E(K){return N=K,j=setTimeout(R,d),C?S(K):v}function O(K){var q=K-y,$=K-N,k=d-q;return A?i(k,x-$):k}function M(K){var q=K-y,$=K-N;return y===void 0||q>=d||q<0||A&&$>=x}function R(){var K=t();if(M(K))return I(K);j=setTimeout(R,O(K))}function I(K){return j=void 0,w&&m?S(K):(m=p=void 0,v)}function V(){j!==void 0&&clearTimeout(j),N=0,m=y=p=j=void 0}function F(){return j===void 0?v:I(t())}function H(){var K=t(),q=M(K);if(m=arguments,p=this,y=K,q){if(j===void 0)return E(y);if(A)return clearTimeout(j),j=setTimeout(R,d),S(y)}return j===void 0&&(j=setTimeout(R,d)),v}return H.cancel=V,H.flush=F,H}return pS=l,pS}var xS,VI;function kue(){if(VI)return xS;VI=1;var e=Mue(),t=cl(),r="Expected a function";function a(s,i,l){var u=!0,d=!0;if(typeof s!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(s,i,{leading:u,maxWait:i,trailing:d})}return xS=a,xS}var Pue=kue();const DB=an(Pue);function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function WI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Kx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(r),!0).forEach(function(a){Rue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Rue(e,t,r){return t=Due(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Due(e){var t=Iue(e,"string");return Vh(t)=="symbol"?t:t+""}function Iue(e,t){if(Vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Vh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lue(e,t){return zue(e)||que(e,t)||Fue(e,t)||$ue()}function $ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fue(e,t){if(e){if(typeof e=="string")return GI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GI(e,t)}}function GI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function que(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function zue(e){if(Array.isArray(e))return e}var Gr=b.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,l=i===void 0?"100%":i,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,m=f===void 0?0:f,p=e.minHeight,x=e.maxHeight,v=e.children,j=e.debounce,y=j===void 0?0:j,N=e.id,C=e.className,A=e.onResize,w=e.style,S=w===void 0?{}:w,E=b.useRef(null),O=b.useRef();O.current=A,b.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var M=b.useState({containerWidth:s.width,containerHeight:s.height}),R=Lue(M,2),I=R[0],V=R[1],F=b.useCallback(function(K,q){V(function($){var k=Math.round(K),D=Math.round(q);return $.containerWidth===k&&$.containerHeight===D?$:{containerWidth:k,containerHeight:D}})},[]);b.useEffect(function(){var K=function(U){var G,B=U[0].contentRect,z=B.width,X=B.height;F(z,X),(G=O.current)===null||G===void 0||G.call(O,z,X)};y>0&&(K=DB(K,y,{trailing:!0,leading:!1}));var q=new ResizeObserver(K),$=E.current.getBoundingClientRect(),k=$.width,D=$.height;return F(k,D),q.observe(E.current),function(){q.disconnect()}},[F,y]);var H=b.useMemo(function(){var K=I.containerWidth,q=I.containerHeight;if(K<0||q<0)return null;Ss(Kl(l)||Kl(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),Ss(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=Kl(l)?K:l,k=Kl(d)?q:d;r&&r>0&&($?k=$/r:k&&($=k*r),x&&k>x&&(k=x)),Ss($>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,k,l,d,m,p,r);var D=!Array.isArray(v)&&Pi(v.type).endsWith("Chart");return J.Children.map(v,function(P){return J.isValidElement(P)?b.cloneElement(P,Kx({width:$,height:k},D?{style:Kx({height:"100%",width:"100%",maxHeight:k,maxWidth:$},P.props.style)}:{})):P})},[r,v,d,x,p,m,I,l]);return J.createElement("div",{id:N?"".concat(N):void 0,className:_t("recharts-responsive-container",C),style:Kx(Kx({},S),{},{width:l,height:d,minWidth:m,minHeight:p,maxHeight:x}),ref:E},H)}),Xs=function(t){return null};Xs.displayName="Cell";function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function YI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(r),!0).forEach(function(a){Bue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Bue(e,t,r){return t=Uue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uue(e){var t=Hue(e,"string");return Wh(t)=="symbol"?t:t+""}function Hue(e,t){if(Wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Wh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wu={widthCache:{},cacheCount:0},Kue=2e3,Vue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XI="recharts_measurement_span";function Wue(e){var t=fA({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Sh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Qi.isSsr)return{width:0,height:0};var a=Wue(r),s=JSON.stringify({text:t,copyStyle:a});if(wu.widthCache[s])return wu.widthCache[s];try{var i=document.getElementById(XI);i||(i=document.createElement("span"),i.setAttribute("id",XI),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=fA(fA({},Vue),a);Object.assign(i.style,l),i.textContent="".concat(t);var u=i.getBoundingClientRect(),d={width:u.width,height:u.height};return wu.widthCache[s]=d,++wu.cacheCount>Kue&&(wu.cacheCount=0,wu.widthCache={}),d}catch{return{width:0,height:0}}},Gue=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function Xg(e,t){return Zue(e)||Que(e,t)||Xue(e,t)||Yue()}function Yue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xue(e,t){if(e){if(typeof e=="string")return QI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QI(e,t)}}function QI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Que(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Zue(e){if(Array.isArray(e))return e}function Jue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZI(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,tde(a.key),a)}}function ede(e,t,r){return t&&ZI(e.prototype,t),r&&ZI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tde(e){var t=nde(e,"string");return Gh(t)=="symbol"?t:t+""}function nde(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Gh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,e5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ade=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,IB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sde=Object.keys(IB),Mu="NaN";function ide(e,t){return e*IB[t]}var Vx=(function(){function e(t,r){Jue(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!rde.test(r)&&(this.num=NaN,this.unit=""),sde.includes(r)&&(this.num=ide(t,r),this.unit="px")}return ede(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,s=(a=ade.exec(r))!==null&&a!==void 0?a:[],i=Xg(s,3),l=i[1],u=i[2];return new e(parseFloat(l),u??"")}}])})();function LB(e){if(e.includes(Mu))return Mu;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=JI.exec(t))!==null&&r!==void 0?r:[],s=Xg(a,4),i=s[1],l=s[2],u=s[3],d=Vx.parse(i??""),f=Vx.parse(u??""),m=l==="*"?d.multiply(f):d.divide(f);if(m.isNaN())return Mu;t=t.replace(JI,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,x=(p=e5.exec(t))!==null&&p!==void 0?p:[],v=Xg(x,4),j=v[1],y=v[2],N=v[3],C=Vx.parse(j??""),A=Vx.parse(N??""),w=y==="+"?C.add(A):C.subtract(A);if(w.isNaN())return Mu;t=t.replace(e5,w.toString())}return t}var t5=/\(([^()]*)\)/;function ode(e){for(var t=e;t.includes("(");){var r=t5.exec(t),a=Xg(r,2),s=a[1];t=t.replace(t5,LB(s))}return t}function lde(e){var t=e.replace(/\s+/g,"");return t=ode(t),t=LB(t),t}function cde(e){try{return lde(e)}catch{return Mu}}function gS(e){var t=cde(e.slice(5,-1));return t===Mu?"":t}var ude=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dde=["dx","dy","angle","className","breakAll"];function hA(){return hA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},hA.apply(this,arguments)}function n5(e,t){if(e==null)return{};var r=fde(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function fde(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function r5(e,t){return xde(e)||pde(e,t)||mde(e,t)||hde()}function hde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mde(e,t){if(e){if(typeof e=="string")return a5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a5(e,t)}}function a5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function pde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function xde(e){if(Array.isArray(e))return e}var $B=/[ \f\n\r\t\v\u2028\u2029]+/,FB=function(t){var r=t.children,a=t.breakAll,s=t.style;try{var i=[];bt(r)||(a?i=r.toString().split(""):i=r.toString().split($B));var l=i.map(function(d){return{word:d,width:Sh(d,s).width}}),u=a?0:Sh("",s).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},gde=function(t,r,a,s,i){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,m=ze(l),p=u,x=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(k,D){var P=D.word,U=D.width,G=k[k.length-1];if(G&&(s==null||i||G.width+U+a<Number(s)))G.words.push(P),G.width+=U+a;else{var B={words:[P],width:U};k.push(B)}return k},[])},v=x(r),j=function($){return $.reduce(function(k,D){return k.width>D.width?k:D})};if(!m)return v;for(var y="",N=function($){var k=p.slice(0,$),D=FB({breakAll:f,style:d,children:k+y}).wordsWithComputedWidth,P=x(D),U=P.length>l||j(P).width>Number(s);return[U,P]},C=0,A=p.length-1,w=0,S;C<=A&&w<=p.length-1;){var E=Math.floor((C+A)/2),O=E-1,M=N(O),R=r5(M,2),I=R[0],V=R[1],F=N(E),H=r5(F,1),K=H[0];if(!I&&!K&&(C=E+1),I&&K&&(A=E-1),!I&&K){S=V;break}w++}return S||v},s5=function(t){var r=bt(t)?[]:t.toString().split($B);return[{words:r}]},yde=function(t){var r=t.width,a=t.scaleToFit,s=t.children,i=t.style,l=t.breakAll,u=t.maxLines;if((r||a)&&!Qi.isSsr){var d,f,m=FB({breakAll:l,children:s,style:i});if(m){var p=m.wordsWithComputedWidth,x=m.spaceWidth;d=p,f=x}else return s5(s);return gde({breakAll:l,children:s,maxLines:u,style:i},d,f,r,a)}return s5(s)},i5="#808080",oc=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,m=t.scaleToFit,p=m===void 0?!1:m,x=t.textAnchor,v=x===void 0?"start":x,j=t.verticalAnchor,y=j===void 0?"end":j,N=t.fill,C=N===void 0?i5:N,A=n5(t,ude),w=b.useMemo(function(){return yde({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:p,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,p,A.style,A.width]),S=A.dx,E=A.dy,O=A.angle,M=A.className,R=A.breakAll,I=n5(A,dde);if(!wr(a)||!wr(i))return null;var V=a+(ze(S)?S:0),F=i+(ze(E)?E:0),H;switch(y){case"start":H=gS("calc(".concat(f,")"));break;case"middle":H=gS("calc(".concat((w.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:H=gS("calc(".concat(w.length-1," * -").concat(u,")"));break}var K=[];if(p){var q=w[0].width,$=A.width;K.push("scale(".concat((ze($)?$/q:1)/q,")"))}return O&&K.push("rotate(".concat(O,", ").concat(V,", ").concat(F,")")),K.length&&(I.transform=K.join(" ")),J.createElement("text",hA({},pt(I,!0),{x:V,y:F,className:_t("recharts-text",M),textAnchor:v,fill:C.includes("url")?i5:C}),w.map(function(k,D){var P=k.words.join(R?"":" ");return J.createElement("tspan",{x:V,dy:D===0?H:u,key:"".concat(P,"-").concat(D)},P)}))};function Yo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vde(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dE(e){let t,r,a;e.length!==2?(t=Yo,r=(u,d)=>Yo(e(u),d),a=(u,d)=>e(u)-d):(t=e===Yo||e===vde?e:jde,r=e,a=e);function s(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;r(u[p],d)<0?f=p+1:m=p}while(f<m)}return f}function i(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;r(u[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function l(u,d,f=0,m=u.length){const p=s(u,d,f,m-1);return p>f&&a(u[p-1],d)>-a(u[p],d)?p-1:p}return{left:s,center:l,right:i}}function jde(){return 0}function qB(e){return e===null?NaN:+e}function*bde(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wde=dE(Yo),Zm=wde.right;dE(qB).center;class o5 extends Map{constructor(t,r=Ade){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(l5(this,t))}has(t){return super.has(l5(this,t))}set(t,r){return super.set(Nde(this,t),r)}delete(t){return super.delete(Sde(this,t))}}function l5({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function Nde({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function Sde({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function Ade(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Cde(e=Yo){if(e===Yo)return zB;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function zB(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _de=Math.sqrt(50),Ede=Math.sqrt(10),Tde=Math.sqrt(2);function Qg(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),l=i>=_de?10:i>=Ede?5:i>=Tde?2:1;let u,d,f;return s<0?(f=Math.pow(10,-s)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,s)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?Qg(e,t,r*2):[u,d,f]}function mA(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,l]=a?Qg(t,e,r):Qg(e,t,r);if(!(i>=s))return[];const u=i-s+1,d=new Array(u);if(a)if(l<0)for(let f=0;f<u;++f)d[f]=(i-f)/-l;else for(let f=0;f<u;++f)d[f]=(i-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(s+f)/-l;else for(let f=0;f<u;++f)d[f]=(s+f)*l;return d}function pA(e,t,r){return t=+t,e=+e,r=+r,Qg(e,t,r)[2]}function xA(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?pA(t,e,r):pA(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function c5(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function u5(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function BB(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?zB:Cde(s);a>r;){if(a-r>600){const d=a-r+1,f=t-r+1,m=Math.log(d),p=.5*Math.exp(2*m/3),x=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),v=Math.max(r,Math.floor(t-f*p/d+x)),j=Math.min(a,Math.floor(t+(d-f)*p/d+x));BB(e,t,v,j,s)}const i=e[t];let l=r,u=a;for(th(e,r,t),s(e[a],i)>0&&th(e,r,a);l<u;){for(th(e,l,u),++l,--u;s(e[l],i)<0;)++l;for(;s(e[u],i)>0;)--u}s(e[r],i)===0?th(e,r,u):(++u,th(e,u,a)),u<=t&&(r=u+1),t<=u&&(a=u-1)}return e}function th(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function Ode(e,t,r){if(e=Float64Array.from(bde(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return u5(e);if(t>=1)return c5(e);var a,s=(a-1)*t,i=Math.floor(s),l=c5(BB(e,i).subarray(0,i+1)),u=u5(e.subarray(i+1));return l+(u-l)*(s-i)}}function Mde(e,t,r=qB){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),l=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return l+(u-l)*(s-i)}}function kde(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function ss(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const gA=Symbol("implicit");function fE(){var e=new o5,t=[],r=[],a=gA;function s(i){let l=e.get(i);if(l===void 0){if(a!==gA)return a;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new o5;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return fE(t,r).unknown(a)},ss.apply(s,arguments),s}function Yh(){var e=fE().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,l,u=!1,d=0,f=0,m=.5;delete e.unknown;function p(){var x=t().length,v=s<a,j=v?s:a,y=v?a:s;i=(y-j)/Math.max(1,x-d+f*2),u&&(i=Math.floor(i)),j+=(y-j-i*(x-d))*m,l=i*(1-d),u&&(j=Math.round(j),l=Math.round(l));var N=kde(x).map(function(C){return j+i*C});return r(v?N.reverse():N)}return e.domain=function(x){return arguments.length?(t(x),p()):t()},e.range=function(x){return arguments.length?([a,s]=x,a=+a,s=+s,p()):[a,s]},e.rangeRound=function(x){return[a,s]=x,a=+a,s=+s,u=!0,p()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(x){return arguments.length?(u=!!x,p()):u},e.padding=function(x){return arguments.length?(d=Math.min(1,f=+x),p()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),p()):d},e.paddingOuter=function(x){return arguments.length?(f=+x,p()):f},e.align=function(x){return arguments.length?(m=Math.max(0,Math.min(1,x)),p()):m},e.copy=function(){return Yh(t(),[a,s]).round(u).paddingInner(d).paddingOuter(f).align(m)},ss.apply(p(),arguments)}function UB(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return UB(t())},e}function Ah(){return UB(Yh.apply(null,arguments).paddingInner(1))}function hE(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function HB(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Jm(){}var Xh=.7,Zg=1/Xh,Bu="\\s*([+-]?\\d+)\\s*",Qh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pde=/^#([0-9a-f]{3,8})$/,Rde=new RegExp(`^rgb\\(${Bu},${Bu},${Bu}\\)$`),Dde=new RegExp(`^rgb\\(${Vs},${Vs},${Vs}\\)$`),Ide=new RegExp(`^rgba\\(${Bu},${Bu},${Bu},${Qh}\\)$`),Lde=new RegExp(`^rgba\\(${Vs},${Vs},${Vs},${Qh}\\)$`),$de=new RegExp(`^hsl\\(${Qh},${Vs},${Vs}\\)$`),Fde=new RegExp(`^hsla\\(${Qh},${Vs},${Vs},${Qh}\\)$`),d5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hE(Jm,lc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:f5,formatHex:f5,formatHex8:qde,formatHsl:zde,formatRgb:h5,toString:h5});function f5(){return this.rgb().formatHex()}function qde(){return this.rgb().formatHex8()}function zde(){return KB(this).formatHsl()}function h5(){return this.rgb().formatRgb()}function lc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Pde.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?m5(t):r===3?new pa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Wx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Wx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Rde.exec(e))?new pa(t[1],t[2],t[3],1):(t=Dde.exec(e))?new pa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ide.exec(e))?Wx(t[1],t[2],t[3],t[4]):(t=Lde.exec(e))?Wx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$de.exec(e))?g5(t[1],t[2]/100,t[3]/100,1):(t=Fde.exec(e))?g5(t[1],t[2]/100,t[3]/100,t[4]):d5.hasOwnProperty(e)?m5(d5[e]):e==="transparent"?new pa(NaN,NaN,NaN,0):null}function m5(e){return new pa(e>>16&255,e>>8&255,e&255,1)}function Wx(e,t,r,a){return a<=0&&(e=t=r=NaN),new pa(e,t,r,a)}function Bde(e){return e instanceof Jm||(e=lc(e)),e?(e=e.rgb(),new pa(e.r,e.g,e.b,e.opacity)):new pa}function yA(e,t,r,a){return arguments.length===1?Bde(e):new pa(e,t,r,a??1)}function pa(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}hE(pa,yA,HB(Jm,{brighter(e){return e=e==null?Zg:Math.pow(Zg,e),new pa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xh:Math.pow(Xh,e),new pa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pa(Xl(this.r),Xl(this.g),Xl(this.b),Jg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p5,formatHex:p5,formatHex8:Ude,formatRgb:x5,toString:x5}));function p5(){return`#${Vl(this.r)}${Vl(this.g)}${Vl(this.b)}`}function Ude(){return`#${Vl(this.r)}${Vl(this.g)}${Vl(this.b)}${Vl((isNaN(this.opacity)?1:this.opacity)*255)}`}function x5(){const e=Jg(this.opacity);return`${e===1?"rgb(":"rgba("}${Xl(this.r)}, ${Xl(this.g)}, ${Xl(this.b)}${e===1?")":`, ${e})`}`}function Jg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vl(e){return e=Xl(e),(e<16?"0":"")+e.toString(16)}function g5(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ys(e,t,r,a)}function KB(e){if(e instanceof ys)return new ys(e.h,e.s,e.l,e.opacity);if(e instanceof Jm||(e=lc(e)),!e)return new ys;if(e instanceof ys)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),l=NaN,u=i-s,d=(i+s)/2;return u?(t===i?l=(r-a)/u+(r<a)*6:r===i?l=(a-t)/u+2:l=(t-r)/u+4,u/=d<.5?i+s:2-i-s,l*=60):u=d>0&&d<1?0:l,new ys(l,u,d,e.opacity)}function Hde(e,t,r,a){return arguments.length===1?KB(e):new ys(e,t,r,a??1)}function ys(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}hE(ys,Hde,HB(Jm,{brighter(e){return e=e==null?Zg:Math.pow(Zg,e),new ys(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xh:Math.pow(Xh,e),new ys(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new pa(yS(e>=240?e-240:e+120,s,a),yS(e,s,a),yS(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new ys(y5(this.h),Gx(this.s),Gx(this.l),Jg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jg(this.opacity);return`${e===1?"hsl(":"hsla("}${y5(this.h)}, ${Gx(this.s)*100}%, ${Gx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function y5(e){return e=(e||0)%360,e<0?e+360:e}function Gx(e){return Math.max(0,Math.min(1,e||0))}function yS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const mE=e=>()=>e;function Kde(e,t){return function(r){return e+r*t}}function Vde(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function Wde(e){return(e=+e)==1?VB:function(t,r){return r-t?Vde(t,r,e):mE(isNaN(t)?r:t)}}function VB(e,t){var r=t-e;return r?Kde(e,r):mE(isNaN(e)?t:e)}const ey=(function e(t){var r=Wde(t);function a(s,i){var l=r((s=yA(s)).r,(i=yA(i)).r),u=r(s.g,i.g),d=r(s.b,i.b),f=VB(s.opacity,i.opacity);return function(m){return s.r=l(m),s.g=u(m),s.b=d(m),s.opacity=f(m),s+""}}return a.gamma=e,a})(1);function Gde(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function Yde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Xde(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),l;for(l=0;l<a;++l)s[l]=Ri(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(u){for(l=0;l<a;++l)i[l]=s[l](u);return i}}function Qde(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function gs(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Zde(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Ri(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var vA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vS=new RegExp(vA.source,"g");function Jde(e){return function(){return e}}function efe(e){return function(t){return e(t)+""}}function WB(e,t){var r=vA.lastIndex=vS.lastIndex=0,a,s,i,l=-1,u=[],d=[];for(e=e+"",t=t+"";(a=vA.exec(e))&&(s=vS.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),u[l]?u[l]+=i:u[++l]=i),(a=a[0])===(s=s[0])?u[l]?u[l]+=s:u[++l]=s:(u[++l]=null,d.push({i:l,x:gs(a,s)})),r=vS.lastIndex;return r<t.length&&(i=t.slice(r),u[l]?u[l]+=i:u[++l]=i),u.length<2?d[0]?efe(d[0].x):Jde(t):(t=d.length,function(f){for(var m=0,p;m<t;++m)u[(p=d[m]).i]=p.x(f);return u.join("")})}function Ri(e,t){var r=typeof t,a;return t==null||r==="boolean"?mE(t):(r==="number"?gs:r==="string"?(a=lc(t))?(t=a,ey):WB:t instanceof lc?ey:t instanceof Date?Qde:Yde(t)?Gde:Array.isArray(t)?Xde:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zde:gs)(e,t)}function pE(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var v5=180/Math.PI,jA={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function GB(e,t,r,a,s,i){var l,u,d;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(d=e*r+t*a)&&(r-=e*d,a-=t*d),(u=Math.sqrt(r*r+a*a))&&(r/=u,a/=u,d/=u),e*a<t*r&&(e=-e,t=-t,d=-d,l=-l),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*v5,skewX:Math.atan(d)*v5,scaleX:l,scaleY:u}}var Yx;function tfe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?jA:GB(t.a,t.b,t.c,t.d,t.e,t.f)}function nfe(e){return e==null||(Yx||(Yx=document.createElementNS("http://www.w3.org/2000/svg","g")),Yx.setAttribute("transform",e),!(e=Yx.transform.baseVal.consolidate()))?jA:(e=e.matrix,GB(e.a,e.b,e.c,e.d,e.e,e.f))}function YB(e,t,r,a){function s(f){return f.length?f.pop()+" ":""}function i(f,m,p,x,v,j){if(f!==p||m!==x){var y=v.push("translate(",null,t,null,r);j.push({i:y-4,x:gs(f,p)},{i:y-2,x:gs(m,x)})}else(p||x)&&v.push("translate("+p+t+x+r)}function l(f,m,p,x){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),x.push({i:p.push(s(p)+"rotate(",null,a)-2,x:gs(f,m)})):m&&p.push(s(p)+"rotate("+m+a)}function u(f,m,p,x){f!==m?x.push({i:p.push(s(p)+"skewX(",null,a)-2,x:gs(f,m)}):m&&p.push(s(p)+"skewX("+m+a)}function d(f,m,p,x,v,j){if(f!==p||m!==x){var y=v.push(s(v)+"scale(",null,",",null,")");j.push({i:y-4,x:gs(f,p)},{i:y-2,x:gs(m,x)})}else(p!==1||x!==1)&&v.push(s(v)+"scale("+p+","+x+")")}return function(f,m){var p=[],x=[];return f=e(f),m=e(m),i(f.translateX,f.translateY,m.translateX,m.translateY,p,x),l(f.rotate,m.rotate,p,x),u(f.skewX,m.skewX,p,x),d(f.scaleX,f.scaleY,m.scaleX,m.scaleY,p,x),f=m=null,function(v){for(var j=-1,y=x.length,N;++j<y;)p[(N=x[j]).i]=N.x(v);return p.join("")}}}var rfe=YB(tfe,"px, ","px)","deg)"),afe=YB(nfe,", ",")",")"),sfe=1e-12;function j5(e){return((e=Math.exp(e))+1/e)/2}function ife(e){return((e=Math.exp(e))-1/e)/2}function ofe(e){return((e=Math.exp(2*e))-1)/(e+1)}const gg=(function e(t,r,a){function s(i,l){var u=i[0],d=i[1],f=i[2],m=l[0],p=l[1],x=l[2],v=m-u,j=p-d,y=v*v+j*j,N,C;if(y<sfe)C=Math.log(x/f)/t,N=function(M){return[u+M*v,d+M*j,f*Math.exp(t*M*C)]};else{var A=Math.sqrt(y),w=(x*x-f*f+a*y)/(2*f*r*A),S=(x*x-f*f-a*y)/(2*x*r*A),E=Math.log(Math.sqrt(w*w+1)-w),O=Math.log(Math.sqrt(S*S+1)-S);C=(O-E)/t,N=function(M){var R=M*C,I=j5(E),V=f/(r*A)*(I*ofe(t*R+E)-ife(E));return[u+V*v,d+V*j,f*I/j5(t*R+E)]}}return N.duration=C*1e3*t/Math.SQRT2,N}return s.rho=function(i){var l=Math.max(.001,+i),u=l*l,d=u*u;return e(l,u,d)},s})(Math.SQRT2,2,4);function lfe(e,t){t===void 0&&(t=e,e=Ri);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(l){var u=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[u](l-u)}}function cfe(e){return function(){return e}}function ty(e){return+e}var b5=[0,1];function na(e){return e}function bA(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:cfe(isNaN(t)?NaN:.5)}function ufe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function dfe(e,t,r){var a=e[0],s=e[1],i=t[0],l=t[1];return s<a?(a=bA(s,a),i=r(l,i)):(a=bA(a,s),i=r(i,l)),function(u){return i(a(u))}}function ffe(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)s[l]=bA(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(u){var d=Zm(e,u,1,a)-1;return i[d](s[d](u))}}function ep(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $v(){var e=b5,t=b5,r=Ri,a,s,i,l=na,u,d,f;function m(){var x=Math.min(e.length,t.length);return l!==na&&(l=ufe(e[0],e[x-1])),u=x>2?ffe:dfe,d=f=null,p}function p(x){return x==null||isNaN(x=+x)?i:(d||(d=u(e.map(a),t,r)))(a(l(x)))}return p.invert=function(x){return l(s((f||(f=u(t,e.map(a),gs)))(x)))},p.domain=function(x){return arguments.length?(e=Array.from(x,ty),m()):e.slice()},p.range=function(x){return arguments.length?(t=Array.from(x),m()):t.slice()},p.rangeRound=function(x){return t=Array.from(x),r=pE,m()},p.clamp=function(x){return arguments.length?(l=x?!0:na,m()):l!==na},p.interpolate=function(x){return arguments.length?(r=x,m()):r},p.unknown=function(x){return arguments.length?(i=x,p):i},function(x,v){return a=x,s=v,m()}}function xE(){return $v()(na,na)}function hfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ny(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Ju(e){return e=ny(Math.abs(e)),e?e[1]:NaN}function mfe(e,t){return function(r,a){for(var s=r.length,i=[],l=0,u=e[0],d=0;s>0&&u>0&&(d+u+1>a&&(u=Math.max(1,a-d)),i.push(r.substring(s-=u,s+u)),!((d+=u+1)>a));)u=e[l=(l+1)%e.length];return i.reverse().join(t)}}function pfe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var xfe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zh(e){if(!(t=xfe.exec(e)))throw new Error("invalid format: "+e);var t;return new gE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zh.prototype=gE.prototype;function gE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gfe(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var XB;function yfe(e,t){var r=ny(e,t);if(!r)return e+"";var a=r[0],s=r[1],i=s-(XB=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+ny(e,Math.max(0,t+i-1))[0]}function w5(e,t){var r=ny(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const N5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:hfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>w5(e*100,t),r:w5,s:yfe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function S5(e){return e}var A5=Array.prototype.map,C5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vfe(e){var t=e.grouping===void 0||e.thousands===void 0?S5:mfe(A5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?S5:pfe(A5.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Zh(p);var x=p.fill,v=p.align,j=p.sign,y=p.symbol,N=p.zero,C=p.width,A=p.comma,w=p.precision,S=p.trim,E=p.type;E==="n"?(A=!0,E="g"):N5[E]||(w===void 0&&(w=12),S=!0,E="g"),(N||x==="0"&&v==="=")&&(N=!0,x="0",v="=");var O=y==="$"?r:y==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",M=y==="$"?a:/[%p]/.test(E)?l:"",R=N5[E],I=/[defgprs%]/.test(E);w=w===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function V(F){var H=O,K=M,q,$,k;if(E==="c")K=R(F)+K,F="";else{F=+F;var D=F<0||1/F<0;if(F=isNaN(F)?d:R(Math.abs(F),w),S&&(F=gfe(F)),D&&+F==0&&j!=="+"&&(D=!1),H=(D?j==="("?j:u:j==="-"||j==="("?"":j)+H,K=(E==="s"?C5[8+XB/3]:"")+K+(D&&j==="("?")":""),I){for(q=-1,$=F.length;++q<$;)if(k=F.charCodeAt(q),48>k||k>57){K=(k===46?s+F.slice(q+1):F.slice(q))+K,F=F.slice(0,q);break}}}A&&!N&&(F=t(F,1/0));var P=H.length+F.length+K.length,U=P<C?new Array(C-P+1).join(x):"";switch(A&&N&&(F=t(U+F,U.length?C-K.length:1/0),U=""),v){case"<":F=H+F+K+U;break;case"=":F=H+U+F+K;break;case"^":F=U.slice(0,P=U.length>>1)+H+F+K+U.slice(P);break;default:F=U+H+F+K;break}return i(F)}return V.toString=function(){return p+""},V}function m(p,x){var v=f((p=Zh(p),p.type="f",p)),j=Math.max(-8,Math.min(8,Math.floor(Ju(x)/3)))*3,y=Math.pow(10,-j),N=C5[8+j/3];return function(C){return v(y*C)+N}}return{format:f,formatPrefix:m}}var Xx,yE,QB;jfe({thousands:",",grouping:[3],currency:["$",""]});function jfe(e){return Xx=vfe(e),yE=Xx.format,QB=Xx.formatPrefix,Xx}function bfe(e){return Math.max(0,-Ju(Math.abs(e)))}function wfe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ju(t)/3)))*3-Ju(Math.abs(e)))}function Nfe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ju(t)-Ju(e))+1}function ZB(e,t,r,a){var s=xA(e,t,r),i;switch(a=Zh(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=wfe(s,l))&&(a.precision=i),QB(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Nfe(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=bfe(s))&&(a.precision=i-(a.type==="%")*2);break}}return yE(a)}function dl(e){var t=e.domain;return e.ticks=function(r){var a=t();return mA(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return ZB(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,l=a[s],u=a[i],d,f,m=10;for(u<l&&(f=l,l=u,u=f,f=s,s=i,i=f);m-- >0;){if(f=pA(l,u,r),f===d)return a[s]=l,a[i]=u,t(a);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function ry(){var e=xE();return e.copy=function(){return ep(e,ry())},ss.apply(e,arguments),dl(e)}function JB(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,ty),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return JB(e).unknown(t)},e=arguments.length?Array.from(e,ty):[0,1],dl(r)}function eU(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],l;return i<s&&(l=r,r=a,a=l,l=s,s=i,i=l),e[r]=t.floor(s),e[a]=t.ceil(i),e}function _5(e){return Math.log(e)}function E5(e){return Math.exp(e)}function Sfe(e){return-Math.log(-e)}function Afe(e){return-Math.exp(-e)}function Cfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _fe(e){return e===10?Cfe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Efe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function T5(e){return(t,r)=>-e(-t,r)}function vE(e){const t=e(_5,E5),r=t.domain;let a=10,s,i;function l(){return s=Efe(a),i=_fe(a),r()[0]<0?(s=T5(s),i=T5(i),e(Sfe,Afe)):e(_5,E5),t}return t.base=function(u){return arguments.length?(a=+u,l()):a},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let x=s(f),v=s(m),j,y;const N=u==null?10:+u;let C=[];if(!(a%1)&&v-x<N){if(x=Math.floor(x),v=Math.ceil(v),f>0){for(;x<=v;++x)for(j=1;j<a;++j)if(y=x<0?j/i(-x):j*i(x),!(y<f)){if(y>m)break;C.push(y)}}else for(;x<=v;++x)for(j=a-1;j>=1;--j)if(y=x>0?j/i(-x):j*i(x),!(y<f)){if(y>m)break;C.push(y)}C.length*2<N&&(C=mA(f,m,N))}else C=mA(x,v,Math.min(v-x,N)).map(i);return p?C.reverse():C},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=Zh(d)).precision==null&&(d.trim=!0),d=yE(d)),u===1/0)return d;const f=Math.max(1,a*u/t.ticks().length);return m=>{let p=m/i(Math.round(s(m)));return p*a<a-.5&&(p*=a),p<=f?d(m):""}},t.nice=()=>r(eU(r(),{floor:u=>i(Math.floor(s(u))),ceil:u=>i(Math.ceil(s(u)))})),t}function tU(){const e=vE($v()).domain([1,10]);return e.copy=()=>ep(e,tU()).base(e.base()),ss.apply(e,arguments),e}function O5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function M5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jE(e){var t=1,r=e(O5(t),M5(t));return r.constant=function(a){return arguments.length?e(O5(t=+a),M5(t)):t},dl(r)}function nU(){var e=jE($v());return e.copy=function(){return ep(e,nU()).constant(e.constant())},ss.apply(e,arguments)}function k5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Tfe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ofe(e){return e<0?-e*e:e*e}function bE(e){var t=e(na,na),r=1;function a(){return r===1?e(na,na):r===.5?e(Tfe,Ofe):e(k5(r),k5(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},dl(t)}function wE(){var e=bE($v());return e.copy=function(){return ep(e,wE()).exponent(e.exponent())},ss.apply(e,arguments),e}function Mfe(){return wE.apply(null,arguments).exponent(.5)}function P5(e){return Math.sign(e)*e*e}function kfe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rU(){var e=xE(),t=[0,1],r=!1,a;function s(i){var l=kfe(e(i));return isNaN(l)?a:r?Math.round(l):l}return s.invert=function(i){return e.invert(P5(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,ty)).map(P5)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return rU(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},ss.apply(s,arguments),dl(s)}function aU(){var e=[],t=[],r=[],a;function s(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=Mde(e,l/u);return i}function i(l){return l==null||isNaN(l=+l)?a:t[Zm(r,l)]}return i.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Yo),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return aU().domain(e).range(t).unknown(a)},ss.apply(i,arguments)}function sU(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function l(d){return d!=null&&d<=d?s[Zm(a,d,0,r)]:i}function u(){var d=-1;for(a=new Array(r);++d<r;)a[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,u()):s.slice()},l.invertExtent=function(d){var f=s.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,a[0]]:f>=r?[a[r-1],t]:[a[f-1],a[f]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return a.slice()},l.copy=function(){return sU().domain([e,t]).range(s).unknown(i)},ss.apply(dl(l),arguments)}function iU(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[Zm(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return iU().domain(e).range(t).unknown(r)},ss.apply(s,arguments)}const jS=new Date,bS=new Date;function Nr(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),u=s.ceil(i);return i-l<u-i?l:u},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,u)=>{const d=[];if(i=s.ceil(i),u=u==null?1:Math.floor(u),!(i<l)||!(u>0))return d;let f;do d.push(f=new Date(+i)),t(i,u),e(i);while(f<i&&i<l);return d},s.filter=i=>Nr(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!i(l););else for(;--u>=0;)for(;t(l,1),!i(l););}),r&&(s.count=(i,l)=>(jS.setTime(+i),bS.setTime(+l),e(jS),e(bS),Math.floor(r(jS,bS))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?l=>a(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const ay=Nr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ay.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Nr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ay);ay.range;const Ei=1e3,Ja=Ei*60,Ti=Ja*60,qi=Ti*24,NE=qi*7,R5=qi*30,wS=qi*365,Wl=Nr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getUTCSeconds());Wl.range;const SE=Nr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ei)},(e,t)=>{e.setTime(+e+t*Ja)},(e,t)=>(t-e)/Ja,e=>e.getMinutes());SE.range;const AE=Nr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ja)},(e,t)=>(t-e)/Ja,e=>e.getUTCMinutes());AE.range;const CE=Nr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ei-e.getMinutes()*Ja)},(e,t)=>{e.setTime(+e+t*Ti)},(e,t)=>(t-e)/Ti,e=>e.getHours());CE.range;const _E=Nr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ti)},(e,t)=>(t-e)/Ti,e=>e.getUTCHours());_E.range;const tp=Nr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ja)/qi,e=>e.getDate()-1);tp.range;const Fv=Nr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qi,e=>e.getUTCDate()-1);Fv.range;const oU=Nr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qi,e=>Math.floor(e/qi));oU.range;function Tc(e){return Nr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ja)/NE)}const qv=Tc(0),sy=Tc(1),Pfe=Tc(2),Rfe=Tc(3),ed=Tc(4),Dfe=Tc(5),Ife=Tc(6);qv.range;sy.range;Pfe.range;Rfe.range;ed.range;Dfe.range;Ife.range;function Oc(e){return Nr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/NE)}const zv=Oc(0),iy=Oc(1),Lfe=Oc(2),$fe=Oc(3),td=Oc(4),Ffe=Oc(5),qfe=Oc(6);zv.range;iy.range;Lfe.range;$fe.range;td.range;Ffe.range;qfe.range;const EE=Nr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());EE.range;const TE=Nr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());TE.range;const zi=Nr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());zi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});zi.range;const Bi=Nr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Bi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Bi.range;function lU(e,t,r,a,s,i){const l=[[Wl,1,Ei],[Wl,5,5*Ei],[Wl,15,15*Ei],[Wl,30,30*Ei],[i,1,Ja],[i,5,5*Ja],[i,15,15*Ja],[i,30,30*Ja],[s,1,Ti],[s,3,3*Ti],[s,6,6*Ti],[s,12,12*Ti],[a,1,qi],[a,2,2*qi],[r,1,NE],[t,1,R5],[t,3,3*R5],[e,1,wS]];function u(f,m,p){const x=m<f;x&&([f,m]=[m,f]);const v=p&&typeof p.range=="function"?p:d(f,m,p),j=v?v.range(f,+m+1):[];return x?j.reverse():j}function d(f,m,p){const x=Math.abs(m-f)/p,v=dE(([,,N])=>N).right(l,x);if(v===l.length)return e.every(xA(f/wS,m/wS,p));if(v===0)return ay.every(Math.max(xA(f,m,p),1));const[j,y]=l[x/l[v-1][2]<l[v][2]/x?v-1:v];return j.every(y)}return[u,d]}const[zfe,Bfe]=lU(Bi,TE,zv,oU,_E,AE),[Ufe,Hfe]=lU(zi,EE,qv,tp,CE,SE);function NS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function SS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Kfe(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=rh(s),m=ah(s),p=rh(i),x=ah(i),v=rh(l),j=ah(l),y=rh(u),N=ah(u),C=rh(d),A=ah(d),w={a:D,A:P,b:U,B:G,c:null,d:q5,e:q5,f:mhe,g:She,G:Che,H:dhe,I:fhe,j:hhe,L:cU,m:phe,M:xhe,p:B,q:z,Q:U5,s:H5,S:ghe,u:yhe,U:vhe,V:jhe,w:bhe,W:whe,x:null,X:null,y:Nhe,Y:Ahe,Z:_he,"%":B5},S={a:X,A:ee,b:je,B:he,c:null,d:z5,e:z5,f:Mhe,g:zhe,G:Uhe,H:Ehe,I:The,j:Ohe,L:dU,m:khe,M:Phe,p:le,q:ve,Q:U5,s:H5,S:Rhe,u:Dhe,U:Ihe,V:Lhe,w:$he,W:Fhe,x:null,X:null,y:qhe,Y:Bhe,Z:Hhe,"%":B5},E={a:V,A:F,b:H,B:K,c:q,d:$5,e:$5,f:ohe,g:L5,G:I5,H:F5,I:F5,j:rhe,L:ihe,m:nhe,M:ahe,p:I,q:the,Q:che,s:uhe,S:she,u:Xfe,U:Qfe,V:Zfe,w:Yfe,W:Jfe,x:$,X:k,y:L5,Y:I5,Z:ehe,"%":lhe};w.x=O(r,w),w.X=O(a,w),w.c=O(t,w),S.x=O(r,S),S.X=O(a,S),S.c=O(t,S);function O(xe,_e){return function(Ee){var me=[],$e=-1,ue=0,Me=xe.length,Ze,ht,pe;for(Ee instanceof Date||(Ee=new Date(+Ee));++$e<Me;)xe.charCodeAt($e)===37&&(me.push(xe.slice(ue,$e)),(ht=D5[Ze=xe.charAt(++$e)])!=null?Ze=xe.charAt(++$e):ht=Ze==="e"?" ":"0",(pe=_e[Ze])&&(Ze=pe(Ee,ht)),me.push(Ze),ue=$e+1);return me.push(xe.slice(ue,$e)),me.join("")}}function M(xe,_e){return function(Ee){var me=nh(1900,void 0,1),$e=R(me,xe,Ee+="",0),ue,Me;if($e!=Ee.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(_e&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(ue=SS(nh(me.y,0,1)),Me=ue.getUTCDay(),ue=Me>4||Me===0?iy.ceil(ue):iy(ue),ue=Fv.offset(ue,(me.V-1)*7),me.y=ue.getUTCFullYear(),me.m=ue.getUTCMonth(),me.d=ue.getUTCDate()+(me.w+6)%7):(ue=NS(nh(me.y,0,1)),Me=ue.getDay(),ue=Me>4||Me===0?sy.ceil(ue):sy(ue),ue=tp.offset(ue,(me.V-1)*7),me.y=ue.getFullYear(),me.m=ue.getMonth(),me.d=ue.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Me="Z"in me?SS(nh(me.y,0,1)).getUTCDay():NS(nh(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Me+5)%7:me.w+me.U*7-(Me+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,SS(me)):NS(me)}}function R(xe,_e,Ee,me){for(var $e=0,ue=_e.length,Me=Ee.length,Ze,ht;$e<ue;){if(me>=Me)return-1;if(Ze=_e.charCodeAt($e++),Ze===37){if(Ze=_e.charAt($e++),ht=E[Ze in D5?_e.charAt($e++):Ze],!ht||(me=ht(xe,Ee,me))<0)return-1}else if(Ze!=Ee.charCodeAt(me++))return-1}return me}function I(xe,_e,Ee){var me=f.exec(_e.slice(Ee));return me?(xe.p=m.get(me[0].toLowerCase()),Ee+me[0].length):-1}function V(xe,_e,Ee){var me=v.exec(_e.slice(Ee));return me?(xe.w=j.get(me[0].toLowerCase()),Ee+me[0].length):-1}function F(xe,_e,Ee){var me=p.exec(_e.slice(Ee));return me?(xe.w=x.get(me[0].toLowerCase()),Ee+me[0].length):-1}function H(xe,_e,Ee){var me=C.exec(_e.slice(Ee));return me?(xe.m=A.get(me[0].toLowerCase()),Ee+me[0].length):-1}function K(xe,_e,Ee){var me=y.exec(_e.slice(Ee));return me?(xe.m=N.get(me[0].toLowerCase()),Ee+me[0].length):-1}function q(xe,_e,Ee){return R(xe,t,_e,Ee)}function $(xe,_e,Ee){return R(xe,r,_e,Ee)}function k(xe,_e,Ee){return R(xe,a,_e,Ee)}function D(xe){return l[xe.getDay()]}function P(xe){return i[xe.getDay()]}function U(xe){return d[xe.getMonth()]}function G(xe){return u[xe.getMonth()]}function B(xe){return s[+(xe.getHours()>=12)]}function z(xe){return 1+~~(xe.getMonth()/3)}function X(xe){return l[xe.getUTCDay()]}function ee(xe){return i[xe.getUTCDay()]}function je(xe){return d[xe.getUTCMonth()]}function he(xe){return u[xe.getUTCMonth()]}function le(xe){return s[+(xe.getUTCHours()>=12)]}function ve(xe){return 1+~~(xe.getUTCMonth()/3)}return{format:function(xe){var _e=O(xe+="",w);return _e.toString=function(){return xe},_e},parse:function(xe){var _e=M(xe+="",!1);return _e.toString=function(){return xe},_e},utcFormat:function(xe){var _e=O(xe+="",S);return _e.toString=function(){return xe},_e},utcParse:function(xe){var _e=M(xe+="",!0);return _e.toString=function(){return xe},_e}}}var D5={"-":"",_:" ",0:"0"},Pr=/^\s*\d+/,Vfe=/^%/,Wfe=/[\\^$*+?|[\]().{}]/g;function tn(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function Gfe(e){return e.replace(Wfe,"\\$&")}function rh(e){return new RegExp("^(?:"+e.map(Gfe).join("|")+")","i")}function ah(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Yfe(e,t,r){var a=Pr.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function Xfe(e,t,r){var a=Pr.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function Qfe(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function Zfe(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function Jfe(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function I5(e,t,r){var a=Pr.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function L5(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function ehe(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function the(e,t,r){var a=Pr.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function nhe(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function $5(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function rhe(e,t,r){var a=Pr.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function F5(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function ahe(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function she(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function ihe(e,t,r){var a=Pr.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function ohe(e,t,r){var a=Pr.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function lhe(e,t,r){var a=Vfe.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function che(e,t,r){var a=Pr.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function uhe(e,t,r){var a=Pr.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function q5(e,t){return tn(e.getDate(),t,2)}function dhe(e,t){return tn(e.getHours(),t,2)}function fhe(e,t){return tn(e.getHours()%12||12,t,2)}function hhe(e,t){return tn(1+tp.count(zi(e),e),t,3)}function cU(e,t){return tn(e.getMilliseconds(),t,3)}function mhe(e,t){return cU(e,t)+"000"}function phe(e,t){return tn(e.getMonth()+1,t,2)}function xhe(e,t){return tn(e.getMinutes(),t,2)}function ghe(e,t){return tn(e.getSeconds(),t,2)}function yhe(e){var t=e.getDay();return t===0?7:t}function vhe(e,t){return tn(qv.count(zi(e)-1,e),t,2)}function uU(e){var t=e.getDay();return t>=4||t===0?ed(e):ed.ceil(e)}function jhe(e,t){return e=uU(e),tn(ed.count(zi(e),e)+(zi(e).getDay()===4),t,2)}function bhe(e){return e.getDay()}function whe(e,t){return tn(sy.count(zi(e)-1,e),t,2)}function Nhe(e,t){return tn(e.getFullYear()%100,t,2)}function She(e,t){return e=uU(e),tn(e.getFullYear()%100,t,2)}function Ahe(e,t){return tn(e.getFullYear()%1e4,t,4)}function Che(e,t){var r=e.getDay();return e=r>=4||r===0?ed(e):ed.ceil(e),tn(e.getFullYear()%1e4,t,4)}function _he(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tn(t/60|0,"0",2)+tn(t%60,"0",2)}function z5(e,t){return tn(e.getUTCDate(),t,2)}function Ehe(e,t){return tn(e.getUTCHours(),t,2)}function The(e,t){return tn(e.getUTCHours()%12||12,t,2)}function Ohe(e,t){return tn(1+Fv.count(Bi(e),e),t,3)}function dU(e,t){return tn(e.getUTCMilliseconds(),t,3)}function Mhe(e,t){return dU(e,t)+"000"}function khe(e,t){return tn(e.getUTCMonth()+1,t,2)}function Phe(e,t){return tn(e.getUTCMinutes(),t,2)}function Rhe(e,t){return tn(e.getUTCSeconds(),t,2)}function Dhe(e){var t=e.getUTCDay();return t===0?7:t}function Ihe(e,t){return tn(zv.count(Bi(e)-1,e),t,2)}function fU(e){var t=e.getUTCDay();return t>=4||t===0?td(e):td.ceil(e)}function Lhe(e,t){return e=fU(e),tn(td.count(Bi(e),e)+(Bi(e).getUTCDay()===4),t,2)}function $he(e){return e.getUTCDay()}function Fhe(e,t){return tn(iy.count(Bi(e)-1,e),t,2)}function qhe(e,t){return tn(e.getUTCFullYear()%100,t,2)}function zhe(e,t){return e=fU(e),tn(e.getUTCFullYear()%100,t,2)}function Bhe(e,t){return tn(e.getUTCFullYear()%1e4,t,4)}function Uhe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?td(e):td.ceil(e),tn(e.getUTCFullYear()%1e4,t,4)}function Hhe(){return"+0000"}function B5(){return"%"}function U5(e){return+e}function H5(e){return Math.floor(+e/1e3)}var Nu,hU,mU;Khe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Khe(e){return Nu=Kfe(e),hU=Nu.format,Nu.parse,mU=Nu.utcFormat,Nu.utcParse,Nu}function Vhe(e){return new Date(e)}function Whe(e){return e instanceof Date?+e:+new Date(+e)}function OE(e,t,r,a,s,i,l,u,d,f){var m=xE(),p=m.invert,x=m.domain,v=f(".%L"),j=f(":%S"),y=f("%I:%M"),N=f("%I %p"),C=f("%a %d"),A=f("%b %d"),w=f("%B"),S=f("%Y");function E(O){return(d(O)<O?v:u(O)<O?j:l(O)<O?y:i(O)<O?N:a(O)<O?s(O)<O?C:A:r(O)<O?w:S)(O)}return m.invert=function(O){return new Date(p(O))},m.domain=function(O){return arguments.length?x(Array.from(O,Whe)):x().map(Vhe)},m.ticks=function(O){var M=x();return e(M[0],M[M.length-1],O??10)},m.tickFormat=function(O,M){return M==null?E:f(M)},m.nice=function(O){var M=x();return(!O||typeof O.range!="function")&&(O=t(M[0],M[M.length-1],O??10)),O?x(eU(M,O)):m},m.copy=function(){return ep(m,OE(e,t,r,a,s,i,l,u,d,f))},m}function Ghe(){return ss.apply(OE(Ufe,Hfe,zi,EE,qv,tp,CE,SE,Wl,hU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yhe(){return ss.apply(OE(zfe,Bfe,Bi,TE,zv,Fv,_E,AE,Wl,mU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bv(){var e=0,t=1,r,a,s,i,l=na,u=!1,d;function f(p){return p==null||isNaN(p=+p)?d:l(s===0?.5:(p=(i(p)-r)*s,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),f):[e,t]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(l=p,f):l};function m(p){return function(x){var v,j;return arguments.length?([v,j]=x,l=p(v,j),f):[l(0),l(1)]}}return f.range=m(Ri),f.rangeRound=m(pE),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return i=p,r=p(e),a=p(t),s=r===a?0:1/(a-r),f}}function fl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pU(){var e=dl(Bv()(na));return e.copy=function(){return fl(e,pU())},Zi.apply(e,arguments)}function xU(){var e=vE(Bv()).domain([1,10]);return e.copy=function(){return fl(e,xU()).base(e.base())},Zi.apply(e,arguments)}function gU(){var e=jE(Bv());return e.copy=function(){return fl(e,gU()).constant(e.constant())},Zi.apply(e,arguments)}function ME(){var e=bE(Bv());return e.copy=function(){return fl(e,ME()).exponent(e.exponent())},Zi.apply(e,arguments)}function Xhe(){return ME.apply(null,arguments).exponent(.5)}function yU(){var e=[],t=na;function r(a){if(a!=null&&!isNaN(a=+a))return t((Zm(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Yo),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>Ode(e,i/a))},r.copy=function(){return yU(t).domain(e)},Zi.apply(r,arguments)}function Uv(){var e=0,t=.5,r=1,a=1,s,i,l,u,d,f=na,m,p=!1,x;function v(y){return isNaN(y=+y)?x:(y=.5+((y=+m(y))-i)*(a*y<a*i?u:d),f(p?Math.max(0,Math.min(1,y)):y))}v.domain=function(y){return arguments.length?([e,t,r]=y,s=m(e=+e),i=m(t=+t),l=m(r=+r),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),a=i<s?-1:1,v):[e,t,r]},v.clamp=function(y){return arguments.length?(p=!!y,v):p},v.interpolator=function(y){return arguments.length?(f=y,v):f};function j(y){return function(N){var C,A,w;return arguments.length?([C,A,w]=N,f=lfe(y,[C,A,w]),v):[f(0),f(.5),f(1)]}}return v.range=j(Ri),v.rangeRound=j(pE),v.unknown=function(y){return arguments.length?(x=y,v):x},function(y){return m=y,s=y(e),i=y(t),l=y(r),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),a=i<s?-1:1,v}}function vU(){var e=dl(Uv()(na));return e.copy=function(){return fl(e,vU())},Zi.apply(e,arguments)}function jU(){var e=vE(Uv()).domain([.1,1,10]);return e.copy=function(){return fl(e,jU()).base(e.base())},Zi.apply(e,arguments)}function bU(){var e=jE(Uv());return e.copy=function(){return fl(e,bU()).constant(e.constant())},Zi.apply(e,arguments)}function kE(){var e=bE(Uv());return e.copy=function(){return fl(e,kE()).exponent(e.exponent())},Zi.apply(e,arguments)}function Qhe(){return kE.apply(null,arguments).exponent(.5)}const K5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yh,scaleDiverging:vU,scaleDivergingLog:jU,scaleDivergingPow:kE,scaleDivergingSqrt:Qhe,scaleDivergingSymlog:bU,scaleIdentity:JB,scaleImplicit:gA,scaleLinear:ry,scaleLog:tU,scaleOrdinal:fE,scalePoint:Ah,scalePow:wE,scaleQuantile:aU,scaleQuantize:sU,scaleRadial:rU,scaleSequential:pU,scaleSequentialLog:xU,scaleSequentialPow:ME,scaleSequentialQuantile:yU,scaleSequentialSqrt:Xhe,scaleSequentialSymlog:gU,scaleSqrt:Mfe,scaleSymlog:nU,scaleThreshold:iU,scaleTime:Ghe,scaleUtc:Yhe,tickFormat:ZB},Symbol.toStringTag,{value:"Module"}));var AS,V5;function Hv(){if(V5)return AS;V5=1;var e=Kd();function t(r,a,s){for(var i=-1,l=r.length;++i<l;){var u=r[i],d=a(u);if(d!=null&&(f===void 0?d===d&&!e(d):s(d,f)))var f=d,m=u}return m}return AS=t,AS}var CS,W5;function wU(){if(W5)return CS;W5=1;function e(t,r){return t>r}return CS=e,CS}var _S,G5;function Zhe(){if(G5)return _S;G5=1;var e=Hv(),t=wU(),r=Gd();function a(s){return s&&s.length?e(s,r,t):void 0}return _S=a,_S}var Jhe=Zhe();const Bo=an(Jhe);var ES,Y5;function NU(){if(Y5)return ES;Y5=1;function e(t,r){return t<r}return ES=e,ES}var TS,X5;function eme(){if(X5)return TS;X5=1;var e=Hv(),t=NU(),r=Gd();function a(s){return s&&s.length?e(s,r,t):void 0}return TS=a,TS}var tme=eme();const Kv=an(tme);var OS,Q5;function nme(){if(Q5)return OS;Q5=1;var e=Y_(),t=ti(),r=EB(),a=ga();function s(i,l){var u=a(i)?e:r;return u(i,t(l,3))}return OS=s,OS}var MS,Z5;function rme(){if(Z5)return MS;Z5=1;var e=CB(),t=nme();function r(a,s){return e(t(a,s),1)}return MS=r,MS}var ame=rme();const sme=an(ame);var kS,J5;function ime(){if(J5)return kS;J5=1;var e=oE();function t(r,a){return e(r,a)}return kS=t,kS}var ome=ime();const al=an(ome);var Yd=1e9,lme={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RE,Ln=!0,ns="[DecimalError] ",Ql=ns+"Invalid argument: ",PE=ns+"Exponent out of range: ",Xd=Math.floor,ql=Math.pow,cme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ta,_r=1e7,Mn=7,SU=9007199254740991,oy=Xd(SU/Mn),nt={};nt.absoluteValue=nt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};nt.comparedTo=nt.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};nt.decimalPlaces=nt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Mn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};nt.dividedBy=nt.div=function(e){return Di(this,new this.constructor(e))};nt.dividedToIntegerBy=nt.idiv=function(e){var t=this,r=t.constructor;return jn(Di(t,new r(e),0,1),r.precision)};nt.equals=nt.eq=function(e){return!this.cmp(e)};nt.exponent=function(){return dr(this)};nt.greaterThan=nt.gt=function(e){return this.cmp(e)>0};nt.greaterThanOrEqualTo=nt.gte=function(e){return this.cmp(e)>=0};nt.isInteger=nt.isint=function(){return this.e>this.d.length-2};nt.isNegative=nt.isneg=function(){return this.s<0};nt.isPositive=nt.ispos=function(){return this.s>0};nt.isZero=function(){return this.s===0};nt.lessThan=nt.lt=function(e){return this.cmp(e)<0};nt.lessThanOrEqualTo=nt.lte=function(e){return this.cmp(e)<1};nt.logarithm=nt.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Ta))throw Error(ns+"NaN");if(r.s<1)throw Error(ns+(r.s?"NaN":"-Infinity"));return r.eq(Ta)?new a(0):(Ln=!1,t=Di(Jh(r,i),Jh(e,i),i),Ln=!0,jn(t,s))};nt.minus=nt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_U(t,e):AU(t,(e.s=-e.s,e))};nt.modulo=nt.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(ns+"NaN");return r.s?(Ln=!1,t=Di(r,e,0,1).times(e),Ln=!0,r.minus(t)):jn(new a(r),s)};nt.naturalExponential=nt.exp=function(){return CU(this)};nt.naturalLogarithm=nt.ln=function(){return Jh(this)};nt.negated=nt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};nt.plus=nt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AU(t,e):_U(t,(e.s=-e.s,e))};nt.precision=nt.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ql+e);if(t=dr(s)+1,a=s.d.length-1,r=a*Mn+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};nt.squareRoot=nt.sqrt=function(){var e,t,r,a,s,i,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(ns+"NaN")}for(e=dr(u),Ln=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=Us(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Xd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new d(t)):a=new d(s.toString()),r=d.precision,s=l=r+3;;)if(i=a,a=i.plus(Di(u,i,l+2)).times(.5),Us(i.d).slice(0,l)===(t=Us(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(jn(i,r+1,0),i.times(i).eq(u)){a=i;break}}else if(t!="9999")break;l+=4}return Ln=!0,jn(a,r)};nt.times=nt.mul=function(e){var t,r,a,s,i,l,u,d,f,m=this,p=m.constructor,x=m.d,v=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,r=m.e+e.e,d=x.length,f=v.length,d<f&&(i=x,x=v,v=i,l=d,d=f,f=l),i=[],l=d+f,a=l;a--;)i.push(0);for(a=f;--a>=0;){for(t=0,s=d+a;s>a;)u=i[s]+v[a]*x[s-a-1]+t,i[s--]=u%_r|0,t=u/_r|0;i[s]=(i[s]+t)%_r|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ln?jn(e,p.precision):e};nt.toDecimalPlaces=nt.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(Qs(e,0,Yd),t===void 0?t=a.rounding:Qs(t,0,8),jn(r,e+dr(r)+1,t))};nt.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=cc(a,!0):(Qs(e,0,Yd),t===void 0?t=s.rounding:Qs(t,0,8),a=jn(new s(a),e+1,t),r=cc(a,!0,e+1)),r};nt.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?cc(s):(Qs(e,0,Yd),t===void 0?t=i.rounding:Qs(t,0,8),a=jn(new i(s),e+dr(s)+1,t),r=cc(a.abs(),!1,e+dr(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};nt.toInteger=nt.toint=function(){var e=this,t=e.constructor;return jn(new t(e),dr(e)+1,t.rounding)};nt.toNumber=function(){return+this};nt.toPower=nt.pow=function(e){var t,r,a,s,i,l,u=this,d=u.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(Ta);if(u=new d(u),!u.s){if(e.s<1)throw Error(ns+"Infinity");return u}if(u.eq(Ta))return u;if(a=d.precision,e.eq(Ta))return jn(u,a);if(t=e.e,r=e.d.length-1,l=t>=r,i=u.s,l){if((r=m<0?-m:m)<=SU){for(s=new d(Ta),t=Math.ceil(a/Mn+4),Ln=!1;r%2&&(s=s.times(u),tL(s.d,t)),r=Xd(r/2),r!==0;)u=u.times(u),tL(u.d,t);return Ln=!0,e.s<0?new d(Ta).div(s):jn(s,a)}}else if(i<0)throw Error(ns+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Ln=!1,s=e.times(Jh(u,a+f)),Ln=!0,s=CU(s),s.s=i,s};nt.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=dr(s),a=cc(s,r<=i.toExpNeg||r>=i.toExpPos)):(Qs(e,1,Yd),t===void 0?t=i.rounding:Qs(t,0,8),s=jn(new i(s),e,t),r=dr(s),a=cc(s,e<=r||r<=i.toExpNeg,e)),a};nt.toSignificantDigits=nt.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Qs(e,1,Yd),t===void 0?t=a.rounding:Qs(t,0,8)),jn(new a(r),e,t)};nt.toString=nt.valueOf=nt.val=nt.toJSON=nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=dr(e),r=e.constructor;return cc(e,t<=r.toExpNeg||t>=r.toExpPos)};function AU(e,t){var r,a,s,i,l,u,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),Ln?jn(t,p):t;if(d=e.d,f=t.d,l=e.e,s=t.e,d=d.slice(),i=l-s,i){for(i<0?(a=d,i=-i,u=f.length):(a=f,s=l,u=d.length),l=Math.ceil(p/Mn),u=l>u?l+1:u+1,i>u&&(i=u,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(u=d.length,i=f.length,u-i<0&&(i=u,a=f,f=d,d=a),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/_r|0,d[i]%=_r;for(r&&(d.unshift(r),++s),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=s,Ln?jn(t,p):t}function Qs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ql+e)}function Us(e){var t,r,a,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)a=e[t]+"",r=Mn-a.length,r&&(i+=Lo(r)),i+=a;l=e[t],a=l+"",r=Mn-a.length,r&&(i+=Lo(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Di=(function(){function e(a,s){var i,l=0,u=a.length;for(a=a.slice();u--;)i=a[u]*s+l,a[u]=i%_r|0,l=i/_r|0;return l&&a.unshift(l),a}function t(a,s,i,l){var u,d;if(i!=l)d=i>l?1:-1;else for(u=d=0;u<i;u++)if(a[u]!=s[u]){d=a[u]>s[u]?1:-1;break}return d}function r(a,s,i){for(var l=0;i--;)a[i]-=l,l=a[i]<s[i]?1:0,a[i]=l*_r+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,l){var u,d,f,m,p,x,v,j,y,N,C,A,w,S,E,O,M,R,I=a.constructor,V=a.s==s.s?1:-1,F=a.d,H=s.d;if(!a.s)return new I(a);if(!s.s)throw Error(ns+"Division by zero");for(d=a.e-s.e,M=H.length,E=F.length,v=new I(V),j=v.d=[],f=0;H[f]==(F[f]||0);)++f;if(H[f]>(F[f]||0)&&--d,i==null?A=i=I.precision:l?A=i+(dr(a)-dr(s))+1:A=i,A<0)return new I(0);if(A=A/Mn+2|0,f=0,M==1)for(m=0,H=H[0],A++;(f<E||m)&&A--;f++)w=m*_r+(F[f]||0),j[f]=w/H|0,m=w%H|0;else{for(m=_r/(H[0]+1)|0,m>1&&(H=e(H,m),F=e(F,m),M=H.length,E=F.length),S=M,y=F.slice(0,M),N=y.length;N<M;)y[N++]=0;R=H.slice(),R.unshift(0),O=H[0],H[1]>=_r/2&&++O;do m=0,u=t(H,y,M,N),u<0?(C=y[0],M!=N&&(C=C*_r+(y[1]||0)),m=C/O|0,m>1?(m>=_r&&(m=_r-1),p=e(H,m),x=p.length,N=y.length,u=t(p,y,x,N),u==1&&(m--,r(p,M<x?R:H,x))):(m==0&&(u=m=1),p=H.slice()),x=p.length,x<N&&p.unshift(0),r(y,p,N),u==-1&&(N=y.length,u=t(H,y,M,N),u<1&&(m++,r(y,M<N?R:H,N))),N=y.length):u===0&&(m++,y=[0]),j[f++]=m,u&&y[0]?y[N++]=F[S]||0:(y=[F[S]],N=1);while((S++<E||y[0]!==void 0)&&A--)}return j[0]||j.shift(),v.e=d,jn(v,l?i+dr(v)+1:i)}})();function CU(e,t){var r,a,s,i,l,u,d=0,f=0,m=e.constructor,p=m.precision;if(dr(e)>16)throw Error(PE+dr(e));if(!e.s)return new m(Ta);for(Ln=!1,u=p,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(a=Math.log(ql(2,f))/Math.LN10*2+5|0,u+=a,r=s=i=new m(Ta),m.precision=u;;){if(s=jn(s.times(e),u),r=r.times(++d),l=i.plus(Di(s,r,u)),Us(l.d).slice(0,u)===Us(i.d).slice(0,u)){for(;f--;)i=jn(i.times(i),u);return m.precision=p,t==null?(Ln=!0,jn(i,p)):i}i=l}}function dr(e){for(var t=e.e*Mn,r=e.d[0];r>=10;r/=10)t++;return t}function PS(e,t,r){if(t>e.LN10.sd())throw Ln=!0,r&&(e.precision=r),Error(ns+"LN10 precision limit exceeded");return jn(new e(e.LN10),t)}function Lo(e){for(var t="";e--;)t+="0";return t}function Jh(e,t){var r,a,s,i,l,u,d,f,m,p=1,x=10,v=e,j=v.d,y=v.constructor,N=y.precision;if(v.s<1)throw Error(ns+(v.s?"NaN":"-Infinity"));if(v.eq(Ta))return new y(0);if(t==null?(Ln=!1,f=N):f=t,v.eq(10))return t==null&&(Ln=!0),PS(y,f);if(f+=x,y.precision=f,r=Us(j),a=r.charAt(0),i=dr(v),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)v=v.times(e),r=Us(v.d),a=r.charAt(0),p++;i=dr(v),a>1?(v=new y("0."+r),i++):v=new y(a+"."+r.slice(1))}else return d=PS(y,f+2,N).times(i+""),v=Jh(new y(a+"."+r.slice(1)),f-x).plus(d),y.precision=N,t==null?(Ln=!0,jn(v,N)):v;for(u=l=v=Di(v.minus(Ta),v.plus(Ta),f),m=jn(v.times(v),f),s=3;;){if(l=jn(l.times(m),f),d=u.plus(Di(l,new y(s),f)),Us(d.d).slice(0,f)===Us(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(PS(y,f+2,N).times(i+""))),u=Di(u,new y(p),f),y.precision=N,t==null?(Ln=!0,jn(u,N)):u;u=d,s+=2}}function eL(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=Xd(r/Mn),e.d=[],a=(r+1)%Mn,r<0&&(a+=Mn),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Mn;a<s;)e.d.push(+t.slice(a,a+=Mn));t=t.slice(a),a=Mn-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),Ln&&(e.e>oy||e.e<-oy))throw Error(PE+r)}else e.s=0,e.e=0,e.d=[0];return e}function jn(e,t,r){var a,s,i,l,u,d,f,m,p=e.d;for(l=1,i=p[0];i>=10;i/=10)l++;if(a=t-l,a<0)a+=Mn,s=t,f=p[m=0];else{if(m=Math.ceil((a+1)/Mn),i=p.length,m>=i)return e;for(f=i=p[m],l=1;i>=10;i/=10)l++;a%=Mn,s=a-Mn+l}if(r!==void 0&&(i=ql(10,l-s-1),u=f/i%10|0,d=t<0||p[m+1]!==void 0||f%i,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(a>0?s>0?f/ql(10,l-s):0:p[m-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return d?(i=dr(e),p.length=1,t=t-i-1,p[0]=ql(10,(Mn-t%Mn)%Mn),e.e=Xd(-t/Mn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(a==0?(p.length=m,i=1,m--):(p.length=m+1,i=ql(10,Mn-a),p[m]=s>0?(f/ql(10,l-s)%ql(10,s)|0)*i:0),d)for(;;)if(m==0){(p[0]+=i)==_r&&(p[0]=1,++e.e);break}else{if(p[m]+=i,p[m]!=_r)break;p[m--]=0,i=1}for(a=p.length;p[--a]===0;)p.pop();if(Ln&&(e.e>oy||e.e<-oy))throw Error(PE+dr(e));return e}function _U(e,t){var r,a,s,i,l,u,d,f,m,p,x=e.constructor,v=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Ln?jn(t,v):t;if(d=e.d,p=t.d,a=t.e,f=e.e,d=d.slice(),l=f-a,l){for(m=l<0,m?(r=d,l=-l,u=p.length):(r=p,a=f,u=d.length),s=Math.max(Math.ceil(v/Mn),u)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=d.length,u=p.length,m=s<u,m&&(u=s),s=0;s<u;s++)if(d[s]!=p[s]){m=d[s]<p[s];break}l=0}for(m&&(r=d,d=p,p=r,t.s=-t.s),u=d.length,s=p.length-u;s>0;--s)d[u++]=0;for(s=p.length;s>l;){if(d[--s]<p[s]){for(i=s;i&&d[--i]===0;)d[i]=_r-1;--d[i],d[s]+=_r}d[s]-=p[s]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(t.d=d,t.e=a,Ln?jn(t,v):t):new x(0)}function cc(e,t,r){var a,s=dr(e),i=Us(e.d),l=i.length;return t?(r&&(a=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+Lo(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Lo(-s-1)+i,r&&(a=r-l)>0&&(i+=Lo(a))):s>=l?(i+=Lo(s+1-l),r&&(a=r-s-1)>0&&(i=i+"."+Lo(a))):((a=s+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-l)>0&&(s+1===l&&(i+="."),i+=Lo(a))),e.s<0?"-"+i:i}function tL(e,t){if(e.length>t)return e.length=t,!0}function EU(e){var t,r,a;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ql+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return eL(l,i.toString())}else if(typeof i!="string")throw Error(Ql+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,cme.test(i))eL(l,i);else throw Error(Ql+i)}if(s.prototype=nt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=EU,s.config=s.set=ume,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function ume(e){if(!e||typeof e!="object")throw Error(ns+"Object expected");var t,r,a,s=["precision",1,Yd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(Xd(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(Ql+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Ql+r+": "+a);return this}var RE=EU(lme);Ta=new RE(1);const xn=RE;function dme(e){return pme(e)||mme(e)||hme(e)||fme()}function fme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hme(e,t){if(e){if(typeof e=="string")return wA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wA(e,t)}}function mme(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function pme(e){if(Array.isArray(e))return wA(e)}function wA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var xme=function(t){return t},TU={},OU=function(t){return t===TU},nL=function(t){return function r(){return arguments.length===0||arguments.length===1&&OU(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},gme=function e(t,r){return t===1?r:nL(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var l=s.filter(function(u){return u!==TU}).length;return l>=t?r.apply(void 0,s):e(t-l,nL(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var m=s.map(function(p){return OU(p)?d.shift():p});return r.apply(void 0,dme(m).concat(d))}))})},Vv=function(t){return gme(t.length,t)},NA=function(t,r){for(var a=[],s=t;s<r;++s)a[s-t]=s;return a},yme=Vv(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),vme=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return xme;var s=r.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce(function(u,d){return d(u)},i.apply(void 0,arguments))}},SA=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},MU=function(t){var r=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return r&&i.every(function(u,d){return u===r[d]})||(r=i,a=t.apply(void 0,i)),a}};function jme(e){var t;return e===0?t=1:t=Math.floor(new xn(e).abs().log(10).toNumber())+1,t}function bme(e,t,r){for(var a=new xn(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}var wme=Vv(function(e,t,r){var a=+e,s=+t;return a+r*(s-a)}),Nme=Vv(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),Sme=Vv(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const Wv={rangeStep:bme,getDigitCount:jme,interpolateNumber:wme,uninterpolateNumber:Nme,uninterpolateTruncation:Sme};function AA(e){return _me(e)||Cme(e)||kU(e)||Ame()}function Ame(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cme(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _me(e){if(Array.isArray(e))return CA(e)}function em(e,t){return Ome(e)||Tme(e,t)||kU(e,t)||Eme()}function Eme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kU(e,t){if(e){if(typeof e=="string")return CA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CA(e,t)}}function CA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Tme(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,s=!1,i=void 0;try{for(var l=e[Symbol.iterator](),u;!(a=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));a=!0);}catch(d){s=!0,i=d}finally{try{!a&&l.return!=null&&l.return()}finally{if(s)throw i}}return r}}function Ome(e){if(Array.isArray(e))return e}function PU(e){var t=em(e,2),r=t[0],a=t[1],s=r,i=a;return r>a&&(s=a,i=r),[s,i]}function RU(e,t,r){if(e.lte(0))return new xn(0);var a=Wv.getDigitCount(e.toNumber()),s=new xn(10).pow(a),i=e.div(s),l=a!==1?.05:.1,u=new xn(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=u.mul(s);return t?d:new xn(Math.ceil(d))}function Mme(e,t,r){var a=1,s=new xn(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new xn(10).pow(Wv.getDigitCount(e)-1),s=new xn(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new xn(Math.floor(e)))}else e===0?s=new xn(Math.floor((t-1)/2)):r||(s=new xn(Math.floor(e)));var l=Math.floor((t-1)/2),u=vme(yme(function(d){return s.add(new xn(d-l).mul(a)).toNumber()}),NA);return u(0,t)}function DU(e,t,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new xn(0),tickMin:new xn(0),tickMax:new xn(0)};var i=RU(new xn(t).sub(e).div(r-1),a,s),l;e<=0&&t>=0?l=new xn(0):(l=new xn(e).add(t).div(2),l=l.sub(new xn(l).mod(i)));var u=Math.ceil(l.sub(e).div(i).toNumber()),d=Math.ceil(new xn(t).sub(l).div(i).toNumber()),f=u+d+1;return f>r?DU(e,t,r,a,s+1):(f<r&&(d=t>0?d+(r-f):d,u=t>0?u:u+(r-f)),{step:i,tickMin:l.sub(new xn(u).mul(i)),tickMax:l.add(new xn(d).mul(i))})}function kme(e){var t=em(e,2),r=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),u=PU([r,a]),d=em(u,2),f=d[0],m=d[1];if(f===-1/0||m===1/0){var p=m===1/0?[f].concat(AA(NA(0,s-1).map(function(){return 1/0}))):[].concat(AA(NA(0,s-1).map(function(){return-1/0})),[m]);return r>a?SA(p):p}if(f===m)return Mme(f,s,i);var x=DU(f,m,l,i),v=x.step,j=x.tickMin,y=x.tickMax,N=Wv.rangeStep(j,y.add(new xn(.1).mul(v)),v);return r>a?SA(N):N}function Pme(e,t){var r=em(e,2),a=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=PU([a,s]),u=em(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[a,s];if(d===f)return[d];var m=Math.max(t,2),p=RU(new xn(f).sub(d).div(m-1),i,0),x=[].concat(AA(Wv.rangeStep(new xn(d),new xn(f).sub(new xn(.99).mul(p)),p)),[f]);return a>s?SA(x):x}var Rme=MU(kme),Dme=MU(Pme),Ime="Invariant failed";function uc(e,t){throw new Error(Ime)}var Lme=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ly.apply(this,arguments)}function $me(e,t){return Bme(e)||zme(e,t)||qme(e,t)||Fme()}function Fme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qme(e,t){if(e){if(typeof e=="string")return rL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rL(e,t)}}function rL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function zme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Bme(e){if(Array.isArray(e))return e}function Ume(e,t){if(e==null)return{};var r=Hme(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Hme(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Kme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vme(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$U(a.key),a)}}function Wme(e,t,r){return t&&Vme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gme(e,t,r){return t=cy(t),Yme(e,IU()?Reflect.construct(t,r||[],cy(e).constructor):t.apply(e,r))}function Yme(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xme(e)}function Xme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IU=function(){return!!e})()}function cy(e){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cy(e)}function Qme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_A(e,t)}function _A(e,t){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_A(e,t)}function LU(e,t,r){return t=$U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $U(e){var t=Zme(e,"string");return nd(t)=="symbol"?t:t+""}function Zme(e,t){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(nd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qd=(function(e){function t(){return Kme(this,t),Gme(this,t,arguments)}return Qme(t,e),Wme(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,l=a.width,u=a.dataKey,d=a.data,f=a.dataPointFormatter,m=a.xAxis,p=a.yAxis,x=Ume(a,Lme),v=pt(x,!1);this.props.direction==="x"&&m.type!=="number"&&uc();var j=d.map(function(y){var N=f(y,u),C=N.x,A=N.y,w=N.value,S=N.errorVal;if(!S)return null;var E=[],O,M;if(Array.isArray(S)){var R=$me(S,2);O=R[0],M=R[1]}else O=M=S;if(i==="vertical"){var I=m.scale,V=A+s,F=V+l,H=V-l,K=I(w-O),q=I(w+M);E.push({x1:q,y1:F,x2:q,y2:H}),E.push({x1:K,y1:V,x2:q,y2:V}),E.push({x1:K,y1:F,x2:K,y2:H})}else if(i==="horizontal"){var $=p.scale,k=C+s,D=k-l,P=k+l,U=$(w-O),G=$(w+M);E.push({x1:D,y1:G,x2:P,y2:G}),E.push({x1:k,y1:U,x2:k,y2:G}),E.push({x1:D,y1:U,x2:P,y2:U})}return J.createElement(Ot,ly({className:"recharts-errorBar",key:"bar-".concat(E.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},v),E.map(function(B){return J.createElement("line",ly({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return J.createElement(Ot,{className:"recharts-errorBars"},j)}}])})(J.Component);LU(Qd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});LU(Qd,"displayName","ErrorBar");function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function aL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aL(Object(r),!0).forEach(function(a){Jme(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Jme(e,t,r){return t=epe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function epe(e){var t=tpe(e,"string");return tm(t)=="symbol"?t:t+""}function tpe(e,t){if(tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(tm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FU=function(t){var r=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,l=_a(r,qr);if(!l)return null;var u=qr.defaultProps,d=u!==void 0?Il(Il({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:i==="children"?f=(a||[]).reduce(function(m,p){var x=p.item,v=p.props,j=v.sectors||v.data||[];return m.concat(j.map(function(y){return{type:l.props.iconType||x.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):f=(a||[]).map(function(m){var p=m.item,x=p.type.defaultProps,v=x!==void 0?Il(Il({},x),p.props):{},j=v.dataKey,y=v.name,N=v.legendType,C=v.hide;return{inactive:C,dataKey:j,type:d.iconType||N||"square",color:DE(p),value:y||j,payload:v}}),Il(Il(Il({},d),qr.getWithHeight(l,s)),{},{payload:f,item:l})};function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function sL(e){return spe(e)||ape(e)||rpe(e)||npe()}function npe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rpe(e,t){if(e){if(typeof e=="string")return EA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EA(e,t)}}function ape(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function spe(e){if(Array.isArray(e))return EA(e)}function EA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function iL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iL(Object(r),!0).forEach(function(a){Uu(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Uu(e,t,r){return t=ipe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ipe(e){var t=ope(e,"string");return nm(t)=="symbol"?t:t+""}function ope(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(nm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rn(e,t,r){return bt(e)||bt(t)?r:wr(t)?ka(e,t,r):Nt(t)?t(e):r}function Ch(e,t,r,a){var s=sme(e,function(u){return Rn(u,t)});if(r==="number"){var i=s.filter(function(u){return ze(u)||parseFloat(u)});return i.length?[Kv(i),Bo(i)]:[1/0,-1/0]}var l=a?s.filter(function(u){return!bt(u)}):s;return l.map(function(u){return wr(u)||u instanceof Date?u:""})}var lpe=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=a?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,f=0;f<u;f++){var m=f>0?s[f-1].coordinate:s[u-1].coordinate,p=s[f].coordinate,x=f>=u-1?s[0].coordinate:s[f+1].coordinate,v=void 0;if(ea(p-m)!==ea(x-p)){var j=[];if(ea(x-p)===ea(d[1]-d[0])){v=x;var y=p+d[1]-d[0];j[0]=Math.min(y,(y+m)/2),j[1]=Math.max(y,(y+m)/2)}else{v=m;var N=x+d[1]-d[0];j[0]=Math.min(p,(N+p)/2),j[1]=Math.max(p,(N+p)/2)}var C=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(t>C[0]&&t<=C[1]||t>=j[0]&&t<=j[1]){l=s[f].index;break}}else{var A=Math.min(m,x),w=Math.max(m,x);if(t>(A+p)/2&&t<=(w+p)/2){l=s[f].index;break}}}else for(var S=0;S<u;S++)if(S===0&&t<=(a[S].coordinate+a[S+1].coordinate)/2||S>0&&S<u-1&&t>(a[S].coordinate+a[S-1].coordinate)/2&&t<=(a[S].coordinate+a[S+1].coordinate)/2||S===u-1&&t>(a[S].coordinate+a[S-1].coordinate)/2){l=a[S].index;break}return l},DE=function(t){var r,a=t,s=a.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Vn(Vn({},t.type.defaultProps),t.props):t.props,l=i.stroke,u=i.fill,d;switch(s){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},cpe=function(t){var r=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var l={},u=Object.keys(i),d=0,f=u.length;d<f;d++)for(var m=i[u[d]].stackGroups,p=Object.keys(m),x=0,v=p.length;x<v;x++){var j=m[p[x]],y=j.items,N=j.cateAxisId,C=y.filter(function(M){return Pi(M.type).indexOf("Bar")>=0});if(C&&C.length){var A=C[0].type.defaultProps,w=A!==void 0?Vn(Vn({},A),C[0].props):C[0].props,S=w.barSize,E=w[N];l[E]||(l[E]=[]);var O=bt(S)?r:S;l[E].push({item:C[0],stackList:C.slice(1),barSize:bt(O)?void 0:ta(O,a,0)})}}return l},upe=function(t){var r=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=ta(r,s,0,!0),m,p=[];if(l[0].barSize===+l[0].barSize){var x=!1,v=s/d,j=l.reduce(function(S,E){return S+E.barSize||0},0);j+=(d-1)*f,j>=s&&(j-=(d-1)*f,f=0),j>=s&&v>0&&(x=!0,v*=.9,j=d*v);var y=(s-j)/2>>0,N={offset:y-f,size:0};m=l.reduce(function(S,E){var O={item:E.item,position:{offset:N.offset+N.size+f,size:x?v:E.barSize}},M=[].concat(sL(S),[O]);return N=M[M.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(R){M.push({item:R,position:N})}),M},p)}else{var C=ta(a,s,0,!0);s-2*C-(d-1)*f<=0&&(f=0);var A=(s-2*C-(d-1)*f)/d;A>1&&(A>>=0);var w=u===+u?Math.min(A,u):A;m=l.reduce(function(S,E,O){var M=[].concat(sL(S),[{item:E.item,position:{offset:C+(A+f)*O+(A-w)/2,size:w}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(R){M.push({item:R,position:M[M.length-1].position})}),M},p)}return m},dpe=function(t,r,a,s){var i=a.children,l=a.width,u=a.margin,d=l-(u.left||0)-(u.right||0),f=FU({children:i,legendWidth:d});if(f){var m=s||{},p=m.width,x=m.height,v=f.align,j=f.verticalAlign,y=f.layout;if((y==="vertical"||y==="horizontal"&&j==="middle")&&v!=="center"&&ze(t[v]))return Vn(Vn({},t),{},Uu({},v,t[v]+(p||0)));if((y==="horizontal"||y==="vertical"&&v==="center")&&j!=="middle"&&ze(t[j]))return Vn(Vn({},t),{},Uu({},j,t[j]+(x||0)))}return t},fpe=function(t,r,a){return bt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},qU=function(t,r,a,s,i){var l=r.props.children,u=ra(l,Qd).filter(function(f){return fpe(s,i,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,m){var p=Rn(m,a);if(bt(p))return f;var x=Array.isArray(p)?[Kv(p),Bo(p)]:[p,p],v=d.reduce(function(j,y){var N=Rn(m,y,0),C=x[0]-Math.abs(Array.isArray(N)?N[0]:N),A=x[1]+Math.abs(Array.isArray(N)?N[1]:N);return[Math.min(C,j[0]),Math.max(A,j[1])]},[1/0,-1/0]);return[Math.min(v[0],f[0]),Math.max(v[1],f[1])]},[1/0,-1/0])}return null},hpe=function(t,r,a,s,i){var l=r.map(function(u){return qU(t,u,a,i,s)}).filter(function(u){return!bt(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},zU=function(t,r,a,s,i){var l=r.map(function(d){var f=d.props.dataKey;return a==="number"&&f&&qU(t,d,f,s)||Ch(t,f,a,i)});if(a==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var m=0,p=f.length;m<p;m++)u[f[m]]||(u[f[m]]=!0,d.push(f[m]));return d},[])},BU=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},UU=function(t,r,a,s){if(s)return t.map(function(d){return d.coordinate});var i,l,u=t.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===a&&(l=!0),d.coordinate});return i||u.push(r),l||u.push(a),u},Oi=function(t,r,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,f=(r||a)&&l==="category"&&s.bandwidth?s.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&u?.length>=2?ea(u[0]-u[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var m=(t.ticks||t.niceTicks).map(function(p){var x=i?i.indexOf(p):p;return{coordinate:s(x)+f,value:p,offset:f}});return m.filter(function(p){return!Wd(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,x){return{coordinate:s(p)+f,value:p,index:x,offset:f}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(p){return{coordinate:s(p)+f,value:p,offset:f}}):s.domain().map(function(p,x){return{coordinate:s(p)+f,value:i?i[p]:p,index:x,offset:f}})},RS=new WeakMap,Qx=function(t,r){if(typeof r!="function")return t;RS.has(t)||RS.set(t,new WeakMap);var a=RS.get(t);if(a.has(r))return a.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,s),s},HU=function(t,r,a){var s=t.scale,i=t.type,l=t.layout,u=t.axisType;if(s==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Yh(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:ry(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:Ah(),realScaleType:"point"}:i==="category"?{scale:Yh(),realScaleType:"band"}:{scale:ry(),realScaleType:"linear"};if(ic(s)){var d="scale".concat(Ov(s));return{scale:(K5[d]||Ah)(),realScaleType:K5[d]?d:"point"}}return Nt(s)?{scale:s}:{scale:Ah(),realScaleType:"point"}},oL=1e-4,KU=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,s=t.range(),i=Math.min(s[0],s[1])-oL,l=Math.max(s[0],s[1])+oL,u=t(r[0]),d=t(r[a-1]);(u<i||u>l||d<i||d>l)&&t.domain([r[0],r[a-1]])}},mpe=function(t,r){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===r)return t[a].position;return null},ppe=function(t,r){if(!r||r.length!==2||!ze(r[0])||!ze(r[1]))return t;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ze(t[0])||t[0]<a)&&(i[0]=a),(!ze(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},xpe=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0,u=0;u<r;++u){var d=Wd(t[u][a][1])?t[u][a][0]:t[u][a][1];d>=0?(t[u][a][0]=i,t[u][a][1]=i+d,i=t[u][a][1]):(t[u][a][0]=l,t[u][a][1]=l+d,l=t[u][a][1])}},gpe=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0;l<r;++l){var u=Wd(t[l][a][1])?t[l][a][0]:t[l][a][1];u>=0?(t[l][a][0]=i,t[l][a][1]=i+u,i=t[l][a][1]):(t[l][a][0]=0,t[l][a][1]=0)}},ype={sign:xpe,expand:Joe,none:Gu,silhouette:ele,wiggle:tle,positive:gpe},vpe=function(t,r,a){var s=r.map(function(u){return u.props.dataKey}),i=ype[a],l=Zoe().keys(s).value(function(u,d){return+Rn(u,d,0)}).order(rA).offset(i);return l(t)},jpe=function(t,r,a,s,i,l){if(!t)return null;var u=l?r.reverse():r,d={},f=u.reduce(function(p,x){var v,j=(v=x.type)!==null&&v!==void 0&&v.defaultProps?Vn(Vn({},x.type.defaultProps),x.props):x.props,y=j.stackId,N=j.hide;if(N)return p;var C=j[a],A=p[C]||{hasStack:!1,stackGroups:{}};if(wr(y)){var w=A.stackGroups[y]||{numericAxisId:a,cateAxisId:s,items:[]};w.items.push(x),A.hasStack=!0,A.stackGroups[y]=w}else A.stackGroups[ul("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[x]};return Vn(Vn({},p),{},Uu({},C,A))},d),m={};return Object.keys(f).reduce(function(p,x){var v=f[x];if(v.hasStack){var j={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(y,N){var C=v.stackGroups[N];return Vn(Vn({},y),{},Uu({},N,{numericAxisId:a,cateAxisId:s,items:C.items,stackedData:vpe(t,C.items,i)}))},j)}return Vn(Vn({},p),{},Uu({},x,v))},m)},VU=function(t,r){var a=r.realScaleType,s=r.type,i=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=a||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var m=Rme(f,i,u);return t.domain([Kv(m),Bo(m)]),{niceTicks:m}}if(i&&s==="number"){var p=t.domain(),x=Dme(p,i,u);return{niceTicks:x}}return null};function rd(e){var t=e.axis,r=e.ticks,a=e.bandSize,s=e.entry,i=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!bt(s[t.dataKey])){var u=Fg(r,"value",s[t.dataKey]);if(u)return u.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var d=Rn(s,bt(l)?t.dataKey:l);return bt(d)?null:t.scale(d)}var lL=function(t){var r=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return a[u]?a[u].coordinate+s:null;var d=Rn(l,r.dataKey,r.domain[u]);return bt(d)?null:r.scale(d)-i/2+s},bpe=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},wpe=function(t,r){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?Vn(Vn({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(wr(i)){var l=r[i];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},Npe=function(t){return t.reduce(function(r,a){return[Kv(a.concat([r[0]]).filter(ze)),Bo(a.concat([r[1]]).filter(ze))]},[1/0,-1/0])},WU=function(t,r,a){return Object.keys(t).reduce(function(s,i){var l=t[i],u=l.stackedData,d=u.reduce(function(f,m){var p=Npe(m.slice(r,a+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},cL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TA=function(t,r,a){if(Nt(t))return t(r,a);if(!Array.isArray(t))return r;var s=[];if(ze(t[0]))s[0]=a?t[0]:Math.min(t[0],r[0]);else if(cL.test(t[0])){var i=+cL.exec(t[0])[1];s[0]=r[0]-i}else Nt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(ze(t[1]))s[1]=a?t[1]:Math.max(t[1],r[1]);else if(uL.test(t[1])){var l=+uL.exec(t[1])[1];s[1]=r[1]+l}else Nt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},uy=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&r&&r.length>=2){for(var i=cE(r,function(p){return p.coordinate}),l=1/0,u=1,d=i.length;u<d;u++){var f=i[u],m=i[u-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},dL=function(t,r,a){return!t||!t.length||al(t,ka(a,"type.defaultProps.domain"))?r:t},GU=function(t,r){var a=t.type.defaultProps?Vn(Vn({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,l=a.unit,u=a.formatter,d=a.tooltipType,f=a.chartType,m=a.hide;return Vn(Vn({},pt(t,!1)),{},{dataKey:s,unit:l,formatter:u,name:i||s,color:DE(t),value:Rn(r,s),type:d,payload:r,chartType:f,hide:m})};function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function fL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(r),!0).forEach(function(a){YU(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function YU(e,t,r){return t=Spe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Spe(e){var t=Ape(e,"string");return rm(t)=="symbol"?t:t+""}function Ape(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(rm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cpe(e,t){return Ope(e)||Tpe(e,t)||Epe(e,t)||_pe()}function _pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Epe(e,t){if(e){if(typeof e=="string")return hL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hL(e,t)}}function hL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Tpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Ope(e){if(Array.isArray(e))return e}var dy=Math.PI/180,Mpe=function(t){return t*180/Math.PI},Sn=function(t,r,a,s){return{x:t+Math.cos(-dy*s)*a,y:r+Math.sin(-dy*s)*a}},XU=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},kpe=function(t,r,a,s,i){var l=t.width,u=t.height,d=t.startAngle,f=t.endAngle,m=ta(t.cx,l,l/2),p=ta(t.cy,u,u/2),x=XU(l,u,a),v=ta(t.innerRadius,x,0),j=ta(t.outerRadius,x,x*.8),y=Object.keys(r);return y.reduce(function(N,C){var A=r[C],w=A.domain,S=A.reversed,E;if(bt(A.range))s==="angleAxis"?E=[d,f]:s==="radiusAxis"&&(E=[v,j]),S&&(E=[E[1],E[0]]);else{E=A.range;var O=E,M=Cpe(O,2);d=M[0],f=M[1]}var R=HU(A,i),I=R.realScaleType,V=R.scale;V.domain(w).range(E),KU(V);var F=VU(V,Ci(Ci({},A),{},{realScaleType:I})),H=Ci(Ci(Ci({},A),F),{},{range:E,radius:j,realScaleType:I,scale:V,cx:m,cy:p,innerRadius:v,outerRadius:j,startAngle:d,endAngle:f});return Ci(Ci({},N),{},YU({},C,H))},{})},Ppe=function(t,r){var a=t.x,s=t.y,i=r.x,l=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-l,2))},Rpe=function(t,r){var a=t.x,s=t.y,i=r.cx,l=r.cy,u=Ppe({x:a,y:s},{x:i,y:l});if(u<=0)return{radius:u};var d=(a-i)/u,f=Math.acos(d);return s>l&&(f=2*Math.PI-f),{radius:u,angle:Mpe(f),angleInRadian:f}},Dpe=function(t){var r=t.startAngle,a=t.endAngle,s=Math.floor(r/360),i=Math.floor(a/360),l=Math.min(s,i);return{startAngle:r-l*360,endAngle:a-l*360}},Ipe=function(t,r){var a=r.startAngle,s=r.endAngle,i=Math.floor(a/360),l=Math.floor(s/360),u=Math.min(i,l);return t+u*360},mL=function(t,r){var a=t.x,s=t.y,i=Rpe({x:a,y:s},r),l=i.radius,u=i.angle,d=r.innerRadius,f=r.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var m=Dpe(r),p=m.startAngle,x=m.endAngle,v=u,j;if(p<=x){for(;v>x;)v-=360;for(;v<p;)v+=360;j=v>=p&&v<=x}else{for(;v>p;)v-=360;for(;v<x;)v+=360;j=v>=x&&v<=p}return j?Ci(Ci({},r),{},{radius:l,angle:Ipe(v,r)}):null},QU=function(t){return!b.isValidElement(t)&&!Nt(t)&&typeof t!="boolean"?t.className:""};function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}var Lpe=["offset"];function $pe(e){return Bpe(e)||zpe(e)||qpe(e)||Fpe()}function Fpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qpe(e,t){if(e){if(typeof e=="string")return OA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OA(e,t)}}function zpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bpe(e){if(Array.isArray(e))return OA(e)}function OA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Upe(e,t){if(e==null)return{};var r=Hpe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Hpe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function pL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pL(Object(r),!0).forEach(function(a){Kpe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Kpe(e,t,r){return t=Vpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vpe(e){var t=Wpe(e,"string");return am(t)=="symbol"?t:t+""}function Wpe(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(am(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},sm.apply(this,arguments)}var Gpe=function(t){var r=t.value,a=t.formatter,s=bt(t.children)?r:t.children;return Nt(a)?a(s):s},Ype=function(t,r){var a=ea(r-t),s=Math.min(Math.abs(r-t),360);return a*s},Xpe=function(t,r,a){var s=t.position,i=t.viewBox,l=t.offset,u=t.className,d=i,f=d.cx,m=d.cy,p=d.innerRadius,x=d.outerRadius,v=d.startAngle,j=d.endAngle,y=d.clockWise,N=(p+x)/2,C=Ype(v,j),A=C>=0?1:-1,w,S;s==="insideStart"?(w=v+A*l,S=y):s==="insideEnd"?(w=j-A*l,S=!y):s==="end"&&(w=j+A*l,S=y),S=C<=0?S:!S;var E=Sn(f,m,N,w),O=Sn(f,m,N,w+(S?1:-1)*359),M="M".concat(E.x,",").concat(E.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(S?0:1,`,
    `).concat(O.x,",").concat(O.y),R=bt(t.id)?ul("recharts-radial-line-"):t.id;return J.createElement("text",sm({},a,{dominantBaseline:"central",className:_t("recharts-radial-bar-label",u)}),J.createElement("defs",null,J.createElement("path",{id:R,d:M})),J.createElement("textPath",{xlinkHref:"#".concat(R)},r))},Qpe=function(t){var r=t.viewBox,a=t.offset,s=t.position,i=r,l=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,m=i.startAngle,p=i.endAngle,x=(m+p)/2;if(s==="outside"){var v=Sn(l,u,f+a,x),j=v.x,y=v.y;return{x:j,y,textAnchor:j>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var N=(d+f)/2,C=Sn(l,u,N,x),A=C.x,w=C.y;return{x:A,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Zpe=function(t){var r=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,l=r,u=l.x,d=l.y,f=l.width,m=l.height,p=m>=0?1:-1,x=p*s,v=p>0?"end":"start",j=p>0?"start":"end",y=f>=0?1:-1,N=y*s,C=y>0?"end":"start",A=y>0?"start":"end";if(i==="top"){var w={x:u+f/2,y:d-p*s,textAnchor:"middle",verticalAnchor:v};return jr(jr({},w),a?{height:Math.max(d-a.y,0),width:f}:{})}if(i==="bottom"){var S={x:u+f/2,y:d+m+x,textAnchor:"middle",verticalAnchor:j};return jr(jr({},S),a?{height:Math.max(a.y+a.height-(d+m),0),width:f}:{})}if(i==="left"){var E={x:u-N,y:d+m/2,textAnchor:C,verticalAnchor:"middle"};return jr(jr({},E),a?{width:Math.max(E.x-a.x,0),height:m}:{})}if(i==="right"){var O={x:u+f+N,y:d+m/2,textAnchor:A,verticalAnchor:"middle"};return jr(jr({},O),a?{width:Math.max(a.x+a.width-O.x,0),height:m}:{})}var M=a?{width:f,height:m}:{};return i==="insideLeft"?jr({x:u+N,y:d+m/2,textAnchor:A,verticalAnchor:"middle"},M):i==="insideRight"?jr({x:u+f-N,y:d+m/2,textAnchor:C,verticalAnchor:"middle"},M):i==="insideTop"?jr({x:u+f/2,y:d+x,textAnchor:"middle",verticalAnchor:j},M):i==="insideBottom"?jr({x:u+f/2,y:d+m-x,textAnchor:"middle",verticalAnchor:v},M):i==="insideTopLeft"?jr({x:u+N,y:d+x,textAnchor:A,verticalAnchor:j},M):i==="insideTopRight"?jr({x:u+f-N,y:d+x,textAnchor:C,verticalAnchor:j},M):i==="insideBottomLeft"?jr({x:u+N,y:d+m-x,textAnchor:A,verticalAnchor:v},M):i==="insideBottomRight"?jr({x:u+f-N,y:d+m-x,textAnchor:C,verticalAnchor:v},M):Vd(i)&&(ze(i.x)||Kl(i.x))&&(ze(i.y)||Kl(i.y))?jr({x:u+ta(i.x,f),y:d+ta(i.y,m),textAnchor:"end",verticalAnchor:"end"},M):jr({x:u+f/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},M)},Jpe=function(t){return"cx"in t&&ze(t.cx)};function Er(e){var t=e.offset,r=t===void 0?5:t,a=Upe(e,Lpe),s=jr({offset:r},a),i=s.viewBox,l=s.position,u=s.value,d=s.children,f=s.content,m=s.className,p=m===void 0?"":m,x=s.textBreakAll;if(!i||bt(u)&&bt(d)&&!b.isValidElement(f)&&!Nt(f))return null;if(b.isValidElement(f))return b.cloneElement(f,s);var v;if(Nt(f)){if(v=b.createElement(f,s),b.isValidElement(v))return v}else v=Gpe(s);var j=Jpe(i),y=pt(s,!0);if(j&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Xpe(s,v,y);var N=j?Qpe(s):Zpe(s);return J.createElement(oc,sm({className:_t("recharts-label",p)},y,N,{breakAll:x}),v)}Er.displayName="Label";var ZU=function(t){var r=t.cx,a=t.cy,s=t.angle,i=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,m=t.outerRadius,p=t.x,x=t.y,v=t.top,j=t.left,y=t.width,N=t.height,C=t.clockWise,A=t.labelViewBox;if(A)return A;if(ze(y)&&ze(N)){if(ze(p)&&ze(x))return{x:p,y:x,width:y,height:N};if(ze(v)&&ze(j))return{x:v,y:j,width:y,height:N}}return ze(p)&&ze(x)?{x:p,y:x,width:0,height:0}:ze(r)&&ze(a)?{cx:r,cy:a,startAngle:i||s||0,endAngle:l||s||0,innerRadius:f||0,outerRadius:m||d||u||0,clockWise:C}:t.viewBox?t.viewBox:{}},exe=function(t,r){return t?t===!0?J.createElement(Er,{key:"label-implicit",viewBox:r}):wr(t)?J.createElement(Er,{key:"label-implicit",viewBox:r,value:t}):b.isValidElement(t)?t.type===Er?b.cloneElement(t,{key:"label-implicit",viewBox:r}):J.createElement(Er,{key:"label-implicit",content:t,viewBox:r}):Nt(t)?J.createElement(Er,{key:"label-implicit",content:t,viewBox:r}):Vd(t)?J.createElement(Er,sm({viewBox:r},t,{key:"label-implicit"})):null:null},txe=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=ZU(t),l=ra(s,Er).map(function(d,f){return b.cloneElement(d,{viewBox:r||i,key:"label-".concat(f)})});if(!a)return l;var u=exe(t.label,r||i);return[u].concat($pe(l))};Er.parseViewBox=ZU;Er.renderCallByParent=txe;var DS,xL;function nxe(){if(xL)return DS;xL=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return DS=e,DS}var rxe=nxe();const axe=an(rxe);function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}var sxe=["valueAccessor"],ixe=["data","dataKey","clockWise","id","textBreakAll"];function oxe(e){return dxe(e)||uxe(e)||cxe(e)||lxe()}function lxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cxe(e,t){if(e){if(typeof e=="string")return MA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MA(e,t)}}function uxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dxe(e){if(Array.isArray(e))return MA(e)}function MA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fy.apply(this,arguments)}function gL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function yL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gL(Object(r),!0).forEach(function(a){fxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fxe(e,t,r){return t=hxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hxe(e){var t=mxe(e,"string");return im(t)=="symbol"?t:t+""}function mxe(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(im(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vL(e,t){if(e==null)return{};var r=pxe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function pxe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var xxe=function(t){return Array.isArray(t.value)?axe(t.value):t.value};function As(e){var t=e.valueAccessor,r=t===void 0?xxe:t,a=vL(e,sxe),s=a.data,i=a.dataKey,l=a.clockWise,u=a.id,d=a.textBreakAll,f=vL(a,ixe);return!s||!s.length?null:J.createElement(Ot,{className:"recharts-label-list"},s.map(function(m,p){var x=bt(i)?r(m,p):Rn(m&&m.payload,i),v=bt(u)?{}:{id:"".concat(u,"-").concat(p)};return J.createElement(Er,fy({},pt(m,!0),f,v,{parentViewBox:m.parentViewBox,value:x,textBreakAll:d,viewBox:Er.parseViewBox(bt(l)?m:yL(yL({},m),{},{clockWise:l})),key:"label-".concat(p),index:p}))}))}As.displayName="LabelList";function gxe(e,t){return e?e===!0?J.createElement(As,{key:"labelList-implicit",data:t}):J.isValidElement(e)||Nt(e)?J.createElement(As,{key:"labelList-implicit",data:t,content:e}):Vd(e)?J.createElement(As,fy({data:t},e,{key:"labelList-implicit"})):null:null}function yxe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=ra(a,As).map(function(l,u){return b.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return s;var i=gxe(e.label,t);return[i].concat(oxe(s))}As.renderCallByParent=yxe;function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function kA(){return kA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kA.apply(this,arguments)}function jL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function bL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jL(Object(r),!0).forEach(function(a){vxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vxe(e,t,r){return t=jxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jxe(e){var t=bxe(e,"string");return om(t)=="symbol"?t:t+""}function bxe(e,t){if(om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(om(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wxe=function(t,r){var a=ea(r-t),s=Math.min(Math.abs(r-t),359.999);return a*s},Zx=function(t){var r=t.cx,a=t.cy,s=t.radius,i=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,m=d*(u?1:-1)+s,p=Math.asin(d/m)/dy,x=f?i:i+l*p,v=Sn(r,a,m,x),j=Sn(r,a,s,x),y=f?i-l*p:i,N=Sn(r,a,m*Math.cos(p*dy),y);return{center:v,circleTangency:j,lineTangency:N,theta:p}},JU=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.startAngle,u=t.endAngle,d=wxe(l,u),f=l+d,m=Sn(r,a,i,l),p=Sn(r,a,i,f),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(s>0){var v=Sn(r,a,s,l),j=Sn(r,a,s,f);x+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else x+="L ".concat(r,",").concat(a," Z");return x},Nxe=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,m=t.endAngle,p=ea(m-f),x=Zx({cx:r,cy:a,radius:i,angle:f,sign:p,cornerRadius:l,cornerIsExternal:d}),v=x.circleTangency,j=x.lineTangency,y=x.theta,N=Zx({cx:r,cy:a,radius:i,angle:m,sign:-p,cornerRadius:l,cornerIsExternal:d}),C=N.circleTangency,A=N.lineTangency,w=N.theta,S=d?Math.abs(f-m):Math.abs(f-m)-y-w;if(S<0)return u?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):JU({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:f,endAngle:m});var E="M ".concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(p<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(s>0){var O=Zx({cx:r,cy:a,radius:s,angle:f,sign:p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),M=O.circleTangency,R=O.lineTangency,I=O.theta,V=Zx({cx:r,cy:a,radius:s,angle:m,sign:-p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),F=V.circleTangency,H=V.lineTangency,K=V.theta,q=d?Math.abs(f-m):Math.abs(f-m)-I-K;if(q<0&&l===0)return"".concat(E,"L").concat(r,",").concat(a,"Z");E+="L".concat(H.x,",").concat(H.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(q>180),",").concat(+(p>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(R.x,",").concat(R.y,"Z")}else E+="L".concat(r,",").concat(a,"Z");return E},Sxe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eH=function(t){var r=bL(bL({},Sxe),t),a=r.cx,s=r.cy,i=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,m=r.startAngle,p=r.endAngle,x=r.className;if(l<i||m===p)return null;var v=_t("recharts-sector",x),j=l-i,y=ta(u,j,0,!0),N;return y>0&&Math.abs(m-p)<360?N=Nxe({cx:a,cy:s,innerRadius:i,outerRadius:l,cornerRadius:Math.min(y,j/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:p}):N=JU({cx:a,cy:s,innerRadius:i,outerRadius:l,startAngle:m,endAngle:p}),J.createElement("path",kA({},pt(r,!0),{className:v,d:N,role:"img"}))};function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function PA(){return PA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},PA.apply(this,arguments)}function wL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function NL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wL(Object(r),!0).forEach(function(a){Axe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Axe(e,t,r){return t=Cxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cxe(e){var t=_xe(e,"string");return lm(t)=="symbol"?t:t+""}function _xe(e,t){if(lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(lm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SL={curveBasisClosed:zoe,curveBasisOpen:Boe,curveBasis:qoe,curveBumpX:Coe,curveBumpY:_oe,curveLinearClosed:Uoe,curveLinear:kv,curveMonotoneX:Hoe,curveMonotoneY:Koe,curveNatural:Voe,curveStep:Woe,curveStepAfter:Yoe,curveStepBefore:Goe},Jx=function(t){return t.x===+t.x&&t.y===+t.y},sh=function(t){return t.x},ih=function(t){return t.y},Exe=function(t,r){if(Nt(t))return t;var a="curve".concat(Ov(t));return(a==="curveMonotone"||a==="curveBump")&&r?SL["".concat(a).concat(r==="vertical"?"Y":"X")]:SL[a]||kv},Txe=function(t){var r=t.type,a=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,m=Exe(a,u),p=f?i.filter(function(y){return Jx(y)}):i,x;if(Array.isArray(l)){var v=f?l.filter(function(y){return Jx(y)}):l,j=p.map(function(y,N){return NL(NL({},y),{},{base:v[N]})});return u==="vertical"?x=Ux().y(ih).x1(sh).x0(function(y){return y.base.x}):x=Ux().x(sh).y1(ih).y0(function(y){return y.base.y}),x.defined(Jx).curve(m),x(j)}return u==="vertical"&&ze(l)?x=Ux().y(ih).x1(sh).x0(l):ze(l)?x=Ux().x(sh).y1(ih).y0(l):x=Yz().x(sh).y(ih),x.defined(Jx).curve(m),x(p)},Xo=function(t){var r=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var l=a&&a.length?Txe(t):s;return b.createElement("path",PA({},pt(t,!1),qg(t),{className:_t("recharts-curve",r),d:l,ref:i}))},IS={exports:{}},LS,AL;function Oxe(){if(AL)return LS;AL=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return LS=e,LS}var $S,CL;function Mxe(){if(CL)return $S;CL=1;var e=Oxe();function t(){}function r(){}return r.resetWarningCache=t,$S=function(){function a(l,u,d,f,m,p){if(p!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}a.isRequired=a;function s(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},$S}var _L;function kxe(){return _L||(_L=1,IS.exports=Mxe()()),IS.exports}var Pxe=kxe();const ln=an(Pxe);var Rxe=Object.getOwnPropertyNames,Dxe=Object.getOwnPropertySymbols,Ixe=Object.prototype.hasOwnProperty;function EL(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function eg(e){return function(r,a,s){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,s);var i=s.cache,l=i.get(r),u=i.get(a);if(l&&u)return l===a&&u===r;i.set(r,a),i.set(a,r);var d=e(r,a,s);return i.delete(r),i.delete(a),d}}function Lxe(e){return e?.[Symbol.toStringTag]}function TL(e){return Rxe(e).concat(Dxe(e))}var $xe=Object.hasOwn||(function(e,t){return Ixe.call(e,t)});function Mc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Fxe="__v",qxe="__o",zxe="_owner",OL=Object.getOwnPropertyDescriptor,ML=Object.keys;function Bxe(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function Uxe(e,t){return Mc(e.getTime(),t.getTime())}function Hxe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Kxe(e,t){return e===t}function kL(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),l,u,d=0;(l=i.next())&&!l.done;){for(var f=t.entries(),m=!1,p=0;(u=f.next())&&!u.done;){if(s[p]){p++;continue}var x=l.value,v=u.value;if(r.equals(x[0],v[0],d,p,e,t,r)&&r.equals(x[1],v[1],x[0],v[0],e,t,r)){m=s[p]=!0;break}p++}if(!m)return!1;d++}return!0}var Vxe=Mc;function Wxe(e,t,r){var a=ML(e),s=a.length;if(ML(t).length!==s)return!1;for(;s-- >0;)if(!tH(e,t,r,a[s]))return!1;return!0}function oh(e,t,r){var a=TL(e),s=a.length;if(TL(t).length!==s)return!1;for(var i,l,u;s-- >0;)if(i=a[s],!tH(e,t,r,i)||(l=OL(e,i),u=OL(t,i),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function Gxe(e,t){return Mc(e.valueOf(),t.valueOf())}function Yxe(e,t){return e.source===t.source&&e.flags===t.flags}function PL(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),l,u;(l=i.next())&&!l.done;){for(var d=t.values(),f=!1,m=0;(u=d.next())&&!u.done;){if(!s[m]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){f=s[m]=!0;break}m++}if(!f)return!1}return!0}function Xxe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Qxe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function tH(e,t,r,a){return(a===zxe||a===qxe||a===Fxe)&&(e.$$typeof||t.$$typeof)?!0:$xe(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var Zxe="[object Arguments]",Jxe="[object Boolean]",ege="[object Date]",tge="[object Error]",nge="[object Map]",rge="[object Number]",age="[object Object]",sge="[object RegExp]",ige="[object Set]",oge="[object String]",lge="[object URL]",cge=Array.isArray,RL=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,DL=Object.assign,uge=Object.prototype.toString.call.bind(Object.prototype.toString);function dge(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,l=e.areNumbersEqual,u=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,m=e.areSetsEqual,p=e.areTypedArraysEqual,x=e.areUrlsEqual,v=e.unknownTagComparators;return function(y,N,C){if(y===N)return!0;if(y==null||N==null)return!1;var A=typeof y;if(A!==typeof N)return!1;if(A!=="object")return A==="number"?l(y,N,C):A==="function"?s(y,N,C):!1;var w=y.constructor;if(w!==N.constructor)return!1;if(w===Object)return u(y,N,C);if(cge(y))return t(y,N,C);if(RL!=null&&RL(y))return p(y,N,C);if(w===Date)return r(y,N,C);if(w===RegExp)return f(y,N,C);if(w===Map)return i(y,N,C);if(w===Set)return m(y,N,C);var S=uge(y);if(S===ege)return r(y,N,C);if(S===sge)return f(y,N,C);if(S===nge)return i(y,N,C);if(S===ige)return m(y,N,C);if(S===age)return typeof y.then!="function"&&typeof N.then!="function"&&u(y,N,C);if(S===lge)return x(y,N,C);if(S===tge)return a(y,N,C);if(S===Zxe)return u(y,N,C);if(S===Jxe||S===rge||S===oge)return d(y,N,C);if(v){var E=v[S];if(!E){var O=Lxe(y);O&&(E=v[O])}if(E)return E(y,N,C)}return!1}}function fge(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?oh:Bxe,areDatesEqual:Uxe,areErrorsEqual:Hxe,areFunctionsEqual:Kxe,areMapsEqual:a?EL(kL,oh):kL,areNumbersEqual:Vxe,areObjectsEqual:a?oh:Wxe,arePrimitiveWrappersEqual:Gxe,areRegExpsEqual:Yxe,areSetsEqual:a?EL(PL,oh):PL,areTypedArraysEqual:a?oh:Xxe,areUrlsEqual:Qxe,unknownTagComparators:void 0};if(r&&(s=DL({},s,r(s))),t){var i=eg(s.areArraysEqual),l=eg(s.areMapsEqual),u=eg(s.areObjectsEqual),d=eg(s.areSetsEqual);s=DL({},s,{areArraysEqual:i,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:d})}return s}function hge(e){return function(t,r,a,s,i,l,u){return e(t,r,u)}}function mge(e){var t=e.circular,r=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(d,f){var m=a(),p=m.cache,x=p===void 0?t?new WeakMap:void 0:p,v=m.meta;return r(d,f,{cache:x,equals:s,meta:v,strict:i})};if(t)return function(d,f){return r(d,f,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var l={cache:void 0,equals:s,meta:void 0,strict:i};return function(d,f){return r(d,f,l)}}var pge=hl();hl({strict:!0});hl({circular:!0});hl({circular:!0,strict:!0});hl({createInternalComparator:function(){return Mc}});hl({strict:!0,createInternalComparator:function(){return Mc}});hl({circular:!0,createInternalComparator:function(){return Mc}});hl({circular:!0,createInternalComparator:function(){return Mc},strict:!0});function hl(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,s=e.createState,i=e.strict,l=i===void 0?!1:i,u=fge(e),d=dge(u),f=a?a(d):hge(d);return mge({circular:r,comparator:d,createState:s,equals:f,strict:l})}function xge(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function IL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):xge(s)};requestAnimationFrame(a)}function RA(e){"@babel/helpers - typeof";return RA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RA(e)}function gge(e){return bge(e)||jge(e)||vge(e)||yge()}function yge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vge(e,t){if(e){if(typeof e=="string")return LL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LL(e,t)}}function LL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function jge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bge(e){if(Array.isArray(e))return e}function wge(){var e={},t=function(){return null},r=!1,a=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var l=i,u=gge(l),d=u[0],f=u.slice(1);if(typeof d=="number"){IL(s.bind(null,f),d);return}s(d),IL(s.bind(null,f));return}RA(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function $L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function FL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(r),!0).forEach(function(a){nH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nH(e,t,r){return t=Nge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nge(e){var t=Sge(e,"string");return cm(t)==="symbol"?t:String(t)}function Sge(e,t){if(cm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(cm(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Age=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},Cge=function(t){return t},_ge=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},_h=function(t,r){return Object.keys(r).reduce(function(a,s){return FL(FL({},a),{},nH({},s,t(s,r[s])))},{})},qL=function(t,r,a){return t.map(function(s){return"".concat(_ge(s)," ").concat(r,"ms ").concat(a)}).join(",")};function Ege(e,t){return Mge(e)||Oge(e,t)||rH(e,t)||Tge()}function Tge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Mge(e){if(Array.isArray(e))return e}function kge(e){return Dge(e)||Rge(e)||rH(e)||Pge()}function Pge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rH(e,t){if(e){if(typeof e=="string")return DA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DA(e,t)}}function Rge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dge(e){if(Array.isArray(e))return DA(e)}function DA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var hy=1e-4,aH=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},sH=function(t,r){return t.map(function(a,s){return a*Math.pow(r,s)}).reduce(function(a,s){return a+s})},zL=function(t,r){return function(a){var s=aH(t,r);return sH(s,a)}},Ige=function(t,r){return function(a){var s=aH(t,r),i=[].concat(kge(s.map(function(l,u){return l*u}).slice(1)),[0]);return sH(i,a)}},BL=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0],i=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,l=1,u=1;break;case"ease":s=.25,i=.1,l=.25,u=1;break;case"ease-in":s=.42,i=0,l=1,u=1;break;case"ease-out":s=.42,i=0,l=.58,u=1;break;case"ease-in-out":s=0,i=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(N){return parseFloat(N)}),m=Ege(f,4);s=m[0],i=m[1],l=m[2],u=m[3]}}}var p=zL(s,l),x=zL(i,u),v=Ige(s,l),j=function(C){return C>1?1:C<0?0:C},y=function(C){for(var A=C>1?1:C,w=A,S=0;S<8;++S){var E=p(w)-A,O=v(w);if(Math.abs(E-A)<hy||O<hy)return x(w);w=j(w-E/O)}return x(w)};return y.isStepper=!1,y},Lge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,l=t.dt,u=l===void 0?17:l,d=function(m,p,x){var v=-(m-p)*a,j=x*i,y=x+(v-j)*u/1e3,N=x*u/1e3+m;return Math.abs(N-p)<hy&&Math.abs(y)<hy?[p,0]:[N,y]};return d.isStepper=!0,d.dt=u,d},$ge=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BL(s);case"spring":return Lge();default:if(s.split("(")[0]==="cubic-bezier")return BL(s)}return typeof s=="function"?s:null};function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}function UL(e){return zge(e)||qge(e)||iH(e)||Fge()}function Fge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zge(e){if(Array.isArray(e))return LA(e)}function HL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HL(Object(r),!0).forEach(function(a){IA(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function IA(e,t,r){return t=Bge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bge(e){var t=Uge(e,"string");return um(t)==="symbol"?t:String(t)}function Uge(e,t){if(um(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(um(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hge(e,t){return Wge(e)||Vge(e,t)||iH(e,t)||Kge()}function Kge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iH(e,t){if(e){if(typeof e=="string")return LA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LA(e,t)}}function LA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Vge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Wge(e){if(Array.isArray(e))return e}var my=function(t,r,a){return t+(r-t)*a},$A=function(t){var r=t.from,a=t.to;return r!==a},Gge=function e(t,r,a){var s=_h(function(i,l){if($A(l)){var u=t(l.from,l.to,l.velocity),d=Hge(u,2),f=d[0],m=d[1];return $r($r({},l),{},{from:f,velocity:m})}return l},r);return a<1?_h(function(i,l){return $A(l)?$r($r({},l),{},{velocity:my(l.velocity,s[i].velocity,a),from:my(l.from,s[i].from,a)}):l},r):e(t,s,a-1)};const Yge=(function(e,t,r,a,s){var i=Age(e,t),l=i.reduce(function(N,C){return $r($r({},N),{},IA({},C,[e[C],t[C]]))},{}),u=i.reduce(function(N,C){return $r($r({},N),{},IA({},C,{from:e[C],velocity:0,to:t[C]}))},{}),d=-1,f,m,p=function(){return null},x=function(){return _h(function(C,A){return A.from},u)},v=function(){return!Object.values(u).filter($A).length},j=function(C){f||(f=C);var A=C-f,w=A/r.dt;u=Gge(r,u,w),s($r($r($r({},e),t),x())),f=C,v()||(d=requestAnimationFrame(p))},y=function(C){m||(m=C);var A=(C-m)/a,w=_h(function(E,O){return my.apply(void 0,UL(O).concat([r(A)]))},l);if(s($r($r($r({},e),t),w)),A<1)d=requestAnimationFrame(p);else{var S=_h(function(E,O){return my.apply(void 0,UL(O).concat([r(1)]))},l);s($r($r($r({},e),t),S))}};return p=r.isStepper?j:y,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}});function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}var Xge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Qge(e,t){if(e==null)return{};var r=Zge(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Zge(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function FS(e){return nye(e)||tye(e)||eye(e)||Jge()}function Jge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eye(e,t){if(e){if(typeof e=="string")return FA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FA(e,t)}}function tye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nye(e){if(Array.isArray(e))return FA(e)}function FA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function KL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(r),!0).forEach(function(a){gh(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gh(e,t,r){return t=oH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aye(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,oH(a.key),a)}}function sye(e,t,r){return t&&aye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oH(e){var t=iye(e,"string");return ad(t)==="symbol"?t:String(t)}function iye(e,t){if(ad(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ad(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qA(e,t)}function qA(e,t){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},qA(e,t)}function lye(e){var t=cye();return function(){var a=py(e),s;if(t){var i=py(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return zA(this,s)}}function zA(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BA(e)}function BA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function py(e){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},py(e)}var rs=(function(e){oye(r,e);var t=lye(r);function r(a,s){var i;rye(this,r),i=t.call(this,a,s);var l=i.props,u=l.isActive,d=l.attributeName,f=l.from,m=l.to,p=l.steps,x=l.children,v=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(BA(i)),i.changeStyle=i.changeStyle.bind(BA(i)),!u||v<=0)return i.state={style:{}},typeof x=="function"&&(i.state={style:m}),zA(i);if(p&&p.length)i.state={style:p[0].style};else if(f){if(typeof x=="function")return i.state={style:f},zA(i);i.state={style:d?gh({},d,f):f}}else i.state={style:{}};return i}return sye(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,l=s.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,l=i.isActive,u=i.canBegin,d=i.attributeName,f=i.shouldReAnimate,m=i.to,p=i.from,x=this.state.style;if(u){if(!l){var v={style:d?gh({},d,m):m};this.state&&x&&(d&&x[d]!==m||!d&&x!==m)&&this.setState(v);return}if(!(pge(s.to,m)&&s.canBegin&&s.isActive)){var j=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=j||f?p:s.to;if(this.state&&x){var N={style:d?gh({},d,y):y};(d&&x[d]!==y||!d&&x!==y)&&this.setState(N)}this.runAnimation(fs(fs({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,l=s.from,u=s.to,d=s.duration,f=s.easing,m=s.begin,p=s.onAnimationEnd,x=s.onAnimationStart,v=Yge(l,u,$ge(f),d,this.changeStyle),j=function(){i.stopJSAnimation=v()};this.manager.start([x,m,j,d,p])}},{key:"runStepAnimation",value:function(s){var i=this,l=s.steps,u=s.begin,d=s.onAnimationStart,f=l[0],m=f.style,p=f.duration,x=p===void 0?0:p,v=function(y,N,C){if(C===0)return y;var A=N.duration,w=N.easing,S=w===void 0?"ease":w,E=N.style,O=N.properties,M=N.onAnimationEnd,R=C>0?l[C-1]:N,I=O||Object.keys(E);if(typeof S=="function"||S==="spring")return[].concat(FS(y),[i.runJSAnimation.bind(i,{from:R.style,to:E,duration:A,easing:S}),A]);var V=qL(I,A,S),F=fs(fs(fs({},R.style),E),{},{transition:V});return[].concat(FS(y),[F,A,M]).filter(Cge)};return this.manager.start([d].concat(FS(l.reduce(v,[m,Math.max(x,u)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=wge());var i=s.begin,l=s.duration,u=s.attributeName,d=s.to,f=s.easing,m=s.onAnimationStart,p=s.onAnimationEnd,x=s.steps,v=s.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof f=="function"||typeof v=="function"||f==="spring"){this.runJSAnimation(s);return}if(x.length>1){this.runStepAnimation(s);return}var y=u?gh({},u,d):d,N=qL(Object.keys(y),l,f);j.start([m,i,fs(fs({},y),{},{transition:N}),l,p])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var u=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=Qge(s,Xge),f=b.Children.count(i),m=this.state.style;if(typeof i=="function")return i(m);if(!u||f===0||l<=0)return i;var p=function(v){var j=v.props,y=j.style,N=y===void 0?{}:y,C=j.className,A=b.cloneElement(v,fs(fs({},d),{},{style:fs(fs({},N),m),className:C}));return A};return f===1?p(b.Children.only(i)):J.createElement("div",null,b.Children.map(i,function(x){return p(x)}))}}]),r})(b.PureComponent);rs.displayName="Animate";rs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};rs.propTypes={from:ln.oneOfType([ln.object,ln.string]),to:ln.oneOfType([ln.object,ln.string]),attributeName:ln.string,duration:ln.number,begin:ln.number,easing:ln.oneOfType([ln.string,ln.func]),steps:ln.arrayOf(ln.shape({duration:ln.number.isRequired,style:ln.object.isRequired,easing:ln.oneOfType([ln.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ln.func]),properties:ln.arrayOf("string"),onAnimationEnd:ln.func})),children:ln.oneOfType([ln.node,ln.func]),isActive:ln.bool,canBegin:ln.bool,onAnimationEnd:ln.func,shouldReAnimate:ln.bool,onAnimationStart:ln.func,onAnimationReStart:ln.func};function dm(e){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(e)}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xy.apply(this,arguments)}function uye(e,t){return mye(e)||hye(e,t)||fye(e,t)||dye()}function dye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fye(e,t){if(e){if(typeof e=="string")return VL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VL(e,t)}}function VL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function hye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function mye(e){if(Array.isArray(e))return e}function WL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function GL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WL(Object(r),!0).forEach(function(a){pye(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pye(e,t,r){return t=xye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xye(e){var t=gye(e,"string");return dm(t)=="symbol"?t:t+""}function gye(e,t){if(dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(dm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YL=function(t,r,a,s,i){var l=Math.min(Math.abs(a)/2,Math.abs(s)/2),u=s>=0?1:-1,d=a>=0?1:-1,f=s>=0&&a>=0||s<0&&a<0?1:0,m;if(l>0&&i instanceof Array){for(var p=[0,0,0,0],x=0,v=4;x<v;x++)p[x]=i[x]>l?l:i[x];m="M".concat(t,",").concat(r+u*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+d*p[0],",").concat(r)),m+="L ".concat(t+a-d*p[1],",").concat(r),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+a,",").concat(r+u*p[1])),m+="L ".concat(t+a,",").concat(r+s-u*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+a-d*p[2],",").concat(r+s)),m+="L ".concat(t+d*p[3],",").concat(r+s),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+s-u*p[3])),m+="Z"}else if(l>0&&i===+i&&i>0){var j=Math.min(l,i);m="M ".concat(t,",").concat(r+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+d*j,",").concat(r,`
            L `).concat(t+a-d*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+a,",").concat(r+u*j,`
            L `).concat(t+a,",").concat(r+s-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+a-d*j,",").concat(r+s,`
            L `).concat(t+d*j,",").concat(r+s,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t,",").concat(r+s-u*j," Z")}else m="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return m},yye=function(t,r){if(!t||!r)return!1;var a=t.x,s=t.y,i=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(i,i+u),m=Math.max(i,i+u),p=Math.min(l,l+d),x=Math.max(l,l+d);return a>=f&&a<=m&&s>=p&&s<=x}return!1},vye={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IE=function(t){var r=GL(GL({},vye),t),a=b.useRef(),s=b.useState(-1),i=uye(s,2),l=i[0],u=i[1];b.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&u(S)}catch{}},[]);var d=r.x,f=r.y,m=r.width,p=r.height,x=r.radius,v=r.className,j=r.animationEasing,y=r.animationDuration,N=r.animationBegin,C=r.isAnimationActive,A=r.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||p!==+p||m===0||p===0)return null;var w=_t("recharts-rectangle",v);return A?J.createElement(rs,{canBegin:l>0,from:{width:m,height:p,x:d,y:f},to:{width:m,height:p,x:d,y:f},duration:y,animationEasing:j,isActive:A},function(S){var E=S.width,O=S.height,M=S.x,R=S.y;return J.createElement(rs,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:y,isActive:C,easing:j},J.createElement("path",xy({},pt(r,!0),{className:w,d:YL(M,R,E,O,x),ref:a})))}):J.createElement("path",xy({},pt(r,!0),{className:w,d:YL(d,f,m,p,x)}))},jye=["points","className","baseLinePoints","connectNulls"];function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ku.apply(this,arguments)}function bye(e,t){if(e==null)return{};var r=wye(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function wye(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function XL(e){return Cye(e)||Aye(e)||Sye(e)||Nye()}function Nye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sye(e,t){if(e){if(typeof e=="string")return UA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UA(e,t)}}function Aye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cye(e){if(Array.isArray(e))return UA(e)}function UA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var QL=function(t){return t&&t.x===+t.x&&t.y===+t.y},_ye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(a){QL(a)?r[r.length-1].push(a):r[r.length-1].length>0&&r.push([])}),QL(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Eh=function(t,r){var a=_ye(t);r&&(a=[a.reduce(function(i,l){return[].concat(XL(i),XL(l))},[])]);var s=a.map(function(i){return i.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},Eye=function(t,r,a){var s=Eh(t,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Eh(r.reverse(),a).slice(1))},Tye=function(t){var r=t.points,a=t.className,s=t.baseLinePoints,i=t.connectNulls,l=bye(t,jye);if(!r||!r.length)return null;var u=_t("recharts-polygon",a);if(s&&s.length){var d=l.stroke&&l.stroke!=="none",f=Eye(r,s,i);return J.createElement("g",{className:u},J.createElement("path",ku({},pt(l,!0),{fill:f.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:f})),d?J.createElement("path",ku({},pt(l,!0),{fill:"none",d:Eh(r,i)})):null,d?J.createElement("path",ku({},pt(l,!0),{fill:"none",d:Eh(s,i)})):null)}var m=Eh(r,i);return J.createElement("path",ku({},pt(l,!0),{fill:m.slice(-1)==="Z"?l.fill:"none",className:u,d:m}))};function HA(){return HA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},HA.apply(this,arguments)}var np=function(t){var r=t.cx,a=t.cy,s=t.r,i=t.className,l=_t("recharts-dot",i);return r===+r&&a===+a&&s===+s?b.createElement("circle",HA({},pt(t,!1),qg(t),{className:l,cx:r,cy:a,r:s})):null};function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}var Oye=["x","y","top","left","width","height","className"];function KA(){return KA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},KA.apply(this,arguments)}function ZL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Mye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZL(Object(r),!0).forEach(function(a){kye(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kye(e,t,r){return t=Pye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pye(e){var t=Rye(e,"string");return fm(t)=="symbol"?t:t+""}function Rye(e,t){if(fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(fm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dye(e,t){if(e==null)return{};var r=Iye(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Iye(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Lye=function(t,r,a,s,i,l){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(l,",").concat(r,"h").concat(a)},$ye=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,m=t.width,p=m===void 0?0:m,x=t.height,v=x===void 0?0:x,j=t.className,y=Dye(t,Oye),N=Mye({x:a,y:i,top:u,left:f,width:p,height:v},y);return!ze(a)||!ze(i)||!ze(p)||!ze(v)||!ze(u)||!ze(f)?null:J.createElement("path",KA({},pt(N,!0),{className:_t("recharts-cross",j),d:Lye(a,i,p,v,u,f)}))},qS,JL;function Fye(){if(JL)return qS;JL=1;var e=Hv(),t=wU(),r=ti();function a(s,i){return s&&s.length?e(s,r(i,2),t):void 0}return qS=a,qS}var qye=Fye();const zye=an(qye);var zS,e3;function Bye(){if(e3)return zS;e3=1;var e=Hv(),t=ti(),r=NU();function a(s,i){return s&&s.length?e(s,t(i,2),r):void 0}return zS=a,zS}var Uye=Bye();const Hye=an(Uye);var Kye=["cx","cy","angle","ticks","axisLine"],Vye=["ticks","tick","angle","tickFormatter","stroke"];function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Th.apply(this,arguments)}function t3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ll(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(r),!0).forEach(function(a){Gv(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function n3(e,t){if(e==null)return{};var r=Wye(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Wye(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Gye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r3(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,cH(a.key),a)}}function Yye(e,t,r){return t&&r3(e.prototype,t),r&&r3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xye(e,t,r){return t=gy(t),Qye(e,lH()?Reflect.construct(t,r||[],gy(e).constructor):t.apply(e,r))}function Qye(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zye(e)}function Zye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lH=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(e)}function Jye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VA(e,t)}function VA(e,t){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},VA(e,t)}function Gv(e,t,r){return t=cH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cH(e){var t=eve(e,"string");return sd(t)=="symbol"?t:t+""}function eve(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(sd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yv=(function(e){function t(){return Gye(this,t),Xye(this,t,arguments)}return Jye(t,e),Yye(t,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,l=i.angle,u=i.cx,d=i.cy;return Sn(u,d,s,l)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,l=a.angle,u=a.ticks,d=zye(u,function(m){return m.coordinate||0}),f=Hye(u,function(m){return m.coordinate||0});return{cx:s,cy:i,startAngle:l,endAngle:l,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,l=a.angle,u=a.ticks,d=a.axisLine,f=n3(a,Kye),m=u.reduce(function(j,y){return[Math.min(j[0],y.coordinate),Math.max(j[1],y.coordinate)]},[1/0,-1/0]),p=Sn(s,i,m[0],l),x=Sn(s,i,m[1],l),v=Ll(Ll(Ll({},pt(f,!1)),{},{fill:"none"},pt(d,!1)),{},{x1:p.x,y1:p.y,x2:x.x,y2:x.y});return J.createElement("line",Th({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,l=s.tick,u=s.angle,d=s.tickFormatter,f=s.stroke,m=n3(s,Vye),p=this.getTickTextAnchor(),x=pt(m,!1),v=pt(l,!1),j=i.map(function(y,N){var C=a.getTickValueCoord(y),A=Ll(Ll(Ll(Ll({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(C.x,", ").concat(C.y,")")},x),{},{stroke:"none",fill:f},v),{},{index:N},C),{},{payload:y});return J.createElement(Ot,Th({className:_t("recharts-polar-radius-axis-tick",QU(l)),key:"tick-".concat(y.coordinate)},rl(a.props,y,N)),t.renderTickItem(l,A,d?d(y.value,N):y.value))});return J.createElement(Ot,{className:"recharts-polar-radius-axis-ticks"},j)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,l=a.tick;return!s||!s.length?null:J.createElement(Ot,{className:_t("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),l&&this.renderTicks(),Er.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var l;return J.isValidElement(a)?l=J.cloneElement(a,s):Nt(a)?l=a(s):l=J.createElement(oc,Th({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),l}}])})(b.PureComponent);Gv(Yv,"displayName","PolarRadiusAxis");Gv(Yv,"axisType","radiusAxis");Gv(Yv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ul.apply(this,arguments)}function a3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function $l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(r),!0).forEach(function(a){Xv(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s3(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,dH(a.key),a)}}function nve(e,t,r){return t&&s3(e.prototype,t),r&&s3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rve(e,t,r){return t=yy(t),ave(e,uH()?Reflect.construct(t,r||[],yy(e).constructor):t.apply(e,r))}function ave(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sve(e)}function sve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uH=function(){return!!e})()}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yy(e)}function ive(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WA(e,t)}function WA(e,t){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},WA(e,t)}function Xv(e,t,r){return t=dH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=ove(e,"string");return id(t)=="symbol"?t:t+""}function ove(e,t){if(id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(id(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lve=Math.PI/180,i3=1e-5,Qv=(function(e){function t(){return tve(this,t),rve(this,t,arguments)}return ive(t,e),nve(t,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,l=s.cy,u=s.radius,d=s.orientation,f=s.tickSize,m=f||8,p=Sn(i,l,u,a.coordinate),x=Sn(i,l,u+(d==="inner"?-1:1)*m,a.coordinate);return{x1:p.x,y1:p.y,x2:x.x,y2:x.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*lve),l;return i>i3?l=s==="outer"?"start":"end":i<-i3?l=s==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,l=a.radius,u=a.axisLine,d=a.axisLineType,f=$l($l({},pt(this.props,!1)),{},{fill:"none"},pt(u,!1));if(d==="circle")return J.createElement(np,Ul({className:"recharts-polar-angle-axis-line"},f,{cx:s,cy:i,r:l}));var m=this.props.ticks,p=m.map(function(x){return Sn(s,i,l,x.coordinate)});return J.createElement(Tye,Ul({className:"recharts-polar-angle-axis-line"},f,{points:p}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,l=s.tick,u=s.tickLine,d=s.tickFormatter,f=s.stroke,m=pt(this.props,!1),p=pt(l,!1),x=$l($l({},m),{},{fill:"none"},pt(u,!1)),v=i.map(function(j,y){var N=a.getTickLineCoord(j),C=a.getTickTextAnchor(j),A=$l($l($l({textAnchor:C},m),{},{stroke:"none",fill:f},p),{},{index:y,payload:j,x:N.x2,y:N.y2});return J.createElement(Ot,Ul({className:_t("recharts-polar-angle-axis-tick",QU(l)),key:"tick-".concat(j.coordinate)},rl(a.props,j,y)),u&&J.createElement("line",Ul({className:"recharts-polar-angle-axis-tick-line"},x,N)),l&&t.renderTickItem(l,A,d?d(j.value,y):j.value))});return J.createElement(Ot,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,l=a.axisLine;return i<=0||!s||!s.length?null:J.createElement(Ot,{className:_t("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var l;return J.isValidElement(a)?l=J.cloneElement(a,s):Nt(a)?l=a(s):l=J.createElement(oc,Ul({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),l}}])})(b.PureComponent);Xv(Qv,"displayName","PolarAngleAxis");Xv(Qv,"axisType","angleAxis");Xv(Qv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var BS,o3;function cve(){if(o3)return BS;o3=1;var e=yB(),t=e(Object.getPrototypeOf,Object);return BS=t,BS}var US,l3;function uve(){if(l3)return US;l3=1;var e=Yi(),t=cve(),r=Xi(),a="[object Object]",s=Function.prototype,i=Object.prototype,l=s.toString,u=i.hasOwnProperty,d=l.call(Object);function f(m){if(!r(m)||e(m)!=a)return!1;var p=t(m);if(p===null)return!0;var x=u.call(p,"constructor")&&p.constructor;return typeof x=="function"&&x instanceof x&&l.call(x)==d}return US=f,US}var dve=uve();const fve=an(dve);var HS,c3;function hve(){if(c3)return HS;c3=1;var e=Yi(),t=Xi(),r="[object Boolean]";function a(s){return s===!0||s===!1||t(s)&&e(s)==r}return HS=a,HS}var mve=hve();const pve=an(mve);function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vy.apply(this,arguments)}function xve(e,t){return jve(e)||vve(e,t)||yve(e,t)||gve()}function gve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yve(e,t){if(e){if(typeof e=="string")return u3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u3(e,t)}}function u3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function vve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function jve(e){if(Array.isArray(e))return e}function d3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function f3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(r),!0).forEach(function(a){bve(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bve(e,t,r){return t=wve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wve(e){var t=Nve(e,"string");return hm(t)=="symbol"?t:t+""}function Nve(e,t){if(hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(hm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h3=function(t,r,a,s,i){var l=a-s,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+a,",").concat(r),u+="L ".concat(t+a-l/2,",").concat(r+i),u+="L ".concat(t+a-l/2-s,",").concat(r+i),u+="L ".concat(t,",").concat(r," Z"),u},Sve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ave=function(t){var r=f3(f3({},Sve),t),a=b.useRef(),s=b.useState(-1),i=xve(s,2),l=i[0],u=i[1];b.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var w=a.current.getTotalLength();w&&u(w)}catch{}},[]);var d=r.x,f=r.y,m=r.upperWidth,p=r.lowerWidth,x=r.height,v=r.className,j=r.animationEasing,y=r.animationDuration,N=r.animationBegin,C=r.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||p!==+p||x!==+x||m===0&&p===0||x===0)return null;var A=_t("recharts-trapezoid",v);return C?J.createElement(rs,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:x,x:d,y:f},to:{upperWidth:m,lowerWidth:p,height:x,x:d,y:f},duration:y,animationEasing:j,isActive:C},function(w){var S=w.upperWidth,E=w.lowerWidth,O=w.height,M=w.x,R=w.y;return J.createElement(rs,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:y,easing:j},J.createElement("path",vy({},pt(r,!0),{className:A,d:h3(M,R,S,E,O),ref:a})))}):J.createElement("g",null,J.createElement("path",vy({},pt(r,!0),{className:A,d:h3(d,f,m,p,x)})))},Cve=["option","shapeType","propTransformer","activeClassName","isActive"];function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function _ve(e,t){if(e==null)return{};var r=Eve(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Eve(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function m3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function jy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(r),!0).forEach(function(a){Tve(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tve(e,t,r){return t=Ove(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ove(e){var t=Mve(e,"string");return mm(t)=="symbol"?t:t+""}function Mve(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(mm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kve(e,t){return jy(jy({},t),e)}function Pve(e,t){return e==="symbols"}function p3(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return J.createElement(IE,r);case"trapezoid":return J.createElement(Ave,r);case"sector":return J.createElement(eH,r);case"symbols":if(Pve(t))return J.createElement(Rv,r);break;default:return null}}function Rve(e){return b.isValidElement(e)?e.props:e}function by(e){var t=e.option,r=e.shapeType,a=e.propTransformer,s=a===void 0?kve:a,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,u=e.isActive,d=_ve(e,Cve),f;if(b.isValidElement(t))f=b.cloneElement(t,jy(jy({},d),Rve(t)));else if(Nt(t))f=t(d);else if(fve(t)&&!pve(t)){var m=s(t,d);f=J.createElement(p3,{shapeType:r,elementProps:m})}else{var p=d;f=J.createElement(p3,{shapeType:r,elementProps:p})}return u?J.createElement(Ot,{className:l},f):f}function Zv(e,t){return t!=null&&"trapezoids"in e.props}function Jv(e,t){return t!=null&&"sectors"in e.props}function pm(e,t){return t!=null&&"points"in e.props}function Dve(e,t){var r,a,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function Ive(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function Lve(e,t){var r=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return r&&a&&s}function $ve(e,t){var r;return Zv(e,t)?r=Dve:Jv(e,t)?r=Ive:pm(e,t)&&(r=Lve),r}function Fve(e,t){var r;return Zv(e,t)?r="trapezoids":Jv(e,t)?r="sectors":pm(e,t)&&(r="points"),r}function qve(e,t){if(Zv(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Jv(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return pm(e,t)?t.payload:{}}function zve(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,s=Fve(r,t),i=qve(r,t),l=a.filter(function(d,f){var m=al(i,d),p=r.props[s].filter(function(j){var y=$ve(r,t);return y(j,t)}),x=r.props[s].indexOf(p[p.length-1]),v=f===x;return m&&v}),u=a.indexOf(l[l.length-1]);return u}var yg;function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pu.apply(this,arguments)}function x3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(r),!0).forEach(function(a){Qa(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Bve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g3(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,hH(a.key),a)}}function Uve(e,t,r){return t&&g3(e.prototype,t),r&&g3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hve(e,t,r){return t=wy(t),Kve(e,fH()?Reflect.construct(t,r||[],wy(e).constructor):t.apply(e,r))}function Kve(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vve(e)}function Vve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fH=function(){return!!e})()}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wy(e)}function Wve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GA(e,t)}function GA(e,t){return GA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},GA(e,t)}function Qa(e,t,r){return t=hH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hH(e){var t=Gve(e,"string");return od(t)=="symbol"?t:t+""}function Gve(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(od(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ra=(function(e){function t(r){var a;return Bve(this,t),a=Hve(this,t,[r]),Qa(a,"pieRef",null),Qa(a,"sectorRefs",[]),Qa(a,"id",ul("recharts-pie-")),Qa(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Nt(s)&&s()}),Qa(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Nt(s)&&s()}),a.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},a}return Wve(t,e),Uve(t,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.label,u=i.labelLine,d=i.dataKey,f=i.valueKey,m=pt(this.props,!1),p=pt(l,!1),x=pt(u,!1),v=l&&l.offsetRadius||20,j=a.map(function(y,N){var C=(y.startAngle+y.endAngle)/2,A=Sn(y.cx,y.cy,y.outerRadius+v,C),w=bn(bn(bn(bn({},m),y),{},{stroke:"none"},p),{},{index:N,textAnchor:t.getTextAnchor(A.x,y.cx)},A),S=bn(bn(bn(bn({},m),y),{},{fill:"none",stroke:y.fill},x),{},{index:N,points:[Sn(y.cx,y.cy,y.outerRadius,C),A]}),E=d;return bt(d)&&bt(f)?E="value":bt(d)&&(E=f),J.createElement(Ot,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(N)},u&&t.renderLabelLineItem(u,S,"line"),t.renderLabelItem(l,w,Rn(y,E)))});return J.createElement(Ot,{className:"recharts-pie-labels"},j)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,l=i.activeShape,u=i.blendStroke,d=i.inactiveShape;return a.map(function(f,m){if(f?.startAngle===0&&f?.endAngle===0&&a.length!==1)return null;var p=s.isActiveIndex(m),x=d&&s.hasActiveIndex()?d:null,v=p?l:x,j=bn(bn({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return J.createElement(Ot,Pu({ref:function(N){N&&!s.sectorRefs.includes(N)&&s.sectorRefs.push(N)},tabIndex:-1,className:"recharts-pie-sector"},rl(s.props,f,m),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(m)}),J.createElement(by,Pu({option:v,isActive:p,shapeType:"sector"},j)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,l=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,m=s.animationId,p=this.state,x=p.prevSectors,v=p.prevIsAnimationActive;return J.createElement(rs,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(j){var y=j.t,N=[],C=i&&i[0],A=C.startAngle;return i.forEach(function(w,S){var E=x&&x[S],O=S>0?ka(w,"paddingAngle",0):0;if(E){var M=zn(E.endAngle-E.startAngle,w.endAngle-w.startAngle),R=bn(bn({},w),{},{startAngle:A+O,endAngle:A+M(y)+O});N.push(R),A=R.endAngle}else{var I=w.endAngle,V=w.startAngle,F=zn(0,I-V),H=F(y),K=bn(bn({},w),{},{startAngle:A+O,endAngle:A+H+O});N.push(K),A=K.endAngle}}),J.createElement(Ot,null,a.renderSectorsStatically(N))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var l=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[u].focus(),s.setState({sectorToFocus:u});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,l=this.state.prevSectors;return i&&s&&s.length&&(!l||!al(l,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,l=s.sectors,u=s.className,d=s.label,f=s.cx,m=s.cy,p=s.innerRadius,x=s.outerRadius,v=s.isAnimationActive,j=this.state.isAnimationFinished;if(i||!l||!l.length||!ze(f)||!ze(m)||!ze(p)||!ze(x))return null;var y=_t("recharts-pie",u);return J.createElement(Ot,{tabIndex:this.props.rootTabIndex,className:y,ref:function(C){a.pieRef=C}},this.renderSectors(),d&&this.renderLabels(l),Er.renderCallByParent(this.props,null,!1),(!v||j)&&As.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(J.isValidElement(a))return J.cloneElement(a,s);if(Nt(a))return a(s);var l=_t("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return J.createElement(Xo,Pu({},s,{key:i,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(a,s,i){if(J.isValidElement(a))return J.cloneElement(a,s);var l=i;if(Nt(a)&&(l=a(s),J.isValidElement(l)))return l;var u=_t("recharts-pie-label-text",typeof a!="boolean"&&!Nt(a)?a.className:"");return J.createElement(oc,Pu({},s,{alignmentBaseline:"middle",className:u}),l)}}])})(b.PureComponent);yg=Ra;Qa(Ra,"displayName","Pie");Qa(Ra,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Qi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Qa(Ra,"parseDeltaAngle",function(e,t){var r=ea(t-e),a=Math.min(Math.abs(t-e),360);return r*a});Qa(Ra,"getRealPieData",function(e){var t=e.data,r=e.children,a=pt(e,!1),s=ra(r,Xs);return t&&t.length?t.map(function(i,l){return bn(bn(bn({payload:i},a),i),s&&s[l]&&s[l].props)}):s&&s.length?s.map(function(i){return bn(bn({},a),i.props)}):[]});Qa(Ra,"parseCoordinateOfPie",function(e,t){var r=t.top,a=t.left,s=t.width,i=t.height,l=XU(s,i),u=a+ta(e.cx,s,s/2),d=r+ta(e.cy,i,i/2),f=ta(e.innerRadius,l,0),m=ta(e.outerRadius,l,l*.8),p=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:m,maxRadius:p}});Qa(Ra,"getComposedData",function(e){var t=e.item,r=e.offset,a=t.type.defaultProps!==void 0?bn(bn({},t.type.defaultProps),t.props):t.props,s=yg.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,l=a.startAngle,u=a.endAngle,d=a.paddingAngle,f=a.dataKey,m=a.nameKey,p=a.valueKey,x=a.tooltipType,v=Math.abs(a.minAngle),j=yg.parseCoordinateOfPie(a,r),y=yg.parseDeltaAngle(l,u),N=Math.abs(y),C=f;bt(f)&&bt(p)?(Ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C="value"):bt(f)&&(Ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C=p);var A=s.filter(function(R){return Rn(R,C,0)!==0}).length,w=(N>=360?A:A-1)*d,S=N-A*v-w,E=s.reduce(function(R,I){var V=Rn(I,C,0);return R+(ze(V)?V:0)},0),O;if(E>0){var M;O=s.map(function(R,I){var V=Rn(R,C,0),F=Rn(R,m,I),H=(ze(V)?V:0)/E,K;I?K=M.endAngle+ea(y)*d*(V!==0?1:0):K=l;var q=K+ea(y)*((V!==0?v:0)+H*S),$=(K+q)/2,k=(j.innerRadius+j.outerRadius)/2,D=[{name:F,value:V,payload:R,dataKey:C,type:x}],P=Sn(j.cx,j.cy,k,$);return M=bn(bn(bn({percent:H,cornerRadius:i,name:F,tooltipPayload:D,midAngle:$,middleRadius:k,tooltipPosition:P},R),j),{},{value:Rn(R,C),startAngle:K,endAngle:q,payload:R,paddingAngle:ea(y)*d}),M})}return bn(bn({},j),{},{sectors:O,data:s})});var KS,y3;function Yve(){if(y3)return KS;y3=1;var e=Math.ceil,t=Math.max;function r(a,s,i,l){for(var u=-1,d=t(e((s-a)/(i||1)),0),f=Array(d);d--;)f[l?d:++u]=a,a+=i;return f}return KS=r,KS}var VS,v3;function mH(){if(v3)return VS;v3=1;var e=RB(),t=1/0,r=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*r}return s===s?s:0}return VS=a,VS}var WS,j3;function Xve(){if(j3)return WS;j3=1;var e=Yve(),t=Lv(),r=mH();function a(s){return function(i,l,u){return u&&typeof u!="number"&&t(i,l,u)&&(l=u=void 0),i=r(i),l===void 0?(l=i,i=0):l=r(l),u=u===void 0?i<l?1:-1:r(u),e(i,l,u,s)}}return WS=a,WS}var GS,b3;function Qve(){if(b3)return GS;b3=1;var e=Xve(),t=e();return GS=t,GS}var Zve=Qve();const Ny=an(Zve);function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function w3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function N3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(r),!0).forEach(function(a){pH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pH(e,t,r){return t=Jve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jve(e){var t=e0e(e,"string");return xm(t)=="symbol"?t:t+""}function e0e(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(xm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t0e=["Webkit","Moz","O","ms"],n0e=function(t,r){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=t0e.reduce(function(i,l){return N3(N3({},i),{},pH({},l+a,r))},{});return s[t]=r,s};function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sy.apply(this,arguments)}function S3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function YS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(r),!0).forEach(function(a){Ca(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function r0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A3(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,gH(a.key),a)}}function a0e(e,t,r){return t&&A3(e.prototype,t),r&&A3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s0e(e,t,r){return t=Ay(t),i0e(e,xH()?Reflect.construct(t,r||[],Ay(e).constructor):t.apply(e,r))}function i0e(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o0e(e)}function o0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xH=function(){return!!e})()}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ay(e)}function l0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YA(e,t)}function YA(e,t){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},YA(e,t)}function Ca(e,t,r){return t=gH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=c0e(e,"string");return ld(t)=="symbol"?t:t+""}function c0e(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ld(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var u0e=function(t){var r=t.data,a=t.startIndex,s=t.endIndex,i=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Ah().domain(Ny(0,d)).range([i,i+l-u]),m=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(a),endX:f(s),scale:f,scaleValues:m}},C3=function(t){return t.changedTouches&&!!t.changedTouches.length},cd=(function(e){function t(r){var a;return r0e(this,t),a=s0e(this,t,[r]),Ca(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Ca(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Ca(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,l=s.onDragEnd,u=s.startIndex;l?.({endIndex:i,startIndex:u})}),a.detachDragEndListener()}),Ca(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Ca(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Ca(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Ca(a,"handleSlideDragStart",function(s){var i=C3(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return l0e(t,e),a0e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,m=f.length-1,p=Math.min(s,i),x=Math.max(s,i),v=t.getIndexInRange(l,p),j=t.getIndexInRange(l,x);return{startIndex:v-v%d,endIndex:j===m?m:j-j%d}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,l=s.tickFormatter,u=s.dataKey,d=Rn(i[a],u,a);return Nt(l)?l(d,a):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,l=s.startX,u=s.endX,d=this.props,f=d.x,m=d.width,p=d.travellerWidth,x=d.startIndex,v=d.endIndex,j=d.onChange,y=a.pageX-i;y>0?y=Math.min(y,f+m-p-u,f+m-p-l):y<0&&(y=Math.max(y,f-l,f-u));var N=this.getIndex({startX:l+y,endX:u+y});(N.startIndex!==x||N.endIndex!==v)&&j&&j(N),this.setState({startX:l+y,endX:u+y,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=C3(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,l=s.movingTravellerId,u=s.endX,d=s.startX,f=this.state[l],m=this.props,p=m.x,x=m.width,v=m.travellerWidth,j=m.onChange,y=m.gap,N=m.data,C={startX:this.state.startX,endX:this.state.endX},A=a.pageX-i;A>0?A=Math.min(A,p+x-v-f):A<0&&(A=Math.max(A,p-f)),C[l]=f+A;var w=this.getIndex(C),S=w.startIndex,E=w.endIndex,O=function(){var R=N.length-1;return l==="startX"&&(u>d?S%y===0:E%y===0)||u<d&&E===R||l==="endX"&&(u>d?E%y===0:S%y===0)||u>d&&E===R};this.setState(Ca(Ca({},l,f+A),"brushMoveStartX",a.pageX),function(){j&&O()&&j(w)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,m=this.state[s],p=u.indexOf(m);if(p!==-1){var x=p+a;if(!(x===-1||x>=u.length)){var v=u[x];s==="startX"&&v>=f||s==="endX"&&v<=d||this.setState(Ca({},s,v),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.fill,f=a.stroke;return J.createElement("rect",{stroke:f,fill:d,x:s,y:i,width:l,height:u})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.data,f=a.children,m=a.padding,p=b.Children.only(f);return p?J.cloneElement(p,{x:s,y:i,width:l,height:u,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,l,u=this,d=this.props,f=d.y,m=d.travellerWidth,p=d.height,x=d.traveller,v=d.ariaLabel,j=d.data,y=d.startIndex,N=d.endIndex,C=Math.max(a,this.props.x),A=YS(YS({},pt(this.props,!1)),{},{x:C,y:f,width:m,height:p}),w=v||"Min value: ".concat((i=j[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=j[N])===null||l===void 0?void 0:l.name);return J.createElement(Ot,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),u.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,s))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(x,A))}},{key:"renderSlide",value:function(a,s){var i=this.props,l=i.y,u=i.height,d=i.stroke,f=i.travellerWidth,m=Math.min(a,s)+f,p=Math.max(Math.abs(s-a)-f,0);return J.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:l,width:p,height:u})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,l=a.y,u=a.height,d=a.travellerWidth,f=a.stroke,m=this.state,p=m.startX,x=m.endX,v=5,j={pointerEvents:"none",fill:f};return J.createElement(Ot,{className:"recharts-brush-texts"},J.createElement(oc,Sy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,x)-v,y:l+u/2},j),this.getTextOfTick(s)),J.createElement(oc,Sy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,x)+d+v,y:l+u/2},j),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,l=a.children,u=a.x,d=a.y,f=a.width,m=a.height,p=a.alwaysShowText,x=this.state,v=x.startX,j=x.endX,y=x.isTextActive,N=x.isSlideMoving,C=x.isTravellerMoving,A=x.isTravellerFocused;if(!s||!s.length||!ze(u)||!ze(d)||!ze(f)||!ze(m)||f<=0||m<=0)return null;var w=_t("recharts-brush",i),S=J.Children.count(l)===1,E=n0e("userSelect","none");return J.createElement(Ot,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(v,j),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(j,"endX"),(y||N||C||A||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,l=a.width,u=a.height,d=a.stroke,f=Math.floor(i+u/2)-1;return J.createElement(J.Fragment,null,J.createElement("rect",{x:s,y:i,width:l,height:u,fill:d,stroke:"none"}),J.createElement("line",{x1:s+1,y1:f,x2:s+l-1,y2:f,fill:"none",stroke:"#fff"}),J.createElement("line",{x1:s+1,y1:f+2,x2:s+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return J.isValidElement(a)?i=J.cloneElement(a,s):Nt(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,l=a.width,u=a.x,d=a.travellerWidth,f=a.updateId,m=a.startIndex,p=a.endIndex;if(i!==s.prevData||f!==s.prevUpdateId)return YS({prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},i&&i.length?u0e({data:i,width:l,x:u,travellerWidth:d,startIndex:m,endIndex:p}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||u!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([u,u+l-d]);var x=s.scale.domain().map(function(v){return s.scale(v)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,l=0,u=i-1;u-l>1;){var d=Math.floor((l+u)/2);a[d]>s?u=d:l=d}return s>=a[u]?u:l}}])})(b.PureComponent);Ca(cd,"displayName","Brush");Ca(cd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var XS,_3;function d0e(){if(_3)return XS;_3=1;var e=lE();function t(r,a){var s;return e(r,function(i,l,u){return s=a(i,l,u),!s}),!!s}return XS=t,XS}var QS,E3;function f0e(){if(E3)return QS;E3=1;var e=dB(),t=ti(),r=d0e(),a=ga(),s=Lv();function i(l,u,d){var f=a(l)?e:r;return d&&s(l,u,d)&&(u=void 0),f(l,t(u,3))}return QS=i,QS}var h0e=f0e();const m0e=an(h0e);var Ws=function(t,r){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===r},ZS,T3;function p0e(){if(T3)return ZS;T3=1;var e=TB();function t(r,a,s){a=="__proto__"&&e?e(r,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[a]=s}return ZS=t,ZS}var JS,O3;function x0e(){if(O3)return JS;O3=1;var e=p0e(),t=_B(),r=ti();function a(s,i){var l={};return i=r(i,3),t(s,function(u,d,f){e(l,d,i(u,d,f))}),l}return JS=a,JS}var g0e=x0e();const y0e=an(g0e);var e2,M3;function v0e(){if(M3)return e2;M3=1;function e(t,r){for(var a=-1,s=t==null?0:t.length;++a<s;)if(!r(t[a],a,t))return!1;return!0}return e2=e,e2}var t2,k3;function j0e(){if(k3)return t2;k3=1;var e=lE();function t(r,a){var s=!0;return e(r,function(i,l,u){return s=!!a(i,l,u),s}),s}return t2=t,t2}var n2,P3;function b0e(){if(P3)return n2;P3=1;var e=v0e(),t=j0e(),r=ti(),a=ga(),s=Lv();function i(l,u,d){var f=a(l)?e:t;return d&&s(l,u,d)&&(u=void 0),f(l,r(u,3))}return n2=i,n2}var w0e=b0e();const yH=an(w0e);var N0e=["x","y"];function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function XA(){return XA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},XA.apply(this,arguments)}function R3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R3(Object(r),!0).forEach(function(a){S0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function S0e(e,t,r){return t=A0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A0e(e){var t=C0e(e,"string");return gm(t)=="symbol"?t:t+""}function C0e(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(gm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _0e(e,t){if(e==null)return{};var r=E0e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function E0e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function T0e(e,t){var r=e.x,a=e.y,s=_0e(e,N0e),i="".concat(r),l=parseInt(i,10),u="".concat(a),d=parseInt(u,10),f="".concat(t.height||s.height),m=parseInt(f,10),p="".concat(t.width||s.width),x=parseInt(p,10);return lh(lh(lh(lh(lh({},t),s),l?{x:l}:{}),d?{y:d}:{}),{},{height:m,width:x,name:t.name,radius:t.radius})}function D3(e){return J.createElement(by,XA({shapeType:"rectangle",propTransformer:T0e,activeClassName:"recharts-active-bar"},e))}var O0e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=ze(a)||Wie(a);return i?t(a,s):(i||uc(),r)}},M0e=["value","background"],vH;function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function k0e(e,t){if(e==null)return{};var r=P0e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function P0e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cy.apply(this,arguments)}function I3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(r),!0).forEach(function(a){Uo(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function R0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L3(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,bH(a.key),a)}}function D0e(e,t,r){return t&&L3(e.prototype,t),r&&L3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I0e(e,t,r){return t=_y(t),L0e(e,jH()?Reflect.construct(t,r||[],_y(e).constructor):t.apply(e,r))}function L0e(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $0e(e)}function $0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jH=function(){return!!e})()}function _y(e){return _y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_y(e)}function F0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QA(e,t)}function QA(e,t){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},QA(e,t)}function Uo(e,t,r){return t=bH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e){var t=q0e(e,"string");return ud(t)=="symbol"?t:t+""}function q0e(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ud(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $n=(function(e){function t(){var r;R0e(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=I0e(this,t,[].concat(s)),Uo(r,"state",{isAnimationFinished:!1}),Uo(r,"id",ul("recharts-bar-")),Uo(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Uo(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return F0e(t,e),D0e(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,l=i.shape,u=i.dataKey,d=i.activeIndex,f=i.activeBar,m=pt(this.props,!1);return a&&a.map(function(p,x){var v=x===d,j=v?f:l,y=cr(cr(cr({},m),p),{},{isActive:v,option:j,index:x,dataKey:u,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return J.createElement(Ot,Cy({className:"recharts-bar-rectangle"},rl(s.props,p,x),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(x)}),J.createElement(D3,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,l=s.layout,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,m=s.animationEasing,p=s.animationId,x=this.state.prevData;return J.createElement(rs,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var j=v.t,y=i.map(function(N,C){var A=x&&x[C];if(A){var w=zn(A.x,N.x),S=zn(A.y,N.y),E=zn(A.width,N.width),O=zn(A.height,N.height);return cr(cr({},N),{},{x:w(j),y:S(j),width:E(j),height:O(j)})}if(l==="horizontal"){var M=zn(0,N.height),R=M(j);return cr(cr({},N),{},{y:N.y+N.height-R,height:R})}var I=zn(0,N.width),V=I(j);return cr(cr({},N),{},{width:V})});return J.createElement(Ot,null,a.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,l=this.state.prevData;return i&&s&&s.length&&(!l||!al(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,l=s.dataKey,u=s.activeIndex,d=pt(this.props.background,!1);return i.map(function(f,m){f.value;var p=f.background,x=k0e(f,M0e);if(!p)return null;var v=cr(cr(cr(cr(cr({},x),{},{fill:"#eee"},p),d),rl(a.props,f,m)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:m,className:"recharts-bar-background-rectangle"});return J.createElement(D3,Cy({key:"background-bar-".concat(m),option:a.props.background,isActive:m===u},v))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,u=i.xAxis,d=i.yAxis,f=i.layout,m=i.children,p=ra(m,Qd);if(!p)return null;var x=f==="vertical"?l[0].height/2:l[0].width/2,v=function(N,C){var A=Array.isArray(N.value)?N.value[1]:N.value;return{x:N.x,y:N.y,value:A,errorVal:Rn(N,C)}},j={clipPath:a?"url(#clipPath-".concat(s,")"):null};return J.createElement(Ot,j,p.map(function(y){return J.cloneElement(y,{key:"error-bar-".concat(s,"-").concat(y.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:x,dataPointFormatter:v})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,l=a.className,u=a.xAxis,d=a.yAxis,f=a.left,m=a.top,p=a.width,x=a.height,v=a.isAnimationActive,j=a.background,y=a.id;if(s||!i||!i.length)return null;var N=this.state.isAnimationFinished,C=_t("recharts-bar",l),A=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,S=A||w,E=bt(y)?this.id:y;return J.createElement(Ot,{className:C},A||w?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(E)},J.createElement("rect",{x:A?f:f-p/2,y:w?m:m-x/2,width:A?p:p*2,height:w?x:x*2}))):null,J.createElement(Ot,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(E,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,E),(!v||N)&&As.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])})(b.PureComponent);vH=$n;Uo($n,"displayName","Bar");Uo($n,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Qi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Uo($n,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,m=e.dataStartIndex,p=e.displayedData,x=e.offset,v=mpe(a,r);if(!v)return null;var j=t.layout,y=r.type.defaultProps,N=y!==void 0?cr(cr({},y),r.props):r.props,C=N.dataKey,A=N.children,w=N.minPointSize,S=j==="horizontal"?l:i,E=f?S.scale.domain():null,O=bpe({numericAxis:S}),M=ra(A,Xs),R=p.map(function(I,V){var F,H,K,q,$,k;f?F=ppe(f[m+V],E):(F=Rn(I,C),Array.isArray(F)||(F=[O,F]));var D=O0e(w,vH.defaultProps.minPointSize)(F[1],V);if(j==="horizontal"){var P,U=[l.scale(F[0]),l.scale(F[1])],G=U[0],B=U[1];H=lL({axis:i,ticks:u,bandSize:s,offset:v.offset,entry:I,index:V}),K=(P=B??G)!==null&&P!==void 0?P:void 0,q=v.size;var z=G-B;if($=Number.isNaN(z)?0:z,k={x:H,y:l.y,width:q,height:l.height},Math.abs(D)>0&&Math.abs($)<Math.abs(D)){var X=ea($||D)*(Math.abs(D)-Math.abs($));K-=X,$+=X}}else{var ee=[i.scale(F[0]),i.scale(F[1])],je=ee[0],he=ee[1];if(H=je,K=lL({axis:l,ticks:d,bandSize:s,offset:v.offset,entry:I,index:V}),q=he-je,$=v.size,k={x:i.x,y:K,width:i.width,height:$},Math.abs(D)>0&&Math.abs(q)<Math.abs(D)){var le=ea(q||D)*(Math.abs(D)-Math.abs(q));q+=le}}return cr(cr(cr({},I),{},{x:H,y:K,width:q,height:$,value:f?F:F[1],payload:I,background:k},M&&M[V]&&M[V].props),{},{tooltipPayload:[GU(r,I)],tooltipPosition:{x:H+q/2,y:K+$/2}})});return cr({data:R,layout:j},x)});function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function z0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $3(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,wH(a.key),a)}}function B0e(e,t,r){return t&&$3(e.prototype,t),r&&$3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(a){e0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function e0(e,t,r){return t=wH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e){var t=U0e(e,"string");return ym(t)=="symbol"?t:t+""}function U0e(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ym(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t0=function(t,r,a,s,i){var l=t.width,u=t.height,d=t.layout,f=t.children,m=Object.keys(r),p={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:u-a.bottom,bottomMirror:u-a.bottom},x=!!_a(f,$n);return m.reduce(function(v,j){var y=r[j],N=y.orientation,C=y.domain,A=y.padding,w=A===void 0?{}:A,S=y.mirror,E=y.reversed,O="".concat(N).concat(S?"Mirror":""),M,R,I,V,F;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var H=C[1]-C[0],K=1/0,q=y.categoricalDomain.sort(Qie);if(q.forEach(function(ee,je){je>0&&(K=Math.min((ee||0)-(q[je-1]||0),K))}),Number.isFinite(K)){var $=K/H,k=y.layout==="vertical"?a.height:a.width;if(y.padding==="gap"&&(M=$*k/2),y.padding==="no-gap"){var D=ta(t.barCategoryGap,$*k),P=$*k/2;M=P-D-(P-D)/k*D}}}s==="xAxis"?R=[a.left+(w.left||0)+(M||0),a.left+a.width-(w.right||0)-(M||0)]:s==="yAxis"?R=d==="horizontal"?[a.top+a.height-(w.bottom||0),a.top+(w.top||0)]:[a.top+(w.top||0)+(M||0),a.top+a.height-(w.bottom||0)-(M||0)]:R=y.range,E&&(R=[R[1],R[0]]);var U=HU(y,i,x),G=U.scale,B=U.realScaleType;G.domain(C).range(R),KU(G);var z=VU(G,ms(ms({},y),{},{realScaleType:B}));s==="xAxis"?(F=N==="top"&&!S||N==="bottom"&&S,I=a.left,V=p[O]-F*y.height):s==="yAxis"&&(F=N==="left"&&!S||N==="right"&&S,I=p[O]-F*y.width,V=a.top);var X=ms(ms(ms({},y),z),{},{realScaleType:B,x:I,y:V,scale:G,width:s==="xAxis"?a.width:y.width,height:s==="yAxis"?a.height:y.height});return X.bandSize=uy(X,z),!y.hide&&s==="xAxis"?p[O]+=(F?-1:1)*X.height:y.hide||(p[O]+=(F?-1:1)*X.width),ms(ms({},v),{},e0({},j,X))},{})},NH=function(t,r){var a=t.x,s=t.y,i=r.x,l=r.y;return{x:Math.min(a,i),y:Math.min(s,l),width:Math.abs(i-a),height:Math.abs(l-s)}},H0e=function(t){var r=t.x1,a=t.y1,s=t.x2,i=t.y2;return NH({x:r,y:a},{x:s,y:i})},SH=(function(){function e(t){z0e(this,e),this.scale=t}return B0e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])})();e0(SH,"EPS",1e-4);var LE=function(t){var r=Object.keys(t).reduce(function(a,s){return ms(ms({},a),{},e0({},s,SH.create(t[s])))},{});return ms(ms({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,u=i.position;return y0e(s,function(d,f){return r[f].apply(d,{bandAware:l,position:u})})},isInRange:function(s){return yH(s,function(i,l){return r[l].isInRange(i)})}})};function K0e(e){return(e%180+180)%180}var V0e=function(t){var r=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=K0e(s),l=i*Math.PI/180,u=Math.atan(a/r),d=l>u&&l<Math.PI-u?a/Math.sin(l):r/Math.cos(l);return Math.abs(d)},r2,q3;function W0e(){if(q3)return r2;q3=1;var e=ti(),t=Qm(),r=Dv();function a(s){return function(i,l,u){var d=Object(i);if(!t(i)){var f=e(l,3);i=r(i),l=function(p){return f(d[p],p,d)}}var m=s(i,l,u);return m>-1?d[f?i[m]:m]:void 0}}return r2=a,r2}var a2,z3;function G0e(){if(z3)return a2;z3=1;var e=mH();function t(r){var a=e(r),s=a%1;return a===a?s?a-s:a:0}return a2=t,a2}var s2,B3;function Y0e(){if(B3)return s2;B3=1;var e=wB(),t=ti(),r=G0e(),a=Math.max;function s(i,l,u){var d=i==null?0:i.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=a(d+f,0)),e(i,t(l,3),f)}return s2=s,s2}var i2,U3;function X0e(){if(U3)return i2;U3=1;var e=W0e(),t=Y0e(),r=e(t);return i2=r,i2}var Q0e=X0e();const Z0e=an(Q0e);var J0e=Lz();const eje=an(J0e);var tje=eje(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),$E=b.createContext(void 0),FE=b.createContext(void 0),AH=b.createContext(void 0),CH=b.createContext({}),_H=b.createContext(void 0),EH=b.createContext(0),TH=b.createContext(0),H3=function(t){var r=t.state,a=r.xAxisMap,s=r.yAxisMap,i=r.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,m=tje(i);return J.createElement($E.Provider,{value:a},J.createElement(FE.Provider,{value:s},J.createElement(CH.Provider,{value:i},J.createElement(AH.Provider,{value:m},J.createElement(_H.Provider,{value:l},J.createElement(EH.Provider,{value:f},J.createElement(TH.Provider,{value:d},u)))))))},nje=function(){return b.useContext(_H)},OH=function(t){var r=b.useContext($E);r==null&&uc();var a=r[t];return a==null&&uc(),a},rje=function(){var t=b.useContext($E);return $o(t)},aje=function(){var t=b.useContext(FE),r=Z0e(t,function(a){return yH(a.domain,Number.isFinite)});return r||$o(t)},MH=function(t){var r=b.useContext(FE);r==null&&uc();var a=r[t];return a==null&&uc(),a},sje=function(){var t=b.useContext(AH);return t},ije=function(){return b.useContext(CH)},qE=function(){return b.useContext(TH)},zE=function(){return b.useContext(EH)};function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function oje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lje(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,PH(a.key),a)}}function cje(e,t,r){return t&&lje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uje(e,t,r){return t=Ey(t),dje(e,kH()?Reflect.construct(t,r||[],Ey(e).constructor):t.apply(e,r))}function dje(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fje(e)}function fje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kH=function(){return!!e})()}function Ey(e){return Ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ey(e)}function hje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZA(e,t)}function ZA(e,t){return ZA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ZA(e,t)}function K3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function V3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(r),!0).forEach(function(a){BE(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function BE(e,t,r){return t=PH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PH(e){var t=mje(e,"string");return dd(t)=="symbol"?t:t+""}function mje(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(dd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pje(e,t){return vje(e)||yje(e,t)||gje(e,t)||xje()}function xje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gje(e,t){if(e){if(typeof e=="string")return W3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W3(e,t)}}function W3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function yje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function vje(e){if(Array.isArray(e))return e}function JA(){return JA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},JA.apply(this,arguments)}var jje=function(t,r){var a;return J.isValidElement(t)?a=J.cloneElement(t,r):Nt(t)?a=t(r):a=J.createElement("line",JA({},r,{className:"recharts-reference-line-line"})),a},bje=function(t,r,a,s,i,l,u,d,f){var m=i.x,p=i.y,x=i.width,v=i.height;if(a){var j=f.y,y=t.y.apply(j,{position:l});if(Ws(f,"discard")&&!t.y.isInRange(y))return null;var N=[{x:m+x,y},{x:m,y}];return d==="left"?N.reverse():N}if(r){var C=f.x,A=t.x.apply(C,{position:l});if(Ws(f,"discard")&&!t.x.isInRange(A))return null;var w=[{x:A,y:p+v},{x:A,y:p}];return u==="top"?w.reverse():w}if(s){var S=f.segment,E=S.map(function(O){return t.apply(O,{position:l})});return Ws(f,"discard")&&m0e(E,function(O){return!t.isInRange(O)})?null:E}return null};function wje(e){var t=e.x,r=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=nje(),m=OH(s),p=MH(i),x=sje();if(!f||!x)return null;Ss(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=LE({x:m.scale,y:p.scale}),j=wr(t),y=wr(r),N=a&&a.length===2,C=bje(v,j,y,N,x,e.position,m.orientation,p.orientation,e);if(!C)return null;var A=pje(C,2),w=A[0],S=w.x,E=w.y,O=A[1],M=O.x,R=O.y,I=Ws(e,"hidden")?"url(#".concat(f,")"):void 0,V=V3(V3({clipPath:I},pt(e,!0)),{},{x1:S,y1:E,x2:M,y2:R});return J.createElement(Ot,{className:_t("recharts-reference-line",u)},jje(l,V),Er.renderCallByParent(e,H0e({x1:S,y1:E,x2:M,y2:R})))}var UE=(function(e){function t(){return oje(this,t),uje(this,t,arguments)}return hje(t,e),cje(t,[{key:"render",value:function(){return J.createElement(wje,this.props)}}])})(J.Component);BE(UE,"displayName","ReferenceLine");BE(UE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function eC(){return eC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},eC.apply(this,arguments)}function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function G3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Y3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G3(Object(r),!0).forEach(function(a){n0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Nje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sje(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,DH(a.key),a)}}function Aje(e,t,r){return t&&Sje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cje(e,t,r){return t=Ty(t),_je(e,RH()?Reflect.construct(t,r||[],Ty(e).constructor):t.apply(e,r))}function _je(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eje(e)}function Eje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RH=function(){return!!e})()}function Ty(e){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ty(e)}function Tje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tC(e,t)}function tC(e,t){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},tC(e,t)}function n0(e,t,r){return t=DH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DH(e){var t=Oje(e,"string");return fd(t)=="symbol"?t:t+""}function Oje(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(fd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mje=function(t){var r=t.x,a=t.y,s=t.xAxis,i=t.yAxis,l=LE({x:s.scale,y:i.scale}),u=l.apply({x:r,y:a},{bandAware:!0});return Ws(t,"discard")&&!l.isInRange(u)?null:u},r0=(function(e){function t(){return Nje(this,t),Cje(this,t,arguments)}return Tje(t,e),Aje(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,l=a.r,u=a.alwaysShow,d=a.clipPathId,f=wr(s),m=wr(i);if(Ss(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!m)return null;var p=Mje(this.props);if(!p)return null;var x=p.x,v=p.y,j=this.props,y=j.shape,N=j.className,C=Ws(this.props,"hidden")?"url(#".concat(d,")"):void 0,A=Y3(Y3({clipPath:C},pt(this.props,!0)),{},{cx:x,cy:v});return J.createElement(Ot,{className:_t("recharts-reference-dot",N)},t.renderDot(y,A),Er.renderCallByParent(this.props,{x:x-l,y:v-l,width:2*l,height:2*l}))}}])})(J.Component);n0(r0,"displayName","ReferenceDot");n0(r0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});n0(r0,"renderDot",function(e,t){var r;return J.isValidElement(e)?r=J.cloneElement(e,t):Nt(e)?r=e(t):r=J.createElement(np,eC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nC.apply(this,arguments)}function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function X3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Q3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X3(Object(r),!0).forEach(function(a){a0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pje(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,LH(a.key),a)}}function Rje(e,t,r){return t&&Pje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dje(e,t,r){return t=Oy(t),Ije(e,IH()?Reflect.construct(t,r||[],Oy(e).constructor):t.apply(e,r))}function Ije(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lje(e)}function Lje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IH=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(e)}function $je(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rC(e,t)}function rC(e,t){return rC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},rC(e,t)}function a0(e,t,r){return t=LH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=Fje(e,"string");return hd(t)=="symbol"?t:t+""}function Fje(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(hd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qje=function(t,r,a,s,i){var l=i.x1,u=i.x2,d=i.y1,f=i.y2,m=i.xAxis,p=i.yAxis;if(!m||!p)return null;var x=LE({x:m.scale,y:p.scale}),v={x:t?x.x.apply(l,{position:"start"}):x.x.rangeMin,y:a?x.y.apply(d,{position:"start"}):x.y.rangeMin},j={x:r?x.x.apply(u,{position:"end"}):x.x.rangeMax,y:s?x.y.apply(f,{position:"end"}):x.y.rangeMax};return Ws(i,"discard")&&(!x.isInRange(v)||!x.isInRange(j))?null:NH(v,j)},s0=(function(e){function t(){return kje(this,t),Dje(this,t,arguments)}return $je(t,e),Rje(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,l=a.y1,u=a.y2,d=a.className,f=a.alwaysShow,m=a.clipPathId;Ss(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=wr(s),x=wr(i),v=wr(l),j=wr(u),y=this.props.shape;if(!p&&!x&&!v&&!j&&!y)return null;var N=qje(p,x,v,j,this.props);if(!N&&!y)return null;var C=Ws(this.props,"hidden")?"url(#".concat(m,")"):void 0;return J.createElement(Ot,{className:_t("recharts-reference-area",d)},t.renderRect(y,Q3(Q3({clipPath:C},pt(this.props,!0)),N)),Er.renderCallByParent(this.props,N))}}])})(J.Component);a0(s0,"displayName","ReferenceArea");a0(s0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});a0(s0,"renderRect",function(e,t){var r;return J.isValidElement(e)?r=J.cloneElement(e,t):Nt(e)?r=e(t):r=J.createElement(IE,nC({},t,{className:"recharts-reference-area-rect"})),r});function $H(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function zje(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return V0e(a,r)}function Bje(e,t,r){var a=r==="width",s=e.x,i=e.y,l=e.width,u=e.height;return t===1?{start:a?s:i,end:a?s+l:i+u}:{start:a?s+l:i+u,end:a?s:i}}function My(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function Uje(e,t){return $H(e,t+1)}function Hje(e,t,r,a,s){for(var i=(a||[]).slice(),l=t.start,u=t.end,d=0,f=1,m=l,p=function(){var j=a?.[d];if(j===void 0)return{v:$H(a,f)};var y=d,N,C=function(){return N===void 0&&(N=r(j,y)),N},A=j.coordinate,w=d===0||My(e,A,C,m,u);w||(d=0,m=l,f+=1),w&&(m=A+e*(C()/2+s),d+=f)},x;f<=i.length;)if(x=p(),x)return x.v;return[]}function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function Z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(r),!0).forEach(function(a){Kje(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Kje(e,t,r){return t=Vje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vje(e){var t=Wje(e,"string");return vm(t)=="symbol"?t:t+""}function Wje(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(vm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gje(e,t,r,a,s){for(var i=(a||[]).slice(),l=i.length,u=t.start,d=t.end,f=function(x){var v=i[x],j,y=function(){return j===void 0&&(j=r(v,x)),j};if(x===l-1){var N=e*(v.coordinate+e*y()/2-d);i[x]=v=Vr(Vr({},v),{},{tickCoord:N>0?v.coordinate-N*e:v.coordinate})}else i[x]=v=Vr(Vr({},v),{},{tickCoord:v.coordinate});var C=My(e,v.tickCoord,y,u,d);C&&(d=v.tickCoord-e*(y()/2+s),i[x]=Vr(Vr({},v),{},{isShow:!0}))},m=l-1;m>=0;m--)f(m);return i}function Yje(e,t,r,a,s,i){var l=(a||[]).slice(),u=l.length,d=t.start,f=t.end;if(i){var m=a[u-1],p=r(m,u-1),x=e*(m.coordinate+e*p/2-f);l[u-1]=m=Vr(Vr({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate});var v=My(e,m.tickCoord,function(){return p},d,f);v&&(f=m.tickCoord-e*(p/2+s),l[u-1]=Vr(Vr({},m),{},{isShow:!0}))}for(var j=i?u-1:u,y=function(A){var w=l[A],S,E=function(){return S===void 0&&(S=r(w,A)),S};if(A===0){var O=e*(w.coordinate-e*E()/2-d);l[A]=w=Vr(Vr({},w),{},{tickCoord:O<0?w.coordinate-O*e:w.coordinate})}else l[A]=w=Vr(Vr({},w),{},{tickCoord:w.coordinate});var M=My(e,w.tickCoord,E,d,f);M&&(d=w.tickCoord+e*(E()/2+s),l[A]=Vr(Vr({},w),{},{isShow:!0}))},N=0;N<j;N++)y(N);return l}function HE(e,t,r){var a=e.tick,s=e.ticks,i=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,m=e.unit,p=e.angle;if(!s||!s.length||!a)return[];if(ze(d)||Qi.isSsr)return Uje(s,typeof d=="number"&&ze(d)?d:0);var x=[],v=u==="top"||u==="bottom"?"width":"height",j=m&&v==="width"?Sh(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(w,S){var E=Nt(f)?f(w.value,S):w.value;return v==="width"?zje(Sh(E,{fontSize:t,letterSpacing:r}),j,p):Sh(E,{fontSize:t,letterSpacing:r})[v]},N=s.length>=2?ea(s[1].coordinate-s[0].coordinate):1,C=Bje(i,N,v);return d==="equidistantPreserveStart"?Hje(N,C,y,s,l):(d==="preserveStart"||d==="preserveStartEnd"?x=Yje(N,C,y,s,l,d==="preserveStartEnd"):x=Gje(N,C,y,s,l),x.filter(function(A){return A.isShow}))}var Xje=["viewBox"],Qje=["viewBox"],Zje=["ticks"];function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ru.apply(this,arguments)}function J3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(r),!0).forEach(function(a){KE(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function o2(e,t){if(e==null)return{};var r=Jje(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Jje(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function ebe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e$(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,qH(a.key),a)}}function tbe(e,t,r){return t&&e$(e.prototype,t),r&&e$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nbe(e,t,r){return t=ky(t),rbe(e,FH()?Reflect.construct(t,r||[],ky(e).constructor):t.apply(e,r))}function rbe(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return abe(e)}function abe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FH=function(){return!!e})()}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ky(e)}function sbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aC(e,t)}function aC(e,t){return aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},aC(e,t)}function KE(e,t,r){return t=qH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=ibe(e,"string");return md(t)=="symbol"?t:t+""}function ibe(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(md(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zd=(function(e){function t(r){var a;return ebe(this,t),a=nbe(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return sbe(t,e),tbe(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,l=o2(a,Xje),u=this.props,d=u.viewBox,f=o2(u,Qje);return!zu(i,d)||!zu(l,f)||!zu(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,l=s.y,u=s.width,d=s.height,f=s.orientation,m=s.tickSize,p=s.mirror,x=s.tickMargin,v,j,y,N,C,A,w=p?-1:1,S=a.tickSize||m,E=ze(a.tickCoord)?a.tickCoord:a.coordinate;switch(f){case"top":v=j=a.coordinate,N=l+ +!p*d,y=N-w*S,A=y-w*x,C=E;break;case"left":y=N=a.coordinate,j=i+ +!p*u,v=j-w*S,C=v-w*x,A=E;break;case"right":y=N=a.coordinate,j=i+ +p*u,v=j+w*S,C=v+w*x,A=E;break;default:v=j=a.coordinate,N=l+ +p*d,y=N+w*S,A=y+w*x,C=E;break}return{line:{x1:v,y1:y,x2:j,y2:N},tick:{x:C,y:A}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l;switch(s){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.orientation,f=a.mirror,m=a.axisLine,p=vr(vr(vr({},pt(this.props,!1)),pt(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var x=+(d==="top"&&!f||d==="bottom"&&f);p=vr(vr({},p),{},{x1:s,y1:i+x*u,x2:s+l,y2:i+x*u})}else{var v=+(d==="left"&&!f||d==="right"&&f);p=vr(vr({},p),{},{x1:s+v*l,y1:i,x2:s+v*l,y2:i+u})}return J.createElement("line",Ru({},p,{className:_t("recharts-cartesian-axis-line",ka(m,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var l=this,u=this.props,d=u.tickLine,f=u.stroke,m=u.tick,p=u.tickFormatter,x=u.unit,v=HE(vr(vr({},this.props),{},{ticks:a}),s,i),j=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),N=pt(this.props,!1),C=pt(m,!1),A=vr(vr({},N),{},{fill:"none"},pt(d,!1)),w=v.map(function(S,E){var O=l.getTickLineCoord(S),M=O.line,R=O.tick,I=vr(vr(vr(vr({textAnchor:j,verticalAnchor:y},N),{},{stroke:"none",fill:f},C),R),{},{index:E,payload:S,visibleTicksCount:v.length,tickFormatter:p});return J.createElement(Ot,Ru({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},rl(l.props,S,E)),d&&J.createElement("line",Ru({},A,M,{className:_t("recharts-cartesian-axis-tick-line",ka(d,"className"))})),m&&t.renderTickItem(m,I,"".concat(Nt(p)?p(S.value,E):S.value).concat(x||"")))});return J.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,l=s.width,u=s.height,d=s.ticksGenerator,f=s.className,m=s.hide;if(m)return null;var p=this.props,x=p.ticks,v=o2(p,Zje),j=x;return Nt(d)&&(j=x&&x.length>0?d(this.props):d(v)),l<=0||u<=0||!j||!j.length?null:J.createElement(Ot,{className:_t("recharts-cartesian-axis",f),ref:function(N){a.layerReference=N}},i&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),Er.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var l,u=_t(s.className,"recharts-cartesian-axis-tick-value");return J.isValidElement(a)?l=J.cloneElement(a,vr(vr({},s),{},{className:u})):Nt(a)?l=a(vr(vr({},s),{},{className:u})):l=J.createElement(oc,Ru({},s,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])})(b.Component);KE(Zd,"displayName","CartesianAxis");KE(Zd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var obe=["x1","y1","x2","y2","key"],lbe=["offset"];function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function t$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(r),!0).forEach(function(a){cbe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cbe(e,t,r){return t=ube(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ube(e){var t=dbe(e,"string");return dc(t)=="symbol"?t:t+""}function dbe(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(dc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gl.apply(this,arguments)}function n$(e,t){if(e==null)return{};var r=fbe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function fbe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var hbe=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,l=t.width,u=t.height,d=t.ry;return J.createElement("rect",{x:s,y:i,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function zH(e,t){var r;if(J.isValidElement(e))r=J.cloneElement(e,t);else if(Nt(e))r=e(t);else{var a=t.x1,s=t.y1,i=t.x2,l=t.y2,u=t.key,d=n$(t,obe),f=pt(d,!1);f.offset;var m=n$(f,lbe);r=J.createElement("line",Gl({},m,{x1:a,y1:s,x2:i,y2:l,fill:"none",key:u}))}return r}function mbe(e){var t=e.x,r=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var f=Wr(Wr({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return zH(s,f)});return J.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function pbe(e){var t=e.y,r=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var f=Wr(Wr({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return zH(s,f)});return J.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function xbe(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,s=e.y,i=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var m=u.map(function(x){return Math.round(x+s-s)}).sort(function(x,v){return x-v});s!==m[0]&&m.unshift(0);var p=m.map(function(x,v){var j=!m[v+1],y=j?s+l-x:m[v+1]-x;if(y<=0)return null;var N=v%t.length;return J.createElement("rect",{key:"react-".concat(v),y:x,x:a,height:y,width:i,stroke:"none",fill:t[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function gbe(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,s=e.fillOpacity,i=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!r||!a||!a.length)return null;var m=f.map(function(x){return Math.round(x+i-i)}).sort(function(x,v){return x-v});i!==m[0]&&m.unshift(0);var p=m.map(function(x,v){var j=!m[v+1],y=j?i+u-x:m[v+1]-x;if(y<=0)return null;var N=v%a.length;return J.createElement("rect",{key:"react-".concat(v),x,y:l,width:y,height:d,stroke:"none",fill:a[N],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var ybe=function(t,r){var a=t.xAxis,s=t.width,i=t.height,l=t.offset;return UU(HE(Wr(Wr(Wr({},Zd.defaultProps),a),{},{ticks:Oi(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.left,l.left+l.width,r)},vbe=function(t,r){var a=t.yAxis,s=t.width,i=t.height,l=t.offset;return UU(HE(Wr(Wr(Wr({},Zd.defaultProps),a),{},{ticks:Oi(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.top,l.top+l.height,r)},Su={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ms(e){var t,r,a,s,i,l,u=qE(),d=zE(),f=ije(),m=Wr(Wr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Su.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Su.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:Su.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Su.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Su.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:Su.verticalFill,x:ze(e.x)?e.x:f.left,y:ze(e.y)?e.y:f.top,width:ze(e.width)?e.width:f.width,height:ze(e.height)?e.height:f.height}),p=m.x,x=m.y,v=m.width,j=m.height,y=m.syncWithTicks,N=m.horizontalValues,C=m.verticalValues,A=rje(),w=aje();if(!ze(v)||v<=0||!ze(j)||j<=0||!ze(p)||p!==+p||!ze(x)||x!==+x)return null;var S=m.verticalCoordinatesGenerator||ybe,E=m.horizontalCoordinatesGenerator||vbe,O=m.horizontalPoints,M=m.verticalPoints;if((!O||!O.length)&&Nt(E)){var R=N&&N.length,I=E({yAxis:w?Wr(Wr({},w),{},{ticks:R?N:w.ticks}):void 0,width:u,height:d,offset:f},R?!0:y);Ss(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(dc(I),"]")),Array.isArray(I)&&(O=I)}if((!M||!M.length)&&Nt(S)){var V=C&&C.length,F=S({xAxis:A?Wr(Wr({},A),{},{ticks:V?C:A.ticks}):void 0,width:u,height:d,offset:f},V?!0:y);Ss(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(dc(F),"]")),Array.isArray(F)&&(M=F)}return J.createElement("g",{className:"recharts-cartesian-grid"},J.createElement(hbe,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),J.createElement(mbe,Gl({},m,{offset:f,horizontalPoints:O,xAxis:A,yAxis:w})),J.createElement(pbe,Gl({},m,{offset:f,verticalPoints:M,xAxis:A,yAxis:w})),J.createElement(xbe,Gl({},m,{horizontalPoints:O})),J.createElement(gbe,Gl({},m,{verticalPoints:M})))}Ms.displayName="CartesianGrid";var jbe=["type","layout","connectNulls","ref"],bbe=["key"];function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function r$(e,t){if(e==null)return{};var r=wbe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function wbe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Oh.apply(this,arguments)}function a$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(r),!0).forEach(function(a){ps(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Au(e){return Cbe(e)||Abe(e)||Sbe(e)||Nbe()}function Nbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sbe(e,t){if(e){if(typeof e=="string")return sC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sC(e,t)}}function Abe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cbe(e){if(Array.isArray(e))return sC(e)}function sC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function _be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s$(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,UH(a.key),a)}}function Ebe(e,t,r){return t&&s$(e.prototype,t),r&&s$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tbe(e,t,r){return t=Py(t),Obe(e,BH()?Reflect.construct(t,r||[],Py(e).constructor):t.apply(e,r))}function Obe(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mbe(e)}function Mbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BH=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(e)}function kbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iC(e,t)}function iC(e,t){return iC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},iC(e,t)}function ps(e,t,r){return t=UH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=Pbe(e,"string");return pd(t)=="symbol"?t:t+""}function Pbe(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(pd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ui=(function(e){function t(){var r;_be(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=Tbe(this,t,[].concat(s)),ps(r,"state",{isAnimationFinished:!0,totalLength:0}),ps(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),ps(r,"getStrokeDasharray",function(l,u,d){var f=d.reduce(function(C,A){return C+A});if(!f)return r.generateSimpleStrokeDasharray(u,l);for(var m=Math.floor(l/f),p=l%f,x=u-l,v=[],j=0,y=0;j<d.length;y+=d[j],++j)if(y+d[j]>p){v=[].concat(Au(d.slice(0,j)),[p-y]);break}var N=v.length%2===0?[0,x]:[x];return[].concat(Au(t.repeat(d,m)),Au(v),N).map(function(C){return"".concat(C,"px")}).join(", ")}),ps(r,"id",ul("recharts-line-")),ps(r,"pathRef",function(l){r.mainCurve=l}),ps(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ps(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return kbe(t,e),Ebe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.points,u=i.xAxis,d=i.yAxis,f=i.layout,m=i.children,p=ra(m,Qd);if(!p)return null;var x=function(y,N){return{x:y.x,y:y.y,value:y.value,errorVal:Rn(y.payload,N)}},v={clipPath:a?"url(#clipPath-".concat(s,")"):null};return J.createElement(Ot,v,p.map(function(j){return J.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,dataPointFormatter:x})}))}},{key:"renderDots",value:function(a,s,i){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,f=u.points,m=u.dataKey,p=pt(this.props,!1),x=pt(d,!0),v=f.map(function(y,N){var C=Aa(Aa(Aa({key:"dot-".concat(N),r:3},p),x),{},{index:N,cx:y.x,cy:y.y,value:y.value,dataKey:m,payload:y.payload,points:f});return t.renderDotItem(d,C)}),j={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return J.createElement(Ot,Oh({className:"recharts-line-dots",key:"dots"},j),v)}},{key:"renderCurveStatically",value:function(a,s,i,l){var u=this.props,d=u.type,f=u.layout,m=u.connectNulls;u.ref;var p=r$(u,jbe),x=Aa(Aa(Aa({},pt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},l),{},{type:d,layout:f,connectNulls:m});return J.createElement(Xo,Oh({},x,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,l=this.props,u=l.points,d=l.strokeDasharray,f=l.isAnimationActive,m=l.animationBegin,p=l.animationDuration,x=l.animationEasing,v=l.animationId,j=l.animateNewValues,y=l.width,N=l.height,C=this.state,A=C.prevPoints,w=C.totalLength;return J.createElement(rs,{begin:m,duration:p,isActive:f,easing:x,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var E=S.t;if(A){var O=A.length/u.length,M=u.map(function(H,K){var q=Math.floor(K*O);if(A[q]){var $=A[q],k=zn($.x,H.x),D=zn($.y,H.y);return Aa(Aa({},H),{},{x:k(E),y:D(E)})}if(j){var P=zn(y*2,H.x),U=zn(N/2,H.y);return Aa(Aa({},H),{},{x:P(E),y:U(E)})}return Aa(Aa({},H),{},{x:H.x,y:H.y})});return i.renderCurveStatically(M,a,s)}var R=zn(0,w),I=R(E),V;if(d){var F="".concat(d).split(/[,\s]+/gim).map(function(H){return parseFloat(H)});V=i.getStrokeDasharray(I,w,F)}else V=i.generateSimpleStrokeDasharray(w,I);return i.renderCurveStatically(u,a,s,{strokeDasharray:V})})}},{key:"renderCurve",value:function(a,s){var i=this.props,l=i.points,u=i.isAnimationActive,d=this.state,f=d.prevPoints,m=d.totalLength;return u&&l&&l.length&&(!f&&m>0||!al(f,l))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(l,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,l=s.dot,u=s.points,d=s.className,f=s.xAxis,m=s.yAxis,p=s.top,x=s.left,v=s.width,j=s.height,y=s.isAnimationActive,N=s.id;if(i||!u||!u.length)return null;var C=this.state.isAnimationFinished,A=u.length===1,w=_t("recharts-line",d),S=f&&f.allowDataOverflow,E=m&&m.allowDataOverflow,O=S||E,M=bt(N)?this.id:N,R=(a=pt(l,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},I=R.r,V=I===void 0?3:I,F=R.strokeWidth,H=F===void 0?2:F,K=Bz(l)?l:{},q=K.clipDot,$=q===void 0?!0:q,k=V*2+H;return J.createElement(Ot,{className:w},S||E?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(M)},J.createElement("rect",{x:S?x:x-v/2,y:E?p:p-j/2,width:S?v:v*2,height:E?j:j*2})),!$&&J.createElement("clipPath",{id:"clipPath-dots-".concat(M)},J.createElement("rect",{x:x-k/2,y:p-k/2,width:v+k,height:j+k}))):null,!A&&this.renderCurve(O,M),this.renderErrorBar(O,M),(A||l)&&this.renderDots(O,$,M),(!y||C)&&As.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(Au(a),[0]):a,l=[],u=0;u<s;++u)l=[].concat(Au(l),Au(i));return l}},{key:"renderDotItem",value:function(a,s){var i;if(J.isValidElement(a))i=J.cloneElement(a,s);else if(Nt(a))i=a(s);else{var l=s.key,u=r$(s,bbe),d=_t("recharts-line-dot",typeof a!="boolean"?a.className:"");i=J.createElement(np,Oh({key:l},u,{className:d}))}return i}}])})(b.PureComponent);ps(Ui,"displayName","Line");ps(Ui,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Qi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ps(Ui,"getComposedData",function(e){var t=e.props,r=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,f=e.offset,m=t.layout,p=d.map(function(x,v){var j=Rn(x,l);return m==="horizontal"?{x:rd({axis:r,ticks:s,bandSize:u,entry:x,index:v}),y:bt(j)?null:a.scale(j),value:j,payload:x}:{x:bt(j)?null:r.scale(j),y:rd({axis:a,ticks:i,bandSize:u,entry:x,index:v}),value:j,payload:x}});return Aa({points:p,layout:m},f)});var Rbe=["layout","type","stroke","connectNulls","isRange","ref"],Dbe=["key"],HH;function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function KH(e,t){if(e==null)return{};var r=Ibe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ibe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yl.apply(this,arguments)}function i$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i$(Object(r),!0).forEach(function(a){Hs(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Lbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o$(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,WH(a.key),a)}}function $be(e,t,r){return t&&o$(e.prototype,t),r&&o$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fbe(e,t,r){return t=Ry(t),qbe(e,VH()?Reflect.construct(t,r||[],Ry(e).constructor):t.apply(e,r))}function qbe(e,t){if(t&&(xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zbe(e)}function zbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VH=function(){return!!e})()}function Ry(e){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ry(e)}function Bbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oC(e,t)}function oC(e,t){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},oC(e,t)}function Hs(e,t,r){return t=WH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WH(e){var t=Ube(e,"string");return xd(t)=="symbol"?t:t+""}function Ube(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(xd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pa=(function(e){function t(){var r;Lbe(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=Fbe(this,t,[].concat(s)),Hs(r,"state",{isAnimationFinished:!0}),Hs(r,"id",ul("recharts-area-")),Hs(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Nt(l)&&l()}),Hs(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Nt(l)&&l()}),r}return Bbe(t,e),$be(t,[{key:"renderDots",value:function(a,s,i){var l=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(l&&!u)return null;var d=this.props,f=d.dot,m=d.points,p=d.dataKey,x=pt(this.props,!1),v=pt(f,!0),j=m.map(function(N,C){var A=Io(Io(Io({key:"dot-".concat(C),r:3},x),v),{},{index:C,cx:N.x,cy:N.y,dataKey:p,value:N.value,payload:N.payload,points:m});return t.renderDotItem(f,A)}),y={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return J.createElement(Ot,Yl({className:"recharts-area-dots"},y),j)}},{key:"renderHorizontalRect",value:function(a){var s=this.props,i=s.baseLine,l=s.points,u=s.strokeWidth,d=l[0].x,f=l[l.length-1].x,m=a*Math.abs(d-f),p=Bo(l.map(function(x){return x.y||0}));return ze(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(Bo(i.map(function(x){return x.y||0})),p)),ze(p)?J.createElement("rect",{x:d<f?d:d-m,y:0,width:m,height:Math.floor(p+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var s=this.props,i=s.baseLine,l=s.points,u=s.strokeWidth,d=l[0].y,f=l[l.length-1].y,m=a*Math.abs(d-f),p=Bo(l.map(function(x){return x.x||0}));return ze(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(Bo(i.map(function(x){return x.x||0})),p)),ze(p)?J.createElement("rect",{x:0,y:d<f?d:d-m,width:p+(u?parseInt("".concat(u),10):1),height:Math.floor(m)}):null}},{key:"renderClipRect",value:function(a){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,s,i,l){var u=this.props,d=u.layout,f=u.type,m=u.stroke,p=u.connectNulls,x=u.isRange;u.ref;var v=KH(u,Rbe);return J.createElement(Ot,{clipPath:i?"url(#clipPath-".concat(l,")"):null},J.createElement(Xo,Yl({},pt(v,!0),{points:a,connectNulls:p,type:f,baseLine:s,layout:d,stroke:"none",className:"recharts-area-area"})),m!=="none"&&J.createElement(Xo,Yl({},pt(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:p,fill:"none",points:a})),m!=="none"&&x&&J.createElement(Xo,Yl({},pt(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:p,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(a,s){var i=this,l=this.props,u=l.points,d=l.baseLine,f=l.isAnimationActive,m=l.animationBegin,p=l.animationDuration,x=l.animationEasing,v=l.animationId,j=this.state,y=j.prevPoints,N=j.prevBaseLine;return J.createElement(rs,{begin:m,duration:p,isActive:f,easing:x,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var A=C.t;if(y){var w=y.length/u.length,S=u.map(function(R,I){var V=Math.floor(I*w);if(y[V]){var F=y[V],H=zn(F.x,R.x),K=zn(F.y,R.y);return Io(Io({},R),{},{x:H(A),y:K(A)})}return R}),E;if(ze(d)&&typeof d=="number"){var O=zn(N,d);E=O(A)}else if(bt(d)||Wd(d)){var M=zn(N,0);E=M(A)}else E=d.map(function(R,I){var V=Math.floor(I*w);if(N[V]){var F=N[V],H=zn(F.x,R.x),K=zn(F.y,R.y);return Io(Io({},R),{},{x:H(A),y:K(A)})}return R});return i.renderAreaStatically(S,E,a,s)}return J.createElement(Ot,null,J.createElement("defs",null,J.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(A))),J.createElement(Ot,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(u,d,a,s)))})}},{key:"renderArea",value:function(a,s){var i=this.props,l=i.points,u=i.baseLine,d=i.isAnimationActive,f=this.state,m=f.prevPoints,p=f.prevBaseLine,x=f.totalLength;return d&&l&&l.length&&(!m&&x>0||!al(m,l)||!al(p,u))?this.renderAreaWithAnimation(a,s):this.renderAreaStatically(l,u,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,l=s.dot,u=s.points,d=s.className,f=s.top,m=s.left,p=s.xAxis,x=s.yAxis,v=s.width,j=s.height,y=s.isAnimationActive,N=s.id;if(i||!u||!u.length)return null;var C=this.state.isAnimationFinished,A=u.length===1,w=_t("recharts-area",d),S=p&&p.allowDataOverflow,E=x&&x.allowDataOverflow,O=S||E,M=bt(N)?this.id:N,R=(a=pt(l,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},I=R.r,V=I===void 0?3:I,F=R.strokeWidth,H=F===void 0?2:F,K=Bz(l)?l:{},q=K.clipDot,$=q===void 0?!0:q,k=V*2+H;return J.createElement(Ot,{className:w},S||E?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(M)},J.createElement("rect",{x:S?m:m-v/2,y:E?f:f-j/2,width:S?v:v*2,height:E?j:j*2})),!$&&J.createElement("clipPath",{id:"clipPath-dots-".concat(M)},J.createElement("rect",{x:m-k/2,y:f-k/2,width:v+k,height:j+k}))):null,A?null:this.renderArea(O,M),(l||A)&&this.renderDots(O,$,M),(!y||C)&&As.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:a.points!==s.curPoints||a.baseLine!==s.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])})(b.PureComponent);HH=Pa;Hs(Pa,"displayName","Area");Hs(Pa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Qi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Hs(Pa,"getBaseValue",function(e,t,r,a){var s=e.layout,i=e.baseValue,l=t.props.baseValue,u=l??i;if(ze(u)&&typeof u=="number")return u;var d=s==="horizontal"?a:r,f=d.scale.domain();if(d.type==="number"){var m=Math.max(f[0],f[1]),p=Math.min(f[0],f[1]);return u==="dataMin"?p:u==="dataMax"||m<0?m:Math.max(Math.min(f[0],f[1]),0)}return u==="dataMin"?f[0]:u==="dataMax"?f[1]:f[0]});Hs(Pa,"getComposedData",function(e){var t=e.props,r=e.item,a=e.xAxis,s=e.yAxis,i=e.xAxisTicks,l=e.yAxisTicks,u=e.bandSize,d=e.dataKey,f=e.stackedData,m=e.dataStartIndex,p=e.displayedData,x=e.offset,v=t.layout,j=f&&f.length,y=HH.getBaseValue(t,r,a,s),N=v==="horizontal",C=!1,A=p.map(function(S,E){var O;j?O=f[m+E]:(O=Rn(S,d),Array.isArray(O)?C=!0:O=[y,O]);var M=O[1]==null||j&&Rn(S,d)==null;return N?{x:rd({axis:a,ticks:i,bandSize:u,entry:S,index:E}),y:M?null:s.scale(O[1]),value:O,payload:S}:{x:M?null:a.scale(O[1]),y:rd({axis:s,ticks:l,bandSize:u,entry:S,index:E}),value:O,payload:S}}),w;return j||C?w=A.map(function(S){var E=Array.isArray(S.value)?S.value[0]:null;return N?{x:S.x,y:E!=null&&S.y!=null?s.scale(E):null}:{x:E!=null?a.scale(E):null,y:S.y}}):w=N?s.scale(y):a.scale(y),Io({points:A,baseLine:w,layout:v,isRange:C},x)});Hs(Pa,"renderDotItem",function(e,t){var r;if(J.isValidElement(e))r=J.cloneElement(e,t);else if(Nt(e))r=e(t);else{var a=_t("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=KH(t,Dbe);r=J.createElement(np,Yl({},i,{key:s,className:a}))}return r});function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function Hbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kbe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,XH(a.key),a)}}function Vbe(e,t,r){return t&&Kbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wbe(e,t,r){return t=Dy(t),Gbe(e,GH()?Reflect.construct(t,r||[],Dy(e).constructor):t.apply(e,r))}function Gbe(e,t){if(t&&(gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ybe(e)}function Ybe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GH=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dy(e)}function Xbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lC(e,t)}function lC(e,t){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},lC(e,t)}function YH(e,t,r){return t=XH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XH(e){var t=Qbe(e,"string");return gd(t)=="symbol"?t:t+""}function Qbe(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(gd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i0=(function(e){function t(){return Hbe(this,t),Wbe(this,t,arguments)}return Xbe(t,e),Vbe(t,[{key:"render",value:function(){return null}}])})(b.Component);YH(i0,"displayName","ZAxis");YH(i0,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Zbe=["option","isActive"];function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Mh.apply(this,arguments)}function Jbe(e,t){if(e==null)return{};var r=ewe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ewe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function twe(e){var t=e.option,r=e.isActive,a=Jbe(e,Zbe);return typeof t=="string"?b.createElement(by,Mh({option:b.createElement(Rv,Mh({type:t},a)),isActive:r,shapeType:"symbols"},a)):b.createElement(by,Mh({option:t,isActive:r,shapeType:"symbols"},a))}function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kh.apply(this,arguments)}function l$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l$(Object(r),!0).forEach(function(a){Ho(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c$(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ZH(a.key),a)}}function rwe(e,t,r){return t&&c$(e.prototype,t),r&&c$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function awe(e,t,r){return t=Iy(t),swe(e,QH()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function swe(e,t){if(t&&(yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iwe(e)}function iwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QH=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function owe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cC(e,t)}function cC(e,t){return cC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},cC(e,t)}function Ho(e,t,r){return t=ZH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZH(e){var t=lwe(e,"string");return yd(t)=="symbol"?t:t+""}function lwe(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(yd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o0=(function(e){function t(){var r;nwe(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=awe(this,t,[].concat(s)),Ho(r,"state",{isAnimationFinished:!1}),Ho(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Ho(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Ho(r,"id",ul("recharts-scatter-")),r}return owe(t,e),rwe(t,[{key:"renderSymbolsStatically",value:function(a){var s=this,i=this.props,l=i.shape,u=i.activeShape,d=i.activeIndex,f=pt(this.props,!1);return a.map(function(m,p){var x=d===p,v=x?u:l,j=Ya(Ya({},f),m);return J.createElement(Ot,kh({className:"recharts-scatter-symbol",key:"symbol-".concat(m?.cx,"-").concat(m?.cy,"-").concat(m?.size,"-").concat(p)},rl(s.props,m,p),{role:"img"}),J.createElement(twe,kh({option:v,isActive:x,key:"symbol-".concat(p)},j)))})}},{key:"renderSymbolsWithAnimation",value:function(){var a=this,s=this.props,i=s.points,l=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,m=s.animationId,p=this.state.prevPoints;return J.createElement(rs,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var v=x.t,j=i.map(function(y,N){var C=p&&p[N];if(C){var A=zn(C.cx,y.cx),w=zn(C.cy,y.cy),S=zn(C.size,y.size);return Ya(Ya({},y),{},{cx:A(v),cy:w(v),size:S(v)})}var E=zn(0,y.size);return Ya(Ya({},y),{},{size:E(v)})});return J.createElement(Ot,null,a.renderSymbolsStatically(j))})}},{key:"renderSymbols",value:function(){var a=this.props,s=a.points,i=a.isAnimationActive,l=this.state.prevPoints;return i&&s&&s.length&&(!l||!al(l,s))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(s)}},{key:"renderErrorBar",value:function(){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.points,l=s.xAxis,u=s.yAxis,d=s.children,f=ra(d,Qd);return f?f.map(function(m,p){var x=m.props,v=x.direction,j=x.dataKey;return J.cloneElement(m,{key:"".concat(v,"-").concat(j,"-").concat(i[p]),data:i,xAxis:l,yAxis:u,layout:v==="x"?"vertical":"horizontal",dataPointFormatter:function(N,C){return{x:N.cx,y:N.cy,value:v==="x"?+N.node.x:+N.node.y,errorVal:Rn(N,C)}}})}):null}},{key:"renderLine",value:function(){var a=this.props,s=a.points,i=a.line,l=a.lineType,u=a.lineJointType,d=pt(this.props,!1),f=pt(i,!1),m,p;if(l==="joint")m=s.map(function(w){return{x:w.cx,y:w.cy}});else if(l==="fitting"){var x=Xie(s),v=x.xmin,j=x.xmax,y=x.a,N=x.b,C=function(S){return y*S+N};m=[{x:v,y:C(v)},{x:j,y:C(j)}]}var A=Ya(Ya(Ya({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:m});return J.isValidElement(i)?p=J.cloneElement(i,A):Nt(i)?p=i(A):p=J.createElement(Xo,kh({},A,{type:u})),J.createElement(Ot,{className:"recharts-scatter-line",key:"recharts-scatter-line"},p)}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.points,l=a.line,u=a.className,d=a.xAxis,f=a.yAxis,m=a.left,p=a.top,x=a.width,v=a.height,j=a.id,y=a.isAnimationActive;if(s||!i||!i.length)return null;var N=this.state.isAnimationFinished,C=_t("recharts-scatter",u),A=d&&d.allowDataOverflow,w=f&&f.allowDataOverflow,S=A||w,E=bt(j)?this.id:j;return J.createElement(Ot,{className:C,clipPath:S?"url(#clipPath-".concat(E,")"):null},A||w?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(E)},J.createElement("rect",{x:A?m:m-x/2,y:w?p:p-v/2,width:A?x:x*2,height:w?v:v*2}))):null,l&&this.renderLine(),this.renderErrorBar(),J.createElement(Ot,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!y||N)&&As.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}}])})(b.PureComponent);Ho(o0,"displayName","Scatter");Ho(o0,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Qi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Ho(o0,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,a=e.zAxis,s=e.item,i=e.displayedData,l=e.xAxisTicks,u=e.yAxisTicks,d=e.offset,f=s.props.tooltipType,m=ra(s.props.children,Xs),p=bt(t.dataKey)?s.props.dataKey:t.dataKey,x=bt(r.dataKey)?s.props.dataKey:r.dataKey,v=a&&a.dataKey,j=a?a.range:i0.defaultProps.range,y=j&&j[0],N=t.scale.bandwidth?t.scale.bandwidth():0,C=r.scale.bandwidth?r.scale.bandwidth():0,A=i.map(function(w,S){var E=Rn(w,p),O=Rn(w,x),M=!bt(v)&&Rn(w,v)||"-",R=[{name:bt(t.dataKey)?s.props.name:t.name||t.dataKey,unit:t.unit||"",value:E,payload:w,dataKey:p,type:f},{name:bt(r.dataKey)?s.props.name:r.name||r.dataKey,unit:r.unit||"",value:O,payload:w,dataKey:x,type:f}];M!=="-"&&R.push({name:a.name||a.dataKey,unit:a.unit||"",value:M,payload:w,dataKey:v,type:f});var I=rd({axis:t,ticks:l,bandSize:N,entry:w,index:S,dataKey:p}),V=rd({axis:r,ticks:u,bandSize:C,entry:w,index:S,dataKey:x}),F=M!=="-"?a.scale(M):y,H=Math.sqrt(Math.max(F,0)/Math.PI);return Ya(Ya({},w),{},{cx:I,cy:V,x:I-H,y:V-H,xAxis:t,yAxis:r,zAxis:a,width:2*H,height:2*H,size:F,node:{x:E,y:O,z:M},tooltipPayload:R,tooltipPosition:{x:I,y:V},payload:w},m&&m[S]&&m[S].props)});return Ya({points:A},d)});function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function cwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uwe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,t9(a.key),a)}}function dwe(e,t,r){return t&&uwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fwe(e,t,r){return t=Ly(t),hwe(e,JH()?Reflect.construct(t,r||[],Ly(e).constructor):t.apply(e,r))}function hwe(e,t){if(t&&(vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mwe(e)}function mwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JH=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ly(e)}function pwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uC(e,t)}function uC(e,t){return uC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},uC(e,t)}function e9(e,t,r){return t=t9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t9(e){var t=xwe(e,"string");return vd(t)=="symbol"?t:t+""}function xwe(e,t){if(vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(vd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dC(){return dC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},dC.apply(this,arguments)}function gwe(e){var t=e.xAxisId,r=qE(),a=zE(),s=OH(t);return s==null?null:b.createElement(Zd,dC({},s,{className:_t("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return Oi(l,!0)}}))}var zr=(function(e){function t(){return cwe(this,t),fwe(this,t,arguments)}return pwe(t,e),dwe(t,[{key:"render",value:function(){return b.createElement(gwe,this.props)}}])})(b.Component);e9(zr,"displayName","XAxis");e9(zr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function ywe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vwe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a9(a.key),a)}}function jwe(e,t,r){return t&&vwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bwe(e,t,r){return t=$y(t),wwe(e,n9()?Reflect.construct(t,r||[],$y(e).constructor):t.apply(e,r))}function wwe(e,t){if(t&&(jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nwe(e)}function Nwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n9=function(){return!!e})()}function $y(e){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$y(e)}function Swe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fC(e,t)}function fC(e,t){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},fC(e,t)}function r9(e,t,r){return t=a9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9(e){var t=Awe(e,"string");return jd(t)=="symbol"?t:t+""}function Awe(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(jd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hC(){return hC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},hC.apply(this,arguments)}var Cwe=function(t){var r=t.yAxisId,a=qE(),s=zE(),i=MH(r);return i==null?null:b.createElement(Zd,hC({},i,{className:_t("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(u){return Oi(u,!0)}}))},Mr=(function(e){function t(){return ywe(this,t),bwe(this,t,arguments)}return Swe(t,e),jwe(t,[{key:"render",value:function(){return b.createElement(Cwe,this.props)}}])})(b.Component);r9(Mr,"displayName","YAxis");r9(Mr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function u$(e){return Owe(e)||Twe(e)||Ewe(e)||_we()}function _we(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ewe(e,t){if(e){if(typeof e=="string")return mC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mC(e,t)}}function Twe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Owe(e){if(Array.isArray(e))return mC(e)}function mC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var pC=function(t,r,a,s,i){var l=ra(t,UE),u=ra(t,r0),d=[].concat(u$(l),u$(u)),f=ra(t,s0),m="".concat(s,"Id"),p=s[0],x=r;if(d.length&&(x=d.reduce(function(y,N){if(N.props[m]===a&&Ws(N.props,"extendDomain")&&ze(N.props[p])){var C=N.props[p];return[Math.min(y[0],C),Math.max(y[1],C)]}return y},x)),f.length){var v="".concat(p,"1"),j="".concat(p,"2");x=f.reduce(function(y,N){if(N.props[m]===a&&Ws(N.props,"extendDomain")&&ze(N.props[v])&&ze(N.props[j])){var C=N.props[v],A=N.props[j];return[Math.min(y[0],C,A),Math.max(y[1],C,A)]}return y},x)}return i&&i.length&&(x=i.reduce(function(y,N){return ze(N)?[Math.min(y[0],N),Math.max(y[1],N)]:y},x)),x},l2={exports:{}},d$;function Mwe(){return d$||(d$=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function i(d,f,m,p,x){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new s(m,p||d,x),j=r?r+f:f;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],v]:d._events[j].push(v):(d._events[j]=v,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new a:delete d._events[f]}function u(){this._events=new a,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)t.call(m,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=r?r+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,v=p.length,j=new Array(v);x<v;x++)j[x]=p[x].fn;return j},u.prototype.listenerCount=function(f){var m=r?r+f:f,p=this._events[m];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,m,p,x,v,j){var y=r?r+f:f;if(!this._events[y])return!1;var N=this._events[y],C=arguments.length,A,w;if(N.fn){switch(N.once&&this.removeListener(f,N.fn,void 0,!0),C){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,m),!0;case 3:return N.fn.call(N.context,m,p),!0;case 4:return N.fn.call(N.context,m,p,x),!0;case 5:return N.fn.call(N.context,m,p,x,v),!0;case 6:return N.fn.call(N.context,m,p,x,v,j),!0}for(w=1,A=new Array(C-1);w<C;w++)A[w-1]=arguments[w];N.fn.apply(N.context,A)}else{var S=N.length,E;for(w=0;w<S;w++)switch(N[w].once&&this.removeListener(f,N[w].fn,void 0,!0),C){case 1:N[w].fn.call(N[w].context);break;case 2:N[w].fn.call(N[w].context,m);break;case 3:N[w].fn.call(N[w].context,m,p);break;case 4:N[w].fn.call(N[w].context,m,p,x);break;default:if(!A)for(E=1,A=new Array(C-1);E<C;E++)A[E-1]=arguments[E];N[w].fn.apply(N[w].context,A)}}return!0},u.prototype.on=function(f,m,p){return i(this,f,m,p,!1)},u.prototype.once=function(f,m,p){return i(this,f,m,p,!0)},u.prototype.removeListener=function(f,m,p,x){var v=r?r+f:f;if(!this._events[v])return this;if(!m)return l(this,v),this;var j=this._events[v];if(j.fn)j.fn===m&&(!x||j.once)&&(!p||j.context===p)&&l(this,v);else{for(var y=0,N=[],C=j.length;y<C;y++)(j[y].fn!==m||x&&!j[y].once||p&&j[y].context!==p)&&N.push(j[y]);N.length?this._events[v]=N.length===1?N[0]:N:l(this,v)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&l(this,m)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(l2)),l2.exports}var kwe=Mwe();const Pwe=an(kwe);var c2=new Pwe,u2="recharts.syncMouseEvents";function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function Rwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dwe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,s9(a.key),a)}}function Iwe(e,t,r){return t&&Dwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d2(e,t,r){return t=s9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s9(e){var t=Lwe(e,"string");return jm(t)=="symbol"?t:t+""}function Lwe(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(jm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $we=(function(){function e(){Rwe(this,e),d2(this,"activeIndex",0),d2(this,"coordinateList",[]),d2(this,"layout","horizontal")}return Iwe(e,[{key:"setDetails",value:function(r){var a,s=r.coordinateList,i=s===void 0?null:s,l=r.container,u=l===void 0?null:l,d=r.layout,f=d===void 0?null:d,m=r.offset,p=m===void 0?null:m,x=r.mouseHandlerCallback,v=x===void 0?null:x;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,l=s.y,u=s.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((a=window)===null||a===void 0?void 0:a.scrollY)||0,p=i+d+f,x=l+this.offset.top+u/2+m;this.mouseHandlerCallback({pageX:p,pageY:x})}}}])})();function Fwe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e?.[0],s=e?.[1];if(a&&s&&ze(a)&&ze(s))return!0}return!1}function qwe(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function i9(e){var t=e.cx,r=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,l=Sn(t,r,a,s),u=Sn(t,r,a,i);return{points:[l,u],cx:t,cy:r,radius:a,startAngle:s,endAngle:i}}function zwe(e,t,r){var a,s,i,l;if(e==="horizontal")a=t.x,i=a,s=r.top,l=r.top+r.height;else if(e==="vertical")s=t.y,l=s,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,m=t.outerRadius,p=t.angle,x=Sn(u,d,f,p),v=Sn(u,d,m,p);a=x.x,s=x.y,i=v.x,l=v.y}else return i9(t);return[{x:a,y:s},{x:i,y:l}]}function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function f$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function tg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(r),!0).forEach(function(a){Bwe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Bwe(e,t,r){return t=Uwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uwe(e){var t=Hwe(e,"string");return bm(t)=="symbol"?t:t+""}function Hwe(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(bm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kwe(e){var t,r,a=e.element,s=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,m=e.tooltipAxisBandSize,p=e.layout,x=e.chartName,v=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!v||!i||!l||x!=="ScatterChart"&&s!=="axis")return null;var j,y=Xo;if(x==="ScatterChart")j=l,y=$ye;else if(x==="BarChart")j=qwe(p,l,d,m),y=IE;else if(p==="radial"){var N=i9(l),C=N.cx,A=N.cy,w=N.radius,S=N.startAngle,E=N.endAngle;j={cx:C,cy:A,startAngle:S,endAngle:E,innerRadius:w,outerRadius:w},y=eH}else j={points:zwe(p,l,d)},y=Xo;var O=tg(tg(tg(tg({stroke:"#ccc",pointerEvents:"none"},d),j),pt(v,!1)),{},{payload:u,payloadIndex:f,className:_t("recharts-tooltip-cursor",v.className)});return b.isValidElement(v)?b.cloneElement(v,O):b.createElement(y,O)}var Vwe=["item"],Wwe=["children","className","width","height","style","compact","title","desc"];function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Du.apply(this,arguments)}function h$(e,t){return Xwe(e)||Ywe(e,t)||l9(e,t)||Gwe()}function Gwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ywe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Xwe(e){if(Array.isArray(e))return e}function m$(e,t){if(e==null)return{};var r=Qwe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Qwe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Zwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jwe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,c9(a.key),a)}}function eNe(e,t,r){return t&&Jwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tNe(e,t,r){return t=Fy(t),nNe(e,o9()?Reflect.construct(t,r||[],Fy(e).constructor):t.apply(e,r))}function nNe(e,t){if(t&&(bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rNe(e)}function rNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o9=function(){return!!e})()}function Fy(e){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fy(e)}function aNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xC(e,t)}function xC(e,t){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},xC(e,t)}function wd(e){return oNe(e)||iNe(e)||l9(e)||sNe()}function sNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l9(e,t){if(e){if(typeof e=="string")return gC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gC(e,t)}}function iNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oNe(e){if(Array.isArray(e))return gC(e)}function gC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function p$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p$(Object(r),!0).forEach(function(a){St(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function St(e,t,r){return t=c9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c9(e){var t=lNe(e,"string");return bd(t)=="symbol"?t:t+""}function lNe(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(bd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cNe={xAxis:["bottom","top"],yAxis:["left","right"]},uNe={width:"100%",height:"100%"},u9={x:0,y:0};function ng(e){return e}var dNe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},fNe=function(t,r,a,s){var i=r.find(function(m){return m&&m.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,u=s.radius;return Oe(Oe(Oe({},s),Sn(s.cx,s.cy,u,l)),{},{angle:l,radius:u})}var d=i.coordinate,f=s.angle;return Oe(Oe(Oe({},s),Sn(s.cx,s.cy,d,f)),{},{angle:f,radius:d})}return u9},l0=function(t,r){var a=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,l=(a??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(wd(u),wd(f)):u},[]);return l.length>0?l:t&&t.length&&ze(s)&&ze(i)?t.slice(s,i+1):[]};function d9(e){return e==="number"?[0,"auto"]:void 0}var yC=function(t,r,a,s){var i=t.graphicalItems,l=t.tooltipAxis,u=l0(r,t);return a<0||!i||!i.length||a>=u.length?null:i.reduce(function(d,f){var m,p=(m=f.props.data)!==null&&m!==void 0?m:r;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var x;if(l.dataKey&&!l.allowDuplicatedCategory){var v=p===void 0?u:p;x=Fg(v,l.dataKey,s)}else x=p&&p[a]||u[a];return x?[].concat(wd(d),[GU(f,x)]):d},[])},x$=function(t,r,a,s){var i=s||{x:t.chartX,y:t.chartY},l=dNe(i,a),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,m=lpe(l,u,f,d);if(m>=0&&f){var p=f[m]&&f[m].value,x=yC(t,r,m,p),v=fNe(a,u,m,i);return{activeTooltipIndex:m,activeLabel:p,activePayload:x,activeCoordinate:v}}return null},hNe=function(t,r){var a=r.axes,s=r.graphicalItems,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,m=t.layout,p=t.children,x=t.stackOffset,v=BU(m,i);return a.reduce(function(j,y){var N,C=y.type.defaultProps!==void 0?Oe(Oe({},y.type.defaultProps),y.props):y.props,A=C.type,w=C.dataKey,S=C.allowDataOverflow,E=C.allowDuplicatedCategory,O=C.scale,M=C.ticks,R=C.includeHidden,I=C[l];if(j[I])return j;var V=l0(t.data,{graphicalItems:s.filter(function(z){var X,ee=l in z.props?z.props[l]:(X=z.type.defaultProps)===null||X===void 0?void 0:X[l];return ee===I}),dataStartIndex:d,dataEndIndex:f}),F=V.length,H,K,q;Fwe(C.domain,S,A)&&(H=TA(C.domain,null,S),v&&(A==="number"||O!=="auto")&&(q=Ch(V,w,"category")));var $=d9(A);if(!H||H.length===0){var k,D=(k=C.domain)!==null&&k!==void 0?k:$;if(w){if(H=Ch(V,w,A),A==="category"&&v){var P=Yie(H);E&&P?(K=H,H=Ny(0,F)):E||(H=dL(D,H,y).reduce(function(z,X){return z.indexOf(X)>=0?z:[].concat(wd(z),[X])},[]))}else if(A==="category")E?H=H.filter(function(z){return z!==""&&!bt(z)}):H=dL(D,H,y).reduce(function(z,X){return z.indexOf(X)>=0||X===""||bt(X)?z:[].concat(wd(z),[X])},[]);else if(A==="number"){var U=hpe(V,s.filter(function(z){var X,ee,je=l in z.props?z.props[l]:(X=z.type.defaultProps)===null||X===void 0?void 0:X[l],he="hide"in z.props?z.props.hide:(ee=z.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return je===I&&(R||!he)}),w,i,m);U&&(H=U)}v&&(A==="number"||O!=="auto")&&(q=Ch(V,w,"category"))}else v?H=Ny(0,F):u&&u[I]&&u[I].hasStack&&A==="number"?H=x==="expand"?[0,1]:WU(u[I].stackGroups,d,f):H=zU(V,s.filter(function(z){var X=l in z.props?z.props[l]:z.type.defaultProps[l],ee="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return X===I&&(R||!ee)}),A,m,!0);if(A==="number")H=pC(p,H,I,i,M),D&&(H=TA(D,H,S));else if(A==="category"&&D){var G=D,B=H.every(function(z){return G.indexOf(z)>=0});B&&(H=G)}}return Oe(Oe({},j),{},St({},I,Oe(Oe({},C),{},{axisType:i,domain:H,categoricalDomain:q,duplicateDomain:K,originalDomain:(N=C.domain)!==null&&N!==void 0?N:$,isCategorical:v,layout:m})))},{})},mNe=function(t,r){var a=r.graphicalItems,s=r.Axis,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,m=t.layout,p=t.children,x=l0(t.data,{graphicalItems:a,dataStartIndex:d,dataEndIndex:f}),v=x.length,j=BU(m,i),y=-1;return a.reduce(function(N,C){var A=C.type.defaultProps!==void 0?Oe(Oe({},C.type.defaultProps),C.props):C.props,w=A[l],S=d9("number");if(!N[w]){y++;var E;return j?E=Ny(0,v):u&&u[w]&&u[w].hasStack?(E=WU(u[w].stackGroups,d,f),E=pC(p,E,w,i)):(E=TA(S,zU(x,a.filter(function(O){var M,R,I=l in O.props?O.props[l]:(M=O.type.defaultProps)===null||M===void 0?void 0:M[l],V="hide"in O.props?O.props.hide:(R=O.type.defaultProps)===null||R===void 0?void 0:R.hide;return I===w&&!V}),"number",m),s.defaultProps.allowDataOverflow),E=pC(p,E,w,i)),Oe(Oe({},N),{},St({},w,Oe(Oe({axisType:i},s.defaultProps),{},{hide:!0,orientation:ka(cNe,"".concat(i,".").concat(y%2),null),domain:E,originalDomain:S,isCategorical:j,layout:m})))}return N},{})},pNe=function(t,r){var a=r.axisType,s=a===void 0?"xAxis":a,i=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,m=t.children,p="".concat(s,"Id"),x=ra(m,i),v={};return x&&x.length?v=hNe(t,{axes:x,graphicalItems:l,axisType:s,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(v=mNe(t,{Axis:i,graphicalItems:l,axisType:s,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),v},xNe=function(t){var r=$o(t),a=Oi(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:cE(a,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:uy(r,a)}},g$=function(t){var r=t.children,a=t.defaultShowTooltip,s=_a(r,cd),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},gNe=function(t){return!t||!t.length?!1:t.some(function(r){var a=Pi(r&&r.type);return a&&a.indexOf("Bar")>=0})},y$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},yNe=function(t,r){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,u=t.yAxisMap,d=u===void 0?{}:u,f=a.width,m=a.height,p=a.children,x=a.margin||{},v=_a(p,cd),j=_a(p,qr),y=Object.keys(d).reduce(function(E,O){var M=d[O],R=M.orientation;return!M.mirror&&!M.hide?Oe(Oe({},E),{},St({},R,E[R]+M.width)):E},{left:x.left||0,right:x.right||0}),N=Object.keys(l).reduce(function(E,O){var M=l[O],R=M.orientation;return!M.mirror&&!M.hide?Oe(Oe({},E),{},St({},R,ka(E,"".concat(R))+M.height)):E},{top:x.top||0,bottom:x.bottom||0}),C=Oe(Oe({},N),y),A=C.bottom;v&&(C.bottom+=v.props.height||cd.defaultProps.height),j&&r&&(C=dpe(C,s,a,r));var w=f-C.left-C.right,S=m-C.top-C.bottom;return Oe(Oe({brushBottom:A},C),{},{width:Math.max(w,0),height:Math.max(S,0)})},vNe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},rp=function(t){var r=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,m=t.formatAxisMap,p=t.defaultProps,x=function(C,A){var w=A.graphicalItems,S=A.stackGroups,E=A.offset,O=A.updateId,M=A.dataStartIndex,R=A.dataEndIndex,I=C.barSize,V=C.layout,F=C.barGap,H=C.barCategoryGap,K=C.maxBarSize,q=y$(V),$=q.numericAxisName,k=q.cateAxisName,D=gNe(w),P=[];return w.forEach(function(U,G){var B=l0(C.data,{graphicalItems:[U],dataStartIndex:M,dataEndIndex:R}),z=U.type.defaultProps!==void 0?Oe(Oe({},U.type.defaultProps),U.props):U.props,X=z.dataKey,ee=z.maxBarSize,je=z["".concat($,"Id")],he=z["".concat(k,"Id")],le={},ve=d.reduce(function(Cn,Ne){var Fe=A["".concat(Ne.axisType,"Map")],ut=z["".concat(Ne.axisType,"Id")];Fe&&Fe[ut]||Ne.axisType==="zAxis"||uc();var zt=Fe[ut];return Oe(Oe({},Cn),{},St(St({},Ne.axisType,zt),"".concat(Ne.axisType,"Ticks"),Oi(zt)))},le),xe=ve[k],_e=ve["".concat(k,"Ticks")],Ee=S&&S[je]&&S[je].hasStack&&wpe(U,S[je].stackGroups),me=Pi(U.type).indexOf("Bar")>=0,$e=uy(xe,_e),ue=[],Me=D&&cpe({barSize:I,stackGroups:S,totalSize:vNe(ve,k)});if(me){var Ze,ht,pe=bt(ee)?K:ee,vt=(Ze=(ht=uy(xe,_e,!0))!==null&&ht!==void 0?ht:pe)!==null&&Ze!==void 0?Ze:0;ue=upe({barGap:F,barCategoryGap:H,bandSize:vt!==$e?vt:$e,sizeList:Me[he],maxBarSize:pe}),vt!==$e&&(ue=ue.map(function(Cn){return Oe(Oe({},Cn),{},{position:Oe(Oe({},Cn.position),{},{offset:Cn.position.offset-vt/2})})}))}var Zt=U&&U.type&&U.type.getComposedData;Zt&&P.push({props:Oe(Oe({},Zt(Oe(Oe({},ve),{},{displayedData:B,props:C,dataKey:X,item:U,bandSize:$e,barPosition:ue,offset:E,stackedData:Ee,layout:V,dataStartIndex:M,dataEndIndex:R}))),{},St(St(St({key:U.key||"item-".concat(G)},$,ve[$]),k,ve[k]),"animationId",O)),childIndex:loe(U,C.children),item:U})}),P},v=function(C,A){var w=C.props,S=C.dataStartIndex,E=C.dataEndIndex,O=C.updateId;if(!AR({props:w}))return null;var M=w.children,R=w.layout,I=w.stackOffset,V=w.data,F=w.reverseStackOrder,H=y$(R),K=H.numericAxisName,q=H.cateAxisName,$=ra(M,a),k=jpe(V,$,"".concat(K,"Id"),"".concat(q,"Id"),I,F),D=d.reduce(function(z,X){var ee="".concat(X.axisType,"Map");return Oe(Oe({},z),{},St({},ee,pNe(w,Oe(Oe({},X),{},{graphicalItems:$,stackGroups:X.axisType===K&&k,dataStartIndex:S,dataEndIndex:E}))))},{}),P=yNe(Oe(Oe({},D),{},{props:w,graphicalItems:$}),A?.legendBBox);Object.keys(D).forEach(function(z){D[z]=m(w,D[z],P,z.replace("Map",""),r)});var U=D["".concat(q,"Map")],G=xNe(U),B=x(w,Oe(Oe({},D),{},{dataStartIndex:S,dataEndIndex:E,updateId:O,graphicalItems:$,stackGroups:k,offset:P}));return Oe(Oe({formattedGraphicalItems:B,graphicalItems:$,offset:P,stackGroups:k},G),D)},j=(function(N){function C(A){var w,S,E;return Zwe(this,C),E=tNe(this,C,[A]),St(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),St(E,"accessibilityManager",new $we),St(E,"handleLegendBBoxUpdate",function(O){if(O){var M=E.state,R=M.dataStartIndex,I=M.dataEndIndex,V=M.updateId;E.setState(Oe({legendBBox:O},v({props:E.props,dataStartIndex:R,dataEndIndex:I,updateId:V},Oe(Oe({},E.state),{},{legendBBox:O}))))}}),St(E,"handleReceiveSyncEvent",function(O,M,R){if(E.props.syncId===O){if(R===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(M)}}),St(E,"handleBrushChange",function(O){var M=O.startIndex,R=O.endIndex;if(M!==E.state.dataStartIndex||R!==E.state.dataEndIndex){var I=E.state.updateId;E.setState(function(){return Oe({dataStartIndex:M,dataEndIndex:R},v({props:E.props,dataStartIndex:M,dataEndIndex:R,updateId:I},E.state))}),E.triggerSyncEvent({dataStartIndex:M,dataEndIndex:R})}}),St(E,"handleMouseEnter",function(O){var M=E.getMouseInfo(O);if(M){var R=Oe(Oe({},M),{},{isTooltipActive:!0});E.setState(R),E.triggerSyncEvent(R);var I=E.props.onMouseEnter;Nt(I)&&I(R,O)}}),St(E,"triggeredAfterMouseMove",function(O){var M=E.getMouseInfo(O),R=M?Oe(Oe({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(R),E.triggerSyncEvent(R);var I=E.props.onMouseMove;Nt(I)&&I(R,O)}),St(E,"handleItemMouseEnter",function(O){E.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),St(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),St(E,"handleMouseMove",function(O){O.persist(),E.throttleTriggeredAfterMouseMove(O)}),St(E,"handleMouseLeave",function(O){E.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};E.setState(M),E.triggerSyncEvent(M);var R=E.props.onMouseLeave;Nt(R)&&R(M,O)}),St(E,"handleOuterEvent",function(O){var M=ooe(O),R=ka(E.props,"".concat(M));if(M&&Nt(R)){var I,V;/.*touch.*/i.test(M)?V=E.getMouseInfo(O.changedTouches[0]):V=E.getMouseInfo(O),R((I=V)!==null&&I!==void 0?I:{},O)}}),St(E,"handleClick",function(O){var M=E.getMouseInfo(O);if(M){var R=Oe(Oe({},M),{},{isTooltipActive:!0});E.setState(R),E.triggerSyncEvent(R);var I=E.props.onClick;Nt(I)&&I(R,O)}}),St(E,"handleMouseDown",function(O){var M=E.props.onMouseDown;if(Nt(M)){var R=E.getMouseInfo(O);M(R,O)}}),St(E,"handleMouseUp",function(O){var M=E.props.onMouseUp;if(Nt(M)){var R=E.getMouseInfo(O);M(R,O)}}),St(E,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),St(E,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.handleMouseDown(O.changedTouches[0])}),St(E,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.handleMouseUp(O.changedTouches[0])}),St(E,"handleDoubleClick",function(O){var M=E.props.onDoubleClick;if(Nt(M)){var R=E.getMouseInfo(O);M(R,O)}}),St(E,"handleContextMenu",function(O){var M=E.props.onContextMenu;if(Nt(M)){var R=E.getMouseInfo(O);M(R,O)}}),St(E,"triggerSyncEvent",function(O){E.props.syncId!==void 0&&c2.emit(u2,E.props.syncId,O,E.eventEmitterSymbol)}),St(E,"applySyncEvent",function(O){var M=E.props,R=M.layout,I=M.syncMethod,V=E.state.updateId,F=O.dataStartIndex,H=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)E.setState(Oe({dataStartIndex:F,dataEndIndex:H},v({props:E.props,dataStartIndex:F,dataEndIndex:H,updateId:V},E.state)));else if(O.activeTooltipIndex!==void 0){var K=O.chartX,q=O.chartY,$=O.activeTooltipIndex,k=E.state,D=k.offset,P=k.tooltipTicks;if(!D)return;if(typeof I=="function")$=I(P,O);else if(I==="value"){$=-1;for(var U=0;U<P.length;U++)if(P[U].value===O.activeLabel){$=U;break}}var G=Oe(Oe({},D),{},{x:D.left,y:D.top}),B=Math.min(K,G.x+G.width),z=Math.min(q,G.y+G.height),X=P[$]&&P[$].value,ee=yC(E.state,E.props.data,$),je=P[$]?{x:R==="horizontal"?P[$].coordinate:B,y:R==="horizontal"?z:P[$].coordinate}:u9;E.setState(Oe(Oe({},O),{},{activeLabel:X,activeCoordinate:je,activePayload:ee,activeTooltipIndex:$}))}else E.setState(O)}),St(E,"renderCursor",function(O){var M,R=E.state,I=R.isTooltipActive,V=R.activeCoordinate,F=R.activePayload,H=R.offset,K=R.activeTooltipIndex,q=R.tooltipAxisBandSize,$=E.getTooltipEventType(),k=(M=O.props.active)!==null&&M!==void 0?M:I,D=E.props.layout,P=O.key||"_recharts-cursor";return J.createElement(Kwe,{key:P,activeCoordinate:V,activePayload:F,activeTooltipIndex:K,chartName:r,element:O,isActive:k,layout:D,offset:H,tooltipAxisBandSize:q,tooltipEventType:$})}),St(E,"renderPolarAxis",function(O,M,R){var I=ka(O,"type.axisType"),V=ka(E.state,"".concat(I,"Map")),F=O.type.defaultProps,H=F!==void 0?Oe(Oe({},F),O.props):O.props,K=V&&V[H["".concat(I,"Id")]];return b.cloneElement(O,Oe(Oe({},K),{},{className:_t(I,K.className),key:O.key||"".concat(M,"-").concat(R),ticks:Oi(K,!0)}))}),St(E,"renderPolarGrid",function(O){var M=O.props,R=M.radialLines,I=M.polarAngles,V=M.polarRadius,F=E.state,H=F.radiusAxisMap,K=F.angleAxisMap,q=$o(H),$=$o(K),k=$.cx,D=$.cy,P=$.innerRadius,U=$.outerRadius;return b.cloneElement(O,{polarAngles:Array.isArray(I)?I:Oi($,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(V)?V:Oi(q,!0).map(function(G){return G.coordinate}),cx:k,cy:D,innerRadius:P,outerRadius:U,key:O.key||"polar-grid",radialLines:R})}),St(E,"renderLegend",function(){var O=E.state.formattedGraphicalItems,M=E.props,R=M.children,I=M.width,V=M.height,F=E.props.margin||{},H=I-(F.left||0)-(F.right||0),K=FU({children:R,formattedGraphicalItems:O,legendWidth:H,legendContent:f});if(!K)return null;var q=K.item,$=m$(K,Vwe);return b.cloneElement(q,Oe(Oe({},$),{},{chartWidth:I,chartHeight:V,margin:F,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),St(E,"renderTooltip",function(){var O,M=E.props,R=M.children,I=M.accessibilityLayer,V=_a(R,kn);if(!V)return null;var F=E.state,H=F.isTooltipActive,K=F.activeCoordinate,q=F.activePayload,$=F.activeLabel,k=F.offset,D=(O=V.props.active)!==null&&O!==void 0?O:H;return b.cloneElement(V,{viewBox:Oe(Oe({},k),{},{x:k.left,y:k.top}),active:D,label:$,payload:D?q:[],coordinate:K,accessibilityLayer:I})}),St(E,"renderBrush",function(O){var M=E.props,R=M.margin,I=M.data,V=E.state,F=V.offset,H=V.dataStartIndex,K=V.dataEndIndex,q=V.updateId;return b.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Qx(E.handleBrushChange,O.props.onChange),data:I,x:ze(O.props.x)?O.props.x:F.left,y:ze(O.props.y)?O.props.y:F.top+F.height+F.brushBottom-(R.bottom||0),width:ze(O.props.width)?O.props.width:F.width,startIndex:H,endIndex:K,updateId:"brush-".concat(q)})}),St(E,"renderReferenceElement",function(O,M,R){if(!O)return null;var I=E,V=I.clipPathId,F=E.state,H=F.xAxisMap,K=F.yAxisMap,q=F.offset,$=O.type.defaultProps||{},k=O.props,D=k.xAxisId,P=D===void 0?$.xAxisId:D,U=k.yAxisId,G=U===void 0?$.yAxisId:U;return b.cloneElement(O,{key:O.key||"".concat(M,"-").concat(R),xAxis:H[P],yAxis:K[G],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:V})}),St(E,"renderActivePoints",function(O){var M=O.item,R=O.activePoint,I=O.basePoint,V=O.childIndex,F=O.isRange,H=[],K=M.props.key,q=M.item.type.defaultProps!==void 0?Oe(Oe({},M.item.type.defaultProps),M.item.props):M.item.props,$=q.activeDot,k=q.dataKey,D=Oe(Oe({index:V,dataKey:k,cx:R.x,cy:R.y,r:4,fill:DE(M.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},pt($,!1)),qg($));return H.push(C.renderActiveDot($,D,"".concat(K,"-activePoint-").concat(V))),I?H.push(C.renderActiveDot($,Oe(Oe({},D),{},{cx:I.x,cy:I.y}),"".concat(K,"-basePoint-").concat(V))):F&&H.push(null),H}),St(E,"renderGraphicChild",function(O,M,R){var I=E.filterFormatItem(O,M,R);if(!I)return null;var V=E.getTooltipEventType(),F=E.state,H=F.isTooltipActive,K=F.tooltipAxis,q=F.activeTooltipIndex,$=F.activeLabel,k=E.props.children,D=_a(k,kn),P=I.props,U=P.points,G=P.isRange,B=P.baseLine,z=I.item.type.defaultProps!==void 0?Oe(Oe({},I.item.type.defaultProps),I.item.props):I.item.props,X=z.activeDot,ee=z.hide,je=z.activeBar,he=z.activeShape,le=!!(!ee&&H&&D&&(X||je||he)),ve={};V!=="axis"&&D&&D.props.trigger==="click"?ve={onClick:Qx(E.handleItemMouseEnter,O.props.onClick)}:V!=="axis"&&(ve={onMouseLeave:Qx(E.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Qx(E.handleItemMouseEnter,O.props.onMouseEnter)});var xe=b.cloneElement(O,Oe(Oe({},I.props),ve));function _e(Ne){return typeof K.dataKey=="function"?K.dataKey(Ne.payload):null}if(le)if(q>=0){var Ee,me;if(K.dataKey&&!K.allowDuplicatedCategory){var $e=typeof K.dataKey=="function"?_e:"payload.".concat(K.dataKey.toString());Ee=Fg(U,$e,$),me=G&&B&&Fg(B,$e,$)}else Ee=U?.[q],me=G&&B&&B[q];if(he||je){var ue=O.props.activeIndex!==void 0?O.props.activeIndex:q;return[b.cloneElement(O,Oe(Oe(Oe({},I.props),ve),{},{activeIndex:ue})),null,null]}if(!bt(Ee))return[xe].concat(wd(E.renderActivePoints({item:I,activePoint:Ee,basePoint:me,childIndex:q,isRange:G})))}else{var Me,Ze=(Me=E.getItemByXY(E.state.activeCoordinate))!==null&&Me!==void 0?Me:{graphicalItem:xe},ht=Ze.graphicalItem,pe=ht.item,vt=pe===void 0?O:pe,Zt=ht.childIndex,Cn=Oe(Oe(Oe({},I.props),ve),{},{activeIndex:Zt});return[b.cloneElement(vt,Cn),null,null]}return G?[xe,null,null]:[xe,null]}),St(E,"renderCustomized",function(O,M,R){return b.cloneElement(O,Oe(Oe({key:"recharts-customized-".concat(R)},E.props),E.state))}),St(E,"renderMap",{CartesianGrid:{handler:ng,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:ng},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:ng},YAxis:{handler:ng},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((w=A.id)!==null&&w!==void 0?w:ul("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=DB(E.triggeredAfterMouseMove,(S=A.throttleDelay)!==null&&S!==void 0?S:1e3/60),E.state={},E}return aNe(C,N),eNe(C,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,E=w.data,O=w.height,M=w.layout,R=_a(S,kn);if(R){var I=R.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,F=yC(this.state,E,I,V),H=this.state.tooltipTicks[I].coordinate,K=(this.state.offset.top+O)/2,q=M==="horizontal",$=q?{x:H,y:K}:{y:H,x:K},k=this.state.formattedGraphicalItems.find(function(P){var U=P.item;return U.type.name==="Scatter"});k&&($=Oe(Oe({},$),k.props.points[I].tooltipPosition),F=k.props.points[I].tooltipPayload);var D={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:V,activePayload:F,activeCoordinate:$};this.setState(D),this.renderCursor(R),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var E,O;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(w){X2([_a(w.children,kn)],[_a(this.props.children,kn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=_a(this.props.children,kn);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return u.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,E=S.getBoundingClientRect(),O=Gue(E),M={chartX:Math.round(w.pageX-O.left),chartY:Math.round(w.pageY-O.top)},R=E.width/S.offsetWidth||1,I=this.inRange(M.chartX,M.chartY,R);if(!I)return null;var V=this.state,F=V.xAxisMap,H=V.yAxisMap,K=this.getTooltipEventType(),q=x$(this.state,this.props.data,this.props.layout,I);if(K!=="axis"&&F&&H){var $=$o(F).scale,k=$o(H).scale,D=$&&$.invert?$.invert(M.chartX):null,P=k&&k.invert?k.invert(M.chartY):null;return Oe(Oe({},M),{},{xValue:D,yValue:P},q)}return q?Oe(Oe({},M),q):null}},{key:"inRange",value:function(w,S){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,M=w/E,R=S/E;if(O==="horizontal"||O==="vertical"){var I=this.state.offset,V=M>=I.left&&M<=I.left+I.width&&R>=I.top&&R<=I.top+I.height;return V?{x:M,y:R}:null}var F=this.state,H=F.angleAxisMap,K=F.radiusAxisMap;if(H&&K){var q=$o(H);return mL({x:M,y:R},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),E=_a(w,kn),O={};E&&S==="axis"&&(E.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=qg(this.props,this.handleOuterEvent);return Oe(Oe({},M),O)}},{key:"addListener",value:function(){c2.on(u2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){c2.removeListener(u2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,E){for(var O=this.state.formattedGraphicalItems,M=0,R=O.length;M<R;M++){var I=O[M];if(I.item===w||I.props.key===w.key||S===Pi(I.item.type)&&E===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,E=S.left,O=S.top,M=S.height,R=S.width;return J.createElement("defs",null,J.createElement("clipPath",{id:w},J.createElement("rect",{x:E,y:O,height:M,width:R})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,E){var O=h$(E,2),M=O[0],R=O[1];return Oe(Oe({},S),{},St({},M,R.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,E){var O=h$(E,2),M=O[0],R=O[1];return Oe(Oe({},S),{},St({},M,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,E=S.formattedGraphicalItems,O=S.activeItem;if(E&&E.length)for(var M=0,R=E.length;M<R;M++){var I=E[M],V=I.props,F=I.item,H=F.type.defaultProps!==void 0?Oe(Oe({},F.type.defaultProps),F.props):F.props,K=Pi(F.type);if(K==="Bar"){var q=(V.data||[]).find(function(P){return yye(w,P)});if(q)return{graphicalItem:I,payload:q}}else if(K==="RadialBar"){var $=(V.data||[]).find(function(P){return mL(w,P)});if($)return{graphicalItem:I,payload:$}}else if(Zv(I,O)||Jv(I,O)||pm(I,O)){var k=zve({graphicalItem:I,activeTooltipItem:O,itemData:H.data}),D=H.activeIndex===void 0?k:H.activeIndex;return{graphicalItem:Oe(Oe({},I),{},{childIndex:D}),payload:pm(I,O)?H.data[k]:I.props.data[k]}}}return null}},{key:"render",value:function(){var w=this;if(!AR(this))return null;var S=this.props,E=S.children,O=S.className,M=S.width,R=S.height,I=S.style,V=S.compact,F=S.title,H=S.desc,K=m$(S,Wwe),q=pt(K,!1);if(V)return J.createElement(H3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement(Z2,Du({},q,{width:M,height:R,title:F,desc:H}),this.renderClipPath(),_R(E,this.renderMap)));if(this.props.accessibilityLayer){var $,k;q.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,q.role=(k=this.props.role)!==null&&k!==void 0?k:"application",q.onKeyDown=function(P){w.accessibilityManager.keyboardEvent(P)},q.onFocus=function(){w.accessibilityManager.focus()}}var D=this.parseEventsOfWrapper();return J.createElement(H3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement("div",Du({className:_t("recharts-wrapper",O),style:Oe({position:"relative",cursor:"default",width:M,height:R},I)},D,{ref:function(U){w.container=U}}),J.createElement(Z2,Du({},q,{width:M,height:R,title:F,desc:H,style:uNe}),this.renderClipPath(),_R(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(b.Component);St(j,"displayName",r),St(j,"defaultProps",Oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),St(j,"getDerivedStateFromProps",function(N,C){var A=N.dataKey,w=N.data,S=N.children,E=N.width,O=N.height,M=N.layout,R=N.stackOffset,I=N.margin,V=C.dataStartIndex,F=C.dataEndIndex;if(C.updateId===void 0){var H=g$(N);return Oe(Oe(Oe({},H),{},{updateId:0},v(Oe(Oe({props:N},H),{},{updateId:0}),C)),{},{prevDataKey:A,prevData:w,prevWidth:E,prevHeight:O,prevLayout:M,prevStackOffset:R,prevMargin:I,prevChildren:S})}if(A!==C.prevDataKey||w!==C.prevData||E!==C.prevWidth||O!==C.prevHeight||M!==C.prevLayout||R!==C.prevStackOffset||!zu(I,C.prevMargin)){var K=g$(N),q={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},$=Oe(Oe({},x$(C,w,M)),{},{updateId:C.updateId+1}),k=Oe(Oe(Oe({},K),q),$);return Oe(Oe(Oe({},k),v(Oe({props:N},k),C)),{},{prevDataKey:A,prevData:w,prevWidth:E,prevHeight:O,prevLayout:M,prevStackOffset:R,prevMargin:I,prevChildren:S})}if(!X2(S,C.prevChildren)){var D,P,U,G,B=_a(S,cd),z=B&&(D=(P=B.props)===null||P===void 0?void 0:P.startIndex)!==null&&D!==void 0?D:V,X=B&&(U=(G=B.props)===null||G===void 0?void 0:G.endIndex)!==null&&U!==void 0?U:F,ee=z!==V||X!==F,je=!bt(w),he=je&&!ee?C.updateId:C.updateId+1;return Oe(Oe({updateId:he},v(Oe(Oe({props:N},C),{},{updateId:he,dataStartIndex:z,dataEndIndex:X}),C)),{},{prevChildren:S,dataStartIndex:z,dataEndIndex:X})}return null}),St(j,"renderActiveDot",function(N,C,A){var w;return b.isValidElement(N)?w=b.cloneElement(N,C):Nt(N)?w=N(C):w=J.createElement(np,C),J.createElement(Ot,{className:"recharts-active-dot",key:A},w)});var y=b.forwardRef(function(C,A){return J.createElement(j,Du({},C,{ref:A}))});return y.displayName=j.displayName,y},jNe=rp({chartName:"LineChart",GraphicalChild:Ui,axisComponents:[{axisType:"xAxis",AxisComp:zr},{axisType:"yAxis",AxisComp:Mr}],formatAxisMap:t0}),ml=rp({chartName:"BarChart",GraphicalChild:$n,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:zr},{axisType:"yAxis",AxisComp:Mr}],formatAxisMap:t0}),wm=rp({chartName:"PieChart",GraphicalChild:Ra,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Qv},{axisType:"radiusAxis",AxisComp:Yv}],formatAxisMap:kpe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),bNe=rp({chartName:"AreaChart",GraphicalChild:Pa,axisComponents:[{axisType:"xAxis",AxisComp:zr},{axisType:"yAxis",AxisComp:Mr}],formatAxisMap:t0}),wNe=rp({chartName:"ComposedChart",GraphicalChild:[Ui,Pa,$n,o0],axisComponents:[{axisType:"xAxis",AxisComp:zr},{axisType:"yAxis",AxisComp:Mr},{axisType:"zAxis",AxisComp:i0}],formatAxisMap:t0});function NNe(e,t=[]){let r=[];function a(i,l){const u=b.createContext(l);u.displayName=i+"Context";const d=r.length;r=[...r,l];const f=p=>{const{scope:x,children:v,...j}=p,y=x?.[e]?.[d]||u,N=b.useMemo(()=>j,Object.values(j));return n.jsx(y.Provider,{value:N,children:v})};f.displayName=i+"Provider";function m(p,x){const v=x?.[e]?.[d]||u,j=b.useContext(v);if(j)return j;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,m]}const s=()=>{const i=r.map(l=>b.createContext(l));return function(u){const d=u?.[e]||i;return b.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[a,SNe(s,...t)]}function SNe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=a.reduce((u,{useScope:d,scopeName:f})=>{const p=d(i)[`__scope${f}`];return{...u,...p}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var ANe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],f9=ANe.reduce((e,t)=>{const r=Bm(`Primitive.${t}`),a=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...u,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),VE="Progress",WE=100,[CNe]=NNe(VE),[_Ne,ENe]=CNe(VE),h9=b.forwardRef((e,t)=>{const{__scopeProgress:r,value:a=null,max:s,getValueLabel:i=TNe,...l}=e;(s||s===0)&&!v$(s)&&console.error(ONe(`${s}`,"Progress"));const u=v$(s)?s:WE;a!==null&&!j$(a,u)&&console.error(MNe(`${a}`,"Progress"));const d=j$(a,u)?a:null,f=qy(d)?i(d,u):void 0;return n.jsx(_Ne,{scope:r,value:d,max:u,children:n.jsx(f9.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":qy(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":x9(d,u),"data-value":d??void 0,"data-max":u,...l,ref:t})})});h9.displayName=VE;var m9="ProgressIndicator",p9=b.forwardRef((e,t)=>{const{__scopeProgress:r,...a}=e,s=ENe(m9,r);return n.jsx(f9.div,{"data-state":x9(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});p9.displayName=m9;function TNe(e,t){return`${Math.round(e/t*100)}%`}function x9(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function qy(e){return typeof e=="number"}function v$(e){return qy(e)&&!isNaN(e)&&e>0}function j$(e,t){return qy(e)&&!isNaN(e)&&e<=t&&e>=0}function ONe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${WE}\`.`}function MNe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${WE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var g9=h9,kNe=p9;const ur=b.forwardRef(({className:e,value:t,...r},a)=>n.jsx(g9,{ref:a,className:Je("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...r,children:n.jsx(kNe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ur.displayName=g9.displayName;function Nm(e,[t,r]){return Math.min(r,Math.max(t,e))}function PNe(e){const t=RNe(e),r=b.forwardRef((a,s)=>{const{children:i,...l}=a,u=b.Children.toArray(i),d=u.find(INe);if(d){const f=d.props.children,m=u.map(p=>p===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:p);return n.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,m):null})}return n.jsx(t,{...l,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function RNe(e){const t=b.forwardRef((r,a)=>{const{children:s,...i}=r;if(b.isValidElement(s)){const l=$Ne(s),u=LNe(i,s.props);return s.type!==b.Fragment&&(u.ref=a?Vi(a,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var DNe=Symbol("radix.slottable");function INe(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===DNe}function LNe(e,t){const r={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?r[a]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(r[a]=s):a==="style"?r[a]={...s,...i}:a==="className"&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function $Ne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function c0(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var FNe=[" ","Enter","ArrowUp","ArrowDown"],qNe=[" ","Enter"],fc="Select",[u0,d0,zNe]=Im(fc),[Jd]=Qr(fc,[zNe,Ud]),f0=Ud(),[BNe,pl]=Jd(fc),[UNe,HNe]=Jd(fc),y9=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:s,onOpenChange:i,value:l,defaultValue:u,onValueChange:d,dir:f,name:m,autoComplete:p,disabled:x,required:v,form:j}=e,y=f0(t),[N,C]=b.useState(null),[A,w]=b.useState(null),[S,E]=b.useState(!1),O=Hd(f),[M,R]=Cs({prop:a,defaultProp:s??!1,onChange:i,caller:fc}),[I,V]=Cs({prop:l,defaultProp:u,onChange:d,caller:fc}),F=b.useRef(null),H=N?j||!!N.closest("form"):!0,[K,q]=b.useState(new Set),$=Array.from(K).map(k=>k.props.value).join(";");return n.jsx(v8,{...y,children:n.jsxs(BNe,{required:v,scope:t,trigger:N,onTriggerChange:C,valueNode:A,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:Ns(),value:I,onValueChange:V,open:M,onOpenChange:R,dir:O,triggerPointerDownPosRef:F,disabled:x,children:[n.jsx(u0.Provider,{scope:t,children:n.jsx(UNe,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(k=>{q(D=>new Set(D).add(k))},[]),onNativeOptionRemove:b.useCallback(k=>{q(D=>{const P=new Set(D);return P.delete(k),P})},[]),children:r})}),H?n.jsxs(B9,{"aria-hidden":!0,required:v,tabIndex:-1,name:m,autoComplete:p,value:I,onChange:k=>V(k.target.value),disabled:x,form:j,children:[I===void 0?n.jsx("option",{value:""}):null,Array.from(K)]},$):null]})})};y9.displayName=fc;var v9="SelectTrigger",j9=b.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...s}=e,i=f0(r),l=pl(v9,r),u=l.disabled||a,d=At(t,l.onTriggerChange),f=d0(r),m=b.useRef("touch"),[p,x,v]=H9(y=>{const N=f().filter(w=>!w.disabled),C=N.find(w=>w.value===l.value),A=K9(N,y,C);A!==void 0&&l.onValueChange(A.value)}),j=y=>{u||(l.onOpenChange(!0),v()),y&&(l.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return n.jsx(x_,{asChild:!0,...i,children:n.jsx(dt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":U9(l.value)?"":void 0,...s,ref:d,onClick:Be(s.onClick,y=>{y.currentTarget.focus(),m.current!=="mouse"&&j(y)}),onPointerDown:Be(s.onPointerDown,y=>{m.current=y.pointerType;const N=y.target;N.hasPointerCapture(y.pointerId)&&N.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(j(y),y.preventDefault())}),onKeyDown:Be(s.onKeyDown,y=>{const N=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&x(y.key),!(N&&y.key===" ")&&FNe.includes(y.key)&&(j(),y.preventDefault())})})})});j9.displayName=v9;var b9="SelectValue",w9=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,children:i,placeholder:l="",...u}=e,d=pl(b9,r),{onValueNodeHasChildrenChange:f}=d,m=i!==void 0,p=At(t,d.onValueNodeChange);return Xn(()=>{f(m)},[f,m]),n.jsx(dt.span,{...u,ref:p,style:{pointerEvents:"none"},children:U9(d.value)?n.jsx(n.Fragment,{children:l}):i})});w9.displayName=b9;var KNe="SelectIcon",N9=b.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...s}=e;return n.jsx(dt.span,{"aria-hidden":!0,...s,ref:t,children:a||""})});N9.displayName=KNe;var VNe="SelectPortal",S9=e=>n.jsx(Dd,{asChild:!0,...e});S9.displayName=VNe;var hc="SelectContent",A9=b.forwardRef((e,t)=>{const r=pl(hc,e.__scopeSelect),[a,s]=b.useState();if(Xn(()=>{s(new DocumentFragment)},[]),!r.open){const i=a;return i?Pd.createPortal(n.jsx(C9,{scope:e.__scopeSelect,children:n.jsx(u0.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(_9,{...e,ref:t})});A9.displayName=hc;var hs=10,[C9,xl]=Jd(hc),WNe="SelectContentImpl",GNe=PNe("SelectContent.RemoveScroll"),_9=b.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:v,sticky:j,hideWhenDetached:y,avoidCollisions:N,...C}=e,A=pl(hc,r),[w,S]=b.useState(null),[E,O]=b.useState(null),M=At(t,le=>S(le)),[R,I]=b.useState(null),[V,F]=b.useState(null),H=d0(r),[K,q]=b.useState(!1),$=b.useRef(!1);b.useEffect(()=>{if(w)return __(w)},[w]),C_();const k=b.useCallback(le=>{const[ve,...xe]=H().map(me=>me.ref.current),[_e]=xe.slice(-1),Ee=document.activeElement;for(const me of le)if(me===Ee||(me?.scrollIntoView({block:"nearest"}),me===ve&&E&&(E.scrollTop=0),me===_e&&E&&(E.scrollTop=E.scrollHeight),me?.focus(),document.activeElement!==Ee))return},[H,E]),D=b.useCallback(()=>k([R,w]),[k,R,w]);b.useEffect(()=>{K&&D()},[K,D]);const{onOpenChange:P,triggerPointerDownPosRef:U}=A;b.useEffect(()=>{if(w){let le={x:0,y:0};const ve=_e=>{le={x:Math.abs(Math.round(_e.pageX)-(U.current?.x??0)),y:Math.abs(Math.round(_e.pageY)-(U.current?.y??0))}},xe=_e=>{le.x<=10&&le.y<=10?_e.preventDefault():w.contains(_e.target)||P(!1),document.removeEventListener("pointermove",ve),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",xe,{capture:!0})}}},[w,P,U]),b.useEffect(()=>{const le=()=>P(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[P]);const[G,B]=H9(le=>{const ve=H().filter(Ee=>!Ee.disabled),xe=ve.find(Ee=>Ee.ref.current===document.activeElement),_e=K9(ve,le,xe);_e&&setTimeout(()=>_e.ref.current.focus())}),z=b.useCallback((le,ve,xe)=>{const _e=!$.current&&!xe;(A.value!==void 0&&A.value===ve||_e)&&(I(le),_e&&($.current=!0))},[A.value]),X=b.useCallback(()=>w?.focus(),[w]),ee=b.useCallback((le,ve,xe)=>{const _e=!$.current&&!xe;(A.value!==void 0&&A.value===ve||_e)&&F(le)},[A.value]),je=a==="popper"?vC:E9,he=je===vC?{side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:v,sticky:j,hideWhenDetached:y,avoidCollisions:N}:{};return n.jsx(C9,{scope:r,content:w,viewport:E,onViewportChange:O,itemRefCallback:z,selectedItem:R,onItemLeave:X,itemTextRefCallback:ee,focusSelectedItem:D,selectedItemText:V,position:a,isPositioned:K,searchRef:G,children:n.jsx(yv,{as:GNe,allowPinchZoom:!0,children:n.jsx(xv,{asChild:!0,trapped:A.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Be(s,le=>{A.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:n.jsx(Rd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:n.jsx(je,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:le=>le.preventDefault(),...C,...he,onPlaced:()=>q(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Be(C.onKeyDown,le=>{const ve=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ve&&le.key.length===1&&B(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let _e=H().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(le.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Ee=le.target,me=_e.indexOf(Ee);_e=_e.slice(me+1)}setTimeout(()=>k(_e)),le.preventDefault()}})})})})})})});_9.displayName=WNe;var YNe="SelectItemAlignedPosition",E9=b.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...s}=e,i=pl(hc,r),l=xl(hc,r),[u,d]=b.useState(null),[f,m]=b.useState(null),p=At(t,M=>m(M)),x=d0(r),v=b.useRef(!1),j=b.useRef(!0),{viewport:y,selectedItem:N,selectedItemText:C,focusSelectedItem:A}=l,w=b.useCallback(()=>{if(i.trigger&&i.valueNode&&u&&f&&y&&N&&C){const M=i.trigger.getBoundingClientRect(),R=f.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),V=C.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=V.left-R.left,me=I.left-Ee,$e=M.left-me,ue=M.width+$e,Me=Math.max(ue,R.width),Ze=window.innerWidth-hs,ht=Nm(me,[hs,Math.max(hs,Ze-Me)]);u.style.minWidth=ue+"px",u.style.left=ht+"px"}else{const Ee=R.right-V.right,me=window.innerWidth-I.right-Ee,$e=window.innerWidth-M.right-me,ue=M.width+$e,Me=Math.max(ue,R.width),Ze=window.innerWidth-hs,ht=Nm(me,[hs,Math.max(hs,Ze-Me)]);u.style.minWidth=ue+"px",u.style.right=ht+"px"}const F=x(),H=window.innerHeight-hs*2,K=y.scrollHeight,q=window.getComputedStyle(f),$=parseInt(q.borderTopWidth,10),k=parseInt(q.paddingTop,10),D=parseInt(q.borderBottomWidth,10),P=parseInt(q.paddingBottom,10),U=$+k+K+P+D,G=Math.min(N.offsetHeight*5,U),B=window.getComputedStyle(y),z=parseInt(B.paddingTop,10),X=parseInt(B.paddingBottom,10),ee=M.top+M.height/2-hs,je=H-ee,he=N.offsetHeight/2,le=N.offsetTop+he,ve=$+k+le,xe=U-ve;if(ve<=ee){const Ee=F.length>0&&N===F[F.length-1].ref.current;u.style.bottom="0px";const me=f.clientHeight-y.offsetTop-y.offsetHeight,$e=Math.max(je,he+(Ee?X:0)+me+D),ue=ve+$e;u.style.height=ue+"px"}else{const Ee=F.length>0&&N===F[0].ref.current;u.style.top="0px";const $e=Math.max(ee,$+y.offsetTop+(Ee?z:0)+he)+xe;u.style.height=$e+"px",y.scrollTop=ve-ee+y.offsetTop}u.style.margin=`${hs}px 0`,u.style.minHeight=G+"px",u.style.maxHeight=H+"px",a?.(),requestAnimationFrame(()=>v.current=!0)}},[x,i.trigger,i.valueNode,u,f,y,N,C,i.dir,a]);Xn(()=>w(),[w]);const[S,E]=b.useState();Xn(()=>{f&&E(window.getComputedStyle(f).zIndex)},[f]);const O=b.useCallback(M=>{M&&j.current===!0&&(w(),A?.(),j.current=!1)},[w,A]);return n.jsx(QNe,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:v,onScrollButtonChange:O,children:n.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:n.jsx(dt.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});E9.displayName=YNe;var XNe="SelectPopperPosition",vC=b.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:s=hs,...i}=e,l=f0(r);return n.jsx(g_,{...l,...i,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vC.displayName=XNe;var[QNe,GE]=Jd(hc,{}),jC="SelectViewport",T9=b.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...s}=e,i=xl(jC,r),l=GE(jC,r),u=At(t,i.onViewportChange),d=b.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(u0.Slot,{scope:r,children:n.jsx(dt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Be(s.onScroll,f=>{const m=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:x}=l;if(x?.current&&p){const v=Math.abs(d.current-m.scrollTop);if(v>0){const j=window.innerHeight-hs*2,y=parseFloat(p.style.minHeight),N=parseFloat(p.style.height),C=Math.max(y,N);if(C<j){const A=C+v,w=Math.min(j,A),S=A-w;p.style.height=w+"px",p.style.bottom==="0px"&&(m.scrollTop=S>0?S:0,p.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});T9.displayName=jC;var O9="SelectGroup",[ZNe,JNe]=Jd(O9),e1e=b.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=Ns();return n.jsx(ZNe,{scope:r,id:s,children:n.jsx(dt.div,{role:"group","aria-labelledby":s,...a,ref:t})})});e1e.displayName=O9;var M9="SelectLabel",k9=b.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=JNe(M9,r);return n.jsx(dt.div,{id:s.id,...a,ref:t})});k9.displayName=M9;var zy="SelectItem",[t1e,P9]=Jd(zy),R9=b.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:s=!1,textValue:i,...l}=e,u=pl(zy,r),d=xl(zy,r),f=u.value===a,[m,p]=b.useState(i??""),[x,v]=b.useState(!1),j=At(t,A=>d.itemRefCallback?.(A,a,s)),y=Ns(),N=b.useRef("touch"),C=()=>{s||(u.onValueChange(a),u.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(t1e,{scope:r,value:a,disabled:s,textId:y,isSelected:f,onItemTextChange:b.useCallback(A=>{p(w=>w||(A?.textContent??"").trim())},[]),children:n.jsx(u0.ItemSlot,{scope:r,value:a,disabled:s,textValue:m,children:n.jsx(dt.div,{role:"option","aria-labelledby":y,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:j,onFocus:Be(l.onFocus,()=>v(!0)),onBlur:Be(l.onBlur,()=>v(!1)),onClick:Be(l.onClick,()=>{N.current!=="mouse"&&C()}),onPointerUp:Be(l.onPointerUp,()=>{N.current==="mouse"&&C()}),onPointerDown:Be(l.onPointerDown,A=>{N.current=A.pointerType}),onPointerMove:Be(l.onPointerMove,A=>{N.current=A.pointerType,s?d.onItemLeave?.():N.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Be(l.onPointerLeave,A=>{A.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Be(l.onKeyDown,A=>{d.searchRef?.current!==""&&A.key===" "||(qNe.includes(A.key)&&C(),A.key===" "&&A.preventDefault())})})})})});R9.displayName=zy;var yh="SelectItemText",D9=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,...i}=e,l=pl(yh,r),u=xl(yh,r),d=P9(yh,r),f=HNe(yh,r),[m,p]=b.useState(null),x=At(t,C=>p(C),d.onItemTextChange,C=>u.itemTextRefCallback?.(C,d.value,d.disabled)),v=m?.textContent,j=b.useMemo(()=>n.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:N}=f;return Xn(()=>(y(j),()=>N(j)),[y,N,j]),n.jsxs(n.Fragment,{children:[n.jsx(dt.span,{id:d.textId,...i,ref:x}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Pd.createPortal(i.children,l.valueNode):null]})});D9.displayName=yh;var I9="SelectItemIndicator",L9=b.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return P9(I9,r).isSelected?n.jsx(dt.span,{"aria-hidden":!0,...a,ref:t}):null});L9.displayName=I9;var bC="SelectScrollUpButton",$9=b.forwardRef((e,t)=>{const r=xl(bC,e.__scopeSelect),a=GE(bC,e.__scopeSelect),[s,i]=b.useState(!1),l=At(t,a.onScrollButtonChange);return Xn(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollTop>0;i(f)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?n.jsx(q9,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});$9.displayName=bC;var wC="SelectScrollDownButton",F9=b.forwardRef((e,t)=>{const r=xl(wC,e.__scopeSelect),a=GE(wC,e.__scopeSelect),[s,i]=b.useState(!1),l=At(t,a.onScrollButtonChange);return Xn(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;i(m)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?n.jsx(q9,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});F9.displayName=wC;var q9=b.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...s}=e,i=xl("SelectScrollButton",r),l=b.useRef(null),u=d0(r),d=b.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return b.useEffect(()=>()=>d(),[d]),Xn(()=>{u().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),n.jsx(dt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Be(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(a,50))}),onPointerMove:Be(s.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(a,50))}),onPointerLeave:Be(s.onPointerLeave,()=>{d()})})}),n1e="SelectSeparator",z9=b.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return n.jsx(dt.div,{"aria-hidden":!0,...a,ref:t})});z9.displayName=n1e;var NC="SelectArrow",r1e=b.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=f0(r),i=pl(NC,r),l=xl(NC,r);return i.open&&l.position==="popper"?n.jsx(y_,{...s,...a,ref:t}):null});r1e.displayName=NC;var a1e="SelectBubbleInput",B9=b.forwardRef(({__scopeSelect:e,value:t,...r},a)=>{const s=b.useRef(null),i=At(a,s),l=c0(t);return b.useEffect(()=>{const u=s.current;if(!u)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const p=new Event("change",{bubbles:!0});m.call(u,t),u.dispatchEvent(p)}},[l,t]),n.jsx(dt.select,{...r,style:{...lF,...r.style},ref:i,defaultValue:t})});B9.displayName=a1e;function U9(e){return e===""||e===void 0}function H9(e){const t=Gn(e),r=b.useRef(""),a=b.useRef(0),s=b.useCallback(l=>{const u=r.current+l;t(u),(function d(f){r.current=f,window.clearTimeout(a.current),f!==""&&(a.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),i=b.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,s,i]}function K9(e,t,r){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let l=s1e(e,Math.max(i,0));s.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function s1e(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var i1e=y9,V9=j9,o1e=w9,l1e=N9,c1e=S9,W9=A9,u1e=T9,G9=k9,Y9=R9,d1e=D9,f1e=L9,X9=$9,Q9=F9,Z9=z9;const Xe=i1e,Qe=o1e,Ge=b.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(V9,{ref:a,className:Je("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(l1e,{asChild:!0,children:n.jsx(av,{className:"h-4 w-4 opacity-50"})})]}));Ge.displayName=V9.displayName;const J9=b.forwardRef(({className:e,...t},r)=>n.jsx(X9,{ref:r,className:Je("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(eZ,{className:"h-4 w-4"})}));J9.displayName=X9.displayName;const e7=b.forwardRef(({className:e,...t},r)=>n.jsx(Q9,{ref:r,className:Je("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(av,{className:"h-4 w-4"})}));e7.displayName=Q9.displayName;const Ye=b.forwardRef(({className:e,children:t,position:r="popper",...a},s)=>n.jsx(c1e,{children:n.jsxs(W9,{ref:s,className:Je("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[n.jsx(J9,{}),n.jsx(u1e,{className:Je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(e7,{})]})}));Ye.displayName=W9.displayName;const h1e=b.forwardRef(({className:e,...t},r)=>n.jsx(G9,{ref:r,className:Je("px-2 py-1.5 text-sm font-semibold",e),...t}));h1e.displayName=G9.displayName;const ae=b.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(Y9,{ref:a,className:Je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(f1e,{children:n.jsx(Ld,{className:"h-4 w-4"})})}),n.jsx(d1e,{children:t})]}));ae.displayName=Y9.displayName;const m1e=b.forwardRef(({className:e,...t},r)=>n.jsx(Z9,{ref:r,className:Je("-mx-1 my-1 h-px bg-muted",e),...t}));m1e.displayName=Z9.displayName;function p1e(){const[e,t]=b.useState("week"),[r,a]=b.useState(null),s=b.useMemo(()=>{const C=A=>A===0?"12 AM":A<12?`${A} AM`:A===12?"12 PM":`${A-12} PM`;return Array.from({length:24},(A,w)=>{const S=w,E=(w+1)%24,O=C(S),M=C(E);return{value:String(S),label:`${O}  ${M}`}})},[]),i=C=>{t(C),C!=="today"&&a(null)},l=["/api/reports/enhanced-dashboard",e,r],u=new URLSearchParams;u.set("period",e),r!==null&&u.set("hour",r);const{data:d,isLoading:f}=Ie({queryKey:l,queryFn:async()=>{const C=await fetch(`/api/reports/enhanced-dashboard?${u.toString()}`);if(!C.ok)throw new Error("Failed to fetch stats");return C.json()},refetchInterval:3e4}),{data:m}=Ie({queryKey:["/api/messages",e,r],queryFn:async()=>{const C=await fetch(`/api/messages?${u.toString()}`);if(!C.ok)throw new Error("Failed to fetch messages");return C.json()}}),p=m?.slice(-5).reverse()||[];if(f)return n.jsx(ct,{children:n.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-8rem)]",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})})});const x=d?.dayWise||[],v=[{name:"AI Responses",value:d?.summary.totalAiResponses||0,color:"#3b82f6"},{name:"Human Responses",value:d?.summary.totalHumanResponses||0,color:"#22c55e"}],j=[{name:"Within 24h",value:d?.summary.windowCompliant||0,color:"#22c55e"},{name:"Outside 24h",value:d?.summary.windowNonCompliant||0,color:"#ef4444"}],y=C=>C>0?n.jsx(qQ,{className:"h-3 w-3 text-green-500"}):C<0?n.jsx(RQ,{className:"h-3 w-3 text-red-500"}):null,N=()=>{if(e==="today"&&r!==null)return`today at ${s.find(A=>A.value===r)?.label||r}`;switch(e){case"hour":return"in the last hour";case"today":return"today";case"today_hourly":return"today (hourly)";case"yesterday":return"yesterday";case"yesterday_hourly":return"yesterday (hourly)";case"week":return"this week";case"month":return"this month";case"year":return"this year";default:return"selected period"}};return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),n.jsxs("p",{className:"text-muted-foreground",children:["Complete overview of your messaging performance ",N(),"."]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(Xe,{value:e,onValueChange:i,children:[n.jsx(Ge,{className:"w-[180px]",children:n.jsx(Qe,{placeholder:"Select period"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"today",children:"Today"}),n.jsx(ae,{value:"yesterday",children:"Yesterday"}),n.jsx(ae,{value:"week",children:"Last 7 Days"}),n.jsx(ae,{value:"month",children:"Last 30 Days"}),n.jsx(ae,{value:"year",children:"Last Year"})]})]}),e==="today"&&n.jsxs(Xe,{value:r??void 0,onValueChange:C=>a(C),children:[n.jsx(Ge,{className:"w-[140px]",children:n.jsx(Qe,{placeholder:"Select hour"})}),n.jsx(Ye,{children:s.map(C=>n.jsx(ae,{value:C.value,children:C.label},C.value))})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(ki,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Activity Report"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(_i,{title:"Total Messages",value:d?.summary.totalMessages?.toLocaleString()||"0",icon:ki,trend:{value:d?.changes.messagesChange||0,label:"from previous period"}}),n.jsx(_i,{title:"Outbound Sent",value:d?.summary.outboundMessages?.toLocaleString()||"0",icon:nr,trend:{value:d?.changes.outboundChange||0,label:"from previous period"}}),n.jsx(_i,{title:"Inbound Received",value:d?.summary.inboundMessages?.toLocaleString()||"0",icon:Fk,trend:{value:0,label:"customer replies"}}),n.jsx(_i,{title:"Delivered",value:d?.summary.delivered?.toLocaleString()||"0",icon:Pn,trend:{value:d?.changes.deliveredChange||0,label:"from previous period"}})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(Ct,{className:"h-5 w-5 text-blue-500"}),n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"AI Report"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(Q,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"AI Responses"}),n.jsx(Ct,{className:"h-4 w-4 text-blue-500"})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d?.summary.totalAiResponses?.toLocaleString()||"0"}),n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[n.jsxs(Ae,{variant:"secondary",className:"text-xs",children:[d?.summary.aiPercentage||0,"% of outbound"]}),y(d?.changes.aiChange||0),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[d?.changes.aiChange||0,"%"]})]})]})]}),n.jsxs(Q,{className:"border-green-200 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Human Responses"}),n.jsx(rc,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d?.summary.totalHumanResponses?.toLocaleString()||"0"}),n.jsx("div",{className:"flex items-center gap-1 mt-1",children:n.jsxs(Ae,{variant:"secondary",className:"text-xs",children:[100-(d?.summary.aiPercentage||0),"% of outbound"]})})]})]}),n.jsxs(Q,{className:"border-emerald-200 bg-gradient-to-br from-emerald-50 to-white dark:from-emerald-950/20 dark:to-background",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"24h Window Compliant"}),n.jsx(tc,{className:"h-4 w-4 text-emerald-500"})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d?.summary.windowCompliant?.toLocaleString()||"0"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(ur,{value:d?.summary.windowComplianceRate||0,className:"h-2 flex-1"}),n.jsxs("span",{className:"text-sm font-medium text-emerald-600",children:[d?.summary.windowComplianceRate||0,"%"]})]})]})]}),n.jsxs(Q,{className:"border-purple-200 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"New Contacts"}),n.jsx(nc,{className:"h-4 w-4 text-purple-500"})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d?.summary.newContacts?.toLocaleString()||"0"}),n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[y(d?.changes.newContactsChange||0),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[d?.changes.newContactsChange||0,"% from previous period"]})]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(ks,{className:"h-5 w-5 text-green-500"}),n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Performance Report"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Delivery Rate"}),n.jsx(Pn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Z,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d?.summary.deliveryRate||0,"%"]}),n.jsx(ur,{value:d?.summary.deliveryRate||0,className:"h-2 mt-2"})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Read Rate"}),n.jsx(ma,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Z,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d?.summary.readRate||0,"%"]}),n.jsx(ur,{value:d?.summary.readRate||0,className:"h-2 mt-2"})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Active Contacts"}),n.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d?.summary.activeContacts?.toLocaleString()||"0"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Unique contacts this period"})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"AI Conversations"}),n.jsx(Ct,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d?.summary.aiConversations?.toLocaleString()||"0"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active agent assignments"})]})]})]}),n.jsxs(rr,{defaultValue:"activity",className:"space-y-4",children:[n.jsxs(Zn,{children:[n.jsx(lt,{value:"activity",children:"Message Activity"}),n.jsx(lt,{value:"ai-human",children:"AI vs Human"}),n.jsx(lt,{value:"window",children:"24h Window"})]}),n.jsx(ft,{value:"activity",className:"space-y-4",children:n.jsxs("div",{className:"grid gap-4 lg:grid-cols-7",children:[n.jsxs(Q,{className:"lg:col-span-4",children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Message Activity Over Time"}),n.jsx(Le,{children:"Daily breakdown of sent, delivered, and read messages."})]}),n.jsx(Z,{className:"pl-2",children:n.jsx("div",{className:"h-[350px]",children:n.jsx(Gr,{width:"100%",height:"100%",children:n.jsxs(wNe,{data:x,margin:{top:10,right:30,left:0,bottom:0},children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorSent",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorInbound",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]})]}),n.jsx(Ms,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),n.jsx(zr,{dataKey:"day",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(Mr,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"}}),n.jsx(qr,{}),n.jsx(Pa,{type:"monotone",dataKey:"sent",name:"Sent",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorSent)",strokeWidth:2}),n.jsx(Pa,{type:"monotone",dataKey:"inbound",name:"Inbound",stroke:"#22c55e",fillOpacity:1,fill:"url(#colorInbound)",strokeWidth:2}),n.jsx(Ui,{type:"monotone",dataKey:"delivered",name:"Delivered",stroke:"#f59e0b",strokeWidth:2,dot:!1}),n.jsx(Ui,{type:"monotone",dataKey:"read",name:"Read",stroke:"#8b5cf6",strokeWidth:2,dot:!1})]})})})})]}),n.jsxs(Q,{className:"lg:col-span-3",children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Recent Activity"}),n.jsx(Le,{children:"Latest message interactions"})]}),n.jsx(Z,{children:n.jsx("div",{className:"space-y-4",children:p.length>0?p.map((C,A)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`h-9 w-9 rounded-full flex items-center justify-center ${C.direction==="inbound"?"bg-green-100 text-green-600":C.agentId?"bg-blue-100 text-blue-600":"bg-primary/10 text-primary"}`,children:C.direction==="inbound"?n.jsx(Fk,{className:"h-4 w-4"}):C.agentId?n.jsx(Ct,{className:"h-4 w-4"}):n.jsx(nr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1 space-y-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium leading-none truncate",children:C.direction==="inbound"?"Message received":C.agentId?"AI response sent":"Message sent"}),n.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[C.content?.substring(0,40),"..."]})]}),n.jsx("div",{className:"text-xs text-muted-foreground whitespace-nowrap",children:new Date(C.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},C.id||A)):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ki,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No recent messages"})]})})})]})]})}),n.jsx(ft,{value:"ai-human",className:"space-y-4",children:n.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"AI vs Human Responses"}),n.jsx(Le,{children:"Distribution of automated vs manual responses"})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"h-[300px]",children:n.jsx(Gr,{width:"100%",height:"100%",children:n.jsxs(wm,{children:[n.jsx(Ra,{data:v,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",label:({name:C,percent:A})=>`${C}: ${(A*100).toFixed(0)}%`,children:v.map((C,A)=>n.jsx(Xs,{fill:C.color},`cell-${A}`))}),n.jsx(kn,{})]})})}),n.jsxs("div",{className:"flex justify-center gap-6 mt-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500"}),n.jsxs("span",{className:"text-sm",children:["AI: ",d?.summary.totalAiResponses||0]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"}),n.jsxs("span",{className:"text-sm",children:["Human: ",d?.summary.totalHumanResponses||0]})]})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"AI vs Human by Day"}),n.jsx(Le,{children:"Daily breakdown of response sources"})]}),n.jsx(Z,{children:n.jsx("div",{className:"h-[300px]",children:n.jsx(Gr,{width:"100%",height:"100%",children:n.jsxs(ml,{data:x,children:[n.jsx(Ms,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),n.jsx(zr,{dataKey:"day",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(Mr,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"}}),n.jsx(qr,{}),n.jsx($n,{dataKey:"ai",name:"AI Responses",fill:"#3b82f6",stackId:"a",radius:[0,0,0,0]}),n.jsx($n,{dataKey:"human",name:"Human Responses",fill:"#22c55e",stackId:"a",radius:[4,4,0,0]})]})})})})]})]})}),n.jsx(ft,{value:"window",className:"space-y-4",children:n.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"24-Hour Window Compliance"}),n.jsx(Le,{children:"Messages sent within vs outside the 24-hour reply window"})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"h-[300px]",children:n.jsx(Gr,{width:"100%",height:"100%",children:n.jsxs(wm,{children:[n.jsx(Ra,{data:j,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",label:({name:C,percent:A})=>`${C}: ${(A*100).toFixed(0)}%`,children:j.map((C,A)=>n.jsx(Xs,{fill:C.color},`cell-${A}`))}),n.jsx(kn,{})]})})}),n.jsxs("div",{className:"flex justify-center gap-6 mt-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"}),n.jsxs("span",{className:"text-sm",children:["Compliant: ",d?.summary.windowCompliant||0]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500"}),n.jsxs("span",{className:"text-sm",children:["Non-Compliant: ",d?.summary.windowNonCompliant||0]})]})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Window Compliance Details"}),n.jsx(Le,{children:"Breakdown of messages within the 24-hour window"})]}),n.jsxs(Z,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Overall Compliance Rate"}),n.jsxs("span",{className:"text-2xl font-bold text-emerald-600",children:[d?.summary.windowComplianceRate||0,"%"]})]}),n.jsx(ur,{value:d?.summary.windowComplianceRate||0,className:"h-3"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-1 p-4 rounded-lg bg-blue-50 dark:bg-blue-950/30",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4 text-blue-500"}),n.jsx("span",{className:"text-sm font-medium",children:"AI in Window"})]}),n.jsx("p",{className:"text-2xl font-bold",children:d?.summary.aiInWindow||0})]}),n.jsxs("div",{className:"space-y-1 p-4 rounded-lg bg-green-50 dark:bg-green-950/30",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rc,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Human in Window"})]}),n.jsx("p",{className:"text-2xl font-bold",children:d?.summary.humanInWindow||0})]})]}),n.jsx("div",{className:"p-4 rounded-lg border bg-muted/50",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ht,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"WhatsApp 24-Hour Window"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Messages sent within 24 hours of the last customer message can be free-form. Messages sent outside this window require approved templates."})]})]})})]})]})]})})]})]})})}function x1e(e,t){return b.useReducer((r,a)=>t[r][a]??r,e)}var YE="ScrollArea",[t7]=Qr(YE),[g1e,is]=t7(YE),n7=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:s,scrollHideDelay:i=600,...l}=e,[u,d]=b.useState(null),[f,m]=b.useState(null),[p,x]=b.useState(null),[v,j]=b.useState(null),[y,N]=b.useState(null),[C,A]=b.useState(0),[w,S]=b.useState(0),[E,O]=b.useState(!1),[M,R]=b.useState(!1),I=At(t,F=>d(F)),V=Hd(s);return n.jsx(g1e,{scope:r,type:a,dir:V,scrollHideDelay:i,scrollArea:u,viewport:f,onViewportChange:m,content:p,onContentChange:x,scrollbarX:v,onScrollbarXChange:j,scrollbarXEnabled:E,onScrollbarXEnabledChange:O,scrollbarY:y,onScrollbarYChange:N,scrollbarYEnabled:M,onScrollbarYEnabledChange:R,onCornerWidthChange:A,onCornerHeightChange:S,children:n.jsx(dt.div,{dir:V,...l,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});n7.displayName=YE;var r7="ScrollAreaViewport",a7=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,nonce:s,...i}=e,l=is(r7,r),u=b.useRef(null),d=At(t,u,l.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(dt.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});a7.displayName=r7;var ni="ScrollAreaScrollbar",XE=b.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=is(ni,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=s,u=e.orientation==="horizontal";return b.useEffect(()=>(u?i(!0):l(!0),()=>{u?i(!1):l(!1)}),[u,i,l]),s.type==="hover"?n.jsx(y1e,{...a,ref:t,forceMount:r}):s.type==="scroll"?n.jsx(v1e,{...a,ref:t,forceMount:r}):s.type==="auto"?n.jsx(s7,{...a,ref:t,forceMount:r}):s.type==="always"?n.jsx(QE,{...a,ref:t}):null});XE.displayName=ni;var y1e=b.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=is(ni,e.__scopeScrollArea),[i,l]=b.useState(!1);return b.useEffect(()=>{const u=s.scrollArea;let d=0;if(u){const f=()=>{window.clearTimeout(d),l(!0)},m=()=>{d=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",m)}}},[s.scrollArea,s.scrollHideDelay]),n.jsx(kr,{present:r||i,children:n.jsx(s7,{"data-state":i?"visible":"hidden",...a,ref:t})})}),v1e=b.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=is(ni,e.__scopeScrollArea),i=e.orientation==="horizontal",l=m0(()=>d("SCROLL_END"),100),[u,d]=x1e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>d("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,s.scrollHideDelay,d]),b.useEffect(()=>{const f=s.viewport,m=i?"scrollLeft":"scrollTop";if(f){let p=f[m];const x=()=>{const v=f[m];p!==v&&(d("SCROLL"),l()),p=v};return f.addEventListener("scroll",x),()=>f.removeEventListener("scroll",x)}},[s.viewport,i,d,l]),n.jsx(kr,{present:r||u!=="hidden",children:n.jsx(QE,{"data-state":u==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:Be(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Be(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),s7=b.forwardRef((e,t)=>{const r=is(ni,e.__scopeScrollArea),{forceMount:a,...s}=e,[i,l]=b.useState(!1),u=e.orientation==="horizontal",d=m0(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,m=r.viewport.offsetHeight<r.viewport.scrollHeight;l(u?f:m)}},10);return Nd(r.viewport,d),Nd(r.content,d),n.jsx(kr,{present:a||i,children:n.jsx(QE,{"data-state":i?"visible":"hidden",...s,ref:t})})}),QE=b.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,s=is(ni,e.__scopeScrollArea),i=b.useRef(null),l=b.useRef(0),[u,d]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=u7(u.viewport,u.content),m={...a,sizes:u,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:x=>i.current=x,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:x=>l.current=x};function p(x,v){return A1e(x,l.current,u,v)}return r==="horizontal"?n.jsx(j1e,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const x=s.viewport.scrollLeft,v=b$(x,u,s.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:x=>{s.viewport&&(s.viewport.scrollLeft=x)},onDragScroll:x=>{s.viewport&&(s.viewport.scrollLeft=p(x,s.dir))}}):r==="vertical"?n.jsx(b1e,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const x=s.viewport.scrollTop,v=b$(x,u);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:x=>{s.viewport&&(s.viewport.scrollTop=x)},onDragScroll:x=>{s.viewport&&(s.viewport.scrollTop=p(x))}}):null}),j1e=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...s}=e,i=is(ni,e.__scopeScrollArea),[l,u]=b.useState(),d=b.useRef(null),f=At(t,d,i.onScrollbarXChange);return b.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),n.jsx(o7,{"data-orientation":"horizontal",...s,ref:f,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":h0(r)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,p)=>{if(i.viewport){const x=i.viewport.scrollLeft+m.deltaX;e.onWheelScroll(x),f7(x,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Uy(l.paddingLeft),paddingEnd:Uy(l.paddingRight)}})}})}),b1e=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...s}=e,i=is(ni,e.__scopeScrollArea),[l,u]=b.useState(),d=b.useRef(null),f=At(t,d,i.onScrollbarYChange);return b.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),n.jsx(o7,{"data-orientation":"vertical",...s,ref:f,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":h0(r)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,p)=>{if(i.viewport){const x=i.viewport.scrollTop+m.deltaY;e.onWheelScroll(x),f7(x,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Uy(l.paddingTop),paddingEnd:Uy(l.paddingBottom)}})}})}),[w1e,i7]=t7(ni),o7=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:s,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:m,onResize:p,...x}=e,v=is(ni,r),[j,y]=b.useState(null),N=At(t,I=>y(I)),C=b.useRef(null),A=b.useRef(""),w=v.viewport,S=a.content-a.viewport,E=Gn(m),O=Gn(d),M=m0(p,10);function R(I){if(C.current){const V=I.clientX-C.current.left,F=I.clientY-C.current.top;f({x:V,y:F})}}return b.useEffect(()=>{const I=V=>{const F=V.target;j?.contains(F)&&E(V,S)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[w,j,S,E]),b.useEffect(O,[a,O]),Nd(j,M),Nd(v.content,M),n.jsx(w1e,{scope:r,scrollbar:j,hasThumb:s,onThumbChange:Gn(i),onThumbPointerUp:Gn(l),onThumbPositionChange:O,onThumbPointerDown:Gn(u),children:n.jsx(dt.div,{...x,ref:N,style:{position:"absolute",...x.style},onPointerDown:Be(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),C.current=j.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),R(I))}),onPointerMove:Be(e.onPointerMove,R),onPointerUp:Be(e.onPointerUp,I=>{const V=I.target;V.hasPointerCapture(I.pointerId)&&V.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=A.current,v.viewport&&(v.viewport.style.scrollBehavior=""),C.current=null})})})}),By="ScrollAreaThumb",l7=b.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=i7(By,e.__scopeScrollArea);return n.jsx(kr,{present:r||s.hasThumb,children:n.jsx(N1e,{ref:t,...a})})}),N1e=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...s}=e,i=is(By,r),l=i7(By,r),{onThumbPositionChange:u}=l,d=At(t,p=>l.onThumbChange(p)),f=b.useRef(void 0),m=m0(()=>{f.current&&(f.current(),f.current=void 0)},100);return b.useEffect(()=>{const p=i.viewport;if(p){const x=()=>{if(m(),!f.current){const v=C1e(p,u);f.current=v,u()}};return u(),p.addEventListener("scroll",x),()=>p.removeEventListener("scroll",x)}},[i.viewport,m,u]),n.jsx(dt.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:Be(e.onPointerDownCapture,p=>{const v=p.target.getBoundingClientRect(),j=p.clientX-v.left,y=p.clientY-v.top;l.onThumbPointerDown({x:j,y})}),onPointerUp:Be(e.onPointerUp,l.onThumbPointerUp)})});l7.displayName=By;var ZE="ScrollAreaCorner",c7=b.forwardRef((e,t)=>{const r=is(ZE,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?n.jsx(S1e,{...e,ref:t}):null});c7.displayName=ZE;var S1e=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,s=is(ZE,r),[i,l]=b.useState(0),[u,d]=b.useState(0),f=!!(i&&u);return Nd(s.scrollbarX,()=>{const m=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(m),d(m)}),Nd(s.scrollbarY,()=>{const m=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(m),l(m)}),f?n.jsx(dt.div,{...a,ref:t,style:{width:i,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Uy(e){return e?parseInt(e,10):0}function u7(e,t){const r=e/t;return isNaN(r)?0:r}function h0(e){const t=u7(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function A1e(e,t,r,a="ltr"){const s=h0(r),i=s/2,l=t||i,u=s-l,d=r.scrollbar.paddingStart+l,f=r.scrollbar.size-r.scrollbar.paddingEnd-u,m=r.content-r.viewport,p=a==="ltr"?[0,m]:[m*-1,0];return d7([d,f],p)(e)}function b$(e,t,r="ltr"){const a=h0(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,l=t.content-t.viewport,u=i-a,d=r==="ltr"?[0,l]:[l*-1,0],f=Nm(e,d);return d7([0,l],[0,u])(f)}function d7(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function f7(e,t){return e>0&&e<t}var C1e=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return(function s(){const i={left:e.scrollLeft,top:e.scrollTop},l=r.left!==i.left,u=r.top!==i.top;(l||u)&&t(),r=i,a=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(a)};function m0(e,t){const r=Gn(e),a=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(a.current),[]),b.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function Nd(e,t){const r=Gn(t);Xn(()=>{let a=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(a),s.unobserve(e)}}},[e,r])}var h7=n7,_1e=a7,E1e=c7;const as=b.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(h7,{ref:a,className:Je("relative overflow-hidden",e),...r,children:[n.jsx(_1e,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(m7,{}),n.jsx(E1e,{})]}));as.displayName=h7.displayName;const m7=b.forwardRef(({className:e,orientation:t="vertical",...r},a)=>n.jsx(XE,{ref:a,orientation:t,className:Je("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(l7,{className:"relative flex-1 rounded-full bg-border"})}));m7.displayName=XE.displayName;var p0="Checkbox",[T1e]=Qr(p0),[O1e,JE]=T1e(p0);function M1e(e){const{__scopeCheckbox:t,checked:r,children:a,defaultChecked:s,disabled:i,form:l,name:u,onCheckedChange:d,required:f,value:m="on",internal_do_not_use_render:p}=e,[x,v]=Cs({prop:r,defaultProp:s??!1,onChange:d,caller:p0}),[j,y]=b.useState(null),[N,C]=b.useState(null),A=b.useRef(!1),w=j?!!l||!!j.closest("form"):!0,S={checked:x,disabled:i,setChecked:v,control:j,setControl:y,name:u,form:l,value:m,hasConsumerStoppedPropagationRef:A,required:f,defaultChecked:Qo(s)?!1:s,isFormControl:w,bubbleInput:N,setBubbleInput:C};return n.jsx(O1e,{scope:t,...S,children:k1e(p)?p(S):a})}var p7="CheckboxTrigger",x7=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},s)=>{const{control:i,value:l,disabled:u,checked:d,required:f,setControl:m,setChecked:p,hasConsumerStoppedPropagationRef:x,isFormControl:v,bubbleInput:j}=JE(p7,e),y=At(s,m),N=b.useRef(d);return b.useEffect(()=>{const C=i?.form;if(C){const A=()=>p(N.current);return C.addEventListener("reset",A),()=>C.removeEventListener("reset",A)}},[i,p]),n.jsx(dt.button,{type:"button",role:"checkbox","aria-checked":Qo(d)?"mixed":d,"aria-required":f,"data-state":b7(d),"data-disabled":u?"":void 0,disabled:u,value:l,...a,ref:y,onKeyDown:Be(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:Be(r,C=>{p(A=>Qo(A)?!0:!A),j&&v&&(x.current=C.isPropagationStopped(),x.current||C.stopPropagation())})})});x7.displayName=p7;var eT=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:s,defaultChecked:i,required:l,disabled:u,value:d,onCheckedChange:f,form:m,...p}=e;return n.jsx(M1e,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:u,required:l,onCheckedChange:f,name:a,form:m,value:d,internal_do_not_use_render:({isFormControl:x})=>n.jsxs(n.Fragment,{children:[n.jsx(x7,{...p,ref:t,__scopeCheckbox:r}),x&&n.jsx(j7,{__scopeCheckbox:r})]})})});eT.displayName=p0;var g7="CheckboxIndicator",y7=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...s}=e,i=JE(g7,r);return n.jsx(kr,{present:a||Qo(i.checked)||i.checked===!0,children:n.jsx(dt.span,{"data-state":b7(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});y7.displayName=g7;var v7="CheckboxBubbleInput",j7=b.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:a,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:l,required:u,disabled:d,name:f,value:m,form:p,bubbleInput:x,setBubbleInput:v}=JE(v7,e),j=At(r,v),y=c0(i),N=fv(a);b.useEffect(()=>{const A=x;if(!A)return;const w=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(w,"checked").set,O=!s.current;if(y!==i&&E){const M=new Event("click",{bubbles:O});A.indeterminate=Qo(i),E.call(A,Qo(i)?!1:i),A.dispatchEvent(M)}},[x,y,i,s]);const C=b.useRef(Qo(i)?!1:i);return n.jsx(dt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??C.current,required:u,disabled:d,name:f,value:m,form:p,...t,tabIndex:-1,ref:j,style:{...t.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});j7.displayName=v7;function k1e(e){return typeof e=="function"}function Qo(e){return e==="indeterminate"}function b7(e){return Qo(e)?"indeterminate":e?"checked":"unchecked"}const Wn=b.forwardRef(({className:e,...t},r)=>n.jsx(eT,{ref:r,className:Je("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(y7,{className:Je("grid place-content-center text-current"),children:n.jsx(Ld,{className:"h-4 w-4"})})}));Wn.displayName=eT.displayName;const $t=$_,Xr=F_,P1e=q_,w7=b.forwardRef(({className:e,...t},r)=>n.jsx(Vm,{ref:r,className:Je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));w7.displayName=Vm.displayName;const kt=b.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(P1e,{children:[n.jsx(w7,{}),n.jsxs(Wm,{ref:a,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(Nv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Wi,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));kt.displayName=Wm.displayName;const Pt=({className:e,...t})=>n.jsx("div",{className:Je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Pt.displayName="DialogHeader";const Kt=({className:e,...t})=>n.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Kt.displayName="DialogFooter";const Rt=b.forwardRef(({className:e,...t},r)=>n.jsx(Gm,{ref:r,className:Je("text-lg font-semibold leading-none tracking-tight",e),...t}));Rt.displayName=Gm.displayName;const Dn=b.forwardRef(({className:e,...t},r)=>n.jsx(Ym,{ref:r,className:Je("text-sm text-muted-foreground",e),...t}));Dn.displayName=Ym.displayName;const cn=b.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:Je("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));cn.displayName="Textarea";var R1e=Symbol("radix.slottable");function D1e(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=R1e,t}var N7="AlertDialog",[I1e]=Qr(N7,[hz]),Ji=hz(),S7=e=>{const{__scopeAlertDialog:t,...r}=e,a=Ji(t);return n.jsx($_,{...a,...r,modal:!0})};S7.displayName=N7;var L1e="AlertDialogTrigger",$1e=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Ji(r);return n.jsx(F_,{...s,...a,ref:t})});$1e.displayName=L1e;var F1e="AlertDialogPortal",A7=e=>{const{__scopeAlertDialog:t,...r}=e,a=Ji(t);return n.jsx(q_,{...a,...r})};A7.displayName=F1e;var q1e="AlertDialogOverlay",C7=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Ji(r);return n.jsx(Vm,{...s,...a,ref:t})});C7.displayName=q1e;var Hu="AlertDialogContent",[z1e,B1e]=I1e(Hu),U1e=D1e("AlertDialogContent"),_7=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...s}=e,i=Ji(r),l=b.useRef(null),u=At(t,l),d=b.useRef(null);return n.jsx(Hse,{contentName:Hu,titleName:E7,docsSlug:"alert-dialog",children:n.jsx(z1e,{scope:r,cancelRef:d,children:n.jsxs(Wm,{role:"alertdialog",...i,...s,ref:u,onOpenAutoFocus:Be(s.onOpenAutoFocus,f=>{f.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[n.jsx(U1e,{children:a}),n.jsx(K1e,{contentRef:l})]})})})});_7.displayName=Hu;var E7="AlertDialogTitle",T7=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Ji(r);return n.jsx(Gm,{...s,...a,ref:t})});T7.displayName=E7;var O7="AlertDialogDescription",M7=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Ji(r);return n.jsx(Ym,{...s,...a,ref:t})});M7.displayName=O7;var H1e="AlertDialogAction",k7=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=Ji(r);return n.jsx(Nv,{...s,...a,ref:t})});k7.displayName=H1e;var P7="AlertDialogCancel",R7=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:s}=B1e(P7,r),i=Ji(r),l=At(t,s);return n.jsx(Nv,{...i,...a,ref:l})});R7.displayName=P7;var K1e=({contentRef:e})=>{const t=`\`${Hu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hu}\` by passing a \`${O7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},V1e=S7,W1e=A7,D7=C7,I7=_7,L7=k7,$7=R7,F7=T7,q7=M7;const Sd=V1e,G1e=W1e,z7=b.forwardRef(({className:e,...t},r)=>n.jsx(D7,{className:Je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));z7.displayName=D7.displayName;const mc=b.forwardRef(({className:e,...t},r)=>n.jsxs(G1e,{children:[n.jsx(z7,{}),n.jsx(I7,{ref:r,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));mc.displayName=I7.displayName;const pc=({className:e,...t})=>n.jsx("div",{className:Je("flex flex-col space-y-2 text-center sm:text-left",e),...t});pc.displayName="AlertDialogHeader";const xc=({className:e,...t})=>n.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});xc.displayName="AlertDialogFooter";const gc=b.forwardRef(({className:e,...t},r)=>n.jsx(F7,{ref:r,className:Je("text-lg font-semibold",e),...t}));gc.displayName=F7.displayName;const yc=b.forwardRef(({className:e,...t},r)=>n.jsx(q7,{ref:r,className:Je("text-sm text-muted-foreground",e),...t}));yc.displayName=q7.displayName;const vc=b.forwardRef(({className:e,...t},r)=>n.jsx(L7,{ref:r,className:Je(b_(),e),...t}));vc.displayName=L7.displayName;const jc=b.forwardRef(({className:e,...t},r)=>n.jsx($7,{ref:r,className:Je(b_({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));jc.displayName=$7.displayName;function w$(e){return e.replace(/\D/g,"")}async function f2(e,t,r=!1){try{const a=await fetch(`/api/webhook/whatsapp/media/${e}`,{headers:Ke()});if(!a.ok)throw new Error("Failed to download media");const s=await a.blob(),i=URL.createObjectURL(s);if(r)window.open(i,"_blank");else{const l=document.createElement("a");l.href=i,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l)}setTimeout(()=>URL.revokeObjectURL(i),1e3)}catch(a){console.error("Media download error:",a),re.error("Failed to download file. Please try again.")}}function Y1e(){const[e,t]=b.useState(null),[r,a]=b.useState(""),[s,i]=b.useState(""),[l,u]=b.useState("all"),[d,f]=b.useState([]),[m,p]=b.useState(!1),[x,v]=b.useState("template"),[j,y]=b.useState(""),[N,C]=b.useState(""),[A,w]=b.useState(""),[S,E]=b.useState(null),[O,M]=b.useState(!1),[R,I]=b.useState(!1),[V,F]=b.useState(""),[H,K]=b.useState("list"),[q,$]=b.useState(!1),[k,D]=b.useState(""),[P,U]=b.useState("medium"),[G,B]=b.useState(!1),z=b.useRef(null),X=yn(),{data:ee=[],isLoading:je}=Ie({queryKey:["/api/chats"],queryFn:async()=>{const fe=await fetch("/api/chats",{headers:Ke()});if(!fe.ok)throw new Error("Failed to fetch chats");return fe.json()},refetchInterval:3e3}),{data:he=[]}=Ie({queryKey:["/api/templates"],queryFn:async()=>{const fe=await fetch("/api/templates");if(!fe.ok)throw new Error("Failed to fetch templates");return fe.json()}}),{data:le=[]}=Ie({queryKey:["/api/agents"],queryFn:async()=>{const fe=await fetch("/api/agents");if(!fe.ok)throw new Error("Failed to fetch agents");return fe.json()}}),{data:ve=[]}=Ie({queryKey:["/api/contacts"],queryFn:async()=>{const fe=await fetch("/api/contacts");if(!fe.ok)throw new Error("Failed to fetch contacts");return fe.json()}}),{data:xe=[]}=Ie({queryKey:["/api/lead-management/assignable-users"],queryFn:async()=>{const fe=await fetch("/api/lead-management/assignable-users",{headers:Ke()});if(!fe.ok)throw new Error("Failed to fetch assignable users");return fe.json()}}),_e=qe({mutationFn:async({contactId:fe,phone:He,contactName:gt,assignedToUserId:yt,priority:Xt})=>{const Br=await fetch("/api/lead-management/assign",{method:"POST",headers:{"Content-Type":"application/json",...Ke()},body:JSON.stringify({contactId:fe,phone:He,contactName:gt,assignedToUserId:yt,priority:Xt})});if(!Br.ok)throw new Error("Failed to assign lead");return Br.json()},onSuccess:()=>{X.invalidateQueries({queryKey:["/api/chats"]}),$(!1),D(""),U("medium"),re.success("Lead assigned successfully")},onError:()=>{re.error("Failed to assign lead")}}),Ee=qe({mutationFn:async({contactIds:fe,assignedToUserId:He,priority:gt})=>{const yt=await fetch("/api/lead-management/bulk-assign",{method:"POST",headers:{"Content-Type":"application/json",...Ke()},body:JSON.stringify({contactIds:fe,assignedToUserId:He,priority:gt})});if(!yt.ok)throw new Error("Failed to bulk assign leads");return yt.json()},onSuccess:fe=>{X.invalidateQueries({queryKey:["/api/chats"]}),B(!1),f([]),D(""),U("medium"),re.success(`${fe.assigned} leads assigned successfully`)},onError:()=>{re.error("Failed to bulk assign leads")}}),{phoneToNameMap:me,last10ToNameMap:$e}=b.useMemo(()=>{const fe=new Map,He=new Map,gt=yt=>!(!yt||!yt.trim()||yt.startsWith("WhatsApp")||yt.startsWith("+")||/^\d[\d\s]*$/.test(yt));return ve.forEach(yt=>{const Xt=w$(yt.phone);gt(yt.name)&&(fe.set(Xt,yt.name),Xt.length>=10&&He.set(Xt.slice(-10),yt.name))}),{phoneToNameMap:fe,last10ToNameMap:He}},[ve]),ue=b.useMemo(()=>fe=>{const He=w$(fe.phone);if(fe.name&&!fe.name.startsWith("WhatsApp")&&!fe.name.startsWith("+")&&!/^\d+$/.test(fe.name.replace(/\s/g,"")))return fe.name;let gt=me.get(He);if(gt)return gt;if(He.length>=10){const yt=He.slice(-10);if(gt=$e.get(yt),gt)return gt}return fe.phone.startsWith("+")?fe.phone:`+${fe.phone}`},[me,$e]),Me=ee.find(fe=>fe.id===e),Ze=Me?.contactId,{data:ht=[],isLoading:pe}=Ie({queryKey:["/api/messages",Ze],queryFn:async()=>{if(!Ze)return[];const fe=await fetch(`/api/messages?contactId=${Ze}`);if(!fe.ok)throw new Error("Failed to fetch messages");return fe.json()},enabled:!!Ze,refetchInterval:2e3}),vt=b.useMemo(()=>{const fe=new Set;return ht.filter(He=>fe.has(He.id)?!1:(fe.add(He.id),!0))},[ht]),Zt=qe({mutationFn:async({content:fe,phone:He,contactId:gt,replyToMessageId:yt,replyToContent:Xt})=>{const Br=await fetch("/api/webhook/whatsapp/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:He,message:Xt?`> ${Xt.substring(0,50)}${Xt.length>50?"...":""}

${fe}`:fe})});if(!Br.ok){const Ia=await Br.json();throw new Error(Ia.error||"Failed to send WhatsApp message")}return(await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contactId:gt,content:fe,type:"text",direction:"outbound",status:"sent",replyToMessageId:yt,replyToContent:Xt})})).ok||console.error("Failed to save message locally, but WhatsApp sent"),{waResult:await Br.json(),contactId:gt}},onSuccess:fe=>{X.invalidateQueries({queryKey:["/api/messages",fe.contactId]}),X.invalidateQueries({queryKey:["/api/chats"]}),i(""),E(null),re.success("Message sent via WhatsApp")},onError:fe=>{re.error(fe.message||"Failed to send message")}}),Cn=qe({mutationFn:async fe=>{const He={success:0,failed:0};for(const gt of fe.contacts){const yt=ee.find(Ia=>Ia.contactId===gt);if(!yt)continue;const Xt=yt.contact.phone.replace(/\D/g,""),Br=ue(yt.contact),pr=he.find(Ia=>Ia.id===j);try{(await fetch("/api/inbox/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contactId:gt,phone:Xt,name:Br,messageType:fe.messageType,templateName:pr?.name,customMessage:fe.messageType==="custom"?fe.content:void 0,agentId:fe.messageType==="ai"?N:void 0})})).ok?He.success++:He.failed++}catch{He.failed++}}return He},onSuccess:fe=>{X.invalidateQueries({queryKey:["/api/chats"]}),f([]),p(!1),w(""),y(""),C(""),fe.failed>0?re.success(`Sent to ${fe.success} contacts, ${fe.failed} failed`):re.success(`Message sent to ${fe.success} contact${fe.success>1?"s":""}`)},onError:()=>{re.error("Failed to send messages")}});b.useEffect(()=>{ee.length>0&&!e&&t(ee[0].id)},[ee,e]);const Ne=qe({mutationFn:async fe=>{const He=await fetch(`/api/chats/${fe}/mark-read`,{method:"POST"});if(!He.ok)throw new Error("Failed to mark as read");return He.json()},onSuccess:()=>{X.invalidateQueries({queryKey:["/api/chats"]})}}),Fe=qe({mutationFn:async fe=>{const He=await fetch(`/api/chats/${fe}/mark-unread`,{method:"POST"});if(!He.ok)throw new Error("Failed to mark as unread");return He.json()},onSuccess:()=>{X.invalidateQueries({queryKey:["/api/chats"]}),re.success("Marked as unread")}}),ut=qe({mutationFn:async({phone:fe,name:He,reason:gt})=>{const yt=await fetch("/api/contacts/block",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:fe,name:He,reason:gt})});if(!yt.ok)throw new Error("Failed to block contact");return yt.json()},onSuccess:()=>{X.invalidateQueries({queryKey:["/api/chats"]}),M(!1),F(""),t(null),re.success("Contact blocked successfully")},onError:()=>{re.error("Failed to block contact")}}),zt=qe({mutationFn:async fe=>{const He=await fetch(`/api/contacts/${fe}`,{method:"DELETE"});if(!He.ok)throw new Error("Failed to delete contact");return He.json()},onSuccess:()=>{X.invalidateQueries({queryKey:["/api/chats"]}),I(!1),t(null),re.success("Contact deleted successfully")},onError:()=>{re.error("Failed to delete contact")}}),nn=fe=>{t(fe),K("chat");const He=ee.find(gt=>gt.id===fe);He&&He.unreadCount>0&&Ne.mutate(He.contactId)},ge=()=>{K("list")};b.useEffect(()=>{z.current?.scrollIntoView({behavior:"smooth"})},[vt]);const Ue=()=>{if(!s.trim()||!Me||!Ze)return;const fe=Me.contact.phone.replace(/\D/g,"");Zt.mutate({content:s,phone:fe,contactId:Ze,replyToMessageId:S?.id,replyToContent:S?.content})},xt=fe=>{fe.key==="Enter"&&!fe.shiftKey&&(fe.preventDefault(),Ue())},rt=()=>{d.length===Sr.length?f([]):f(Sr.map(fe=>fe.contactId))},sn=(fe,He)=>{He.stopPropagation(),f(gt=>gt.includes(fe)?gt.filter(yt=>yt!==fe):[...gt,fe])},Jn=()=>{if(d.length===0){re.error("Please select at least one contact");return}let fe="";if(x==="template"?fe=he.find(gt=>gt.id===j)?.content||"":x==="custom"?fe=A:x==="ai"&&(fe=`[AI Agent: ${le.find(He=>He.id===N)?.name||"Unknown"}]`),!fe&&x!=="ai"){re.error("Please enter a message or select a template");return}Cn.mutate({contacts:d,messageType:x,content:fe})},_n=fe=>{const He=new Date(fe),yt=new Date().getTime()-He.getTime(),Xt=Math.floor(yt/864e5);return Xt===0?He.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):Xt===1?"Yesterday":Xt<7?`${Xt} days ago`:He.toLocaleDateString()},En=fe=>{if(!fe.lastInboundMessageTime)return!1;const He=new Date(fe.lastInboundMessageTime);return(new Date().getTime()-He.getTime())/(1e3*60*60)<=24},Sr=ee.filter(fe=>{const He=ue(fe.contact).toLowerCase().includes(r.toLowerCase())||fe.contact.phone.includes(r),gt=l==="all"||l==="unread"&&fe.unreadCount>0;return He&&gt}),Ar=ee.filter(fe=>{if(fe.lastInboundMessageTime){const He=new Date(fe.lastInboundMessageTime);return(new Date().getTime()-He.getTime())/(1e3*60*60)>24}return!0}),tf=()=>{const fe=Ar.map(pr=>({name:ue(pr.contact),phone:pr.contact.phone,email:pr.contact.email||"",lastMessage:pr.lastMessage||"",lastMessageTime:pr.lastMessageTime||""})),gt=[["Name","Phone","Email","Last Message","Last Message Time"].join(","),...fe.map(pr=>[pr.name,pr.phone,pr.email,`"${pr.lastMessage}"`,pr.lastMessageTime].join(","))].join(`
`),yt=new Blob([gt],{type:"text/csv"}),Xt=URL.createObjectURL(yt),Br=document.createElement("a");Br.href=Xt,Br.download="inbox_leads_outside_window.csv",Br.click(),URL.revokeObjectURL(Xt),re.success("List exported successfully")},kc=fe=>{const He=ue(fe);return He.startsWith("+")?He.slice(-2):He.split(" ").map(gt=>gt[0]).join("").slice(0,2).toUpperCase()},nf=he.filter(fe=>fe.status==="approved"),to=fe=>{const He=fe.content,gt=fe.mediaUrl;if(fe.type==="image"||He.startsWith("[Image")){if(gt){const yt=He.replace(/^\[Image\]\s*/,"").replace(/^\[Image message\]$/,"");return n.jsxs("div",{className:"space-y-2",children:[n.jsx("img",{src:`/api/webhook/whatsapp/media/${gt}`,alt:"Shared image",className:"max-w-[280px] max-h-[300px] rounded-lg object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>f2(gt,"image.jpg",!0),onError:Xt=>{Xt.target.style.display="none",Xt.target.nextElementSibling?.classList.remove("hidden")}}),n.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:" Image expired or unavailable"}),yt&&n.jsx("p",{className:"text-sm",children:yt})]})}return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",He]})}else if(fe.type==="video"||He.startsWith("[Video")){if(gt){const yt=He.replace(/^\[Video\]\s*/,"").replace(/^\[Video message\]$/,"");return n.jsxs("div",{className:"space-y-2",children:[n.jsx("video",{src:`/api/webhook/whatsapp/media/${gt}`,controls:!0,className:"max-w-[280px] max-h-[300px] rounded-lg",onError:Xt=>{Xt.target.style.display="none",Xt.target.nextElementSibling?.classList.remove("hidden")}}),n.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:" Video expired or unavailable"}),yt&&n.jsx("p",{className:"text-sm",children:yt})]})}return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",He]})}else{if(fe.type==="audio"||He.startsWith("[Audio"))return gt?n.jsxs("div",{className:"space-y-2",children:[n.jsx("audio",{src:`/api/webhook/whatsapp/media/${gt}`,controls:!0,className:"max-w-[280px]",onError:yt=>{yt.target.style.display="none",yt.target.nextElementSibling?.classList.remove("hidden")}}),n.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:" Audio expired or unavailable"})]}):n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",He]});if(fe.type==="sticker"||He.startsWith("[Sticker"))return gt?n.jsxs("div",{children:[n.jsx("img",{src:`/api/webhook/whatsapp/media/${gt}`,alt:"Sticker",className:"max-w-[150px] max-h-[150px]",onError:yt=>{yt.target.style.display="none",yt.target.nextElementSibling?.classList.remove("hidden")}}),n.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:" Sticker expired or unavailable"})]}):n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",He]});if(fe.type==="document"||He.startsWith("[Document")){if(gt){const yt=He.match(/\[Document: ([^\]]+)\]/)?.[1]||"document";return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>f2(gt,yt,!0),className:"flex items-center gap-2 p-2 bg-muted rounded-lg hover:bg-muted/80 transition-colors cursor-pointer",children:[n.jsx("span",{className:"text-lg",children:""}),n.jsx("span",{className:"text-sm underline",children:yt})]}),n.jsx("button",{onClick:()=>f2(gt,yt,!1),className:"p-2 bg-muted rounded-lg hover:bg-muted/80 transition-colors",title:"Download",children:n.jsx(Or,{className:"h-4 w-4"})})]})}return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",He]})}else{if(He.startsWith("[Location"))return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",He]});if(He.startsWith("[Contact"))return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",He]});if(He.startsWith("[Reaction"))return n.jsx("span",{className:"flex items-center gap-1",children:He});if(He.startsWith("[Unsupported"))return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",He]})}}return n.jsx("span",{children:He})};return n.jsxs(ct,{children:[n.jsxs("div",{className:"h-[calc(100vh-80px)] md:h-[calc(100vh-100px)] p-1 flex flex-col gap-2 md:gap-4 animate-in fade-in duration-500 overflow-hidden",children:[n.jsxs("div",{className:`flex flex-col md:flex-row md:items-center justify-between gap-2 flex-shrink-0 ${H==="chat"?"hidden md:flex":"flex"}`,children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg md:text-2xl font-bold tracking-tight",children:"Inbox"}),n.jsx("p",{className:"text-xs md:text-sm text-muted-foreground hidden md:block",children:"All conversations. Contacts outside 24-hour window require templates."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Y,{variant:"outline",size:"sm",className:"md:size-default",onClick:tf,children:[n.jsx(Or,{className:"h-4 w-4 md:mr-2"}),n.jsxs("span",{className:"hidden md:inline",children:["Export List (",Ar.length,")"]})]}),d.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs(Y,{size:"sm",className:"md:size-default",variant:"outline",onClick:()=>B(!0),children:[n.jsx(Yt,{className:"h-4 w-4 md:mr-2"}),n.jsx("span",{className:"hidden md:inline",children:"Assign"})," ",d.length]}),n.jsxs(Y,{size:"sm",className:"md:size-default",onClick:()=>p(!0),children:[n.jsx(nr,{className:"h-4 w-4 md:mr-2"}),n.jsx("span",{className:"hidden md:inline",children:"Send to"})," ",d.length]})]})]})]}),n.jsxs("div",{className:`flex items-center gap-2 md:gap-4 p-2 md:p-3 bg-muted/50 rounded-lg flex-shrink-0 ${H==="chat"?"hidden md:flex":"flex"}`,children:[n.jsx(Wn,{checked:d.length===Sr.length&&Sr.length>0,onCheckedChange:rt}),n.jsxs("span",{className:"text-xs md:text-sm font-medium",children:["Select All (",Sr.length," chats)"]}),d.length>0&&n.jsxs(Ae,{variant:"secondary",className:"text-xs",children:[d.length," selected"]})]}),n.jsxs("div",{className:"flex-1 min-h-0 flex flex-col md:flex-row bg-card border border-border rounded-lg overflow-hidden shadow-sm",children:[n.jsxs("div",{className:`w-full md:w-80 lg:w-96 md:border-r border-border flex flex-col bg-background min-h-0 h-full ${H==="chat"?"hidden md:flex":"flex"}`,children:[n.jsxs("div",{className:"p-3 md:p-4 border-b border-border",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Qn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search chats...",className:"pl-9 bg-secondary/50",value:r,onChange:fe=>a(fe.target.value)})]}),n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsx(Ae,{variant:l==="all"?"default":"outline",className:"cursor-pointer",onClick:()=>u("all"),children:"All"}),n.jsx(Ae,{variant:l==="unread"?"default":"outline",className:"cursor-pointer hover:bg-secondary",onClick:()=>u("unread"),children:"Unread"})]})]}),n.jsx(as,{className:"flex-1",children:je?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(We,{className:"h-6 w-6 animate-spin text-primary"})}):Sr.length===0?n.jsx("div",{className:"flex items-center justify-center py-8 text-muted-foreground",children:"No chats found"}):n.jsx("div",{className:"divide-y divide-border",children:Sr.map(fe=>n.jsxs("div",{className:`p-3 flex items-start gap-2 hover:bg-muted/50 cursor-pointer transition-colors ${fe.id===e?"bg-muted/50":""}`,onClick:()=>nn(fe.id),children:[n.jsx(Wn,{checked:d.includes(fe.contactId),onCheckedChange:()=>{},onClick:He=>sn(fe.contactId,He),className:"mt-1"}),n.jsx(aa,{className:"h-9 w-9",children:n.jsx(sa,{className:"bg-primary/10 text-primary text-sm",children:kc(fe.contact)})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:`text-sm font-medium truncate ${fe.unreadCount>0?"font-bold":""}`,children:ue(fe.contact)}),En(fe)&&n.jsx(Ae,{variant:"outline",className:"text-[10px] bg-green-50 text-green-700 border-green-200 px-1 py-0",children:n.jsx(Ht,{className:"h-2.5 w-2.5"})}),fe.assignment&&n.jsxs(Ae,{variant:"outline",className:"text-[10px] bg-blue-50 text-blue-700 border-blue-200 px-1 py-0",children:[n.jsx(nc,{className:"h-2.5 w-2.5 mr-0.5"}),fe.assignment.assignedToUserName?.split(" ")[0]||"Assigned"]}),fe.unreadCount>0&&n.jsx("span",{className:"h-4 w-4 rounded-full bg-primary text-primary-foreground text-[9px] flex items-center justify-center font-medium",children:fe.unreadCount})]}),n.jsx("span",{className:"text-[11px] text-muted-foreground whitespace-nowrap",children:fe.lastMessageTime?_n(fe.lastMessageTime):""})]}),n.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:fe.lastMessage||"No messages yet"})]})]},fe.id))})})]}),n.jsx("div",{className:`flex-1 flex flex-col bg-[#efeae2] dark:bg-zinc-900 bg-opacity-50 min-h-0 h-full ${H==="list"?"hidden md:flex":"flex"}`,children:Me?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"h-14 md:h-16 bg-background border-b border-border flex items-center justify-between px-2 md:px-6 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[n.jsx(Y,{variant:"ghost",size:"icon",className:"flex md:hidden h-9 w-9 shrink-0",onClick:ge,children:n.jsx(QC,{className:"h-5 w-5"})}),n.jsx(aa,{className:"h-8 w-8 md:h-10 md:w-10",children:n.jsx(sa,{className:"bg-primary/10 text-primary text-sm",children:kc(Me.contact)})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h3",{className:"font-medium text-sm md:text-base truncate",children:ue(Me.contact)}),n.jsxs("div",{className:"flex items-center gap-1 md:gap-2 flex-wrap",children:[n.jsx("span",{className:"text-[10px] md:text-xs text-muted-foreground truncate",children:Me.contact.phone}),En(Me)&&n.jsxs(Ae,{variant:"outline",className:"text-[9px] md:text-xs bg-green-50 text-green-700 border-green-200 py-0",children:[n.jsx(Ht,{className:"h-2.5 w-2.5 md:h-3 md:w-3 mr-0.5 md:mr-1"}),"24hr"]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[n.jsx(Y,{variant:"ghost",size:"icon",className:"hidden md:flex",children:n.jsx(Ac,{className:"h-5 w-5 text-muted-foreground"})}),n.jsx(Y,{variant:"ghost",size:"icon",className:"hidden md:flex",children:n.jsx(ov,{className:"h-5 w-5 text-muted-foreground"})}),n.jsxs(ol,{children:[n.jsx(ll,{asChild:!0,children:n.jsx(Y,{variant:"ghost",size:"icon",children:n.jsx(sv,{className:"h-5 w-5 text-muted-foreground"})})}),n.jsxs(Gi,{align:"end",children:[n.jsxs(Bn,{onClick:()=>Fe.mutate(Me.contactId),children:[n.jsx(t_,{className:"mr-2 h-4 w-4"}),"Mark as Unread"]}),n.jsxs(Bn,{onClick:()=>$(!0),className:"text-blue-600",children:[n.jsx(nc,{className:"mr-2 h-4 w-4"}),"Assign Lead"]}),n.jsxs(Bn,{onClick:()=>M(!0),className:"text-orange-600",children:[n.jsx(zo,{className:"mr-2 h-4 w-4"}),"Block Contact"]}),n.jsxs(Bn,{onClick:()=>I(!0),className:"text-red-600",children:[n.jsx(hr,{className:"mr-2 h-4 w-4"}),"Delete Contact"]})]})]})]})]}),n.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-3 md:p-6",children:pe?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(We,{className:"h-6 w-6 animate-spin text-primary"})}):vt.length===0?n.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground text-sm",children:"No messages yet. Start the conversation!"}):n.jsxs("div",{className:"space-y-3 md:space-y-4",children:[vt.map(fe=>n.jsx("div",{className:`flex ${fe.direction==="inbound"?"justify-start":"justify-end"} group`,children:n.jsxs("div",{className:`flex items-start gap-1 ${fe.direction==="inbound"?"flex-row":"flex-row-reverse"}`,children:[fe.direction==="inbound"&&n.jsx(Y,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity hidden md:flex",onClick:()=>E(fe),children:n.jsx(es,{className:"h-3 w-3"})}),n.jsxs("div",{className:`max-w-[85%] md:max-w-[70%] rounded-lg px-3 md:px-4 py-2 shadow-sm relative break-words
                              ${fe.direction==="inbound"?"bg-white dark:bg-card text-card-foreground rounded-tl-none":"bg-[#d9fdd3] dark:bg-primary/20 text-foreground rounded-tr-none"}
                            `,children:[fe.replyToContent&&n.jsxs("div",{className:"mb-2 p-2 bg-black/5 dark:bg-white/10 rounded border-l-2 border-primary/50 text-xs text-muted-foreground",children:[n.jsx(es,{className:"h-3 w-3 inline mr-1"}),fe.replyToContent.substring(0,60),fe.replyToContent.length>60&&"..."]}),n.jsx("div",{className:"text-sm leading-relaxed",children:to(fe)}),n.jsxs("span",{className:"text-[10px] text-muted-foreground/80 block text-right mt-1",children:[_n(fe.timestamp),fe.direction==="outbound"&&n.jsx("span",{className:`ml-1 ${fe.status==="read"?"text-blue-500":fe.status==="failed"?"text-red-500":""}`,children:fe.status==="read"||fe.status==="delivered"?"":fe.status==="failed"?"":""})]})]})]})},fe.id)),n.jsx("div",{ref:z})]})}),n.jsxs("div",{className:"p-2 md:p-4 bg-background border-t border-border flex-shrink-0",children:[S&&n.jsxs("div",{className:"mb-2 p-2 bg-muted rounded-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm min-w-0",children:[n.jsx(es,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground shrink-0"}),n.jsx("span",{className:"text-muted-foreground hidden md:inline",children:"Replying to:"}),n.jsx("span",{className:"truncate max-w-[150px] md:max-w-[300px]",children:S.content})]}),n.jsx(Y,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>E(null),children:n.jsx(Wi,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[n.jsx(Y,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground hidden md:flex",children:n.jsx(a_,{className:"h-6 w-6"})}),n.jsx(Y,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground h-8 w-8 md:h-10 md:w-10",children:n.jsx(n_,{className:"h-5 w-5 md:h-6 md:w-6"})}),n.jsx(Pe,{placeholder:"Type a message...",className:"flex-1 bg-secondary/50 border-none focus-visible:ring-1 text-sm h-9 md:h-10",value:s,onChange:fe=>i(fe.target.value),onKeyPress:xt}),n.jsx(Y,{size:"icon",className:"rounded-full h-9 w-9 md:h-10 md:w-10 shrink-0",onClick:Ue,disabled:!s.trim()||Zt.isPending,children:Zt.isPending?n.jsx(We,{className:"h-4 w-4 md:h-5 md:w-5 animate-spin"}):n.jsx(nr,{className:"h-4 w-4 md:h-5 md:w-5"})})]})]})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:"Select a chat to start messaging"})})]})]}),n.jsx($t,{open:m,onOpenChange:p,children:n.jsxs(kt,{className:"max-w-2xl",children:[n.jsx(Pt,{children:n.jsxs(Rt,{className:"flex items-center gap-2",children:[n.jsx(nr,{className:"h-5 w-5"}),"Send Message to ",d.length," Contacts"]})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/30 rounded-lg text-sm text-amber-700 dark:text-amber-400",children:[n.jsx(Ht,{className:"h-4 w-4 inline mr-2"}),"Note: Contacts outside the 24-hour window will only receive template messages. Custom messages work only for those within the window."]}),n.jsxs(rr,{value:x,onValueChange:fe=>v(fe),children:[n.jsxs(Zn,{className:"grid w-full grid-cols-3",children:[n.jsxs(lt,{value:"template",className:"flex items-center gap-2",children:[n.jsx(Yn,{className:"h-4 w-4"}),"Template"]}),n.jsxs(lt,{value:"custom",className:"flex items-center gap-2",children:[n.jsx(qt,{className:"h-4 w-4"}),"Custom"]}),n.jsxs(lt,{value:"ai",className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4"}),"AI Agent"]})]}),n.jsxs(ft,{value:"template",className:"space-y-4 pt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select Template"}),n.jsxs(Xe,{value:j,onValueChange:y,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Choose a template"})}),n.jsx(Ye,{children:nf.map(fe=>n.jsx(ae,{value:fe.id,children:fe.name},fe.id))})]})]}),j&&n.jsx("div",{className:"p-3 bg-muted rounded-lg",children:n.jsx("p",{className:"text-sm",children:he.find(fe=>fe.id===j)?.content})})]}),n.jsx(ft,{value:"custom",className:"space-y-4 pt-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Custom Message"}),n.jsx(cn,{placeholder:"Type your message here...",value:A,onChange:fe=>w(fe.target.value),rows:5}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Custom messages work only within the 24-hour window after customer contact."})]})}),n.jsxs(ft,{value:"ai",className:"space-y-4 pt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select AI Agent"}),n.jsxs(Xe,{value:N,onValueChange:C,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Choose an AI Agent"})}),n.jsx(Ye,{children:le.filter(fe=>fe.isActive).map(fe=>n.jsx(ae,{value:fe.id,children:fe.name},fe.id))})]})]}),N&&n.jsx("div",{className:"p-3 bg-muted rounded-lg",children:n.jsx("p",{className:"text-sm",children:le.find(fe=>fe.id===N)?.description||"AI Agent will generate personalized responses."})})]})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),n.jsxs(Y,{onClick:Jn,disabled:Cn.isPending,children:[Cn.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Send to ",d.length," Contact",d.length>1?"s":""]})]})]})}),n.jsx(Sd,{open:O,onOpenChange:M,children:n.jsxs(mc,{children:[n.jsxs(pc,{children:[n.jsx(gc,{children:"Block Contact"}),n.jsxs(yc,{children:["Are you sure you want to block ",Me?ue(Me.contact):"this contact","? You will no longer receive messages from them."]})]}),n.jsxs("div",{className:"py-4",children:[n.jsx(de,{htmlFor:"blockReason",children:"Reason (optional)"}),n.jsx(cn,{id:"blockReason",placeholder:"Enter reason for blocking...",value:V,onChange:fe=>F(fe.target.value),className:"mt-2"})]}),n.jsxs(xc,{children:[n.jsx(jc,{children:"Cancel"}),n.jsx(vc,{className:"bg-orange-600 hover:bg-orange-700",onClick:()=>{Me&&ut.mutate({phone:Me.contact.phone,name:ue(Me.contact),reason:V})},children:"Block Contact"})]})]})}),n.jsx(Sd,{open:R,onOpenChange:I,children:n.jsxs(mc,{children:[n.jsxs(pc,{children:[n.jsx(gc,{children:"Delete Contact"}),n.jsxs(yc,{children:["Are you sure you want to delete ",Me?ue(Me.contact):"this contact","? This will permanently remove all chat history with this contact."]})]}),n.jsxs(xc,{children:[n.jsx(jc,{children:"Cancel"}),n.jsx(vc,{className:"bg-red-600 hover:bg-red-700",onClick:()=>{Me&&zt.mutate(Me.contactId)},children:"Delete Contact"})]})]})}),n.jsx($t,{open:q,onOpenChange:$,children:n.jsxs(kt,{children:[n.jsx(Pt,{children:n.jsx(Rt,{children:"Assign Lead"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsx("div",{children:n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Assign ",Me?ue(Me.contact):"this contact"," to a team member"]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Assign To"}),n.jsxs(Xe,{value:k,onValueChange:D,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select team member"})}),n.jsx(Ye,{children:xe.map(fe=>n.jsxs(ae,{value:fe.id,children:[fe.name," (",fe.role,")"]},fe.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Priority"}),n.jsxs(Xe,{value:P,onValueChange:U,children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"low",children:"Low"}),n.jsx(ae,{value:"medium",children:"Medium"}),n.jsx(ae,{value:"high",children:"High"}),n.jsx(ae,{value:"urgent",children:"Urgent"})]})]})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),n.jsxs(Y,{onClick:()=>{Me&&k&&_e.mutate({contactId:Me.contact.id,phone:Me.contact.phone,contactName:ue(Me.contact),assignedToUserId:k,priority:P})},disabled:!k||_e.isPending,children:[_e.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Assign Lead"]})]})]})}),n.jsx($t,{open:G,onOpenChange:B,children:n.jsxs(kt,{children:[n.jsx(Pt,{children:n.jsx(Rt,{children:"Bulk Assign Leads"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsx("div",{children:n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Assign ",d.length," selected contact",d.length>1?"s":""," to a team member"]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Assign To"}),n.jsxs(Xe,{value:k,onValueChange:D,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select team member"})}),n.jsx(Ye,{children:xe.map(fe=>n.jsxs(ae,{value:fe.id,children:[fe.name," (",fe.role,")"]},fe.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Priority"}),n.jsxs(Xe,{value:P,onValueChange:U,children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"low",children:"Low"}),n.jsx(ae,{value:"medium",children:"Medium"}),n.jsx(ae,{value:"high",children:"High"}),n.jsx(ae,{value:"urgent",children:"Urgent"})]})]})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>B(!1),children:"Cancel"}),n.jsxs(Y,{onClick:()=>{d.length>0&&k&&Ee.mutate({contactIds:d,assignedToUserId:k,priority:P})},disabled:!k||Ee.isPending,children:[Ee.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Assign ",d.length," Lead",d.length>1?"s":""]})]})]})})]})}const X1e="whatsapp_auth_user";function Q1e(){try{const e=localStorage.getItem(X1e);if(!e)return{};const t=JSON.parse(e);return{"x-user-id":t.id,"x-user":JSON.stringify(t)}}catch{return{}}}async function Nn(e,t={}){const r=Q1e();return fetch(e,{...t,headers:{...r,...t.headers||{}}})}async function h2(e,t,r=!1){try{const a=await fetch(`/api/webhook/whatsapp/media/${e}`,{headers:Ke()});if(!a.ok)throw new Error("Failed to download media");const s=await a.blob(),i=URL.createObjectURL(s);if(r)window.open(i,"_blank");else{const l=document.createElement("a");l.href=i,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l)}setTimeout(()=>URL.revokeObjectURL(i),1e3)}catch(a){console.error("Media download error:",a),re.error("Failed to download file. Please try again.")}}function N$(e){return e.replace(/\D/g,"")}function Z1e(){const[e,t]=b.useState(null),[r,a]=b.useState(""),[s,i]=b.useState(""),[l,u]=b.useState([]),[d,f]=b.useState(!1),[m,p]=b.useState("custom"),[x,v]=b.useState(""),[j,y]=b.useState(""),[N,C]=b.useState(""),[A,w]=b.useState(null),[S,E]=b.useState("list"),O=b.useRef(null),M=yn(),R=b.useRef(null),I=b.useRef(0),V=b.useRef(!1);b.useEffect(()=>{const ge="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2telehs/hMGyjnYsT2fJ0sJxIBw4d7O5s4VYQXzQ182bhlltndzV0JqJe3aap7KopZmRjI+TmJ6cmZePhoJ+fHx8fH2AgYSGiYyPkZOVlZaWlpWUkpCNioaDgX9+fX19fn+BhIiMkJOXmpyenp6dnJqXlJGOioaDgYB/f4CBg4aJjZCTlpmbnZ2dnJqYlZKPjImGhIKBgICAgIGChYiLjpGUl5manJ2dnJuZl5WSkI2KiIaEg4KCgoKDhIaIi42QkpWXmZqbnJybmpiWlJKQjoqJh4aFhISEhISFhoiKjI6QkpSWmJmam5uamZeWlJKQjoyKiIeGhoWFhYWGh4iKjI6QkpSVl5iZmZmYl5aUkpCOjIqIh4aFhYWFhYaHiImLjI6QkpOVlpeYmJiXlpWUkpCOjIqIh4aFhYWFhYaHiImLjY+QkpOVlpeXl5eWlZSSkI+NjIqIh4aFhYWFhoaHiImLjI6PkZKUlZaWlpaVlJOSkI+NjIqJh4aGhYaGhoaHiImKjI2PkJGTlJWVlZWVlJOSkI+OjIuJiIeGhoaGhoaHiImKi42OkJGSk5SUlJSUk5KRkI+OjIuKiYiHh4aGh4eHiImKi4yNj5CRkpOTk5OTkpGQj46NjIuKiYiHh4eHh4eIiImKi4yNjpCQkZGSEpKSkZCPj46NjIuKiYiIh4eHh4iIiImKi4yNjo+QkZGRkZGRkI+Pjo2MjIuKiYmIiIeIiIiIiYmKi4yNjo+PkJCQkJCQj4+OjY2MjIuKiomIiIiIiIiJiYqKi4yNjY6Pj4+Pj4+Pjo6NjYyMi4uKiomJiIiIiIiJiYqKi4yMjY2Ojo6Ojo6OjY2NjIyMi4uKiomJiYiJiYmJiYqKi4uMjI2NjY2NjY2NjY2MjIyMi4uLioqJiYmJiYmJioqKi4uMjIyMjY2NjY2NjI2MjIyMi4uLioqKiomJiYmJiYqKiouLi4yMjI2NjY2MjIyMjIyMi4yLi4uKioqJiYmJiYqKioqLi4uMjIyMjIyMjIyMjIyMi4uLi4uKi4qKioqKioqKioqLi4uLjIyMjIyMjIyMjIyLi4uLi4uLioqKioqKioqKioqLi4uLi4yMjIyMjIyMjIuLi4uLi4uLioqKioqKioqKioqKi4uLi4yMjIyMjIyLi4uLi4uLi4uKioqKioqKioqKi4uLi4uLi4yMjIyMi4uLi4uLi4uLioqKioqKioqKioqLi4uLi4uMjIyMi4uLi4uLi4uLi4qKioqKioqKioqLi4uLi4uLjIyLi4uLi4uLi4uLi4qKioqKioqKioqLi4uLi4uLi4uLi4uLi4uLi4uLioqKioqKioqKi4uLi4uLi4uLi4uLi4uLi4uLi4qKioqKioqKi4uLi4uLi4uLi4uLi4uLi4uLi4qKioqKioqLi4uLi4uLi4uLi4uLi4uLi4uLioqKioqKi4uLi4uLi4uLi4uLi4uLi4uLi4qKioqKi4uLi4uLi4uLi4uLi4uLi4uLi4uKioqKi4uLi4uLi4uLi4uLi4uLi4uLi4uKioqLi4uLi4uLi4uLi4uLi4uLi4uLi4qKioqLi4uLi4uLi4uLi4uLi4uLi4uLi4qKi4uLi4uLi4uLi4uLi4uLi4uLi4uLioqLi4uLi4uLi4uLi4uLi4uLi4uLi4uKi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4qLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLg==";R.current=new Audio(ge),R.current.volume=.5;const Ue=()=>{V.current=!0,R.current&&R.current.play().then(()=>{R.current?.pause(),R.current.currentTime=0}).catch(()=>{})},xt=["click","keydown","touchstart"];return xt.forEach(rt=>{document.addEventListener(rt,Ue,{once:!0})}),()=>{xt.forEach(rt=>{document.removeEventListener(rt,Ue)})}},[]);const{data:F=[],isLoading:H}=Ie({queryKey:["/api/chats/window"],queryFn:async()=>{const ge=await fetch("/api/chats",{headers:Ke()});if(!ge.ok)throw new Error("Failed to fetch chats");const Ue=await ge.json(),xt=new Date;return Ue.filter(rt=>{if(rt.lastInboundMessageTime){const sn=new Date(rt.lastInboundMessageTime);return(xt.getTime()-sn.getTime())/(1e3*60*60)<=24}return!1}).map(rt=>({...rt,windowExpiresAt:rt.lastInboundMessageTime?new Date(new Date(rt.lastInboundMessageTime).getTime()+1440*60*1e3).toISOString():void 0}))},refetchInterval:3e3}),{data:K=[]}=Ie({queryKey:["/api/templates"],queryFn:async()=>{const ge=await fetch("/api/templates");if(!ge.ok)throw new Error("Failed to fetch templates");return ge.json()}}),{data:q=[]}=Ie({queryKey:["/api/agents"],queryFn:async()=>{const ge=await fetch("/api/agents");if(!ge.ok)throw new Error("Failed to fetch agents");return ge.json()}}),{data:$=[]}=Ie({queryKey:["/api/contacts"],queryFn:async()=>{const ge=await fetch("/api/contacts");if(!ge.ok)throw new Error("Failed to fetch contacts");return ge.json()}}),{phoneToNameMap:k,last10ToNameMap:D}=b.useMemo(()=>{const ge=new Map,Ue=new Map,xt=rt=>!(!rt||!rt.trim()||rt.startsWith("WhatsApp")||rt.startsWith("+")||/^\d[\d\s]*$/.test(rt));return $.forEach(rt=>{const sn=N$(rt.phone);xt(rt.name)&&(ge.set(sn,rt.name),sn.length>=10&&Ue.set(sn.slice(-10),rt.name))}),{phoneToNameMap:ge,last10ToNameMap:Ue}},[$]),P=b.useMemo(()=>ge=>{const Ue=N$(ge.phone);if(ge.name&&!ge.name.startsWith("WhatsApp")&&!ge.name.startsWith("+")&&!/^\d+$/.test(ge.name.replace(/\s/g,"")))return ge.name;let xt=k.get(Ue);if(xt)return xt;if(Ue.length>=10){const rt=Ue.slice(-10);if(xt=D.get(rt),xt)return xt}return ge.phone.startsWith("+")?ge.phone:`+${ge.phone}`},[k,D]),U=ge=>{const Ue=ge.content,xt=ge.mediaUrl;if(ge.type==="image"||Ue.startsWith("[Image")){if(xt){const rt=Ue.replace(/^\[Image\]\s*/,"").replace(/^\[Image message\]$/,"");return n.jsxs("div",{className:"space-y-2",children:[n.jsx("img",{src:`/api/webhook/whatsapp/media/${xt}`,alt:"Shared image",className:"max-w-[280px] max-h-[300px] rounded-lg object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>h2(xt,"image.jpg",!0),onError:sn=>{sn.target.style.display="none",sn.target.nextElementSibling?.classList.remove("hidden")}}),n.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Image expired or unavailable"}),rt&&n.jsx("p",{className:"text-sm",children:rt})]})}return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Ue]})}else if(ge.type==="video"||Ue.startsWith("[Video")){if(xt){const rt=Ue.replace(/^\[Video\]\s*/,"").replace(/^\[Video message\]$/,"");return n.jsxs("div",{className:"space-y-2",children:[n.jsx("video",{src:`/api/webhook/whatsapp/media/${xt}`,controls:!0,className:"max-w-[280px] max-h-[300px] rounded-lg",onError:sn=>{sn.target.style.display="none",sn.target.nextElementSibling?.classList.remove("hidden")}}),n.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Video expired or unavailable"}),rt&&n.jsx("p",{className:"text-sm",children:rt})]})}return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Ue]})}else{if(ge.type==="audio"||Ue.startsWith("[Audio"))return xt?n.jsxs("div",{className:"space-y-2",children:[n.jsx("audio",{src:`/api/webhook/whatsapp/media/${xt}`,controls:!0,className:"max-w-[280px]",onError:rt=>{rt.target.style.display="none",rt.target.nextElementSibling?.classList.remove("hidden")}}),n.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Audio expired or unavailable"})]}):n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Ue]});if(ge.type==="sticker"||Ue.startsWith("[Sticker"))return xt?n.jsxs("div",{children:[n.jsx("img",{src:`/api/webhook/whatsapp/media/${xt}`,alt:"Sticker",className:"max-w-[150px] max-h-[150px]",onError:rt=>{rt.target.style.display="none",rt.target.nextElementSibling?.classList.remove("hidden")}}),n.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Sticker expired or unavailable"})]}):n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Ue]});if(ge.type==="document"||Ue.startsWith("[Document")){if(xt){const rt=Ue.match(/\[Document: ([^\]]+)\]/)?.[1]||"document";return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>h2(xt,rt,!0),className:"flex items-center gap-2 p-2 bg-muted rounded-lg hover:bg-muted/80 transition-colors cursor-pointer",children:[n.jsx("span",{className:"text-lg",children:""}),n.jsx("span",{className:"text-sm underline",children:rt})]}),n.jsx("button",{onClick:()=>h2(xt,rt,!1),className:"p-2 bg-muted rounded-lg hover:bg-muted/80 transition-colors",title:"Download",children:n.jsx(Or,{className:"h-4 w-4"})})]})}return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Ue]})}else{if(Ue.startsWith("[Location"))return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Ue]});if(Ue.startsWith("[Contact"))return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Ue]});if(Ue.startsWith("[Reaction"))return n.jsx("span",{className:"flex items-center gap-1",children:Ue});if(Ue.startsWith("[Unsupported"))return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Ue]})}}return n.jsx("span",{children:Ue})},G=F.find(ge=>ge.id===e),B=G?.contactId,z=b.useRef(!0);b.useEffect(()=>{const ge=F.reduce((Ue,xt)=>Ue+(xt.unreadCount||0),0);if(z.current){z.current=!1,I.current=ge;return}ge>I.current&&R.current&&V.current&&(R.current.currentTime=0,R.current.play().catch(()=>{})),I.current=ge},[F]);const{data:X=[],isLoading:ee}=Ie({queryKey:["/api/messages",B],queryFn:async()=>{if(!B)return[];const ge=await fetch(`/api/messages?contactId=${B}`);if(!ge.ok)throw new Error("Failed to fetch messages");return ge.json()},enabled:!!B,refetchInterval:2e3}),je=qe({mutationFn:async({content:ge,phone:Ue,contactId:xt,replyToMessageId:rt,replyToContent:sn})=>{const Jn=await Nn("/api/webhook/whatsapp/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:Ue,message:ge})});if(!Jn.ok){const En=await Jn.json();throw new Error(En.error||"Failed to send WhatsApp message")}return(await Nn("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contactId:xt,content:ge,type:"text",direction:"outbound",status:"sent",replyToMessageId:rt,replyToContent:sn})})).ok||console.error("Failed to save message locally, but WhatsApp sent"),{waResult:await Jn.json(),contactId:xt}},onSuccess:ge=>{M.invalidateQueries({queryKey:["/api/messages",ge.contactId]}),M.invalidateQueries({queryKey:["/api/chats/window"]}),i(""),w(null),re.success("Message sent via WhatsApp")},onError:ge=>{re.error(ge.message||"Failed to send message")}}),he=qe({mutationFn:async ge=>{const Ue={success:0,failed:0};for(const xt of ge.contacts){const rt=F.find(En=>En.contactId===xt);if(!rt)continue;const sn=rt.contact.phone.replace(/\D/g,""),Jn=rt.contact.name,_n=K.find(En=>En.id===x);try{(await Nn("/api/inbox/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contactId:xt,phone:sn,name:Jn,messageType:ge.messageType,templateName:_n?.name,customMessage:ge.messageType==="custom"?ge.content:void 0,agentId:ge.messageType==="ai"?j:void 0})})).ok?Ue.success++:Ue.failed++}catch{Ue.failed++}}return Ue},onSuccess:ge=>{M.invalidateQueries({queryKey:["/api/chats/window"]}),M.invalidateQueries({queryKey:["/api/chats"]}),u([]),f(!1),C(""),v(""),y(""),ge.failed>0?re.success(`Sent to ${ge.success} contacts, ${ge.failed} failed`):re.success(`Message sent to ${ge.success} contact${ge.success>1?"s":""}`)},onError:()=>{re.error("Failed to send messages")}});b.useEffect(()=>{F.length>0&&!e&&t(F[0].id)},[F,e]);const le=qe({mutationFn:async ge=>{const Ue=await Nn(`/api/chats/${ge}/mark-read`,{method:"POST"});if(!Ue.ok)throw new Error("Failed to mark as read");return Ue.json()},onSuccess:()=>{M.invalidateQueries({queryKey:["/api/chats/window"]}),M.invalidateQueries({queryKey:["/api/chats"]})}}),ve=qe({mutationFn:async ge=>{const Ue=await Nn(`/api/chats/${ge}/mark-unread`,{method:"POST"});if(!Ue.ok)throw new Error("Failed to mark as unread");return Ue.json()},onSuccess:()=>{M.invalidateQueries({queryKey:["/api/chats/window"]}),M.invalidateQueries({queryKey:["/api/chats"]}),re.success("Marked as unread")}}),[xe,_e]=b.useState(!1),[Ee,me]=b.useState(null),$e=qe({mutationFn:async({phone:ge,name:Ue})=>{const xt=await Nn("/api/contacts/block",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:ge,name:Ue,reason:"Blocked from 24-hour window"})});if(!xt.ok)throw new Error("Failed to block contact");return xt.json()},onSuccess:()=>{M.invalidateQueries({queryKey:["/api/chats/window"]}),M.invalidateQueries({queryKey:["/api/chats"]}),_e(!1),me(null),t(null),re.success("Contact blocked successfully")},onError:()=>{re.error("Failed to block contact")}}),ue=ge=>{t(ge),E("chat");const Ue=F.find(xt=>xt.id===ge);Ue&&Ue.unreadCount>0&&le.mutate(Ue.contactId)},Me=()=>{E("list")};b.useEffect(()=>{O.current?.scrollIntoView({behavior:"smooth"})},[X]);const Ze=()=>{if(!s.trim()||!G||!B)return;const ge=G.contact.phone.replace(/\D/g,"");je.mutate({content:s,phone:ge,contactId:B,replyToMessageId:A?.id,replyToContent:A?.content})},ht=ge=>{ge.key==="Enter"&&!ge.shiftKey&&(ge.preventDefault(),Ze())},pe=()=>{l.length===F.length?u([]):u(F.map(ge=>ge.contactId))},vt=ge=>{u(Ue=>Ue.includes(ge)?Ue.filter(xt=>xt!==ge):[...Ue,ge])},Zt=()=>{if(l.length===0){re.error("Please select at least one contact");return}let ge="";if(m==="template"?ge=K.find(xt=>xt.id===x)?.content||"":m==="custom"?ge=N:m==="ai"&&(ge=`[AI Agent: ${q.find(Ue=>Ue.id===j)?.name||"Unknown"}]`),!ge&&m!=="ai"){re.error("Please enter a message or select a template");return}he.mutate({contacts:l,messageType:m,content:ge})},Cn=()=>{const ge=F.map(_n=>({name:_n.contact.name,phone:_n.contact.phone,email:_n.contact.email||"",lastMessage:_n.lastMessage||"",windowExpires:_n.windowExpiresAt||""})),xt=[["Name","Phone","Email","Last Message","Window Expires"].join(","),...ge.map(_n=>[_n.name,_n.phone,_n.email,`"${_n.lastMessage}"`,_n.windowExpires].join(","))].join(`
`),rt=new Blob([xt],{type:"text/csv"}),sn=URL.createObjectURL(rt),Jn=document.createElement("a");Jn.href=sn,Jn.download="24hour_window_contacts.csv",Jn.click(),URL.revokeObjectURL(sn),re.success("List downloaded successfully")},Ne=ge=>{const Ue=new Date(ge),rt=new Date().getTime()-Ue.getTime(),sn=Math.floor(rt/(1e3*60*60)),Jn=Math.floor(rt%(1e3*60*60)/(1e3*60));return sn===0?`${Jn} min ago`:sn<24?`${sn} hr ${Jn} min ago`:Ue.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})},Fe=ge=>{if(!ge)return"Unknown";const Ue=new Date(ge),xt=new Date,rt=Ue.getTime()-xt.getTime();if(rt<=0)return"Expired";const sn=Math.floor(rt/(1e3*60*60)),Jn=Math.floor(rt%(1e3*60*60)/(1e3*60));return`${sn} hr ${Jn} min left`},ut=ge=>{const Ue=P(ge);return Ue.startsWith("+")?Ue.slice(-2):Ue.split(" ").map(xt=>xt[0]).join("").slice(0,2).toUpperCase()},zt=F.filter(ge=>ge.contact.name.toLowerCase().includes(r.toLowerCase())||ge.contact.phone.includes(r)).sort((ge,Ue)=>{const xt=ge.lastMessageTime||ge.lastInboundMessageTime||ge.windowExpiresAt||"",rt=Ue.lastMessageTime||Ue.lastInboundMessageTime||Ue.windowExpiresAt||"";return new Date(rt).getTime()-new Date(xt).getTime()}),nn=K.filter(ge=>ge.status==="approved");return n.jsxs(ct,{children:[n.jsxs("div",{className:"h-[calc(100vh-80px)] md:h-[calc(100vh-100px)] flex flex-col gap-2 md:gap-4 animate-in fade-in slide-in-from-bottom-4 duration-500 overflow-hidden",children:[n.jsxs("div",{className:`flex flex-col md:flex-row md:items-center justify-between gap-2 flex-shrink-0 ${S==="chat"?"hidden md:flex":"flex"}`,children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-lg md:text-2xl font-bold tracking-tight flex items-center gap-2",children:[n.jsx(Ht,{className:"h-5 w-5 md:h-7 md:w-7 text-primary"}),"24-Hour Window Inbox"]}),n.jsx("p",{className:"text-xs md:text-sm text-muted-foreground hidden md:block",children:"Customers who messaged in the last 24 hours. Send free-form messages without templates."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Y,{variant:"outline",size:"sm",className:"md:size-default",onClick:Cn,children:[n.jsx(Or,{className:"h-4 w-4 md:mr-2"}),n.jsx("span",{className:"hidden md:inline",children:"Download List"})]}),l.length>0&&n.jsxs(Y,{size:"sm",className:"md:size-default",onClick:()=>f(!0),children:[n.jsx(nr,{className:"h-4 w-4 md:mr-2"}),n.jsx("span",{className:"hidden md:inline",children:"Send to"})," ",l.length]})]})]}),n.jsxs("div",{className:`flex items-center gap-2 md:gap-4 p-2 md:p-3 bg-muted/50 rounded-lg flex-shrink-0 ${S==="chat"?"hidden md:flex":"flex"}`,children:[n.jsx(Wn,{checked:l.length===F.length&&F.length>0,onCheckedChange:pe}),n.jsxs("span",{className:"text-xs md:text-sm font-medium",children:["Select All (",F.length," contacts)"]}),l.length>0&&n.jsxs(Ae,{variant:"secondary",className:"text-xs",children:[l.length," selected"]})]}),n.jsxs("div",{className:"flex-1 min-h-0 flex flex-col md:flex-row bg-card border border-border rounded-lg overflow-hidden shadow-sm",children:[n.jsxs("div",{className:`w-full md:w-80 lg:w-96 md:border-r border-border flex flex-col bg-background min-h-0 h-full ${S==="chat"?"hidden md:flex":"flex"}`,children:[n.jsx("div",{className:"p-3 md:p-4 border-b border-border",children:n.jsxs("div",{className:"relative",children:[n.jsx(Qn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search contacts...",className:"pl-9 bg-secondary/50",value:r,onChange:ge=>a(ge.target.value)})]})}),n.jsx(as,{className:"flex-1",children:H?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(We,{className:"h-6 w-6 animate-spin text-primary"})}):zt.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground text-center px-4",children:[n.jsx(Ht,{className:"h-12 w-12 mb-4 opacity-50"}),n.jsx("p",{children:"No contacts in 24-hour window"}),n.jsx("p",{className:"text-xs mt-1",children:"Contacts appear here when they message you"})]}):n.jsx("div",{className:"divide-y divide-border",children:zt.map(ge=>n.jsxs("div",{className:`p-3 flex items-start gap-2 hover:bg-muted/50 cursor-pointer transition-colors ${ge.id===e?"bg-muted/50":""}`,children:[n.jsx(Wn,{checked:l.includes(ge.contactId),onCheckedChange:()=>vt(ge.contactId),onClick:Ue=>Ue.stopPropagation(),className:"mt-1"}),n.jsxs("div",{className:"flex-1 flex items-start gap-2",onClick:()=>ue(ge.id),children:[n.jsx(aa,{className:"h-9 w-9",children:n.jsx(sa,{className:"bg-primary/10 text-primary text-sm",children:ut(ge.contact)})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:`text-sm font-medium truncate ${ge.unreadCount>0?"font-bold":""}`,children:P(ge.contact)}),ge.unreadCount>0&&n.jsx("span",{className:"h-4 w-4 rounded-full bg-primary text-primary-foreground text-[9px] flex items-center justify-center font-medium",children:ge.unreadCount})]}),n.jsx("span",{className:"text-[11px] text-muted-foreground whitespace-nowrap",children:ge.lastInboundMessageTime?Ne(ge.lastInboundMessageTime):""})]}),n.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:ge.lastInboundMessage||"No customer message"}),n.jsxs(Ae,{variant:"outline",className:"text-[10px] bg-green-50 text-green-700 border-green-200 mt-1 py-0",children:[n.jsx(Ht,{className:"h-2.5 w-2.5 mr-0.5"}),Fe(ge.windowExpiresAt)]})]})]})]},ge.id))})})]}),n.jsx("div",{className:`flex-1 flex flex-col bg-[#efeae2] dark:bg-zinc-900 bg-opacity-50 min-h-0 h-full ${S==="list"?"hidden md:flex":"flex"}`,children:G?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"h-14 md:h-16 bg-background border-b border-border flex items-center justify-between px-2 md:px-6 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[n.jsx(Y,{variant:"ghost",size:"icon",className:"flex md:hidden h-9 w-9 shrink-0",onClick:Me,children:n.jsx(QC,{className:"h-5 w-5"})}),n.jsx(aa,{className:"h-8 w-8 md:h-10 md:w-10",children:n.jsx(sa,{className:"bg-primary/10 text-primary text-sm",children:ut(G.contact)})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h3",{className:"font-medium text-sm md:text-base truncate",children:P(G.contact)}),n.jsxs("div",{className:"flex items-center gap-1 md:gap-2 flex-wrap",children:[n.jsx("span",{className:"text-[10px] md:text-xs text-muted-foreground truncate",children:G.contact.phone}),n.jsxs(Ae,{variant:"outline",className:"text-[9px] md:text-xs bg-green-50 text-green-700 border-green-200 py-0",children:[n.jsx(Ht,{className:"h-2.5 w-2.5 md:h-3 md:w-3 mr-0.5 md:mr-1"}),Fe(G.windowExpiresAt)]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[n.jsx(Y,{variant:"ghost",size:"icon",className:"hidden md:flex",children:n.jsx(Ac,{className:"h-5 w-5 text-muted-foreground"})}),n.jsx(Y,{variant:"ghost",size:"icon",className:"hidden md:flex",children:n.jsx(ov,{className:"h-5 w-5 text-muted-foreground"})}),n.jsxs(ol,{children:[n.jsx(ll,{asChild:!0,children:n.jsx(Y,{variant:"ghost",size:"icon",children:n.jsx(sv,{className:"h-5 w-5 text-muted-foreground"})})}),n.jsxs(Gi,{align:"end",children:[n.jsxs(Bn,{onClick:()=>ve.mutate(G.contactId),children:[n.jsx(t_,{className:"mr-2 h-4 w-4"}),"Mark as Unread"]}),n.jsxs(Bn,{className:"text-destructive",onClick:()=>{me({phone:G.contact.phone,name:G.contact.name}),_e(!0)},children:[n.jsx(zo,{className:"mr-2 h-4 w-4"}),"Block Contact"]})]})]})]})]}),n.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-3 md:p-6",children:ee?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(We,{className:"h-6 w-6 animate-spin text-primary"})}):X.length===0?n.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground text-sm",children:"No messages yet. Start the conversation!"}):n.jsxs("div",{className:"space-y-3 md:space-y-4",children:[X.map(ge=>n.jsx("div",{className:`flex ${ge.direction==="inbound"?"justify-start":"justify-end"} group`,children:n.jsxs("div",{className:`flex items-start gap-1 ${ge.direction==="inbound"?"flex-row":"flex-row-reverse"}`,children:[ge.direction==="inbound"&&n.jsx(Y,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity hidden md:flex",onClick:()=>w(ge),children:n.jsx(es,{className:"h-3 w-3"})}),n.jsxs("div",{className:`
                                max-w-[85%] md:max-w-[70%] rounded-lg px-3 md:px-4 py-2 shadow-sm relative break-words
                                ${ge.direction==="inbound"?"bg-white dark:bg-card text-card-foreground rounded-tl-none":"bg-[#d9fdd3] dark:bg-primary/20 text-foreground rounded-tr-none"}
                              `,children:[ge.replyToContent&&n.jsxs("div",{className:"mb-2 p-2 bg-black/5 dark:bg-white/10 rounded border-l-2 border-primary/50 text-xs text-muted-foreground",children:[n.jsx(es,{className:"h-3 w-3 inline mr-1"}),ge.replyToContent.substring(0,60),ge.replyToContent.length>60&&"..."]}),n.jsx("div",{className:"text-sm leading-relaxed",children:U(ge)}),n.jsxs("span",{className:"text-[10px] text-muted-foreground/80 block text-right mt-1",children:[Ne(ge.timestamp),ge.direction==="outbound"&&n.jsx("span",{className:`ml-1 ${ge.status==="read"?"text-blue-500":ge.status==="failed"?"text-red-500":""}`,children:ge.status==="read"||ge.status==="delivered"?"":ge.status==="failed"?"":""})]})]})]})},ge.id)),n.jsx("div",{ref:O})]})}),n.jsxs("div",{className:"p-2 md:p-4 bg-background border-t border-border flex-shrink-0",children:[A&&n.jsxs("div",{className:"mb-2 p-2 bg-muted rounded-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm min-w-0",children:[n.jsx(es,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground shrink-0"}),n.jsx("span",{className:"text-muted-foreground hidden md:inline",children:"Replying to:"}),n.jsx("span",{className:"truncate max-w-[150px] md:max-w-[300px]",children:A.content})]}),n.jsx(Y,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>w(null),children:n.jsx(Wi,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[n.jsx(Y,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground hidden md:flex",children:n.jsx(a_,{className:"h-6 w-6"})}),n.jsx(Y,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground h-8 w-8 md:h-10 md:w-10",children:n.jsx(n_,{className:"h-5 w-5 md:h-6 md:w-6"})}),n.jsx(Pe,{placeholder:"Type a message...",className:"flex-1 bg-secondary/50 border-none focus-visible:ring-1 text-sm h-9 md:h-10",value:s,onChange:ge=>i(ge.target.value),onKeyPress:ht}),n.jsx(Y,{size:"icon",className:"rounded-full h-9 w-9 md:h-10 md:w-10 shrink-0",onClick:Ze,disabled:!s.trim()||je.isPending,children:je.isPending?n.jsx(We,{className:"h-4 w-4 md:h-5 md:w-5 animate-spin"}):n.jsx(nr,{className:"h-4 w-4 md:h-5 md:w-5"})})]})]})]}):n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground p-4",children:[n.jsx(Ht,{className:"h-12 w-12 md:h-16 md:w-16 mb-4 opacity-50"}),n.jsx("p",{className:"text-base md:text-lg font-medium text-center",children:"Select a contact to chat"}),n.jsx("p",{className:"text-xs md:text-sm text-center",children:"Send messages without templates within the 24-hour window"})]})})]})]}),n.jsx($t,{open:d,onOpenChange:f,children:n.jsxs(kt,{className:"max-w-2xl",children:[n.jsx(Pt,{children:n.jsxs(Rt,{className:"flex items-center gap-2",children:[n.jsx(nr,{className:"h-5 w-5"}),"Send Message to ",l.length," Contacts"]})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-950/30 rounded-lg text-sm text-green-700 dark:text-green-400",children:[n.jsx(Ht,{className:"h-4 w-4 inline mr-2"}),"All selected contacts are within the 24-hour window. You can send custom messages without templates."]}),n.jsxs(rr,{value:m,onValueChange:ge=>p(ge),children:[n.jsxs(Zn,{className:"grid w-full grid-cols-3",children:[n.jsxs(lt,{value:"template",className:"flex items-center gap-2",children:[n.jsx(Yn,{className:"h-4 w-4"}),"Template"]}),n.jsxs(lt,{value:"custom",className:"flex items-center gap-2",children:[n.jsx(qt,{className:"h-4 w-4"}),"Custom"]}),n.jsxs(lt,{value:"ai",className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4"}),"AI Agent"]})]}),n.jsxs(ft,{value:"template",className:"space-y-4 pt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select Template"}),n.jsxs(Xe,{value:x,onValueChange:v,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Choose a template"})}),n.jsx(Ye,{children:nn.map(ge=>n.jsx(ae,{value:ge.id,children:ge.name},ge.id))})]})]}),x&&n.jsx("div",{className:"p-3 bg-muted rounded-lg",children:n.jsx("p",{className:"text-sm",children:K.find(ge=>ge.id===x)?.content})})]}),n.jsx(ft,{value:"custom",className:"space-y-4 pt-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Custom Message"}),n.jsx(cn,{placeholder:"Type your message here...",value:N,onChange:ge=>C(ge.target.value),rows:5}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Custom messages work only within the 24-hour window after customer contact."})]})}),n.jsxs(ft,{value:"ai",className:"space-y-4 pt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select AI Agent"}),n.jsxs(Xe,{value:j,onValueChange:y,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Choose an AI Agent"})}),n.jsx(Ye,{children:q.filter(ge=>ge.isActive).map(ge=>n.jsx(ae,{value:ge.id,children:ge.name},ge.id))})]})]}),j&&n.jsx("div",{className:"p-3 bg-muted rounded-lg",children:n.jsx("p",{className:"text-sm",children:q.find(ge=>ge.id===j)?.description||"AI Agent will generate personalized responses."})})]})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),n.jsxs(Y,{onClick:Zt,disabled:he.isPending,children:[he.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Send to ",l.length," Contact",l.length>1?"s":""]})]})]})}),n.jsx(Sd,{open:xe,onOpenChange:_e,children:n.jsxs(mc,{children:[n.jsxs(pc,{children:[n.jsx(gc,{children:"Block Contact"}),n.jsxs(yc,{children:["Are you sure you want to block ",Ee?.name||Ee?.phone,"? They will no longer be able to send you messages."]})]}),n.jsxs(xc,{children:[n.jsx(jc,{children:"Cancel"}),n.jsx(vc,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>Ee&&$e.mutate(Ee),children:"Block"})]})]})})]})}function J1e(){const[e,t]=b.useState(null),[r,a]=b.useState(""),[s,i]=b.useState(""),[l,u]=b.useState([]),[d,f]=b.useState(!1),[m,p]=b.useState("custom"),[x,v]=b.useState(""),[j,y]=b.useState(""),[N,C]=b.useState(""),[A,w]=b.useState(null),[S,E]=b.useState("all"),O=b.useRef(null),M=yn(),R=b.useRef(null),I=b.useRef(0),V=b.useRef(!1);b.useEffect(()=>{const Ne="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2telehs/hMGyjnYsT2fJ0sJxIBw4d7O5s4VYQXzQ182bhlltndzV0JqJe3aap7KopZmRjI+TmJ6cmZePhoJ+fHx8fH2AgYSGiYyPkZOVlZaWlpWUkpCNioaDgX9+fX19fn+BhIiMkJOXmpyenp6dnJqXlJGOioaDgYB/f4CBg4aJjZCTlpmbnZ2dnJqYlZKPjImGhIKBgICAgIGChYiLjpGUl5manJ2dnJuZl5WSkI2KiIaEg4KCgoKDhIaIi42QkpWXmZqbnJybmpiWlJKQjoqJh4aFhISEhISFhoiKjI6QkpSWmJmam5uamZeWlJKQjoyKiIeGhoWFhYWGh4iKjI6QkpSVl5iZmZmYl5aUkpCOjIqIh4aFhYWFhYaHiImLjI6QkpOVlpeYmJiXlpWUkpCOjIqIh4aFhYWFhoaHiImLjY+QkpOVlpeXl5eWlZSSkI+NjIqIh4aFhYWFhoaHiImLjI6PkZKUlZaWlpaVlJOSkI+NjIqJh4aGhYaGhoaHiImKjI2PkJGTlJWVlZWVlJOSkI+OjIuJiIeGhoaGhoaHiImKi42OkJGSk5SUlJSUk5KRkI+OjIuKiYiHh4aGh4eHiImKi4yNj5CRkpOTk5OTkpGQj46NjIuKiYiHh4eHh4eIiImKi4yNjo+QkZGRkZGRkI+Pjo2MjIuKiYmIiIeIiIiIiYmKi4yNjo+PkJCQkJCQj4+OjY2MjIuKiomIiIiIiIiJiYqKi4yNjY6Pj4+Pj4+Pjo6NjYyMi4uKiomJiIiIiIiJiYqKi4yMjY2Ojo6Ojo6OjY2NjIyMi4uKiomJiYiJiYmJiYqKi4uMjI2NjY2NjY2NjY2MjIyMi4uLioqJiYmJiYmJioqKi4uMjIyMjY2NjY2NjI2MjIyMi4uLioqKiomJiYmJiYqKioqLi4uMjIyMjIyMjIyMjIyMi4uLi4uKi4qKioqKioqKioqLi4uLjIyMjIyMjIyMjIyLi4uLi4uLioqKioqKioqKioqLi4uLi4yMjIyMjIyMjIuLi4uLi4uLioqKioqKioqKioqKi4uLi4yMjIyMjIyLi4uLi4uLi4uKioqKioqKioqKi4uLi4uLi4yMjIyMi4uLi4uLi4uLi4qKioqKioqKioqLi4uLi4uMjIyLi4uLi4uLi4uLi4qKioqKioqKioqLi4uLi4uLi4uLi4uLi4uLi4uLioqKioqKioqLi4uLi4uLi4uLi4uLi4uLi4uLioqKioqKi4uLi4uLi4uLi4uLi4uLi4uLi4qKioqKi4uLi4uLi4uLi4uLi4uLi4uLi4uKioqLi4uLi4uLi4uLi4uLi4uLi4uLi4qKioqLi4uLi4uLi4uLi4uLi4uLi4uLi4qKi4uLi4uLi4uLi4uLi4uLi4uLi4uLioqLi4uLi4uLi4uLi4uLi4uLi4uLi4uKi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4qLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4u...";R.current=new Audio(Ne),R.current.volume=.5;const Fe=()=>{V.current=!0,R.current&&(R.current.play().catch(()=>{}),R.current.pause(),R.current.currentTime=0)};return document.addEventListener("click",Fe,{once:!0}),document.addEventListener("keydown",Fe,{once:!0}),document.addEventListener("touchstart",Fe,{once:!0}),()=>{document.removeEventListener("click",Fe),document.removeEventListener("keydown",Fe),document.removeEventListener("touchstart",Fe)}},[]);const{data:F=[],isLoading:H}=Ie({queryKey:["/api/chats/whatsapp-leads"],refetchInterval:5e3});b.useEffect(()=>{const Ne=F.reduce((Fe,ut)=>Fe+ut.unreadCount,0);Ne>I.current&&V.current&&R.current&&(R.current.currentTime=0,R.current.play().catch(Fe=>console.log("Audio play failed:",Fe))),I.current=Ne},[F]);const{data:K=[]}=Ie({queryKey:["/api/templates"]}),{data:q=[]}=Ie({queryKey:["/api/agents"]}),$=b.useMemo(()=>F.find(Ne=>Ne.id===e),[F,e]),k=$?.contactId,{data:D=[],isLoading:P}=Ie({queryKey:["/api/messages",k],enabled:!!k}),U=b.useMemo(()=>{let Ne=F;if(S==="unread"&&(Ne=Ne.filter(Fe=>Fe.unreadCount>0)),r){const Fe=r.toLowerCase();Ne=Ne.filter(ut=>ut.contact.name.toLowerCase().includes(Fe)||ut.contact.phone.includes(Fe))}return Ne},[F,r,S]),G=Ne=>Ne.name&&!Ne.name.startsWith("WhatsApp ")&&!Ne.name.startsWith("+")?Ne.name:Ne.phone,B=Ne=>{const Fe=G(Ne);return Fe.startsWith("+")||Fe.match(/^\d/)?Fe.slice(-2):Fe.split(" ").map(ut=>ut[0]).join("").toUpperCase().slice(0,2)},z=Ne=>{try{const Fe=new Date(Ne);return isNaN(Fe.getTime())?"":Fe.toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return""}},X=Ne=>{const Fe=Ne.content,ut=Ne.mediaUrl;if(Ne.type==="image"||Fe.startsWith("[Image")){if(ut){const zt=Fe.replace(/^\[Image\]\s*/,"").replace(/^\[Image message\]$/,"");return n.jsxs("div",{className:"space-y-2",children:[n.jsx("img",{src:`/api/webhook/whatsapp/media/${ut}`,alt:"Shared image",className:"max-w-[280px] max-h-[300px] rounded-lg object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(`/api/webhook/whatsapp/media/${ut}`,"_blank"),onError:nn=>{nn.target.style.display="none",nn.target.nextElementSibling?.classList.remove("hidden")}}),n.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Image expired or unavailable"}),zt&&n.jsx("p",{className:"text-sm",children:zt})]})}return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Fe]})}else if(Ne.type==="video"||Fe.startsWith("[Video")){if(ut){const zt=Fe.replace(/^\[Video\]\s*/,"").replace(/^\[Video message\]$/,"");return n.jsxs("div",{className:"space-y-2",children:[n.jsx("video",{src:`/api/webhook/whatsapp/media/${ut}`,controls:!0,className:"max-w-[280px] max-h-[300px] rounded-lg",onError:nn=>{nn.target.style.display="none",nn.target.nextElementSibling?.classList.remove("hidden")}}),n.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Video expired or unavailable"}),zt&&n.jsx("p",{className:"text-sm",children:zt})]})}return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Fe]})}else{if(Ne.type==="audio"||Fe.startsWith("[Audio"))return ut?n.jsxs("div",{className:"space-y-2",children:[n.jsx("audio",{src:`/api/webhook/whatsapp/media/${ut}`,controls:!0,className:"max-w-[280px]",onError:zt=>{zt.target.style.display="none",zt.target.nextElementSibling?.classList.remove("hidden")}}),n.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Audio expired or unavailable"})]}):n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Fe]});if(Ne.type==="sticker"||Fe.startsWith("[Sticker"))return ut?n.jsxs("div",{children:[n.jsx("img",{src:`/api/webhook/whatsapp/media/${ut}`,alt:"Sticker",className:"max-w-[150px] max-h-[150px]",onError:zt=>{zt.target.style.display="none",zt.target.nextElementSibling?.classList.remove("hidden")}}),n.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Sticker expired or unavailable"})]}):n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Fe]});if(Ne.type==="document"||Fe.startsWith("[Document")){if(ut){const zt=Fe.match(/\[Document: ([^\]]+)\]/)?.[1]||"document";return n.jsxs("a",{href:`/api/webhook/whatsapp/media/${ut}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 bg-muted rounded-lg hover:bg-muted/80 transition-colors",children:[n.jsx("span",{className:"text-lg",children:""}),n.jsx("span",{className:"text-sm underline",children:zt})]})}return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Fe]})}else{if(Fe.startsWith("[Location"))return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Fe]});if(Fe.startsWith("[Contact"))return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Fe]});if(Fe.startsWith("[Reaction"))return n.jsx("span",{className:"flex items-center gap-1",children:Fe});if(Fe.startsWith("[Unsupported"))return n.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Fe]})}}return n.jsx("span",{children:Fe})},ee=qe({mutationFn:async({content:Ne,phone:Fe,contactId:ut,replyToMessageId:zt,replyToContent:nn})=>{const ge=await Nn("/api/webhook/whatsapp/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:Fe,message:nn?`> ${nn.substring(0,50)}${nn.length>50?"...":""}

${Ne}`:Ne})});if(!ge.ok){const xt=await ge.json();throw new Error(xt.error||"Failed to send WhatsApp message")}const Ue=await Nn("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contactId:ut,content:Ne,type:"text",direction:"outbound",status:"sent",replyToMessageId:zt,replyToContent:nn})});if(!Ue.ok)throw new Error("Failed to save message");return{result:await Ue.json(),contactId:ut}},onSuccess:Ne=>{M.invalidateQueries({queryKey:["/api/messages",Ne.contactId]}),M.invalidateQueries({queryKey:["/api/chats/whatsapp-leads"]}),i(""),w(null),re.success("Message sent via WhatsApp")},onError:Ne=>{re.error(Ne.message||"Failed to send message")}}),je=qe({mutationFn:async Ne=>{const Fe={success:0,failed:0};for(const ut of Ne.contacts){const zt=F.find(ge=>ge.id===ut);if(!zt)continue;const nn=zt.contact.phone.replace(/\D/g,"");try{await Nn("/api/webhook/whatsapp/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:nn,message:Ne.content})}),await Nn("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contactId:zt.contactId,content:Ne.content,type:"text",direction:"outbound",status:"sent"})}),Fe.success++}catch{Fe.failed++}}return Fe},onSuccess:Ne=>{M.invalidateQueries({queryKey:["/api/chats/whatsapp-leads"]}),M.invalidateQueries({queryKey:["/api/chats"]}),u([]),f(!1),C(""),v(""),y(""),Ne.failed>0?re.success(`Sent to ${Ne.success} contacts, ${Ne.failed} failed`):re.success(`Message sent to ${Ne.success} contact${Ne.success>1?"s":""}`)},onError:()=>{re.error("Failed to send messages")}}),he=qe({mutationFn:async Ne=>{const Fe=await Nn(`/api/chats/${Ne}/mark-read`,{method:"POST"});if(!Fe.ok)throw new Error("Failed to mark as read");return Fe.json()},onSuccess:()=>{M.invalidateQueries({queryKey:["/api/chats/whatsapp-leads"]}),M.invalidateQueries({queryKey:["/api/chats"]})}}),le=qe({mutationFn:async Ne=>{const Fe=await Nn(`/api/chats/${Ne}/mark-unread`,{method:"POST"});if(!Fe.ok)throw new Error("Failed to mark as unread");return Fe.json()},onSuccess:()=>{M.invalidateQueries({queryKey:["/api/chats/whatsapp-leads"]}),M.invalidateQueries({queryKey:["/api/chats"]}),re.success("Marked as unread")}}),[ve,xe]=b.useState(!1),[_e,Ee]=b.useState(null),me=qe({mutationFn:async({phone:Ne,name:Fe})=>{const ut=await Nn("/api/contacts/block",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:Ne,name:Fe,reason:"Blocked from WhatsApp Leads"})});if(!ut.ok)throw new Error("Failed to block contact");return ut.json()},onSuccess:()=>{M.invalidateQueries({queryKey:["/api/chats/whatsapp-leads"]}),M.invalidateQueries({queryKey:["/api/chats"]}),xe(!1),Ee(null),t(null),re.success("Contact blocked successfully")},onError:()=>{re.error("Failed to block contact")}}),$e=Ne=>{t(Ne);const Fe=F.find(ut=>ut.id===Ne);Fe&&Fe.unreadCount>0&&he.mutate(Fe.contactId)};b.useEffect(()=>{O.current?.scrollIntoView({behavior:"smooth"})},[D]);const ue=()=>{if(!s.trim()||!$||!k)return;const Ne=$.contact.phone.replace(/\D/g,"");ee.mutate({content:s,phone:Ne,contactId:k,replyToMessageId:A?.id,replyToContent:A?.content})},Me=Ne=>{Ne.key==="Enter"&&!Ne.shiftKey&&(Ne.preventDefault(),ue())},Ze=Ne=>{u(Ne?U.map(Fe=>Fe.id):[])},ht=(Ne,Fe)=>{u(Fe?[...l,Ne]:l.filter(ut=>ut!==Ne))},pe=()=>{if(l.length===0){re.error("Please select at least one contact");return}f(!0)},vt=()=>{let Ne="";if(m==="template"?Ne=K.find(ut=>ut.id===x)?.content||"":m==="custom"?Ne=N:m==="ai"&&(Ne=q.find(ut=>ut.id===j)?.description||"AI agent will respond"),!Ne){re.error("Please enter a message or select a template");return}je.mutate({contacts:l,messageType:m,content:Ne})},Zt=()=>{const Ne=[["Name","Phone","Last Message","Last Message Time"].join(","),...U.map(nn=>[G(nn.contact),nn.contact.phone,`"${(nn.lastInboundMessage||"").replace(/"/g,'""')}"`,nn.lastInboundMessageTime||""].join(","))].join(`
`),Fe=new Blob([Ne],{type:"text/csv"}),ut=URL.createObjectURL(Fe),zt=document.createElement("a");zt.href=ut,zt.download=`whatsapp-leads-${new Date().toISOString().split("T")[0]}.csv`,zt.click(),URL.revokeObjectURL(ut)},Cn=F.reduce((Ne,Fe)=>Ne+Fe.unreadCount,0);return n.jsxs(ct,{children:[n.jsxs("div",{className:"h-full flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between flex-shrink-0",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Yt,{className:"h-6 w-6 text-primary"}),"WhatsApp Leads"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"New contacts who messaged you (not in your contact list). Assign AI agents based on their first message."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[l.length>0&&n.jsxs(Y,{onClick:pe,className:"gap-2",children:[n.jsx(nr,{className:"h-4 w-4"}),"Send to ",l.length," Selected"]}),n.jsxs(Y,{variant:"outline",onClick:Zt,className:"gap-2",children:[n.jsx(Or,{className:"h-4 w-4"}),"Download List"]})]})]}),n.jsxs("div",{className:"flex flex-1 min-h-0 bg-card border border-border rounded-lg overflow-hidden shadow-sm",children:[n.jsxs("div",{className:"w-96 border-r border-border flex flex-col bg-background min-h-0",children:[n.jsxs("div",{className:"p-3 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wn,{checked:l.length===U.length&&U.length>0,onCheckedChange:Ne=>Ze(Ne)}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Select All (",U.length," leads)"]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search leads...",className:"pl-9",value:r,onChange:Ne=>a(Ne.target.value)})]}),n.jsx(rr,{value:S,onValueChange:Ne=>E(Ne),children:n.jsxs(Zn,{className:"grid w-full grid-cols-2",children:[n.jsx(lt,{value:"all",children:"All"}),n.jsxs(lt,{value:"unread",className:"gap-1",children:["Unread",Cn>0&&n.jsx(Ae,{variant:"destructive",className:"h-5 px-1.5 text-xs",children:Cn})]})]})})]}),n.jsx(as,{className:"flex-1",children:H?n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsx(We,{className:"h-6 w-6 animate-spin text-primary"})}):U.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-muted-foreground",children:[n.jsx(Yt,{className:"h-8 w-8 mb-2"}),n.jsx("p",{className:"text-sm",children:"No WhatsApp leads yet"}),n.jsx("p",{className:"text-xs",children:"New contacts will appear here"})]}):n.jsx("div",{className:"divide-y divide-border",children:U.map(Ne=>n.jsxs("div",{className:`flex items-start gap-2 p-3 cursor-pointer hover:bg-muted/50 transition-colors ${e===Ne.id?"bg-muted/50":""}`,children:[n.jsx(Wn,{checked:l.includes(Ne.id),onCheckedChange:Fe=>ht(Ne.id,Fe),onClick:Fe=>Fe.stopPropagation(),className:"mt-1"}),n.jsxs("div",{className:"flex-1 min-w-0 flex items-start gap-2",onClick:()=>$e(Ne.id),children:[n.jsx(aa,{className:"h-9 w-9",children:n.jsx(sa,{className:"bg-primary/10 text-primary text-sm",children:B(Ne.contact)})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"text-sm font-medium truncate",children:G(Ne.contact)}),Ne.unreadCount>0&&n.jsx("span",{className:"h-4 w-4 rounded-full bg-primary text-primary-foreground text-[9px] flex items-center justify-center font-medium",children:Ne.unreadCount})]})}),n.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:Ne.lastInboundMessage||"No message"}),n.jsxs(Ae,{variant:"outline",className:"text-[10px] bg-blue-50 text-blue-700 border-blue-200 mt-1 py-0",children:[n.jsx(nc,{className:"h-2.5 w-2.5 mr-0.5"}),"New Lead"]})]})]})]},Ne.id))})})]}),$?n.jsxs("div",{className:"flex-1 flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(aa,{className:"h-10 w-10",children:n.jsx(sa,{className:"bg-primary/10 text-primary",children:B($.contact)})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:G($.contact)}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:$.contact.phone}),n.jsxs(Ae,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:[n.jsx(nc,{className:"h-3 w-3 mr-1"}),"WhatsApp Lead"]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Y,{variant:"ghost",size:"icon",children:n.jsx(Ac,{className:"h-5 w-5 text-muted-foreground"})}),n.jsx(Y,{variant:"ghost",size:"icon",children:n.jsx(ov,{className:"h-5 w-5 text-muted-foreground"})}),n.jsxs(ol,{children:[n.jsx(ll,{asChild:!0,children:n.jsx(Y,{variant:"ghost",size:"icon",children:n.jsx(sv,{className:"h-5 w-5 text-muted-foreground"})})}),n.jsxs(Gi,{align:"end",children:[n.jsxs(Bn,{onClick:()=>le.mutate($.contactId),children:[n.jsx(t_,{className:"mr-2 h-4 w-4"}),"Mark as Unread"]}),n.jsxs(Bn,{className:"text-destructive",onClick:()=>{Ee({phone:$.contact.phone,name:$.contact.name}),xe(!0)},children:[n.jsx(zo,{className:"mr-2 h-4 w-4"}),"Block Contact"]})]})]})]})]}),n.jsx(as,{className:"flex-1 p-6",children:P?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(We,{className:"h-6 w-6 animate-spin text-primary"})}):D.length===0?n.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No messages yet. Start the conversation!"}):n.jsxs("div",{className:"space-y-4",children:[D.map(Ne=>n.jsx("div",{className:`flex ${Ne.direction==="inbound"?"justify-start":"justify-end"} group`,children:n.jsxs("div",{className:`flex items-start gap-1 ${Ne.direction==="inbound"?"flex-row":"flex-row-reverse"}`,children:[Ne.direction==="inbound"&&n.jsx(Y,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>w(Ne),children:n.jsx(es,{className:"h-3 w-3"})}),n.jsxs("div",{className:`
                              max-w-[70%] rounded-lg px-4 py-2 shadow-sm relative
                              ${Ne.direction==="inbound"?"bg-white dark:bg-card text-card-foreground rounded-tl-none":"bg-[#d9fdd3] dark:bg-primary/20 text-foreground rounded-tr-none"}
                            `,children:[Ne.replyToContent&&n.jsxs("div",{className:"mb-2 p-2 bg-black/5 dark:bg-white/10 rounded border-l-2 border-primary/50 text-xs text-muted-foreground",children:[n.jsx(es,{className:"h-3 w-3 inline mr-1"}),Ne.replyToContent.substring(0,60),Ne.replyToContent.length>60&&"..."]}),n.jsx("div",{className:"text-sm leading-relaxed",children:X(Ne)}),n.jsxs("span",{className:"text-[10px] text-muted-foreground/80 block text-right mt-1",children:[z(Ne.timestamp),Ne.direction==="outbound"&&n.jsx("span",{className:`ml-1 ${Ne.status==="read"?"text-blue-500":Ne.status==="failed"?"text-red-500":""}`,children:Ne.status==="read"||Ne.status==="delivered"?"":Ne.status==="failed"?"":""})]})]})]})},Ne.id)),n.jsx("div",{ref:O})]})}),n.jsxs("div",{className:"p-4 bg-background border-t border-border",children:[A&&n.jsxs("div",{className:"mb-2 p-2 bg-muted rounded-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(es,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Replying to:"}),n.jsx("span",{className:"truncate max-w-[300px]",children:A.content})]}),n.jsx(Y,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>w(null),children:n.jsx(Wi,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Y,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground",children:n.jsx(a_,{className:"h-6 w-6"})}),n.jsx(Y,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground",children:n.jsx(n_,{className:"h-6 w-6"})}),n.jsx(Pe,{placeholder:"Type a message...",className:"flex-1 bg-secondary/50 border-none focus-visible:ring-1",value:s,onChange:Ne=>i(Ne.target.value),onKeyPress:Me}),n.jsx(Y,{size:"icon",className:"rounded-full h-10 w-10",onClick:ue,disabled:!s.trim()||ee.isPending,children:ee.isPending?n.jsx(We,{className:"h-5 w-5 animate-spin"}):n.jsx(nr,{className:"h-5 w-5"})})]})]})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Yt,{className:"h-16 w-16 mx-auto mb-4 opacity-20"}),n.jsx("h3",{className:"text-lg font-medium",children:"Select a Lead"}),n.jsx("p",{className:"text-sm",children:"Choose a lead from the list to view conversation"})]})})]})]}),n.jsx($t,{open:d,onOpenChange:f,children:n.jsxs(kt,{className:"sm:max-w-[500px]",children:[n.jsx(Pt,{children:n.jsxs(Rt,{children:["Send Message to ",l.length," Leads"]})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/30 rounded-lg text-sm text-blue-700 dark:text-blue-400",children:[n.jsx(Yt,{className:"h-4 w-4 inline mr-2"}),"You can send custom messages to WhatsApp leads without template restrictions."]}),n.jsxs(rr,{value:m,onValueChange:Ne=>p(Ne),children:[n.jsxs(Zn,{className:"grid w-full grid-cols-3",children:[n.jsxs(lt,{value:"template",className:"gap-1",children:[n.jsx(Yn,{className:"h-4 w-4"}),"Template"]}),n.jsxs(lt,{value:"custom",className:"gap-1",children:[n.jsx(qt,{className:"h-4 w-4"}),"Custom"]}),n.jsxs(lt,{value:"ai",className:"gap-1",children:[n.jsx(Ct,{className:"h-4 w-4"}),"AI Agent"]})]}),n.jsxs(ft,{value:"template",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select Template"}),n.jsxs(Xe,{value:x,onValueChange:v,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Choose a template"})}),n.jsx(Ye,{children:K.filter(Ne=>Ne.status==="APPROVED").map(Ne=>n.jsx(ae,{value:Ne.id,children:Ne.name},Ne.id))})]})]}),x&&n.jsx("div",{className:"p-3 bg-muted rounded-lg text-sm",children:K.find(Ne=>Ne.id===x)?.content})]}),n.jsx(ft,{value:"custom",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Custom Message"}),n.jsx(cn,{placeholder:"Type your message...",value:N,onChange:Ne=>C(Ne.target.value),rows:4})]})}),n.jsxs(ft,{value:"ai",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select AI Agent"}),n.jsxs(Xe,{value:j,onValueChange:y,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Choose an AI agent"})}),n.jsx(Ye,{children:q.filter(Ne=>Ne.isActive).map(Ne=>n.jsx(ae,{value:Ne.id,children:Ne.name},Ne.id))})]})]}),j&&n.jsx("div",{className:"p-3 bg-muted rounded-lg text-sm",children:q.find(Ne=>Ne.id===j)?.description})]})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),n.jsx(Y,{onClick:vt,disabled:je.isPending,children:je.isPending?n.jsxs(n.Fragment,{children:[n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx(nr,{className:"mr-2 h-4 w-4"}),"Send to All"]})})]})]})}),n.jsx(Sd,{open:ve,onOpenChange:xe,children:n.jsxs(mc,{children:[n.jsxs(pc,{children:[n.jsx(gc,{children:"Block Contact"}),n.jsxs(yc,{children:["Are you sure you want to block ",_e?.name||_e?.phone,"? They will no longer be able to send you messages."]})]}),n.jsxs(xc,{children:[n.jsx(jc,{children:"Cancel"}),n.jsx(vc,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>_e&&me.mutate(_e),children:"Block"})]})]})})]})}const Dt=b.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:Je("w-full caption-bottom text-sm",e),...t})}));Dt.displayName="Table";const It=b.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:Je("[&_tr]:border-b",e),...t}));It.displayName="TableHeader";const Lt=b.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:Je("[&_tr:last-child]:border-0",e),...t}));Lt.displayName="TableBody";const eSe=b.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:Je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));eSe.displayName="TableFooter";const Ve=b.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:Je("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ve.displayName="TableRow";const ne=b.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:Je("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));ne.displayName="TableHead";const te=b.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:Je("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));te.displayName="TableCell";const tSe=b.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:Je("mt-4 text-sm text-muted-foreground",e),...t}));tSe.displayName="TableCaption";function nSe(){const[,e]=il(),t=yn(),{data:r=[],isLoading:a}=Ie({queryKey:["/api/campaigns"],queryFn:async()=>{const p=await fetch("/api/campaigns");if(!p.ok)throw new Error("Failed to fetch campaigns");return p.json()}}),s=qe({mutationFn:async p=>{const x=await fetch(`/api/campaigns/${p}/send`,{method:"POST"});if(!x.ok)throw new Error("Failed to send campaign");return x.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/campaigns"]}),re.success("Campaign sent successfully!")},onError:()=>{re.error("Failed to send campaign")}}),i=qe({mutationFn:async p=>{if(!(await fetch(`/api/campaigns/${p}`,{method:"DELETE"})).ok)throw new Error("Failed to delete campaign")},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/campaigns"]}),re.success("Campaign deleted successfully")},onError:()=>{re.error("Failed to delete campaign")}}),l=r.filter(p=>p.status==="running").length,u=r.filter(p=>p.status==="scheduled").length,d=r.reduce((p,x)=>p+x.sentCount,0),f=p=>{switch(p){case"completed":return"secondary";case"running":return"default";case"scheduled":return"outline";case"draft":return"outline";default:return"secondary"}},m=p=>new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Campaigns"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your broadcast lists and scheduled messages."})]}),n.jsxs(Y,{onClick:()=>e("/campaigns/broadcast"),children:[n.jsx(An,{className:"mr-2 h-4 w-4"}),"New Campaign"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Active Campaigns"}),n.jsx(oZ,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:l}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Running right now"})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Scheduled"}),n.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:u}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upcoming"})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Messages Sent"}),n.jsx(PF,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d.toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total across all campaigns"})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"All Campaigns"}),n.jsx(Le,{children:"A list of all your recent broadcasts and automated sequences."})]}),n.jsx(Z,{children:a?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):r.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No campaigns yet. Create your first campaign to get started."}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Campaign Name"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{children:"Sent"}),n.jsx(ne,{children:"Delivered"}),n.jsx(ne,{children:"Read"}),n.jsx(ne,{children:"Date"}),n.jsx(ne,{className:"text-right",children:"Actions"})]})}),n.jsx(Lt,{children:r.map(p=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:p.name}),n.jsx(te,{children:n.jsx(Ae,{variant:f(p.status),className:p.status==="running"?"bg-green-500 hover:bg-green-600":"",children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})}),n.jsx(te,{children:p.sentCount.toLocaleString()}),n.jsx(te,{children:p.deliveredCount.toLocaleString()}),n.jsx(te,{children:p.readCount.toLocaleString()}),n.jsx(te,{className:"text-muted-foreground",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ii,{className:"h-3 w-3"}),p.scheduledAt?m(p.scheduledAt):m(p.createdAt)]})}),n.jsx(te,{className:"text-right",children:n.jsxs(ol,{children:[n.jsx(ll,{asChild:!0,children:n.jsx(Y,{variant:"ghost",size:"icon",children:n.jsx(JC,{className:"h-4 w-4"})})}),n.jsxs(Gi,{align:"end",children:[n.jsxs(Bn,{onClick:()=>e("/campaigns/report"),children:[n.jsx(ma,{className:"mr-2 h-4 w-4"}),"View Report"]}),(p.status==="draft"||p.status==="scheduled")&&n.jsxs(Bn,{onClick:()=>s.mutate(p.id),children:[n.jsx(Za,{className:"mr-2 h-4 w-4"}),"Send Now"]}),n.jsxs(Bn,{className:"text-destructive",onClick:()=>i.mutate(p.id),children:[n.jsx(hr,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},p.id))})]})})]})]})})}function mr(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,a;r<e.length;r++)(a=mr(e[r]))!==""&&(t+=(t&&" ")+a);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var rSe={value:()=>{}};function x0(){for(var e=0,t=arguments.length,r={},a;e<t;++e){if(!(a=arguments[e]+"")||a in r||/[\s.]/.test(a))throw new Error("illegal type: "+a);r[a]=[]}return new vg(r)}function vg(e){this._=e}function aSe(e,t){return e.trim().split(/^|\s+/).map(function(r){var a="",s=r.indexOf(".");if(s>=0&&(a=r.slice(s+1),r=r.slice(0,s)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:a}})}vg.prototype=x0.prototype={constructor:vg,on:function(e,t){var r=this._,a=aSe(e+"",r),s,i=-1,l=a.length;if(arguments.length<2){for(;++i<l;)if((s=(e=a[i]).type)&&(s=sSe(r[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<l;)if(s=(e=a[i]).type)r[s]=S$(r[s],e.name,t);else if(t==null)for(s in r)r[s]=S$(r[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new vg(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var r=new Array(s),a=0,s,i;a<s;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],a=0,s=i.length;a<s;++a)i[a].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],s=0,i=a.length;s<i;++s)a[s].value.apply(t,r)}};function sSe(e,t){for(var r=0,a=e.length,s;r<a;++r)if((s=e[r]).name===t)return s.value}function S$(e,t,r){for(var a=0,s=e.length;a<s;++a)if(e[a].name===t){e[a]=rSe,e=e.slice(0,a).concat(e.slice(a+1));break}return r!=null&&e.push({name:t,value:r}),e}var SC="http://www.w3.org/1999/xhtml";const A$={svg:"http://www.w3.org/2000/svg",xhtml:SC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function g0(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),A$.hasOwnProperty(t)?{space:A$[t],local:e}:e}function iSe(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===SC&&t.documentElement.namespaceURI===SC?t.createElement(e):t.createElementNS(r,e)}}function oSe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function B7(e){var t=g0(e);return(t.local?oSe:iSe)(t)}function lSe(){}function tT(e){return e==null?lSe:function(){return this.querySelector(e)}}function cSe(e){typeof e!="function"&&(e=tT(e));for(var t=this._groups,r=t.length,a=new Array(r),s=0;s<r;++s)for(var i=t[s],l=i.length,u=a[s]=new Array(l),d,f,m=0;m<l;++m)(d=i[m])&&(f=e.call(d,d.__data__,m,i))&&("__data__"in d&&(f.__data__=d.__data__),u[m]=f);return new Da(a,this._parents)}function uSe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function dSe(){return[]}function U7(e){return e==null?dSe:function(){return this.querySelectorAll(e)}}function fSe(e){return function(){return uSe(e.apply(this,arguments))}}function hSe(e){typeof e=="function"?e=fSe(e):e=U7(e);for(var t=this._groups,r=t.length,a=[],s=[],i=0;i<r;++i)for(var l=t[i],u=l.length,d,f=0;f<u;++f)(d=l[f])&&(a.push(e.call(d,d.__data__,f,l)),s.push(d));return new Da(a,s)}function H7(e){return function(){return this.matches(e)}}function K7(e){return function(t){return t.matches(e)}}var mSe=Array.prototype.find;function pSe(e){return function(){return mSe.call(this.children,e)}}function xSe(){return this.firstElementChild}function gSe(e){return this.select(e==null?xSe:pSe(typeof e=="function"?e:K7(e)))}var ySe=Array.prototype.filter;function vSe(){return Array.from(this.children)}function jSe(e){return function(){return ySe.call(this.children,e)}}function bSe(e){return this.selectAll(e==null?vSe:jSe(typeof e=="function"?e:K7(e)))}function wSe(e){typeof e!="function"&&(e=H7(e));for(var t=this._groups,r=t.length,a=new Array(r),s=0;s<r;++s)for(var i=t[s],l=i.length,u=a[s]=[],d,f=0;f<l;++f)(d=i[f])&&e.call(d,d.__data__,f,i)&&u.push(d);return new Da(a,this._parents)}function V7(e){return new Array(e.length)}function NSe(){return new Da(this._enter||this._groups.map(V7),this._parents)}function Hy(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Hy.prototype={constructor:Hy,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function SSe(e){return function(){return e}}function ASe(e,t,r,a,s,i){for(var l=0,u,d=t.length,f=i.length;l<f;++l)(u=t[l])?(u.__data__=i[l],a[l]=u):r[l]=new Hy(e,i[l]);for(;l<d;++l)(u=t[l])&&(s[l]=u)}function CSe(e,t,r,a,s,i,l){var u,d,f=new Map,m=t.length,p=i.length,x=new Array(m),v;for(u=0;u<m;++u)(d=t[u])&&(x[u]=v=l.call(d,d.__data__,u,t)+"",f.has(v)?s[u]=d:f.set(v,d));for(u=0;u<p;++u)v=l.call(e,i[u],u,i)+"",(d=f.get(v))?(a[u]=d,d.__data__=i[u],f.delete(v)):r[u]=new Hy(e,i[u]);for(u=0;u<m;++u)(d=t[u])&&f.get(x[u])===d&&(s[u]=d)}function _Se(e){return e.__data__}function ESe(e,t){if(!arguments.length)return Array.from(this,_Se);var r=t?CSe:ASe,a=this._parents,s=this._groups;typeof e!="function"&&(e=SSe(e));for(var i=s.length,l=new Array(i),u=new Array(i),d=new Array(i),f=0;f<i;++f){var m=a[f],p=s[f],x=p.length,v=TSe(e.call(m,m&&m.__data__,f,a)),j=v.length,y=u[f]=new Array(j),N=l[f]=new Array(j),C=d[f]=new Array(x);r(m,p,y,N,C,v,t);for(var A=0,w=0,S,E;A<j;++A)if(S=y[A]){for(A>=w&&(w=A+1);!(E=N[w])&&++w<j;);S._next=E||null}}return l=new Da(l,a),l._enter=u,l._exit=d,l}function TSe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OSe(){return new Da(this._exit||this._groups.map(V7),this._parents)}function MSe(e,t,r){var a=this.enter(),s=this,i=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),r==null?i.remove():r(i),a&&s?a.merge(s).order():s}function kSe(e){for(var t=e.selection?e.selection():e,r=this._groups,a=t._groups,s=r.length,i=a.length,l=Math.min(s,i),u=new Array(s),d=0;d<l;++d)for(var f=r[d],m=a[d],p=f.length,x=u[d]=new Array(p),v,j=0;j<p;++j)(v=f[j]||m[j])&&(x[j]=v);for(;d<s;++d)u[d]=r[d];return new Da(u,this._parents)}function PSe(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var a=e[t],s=a.length-1,i=a[s],l;--s>=0;)(l=a[s])&&(i&&l.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(l,i),i=l);return this}function RSe(e){e||(e=DSe);function t(p,x){return p&&x?e(p.__data__,x.__data__):!p-!x}for(var r=this._groups,a=r.length,s=new Array(a),i=0;i<a;++i){for(var l=r[i],u=l.length,d=s[i]=new Array(u),f,m=0;m<u;++m)(f=l[m])&&(d[m]=f);d.sort(t)}return new Da(s,this._parents).order()}function DSe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ISe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function LSe(){return Array.from(this)}function $Se(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a=e[t],s=0,i=a.length;s<i;++s){var l=a[s];if(l)return l}return null}function FSe(){let e=0;for(const t of this)++e;return e}function qSe(){return!this.node()}function zSe(e){for(var t=this._groups,r=0,a=t.length;r<a;++r)for(var s=t[r],i=0,l=s.length,u;i<l;++i)(u=s[i])&&e.call(u,u.__data__,i,s);return this}function BSe(e){return function(){this.removeAttribute(e)}}function USe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function HSe(e,t){return function(){this.setAttribute(e,t)}}function KSe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function VSe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function WSe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function GSe(e,t){var r=g0(e);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((t==null?r.local?USe:BSe:typeof t=="function"?r.local?WSe:VSe:r.local?KSe:HSe)(r,t))}function W7(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function YSe(e){return function(){this.style.removeProperty(e)}}function XSe(e,t,r){return function(){this.style.setProperty(e,t,r)}}function QSe(e,t,r){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,r)}}function ZSe(e,t,r){return arguments.length>1?this.each((t==null?YSe:typeof t=="function"?QSe:XSe)(e,t,r??"")):Ad(this.node(),e)}function Ad(e,t){return e.style.getPropertyValue(t)||W7(e).getComputedStyle(e,null).getPropertyValue(t)}function JSe(e){return function(){delete this[e]}}function e2e(e,t){return function(){this[e]=t}}function t2e(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function n2e(e,t){return arguments.length>1?this.each((t==null?JSe:typeof t=="function"?t2e:e2e)(e,t)):this.node()[e]}function G7(e){return e.trim().split(/^|\s+/)}function nT(e){return e.classList||new Y7(e)}function Y7(e){this._node=e,this._names=G7(e.getAttribute("class")||"")}Y7.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function X7(e,t){for(var r=nT(e),a=-1,s=t.length;++a<s;)r.add(t[a])}function Q7(e,t){for(var r=nT(e),a=-1,s=t.length;++a<s;)r.remove(t[a])}function r2e(e){return function(){X7(this,e)}}function a2e(e){return function(){Q7(this,e)}}function s2e(e,t){return function(){(t.apply(this,arguments)?X7:Q7)(this,e)}}function i2e(e,t){var r=G7(e+"");if(arguments.length<2){for(var a=nT(this.node()),s=-1,i=r.length;++s<i;)if(!a.contains(r[s]))return!1;return!0}return this.each((typeof t=="function"?s2e:t?r2e:a2e)(r,t))}function o2e(){this.textContent=""}function l2e(e){return function(){this.textContent=e}}function c2e(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function u2e(e){return arguments.length?this.each(e==null?o2e:(typeof e=="function"?c2e:l2e)(e)):this.node().textContent}function d2e(){this.innerHTML=""}function f2e(e){return function(){this.innerHTML=e}}function h2e(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function m2e(e){return arguments.length?this.each(e==null?d2e:(typeof e=="function"?h2e:f2e)(e)):this.node().innerHTML}function p2e(){this.nextSibling&&this.parentNode.appendChild(this)}function x2e(){return this.each(p2e)}function g2e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function y2e(){return this.each(g2e)}function v2e(e){var t=typeof e=="function"?e:B7(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function j2e(){return null}function b2e(e,t){var r=typeof e=="function"?e:B7(e),a=t==null?j2e:typeof t=="function"?t:tT(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}function w2e(){var e=this.parentNode;e&&e.removeChild(this)}function N2e(){return this.each(w2e)}function S2e(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function A2e(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function C2e(e){return this.select(e?A2e:S2e)}function _2e(e){return arguments.length?this.property("__data__",e):this.node().__data__}function E2e(e){return function(t){e.call(this,t,this.__data__)}}function T2e(e){return e.trim().split(/^|\s+/).map(function(t){var r="",a=t.indexOf(".");return a>=0&&(r=t.slice(a+1),t=t.slice(0,a)),{type:t,name:r}})}function O2e(e){return function(){var t=this.__on;if(t){for(var r=0,a=-1,s=t.length,i;r<s;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++a]=i;++a?t.length=a:delete this.__on}}}function M2e(e,t,r){return function(){var a=this.__on,s,i=E2e(t);if(a){for(var l=0,u=a.length;l<u;++l)if((s=a[l]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=r),s.value=t;return}}this.addEventListener(e.type,i,r),s={type:e.type,name:e.name,value:t,listener:i,options:r},a?a.push(s):this.__on=[s]}}function k2e(e,t,r){var a=T2e(e+""),s,i=a.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var d=0,f=u.length,m;d<f;++d)for(s=0,m=u[d];s<i;++s)if((l=a[s]).type===m.type&&l.name===m.name)return m.value}return}for(u=t?M2e:O2e,s=0;s<i;++s)this.each(u(a[s],t,r));return this}function Z7(e,t,r){var a=W7(e),s=a.CustomEvent;typeof s=="function"?s=new s(t,r):(s=a.document.createEvent("Event"),r?(s.initEvent(t,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function P2e(e,t){return function(){return Z7(this,e,t)}}function R2e(e,t){return function(){return Z7(this,e,t.apply(this,arguments))}}function D2e(e,t){return this.each((typeof t=="function"?R2e:P2e)(e,t))}function*I2e(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a=e[t],s=0,i=a.length,l;s<i;++s)(l=a[s])&&(yield l)}var J7=[null];function Da(e,t){this._groups=e,this._parents=t}function ap(){return new Da([[document.documentElement]],J7)}function L2e(){return this}Da.prototype=ap.prototype={constructor:Da,select:cSe,selectAll:hSe,selectChild:gSe,selectChildren:bSe,filter:wSe,data:ESe,enter:NSe,exit:OSe,join:MSe,merge:kSe,selection:L2e,order:PSe,sort:RSe,call:ISe,nodes:LSe,node:$Se,size:FSe,empty:qSe,each:zSe,attr:GSe,style:ZSe,property:n2e,classed:i2e,text:u2e,html:m2e,raise:x2e,lower:y2e,append:v2e,insert:b2e,remove:N2e,clone:C2e,datum:_2e,on:k2e,dispatch:D2e,[Symbol.iterator]:I2e};function Oa(e){return typeof e=="string"?new Da([[document.querySelector(e)]],[document.documentElement]):new Da([[e]],J7)}function $2e(e){let t;for(;t=e.sourceEvent;)e=t;return e}function xs(e,t){if(e=$2e(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var a=r.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const F2e={passive:!1},Sm={capture:!0,passive:!1};function m2(e){e.stopImmediatePropagation()}function Ku(e){e.preventDefault(),e.stopImmediatePropagation()}function eK(e){var t=e.document.documentElement,r=Oa(e).on("dragstart.drag",Ku,Sm);"onselectstart"in t?r.on("selectstart.drag",Ku,Sm):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function tK(e,t){var r=e.document.documentElement,a=Oa(e).on("dragstart.drag",null);t&&(a.on("click.drag",Ku,Sm),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const rg=e=>()=>e;function AC(e,{sourceEvent:t,subject:r,target:a,identifier:s,active:i,x:l,y:u,dx:d,dy:f,dispatch:m}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:m}})}AC.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function q2e(e){return!e.ctrlKey&&!e.button}function z2e(){return this.parentNode}function B2e(e,t){return t??{x:e.x,y:e.y}}function U2e(){return navigator.maxTouchPoints||"ontouchstart"in this}function nK(){var e=q2e,t=z2e,r=B2e,a=U2e,s={},i=x0("start","drag","end"),l=0,u,d,f,m,p=0;function x(S){S.on("mousedown.drag",v).filter(a).on("touchstart.drag",N).on("touchmove.drag",C,F2e).on("touchend.drag touchcancel.drag",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(S,E){if(!(m||!e.call(this,S,E))){var O=w(this,t.call(this,S,E),S,E,"mouse");O&&(Oa(S.view).on("mousemove.drag",j,Sm).on("mouseup.drag",y,Sm),eK(S.view),m2(S),f=!1,u=S.clientX,d=S.clientY,O("start",S))}}function j(S){if(Ku(S),!f){var E=S.clientX-u,O=S.clientY-d;f=E*E+O*O>p}s.mouse("drag",S)}function y(S){Oa(S.view).on("mousemove.drag mouseup.drag",null),tK(S.view,f),Ku(S),s.mouse("end",S)}function N(S,E){if(e.call(this,S,E)){var O=S.changedTouches,M=t.call(this,S,E),R=O.length,I,V;for(I=0;I<R;++I)(V=w(this,M,S,E,O[I].identifier,O[I]))&&(m2(S),V("start",S,O[I]))}}function C(S){var E=S.changedTouches,O=E.length,M,R;for(M=0;M<O;++M)(R=s[E[M].identifier])&&(Ku(S),R("drag",S,E[M]))}function A(S){var E=S.changedTouches,O=E.length,M,R;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),M=0;M<O;++M)(R=s[E[M].identifier])&&(m2(S),R("end",S,E[M]))}function w(S,E,O,M,R,I){var V=i.copy(),F=xs(I||O,E),H,K,q;if((q=r.call(S,new AC("beforestart",{sourceEvent:O,target:x,identifier:R,active:l,x:F[0],y:F[1],dx:0,dy:0,dispatch:V}),M))!=null)return H=q.x-F[0]||0,K=q.y-F[1]||0,function $(k,D,P){var U=F,G;switch(k){case"start":s[R]=$,G=l++;break;case"end":delete s[R],--l;case"drag":F=xs(P||D,E),G=l;break}V.call(k,S,new AC(k,{sourceEvent:D,subject:q,target:x,identifier:R,active:G,x:F[0]+H,y:F[1]+K,dx:F[0]-U[0],dy:F[1]-U[1],dispatch:V}),M)}}return x.filter=function(S){return arguments.length?(e=typeof S=="function"?S:rg(!!S),x):e},x.container=function(S){return arguments.length?(t=typeof S=="function"?S:rg(S),x):t},x.subject=function(S){return arguments.length?(r=typeof S=="function"?S:rg(S),x):r},x.touchable=function(S){return arguments.length?(a=typeof S=="function"?S:rg(!!S),x):a},x.on=function(){var S=i.on.apply(i,arguments);return S===i?x:S},x.clickDistance=function(S){return arguments.length?(p=(S=+S)*S,x):Math.sqrt(p)},x}var Cd=0,vh=0,ch=0,rK=1e3,Ky,jh,Vy=0,bc=0,y0=0,Am=typeof performance=="object"&&performance.now?performance:Date,aK=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function rT(){return bc||(aK(H2e),bc=Am.now()+y0)}function H2e(){bc=0}function Wy(){this._call=this._time=this._next=null}Wy.prototype=sK.prototype={constructor:Wy,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?rT():+r)+(t==null?0:+t),!this._next&&jh!==this&&(jh?jh._next=this:Ky=this,jh=this),this._call=e,this._time=r,CC()},stop:function(){this._call&&(this._call=null,this._time=1/0,CC())}};function sK(e,t,r){var a=new Wy;return a.restart(e,t,r),a}function K2e(){rT(),++Cd;for(var e=Ky,t;e;)(t=bc-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Cd}function C$(){bc=(Vy=Am.now())+y0,Cd=vh=0;try{K2e()}finally{Cd=0,W2e(),bc=0}}function V2e(){var e=Am.now(),t=e-Vy;t>rK&&(y0-=t,Vy=e)}function W2e(){for(var e,t=Ky,r,a=1/0;t;)t._call?(a>t._time&&(a=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Ky=r);jh=e,CC(a)}function CC(e){if(!Cd){vh&&(vh=clearTimeout(vh));var t=e-bc;t>24?(e<1/0&&(vh=setTimeout(C$,e-Am.now()-y0)),ch&&(ch=clearInterval(ch))):(ch||(Vy=Am.now(),ch=setInterval(V2e,rK)),Cd=1,aK(C$))}}function _$(e,t,r){var a=new Wy;return t=t==null?0:+t,a.restart(s=>{a.stop(),e(s+t)},t,r),a}var G2e=x0("start","end","cancel","interrupt"),Y2e=[],iK=0,E$=1,_C=2,jg=3,T$=4,EC=5,bg=6;function v0(e,t,r,a,s,i){var l=e.__transition;if(!l)e.__transition={};else if(r in l)return;X2e(e,r,{name:t,index:a,group:s,on:G2e,tween:Y2e,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:iK})}function aT(e,t){var r=Ds(e,t);if(r.state>iK)throw new Error("too late; already scheduled");return r}function ri(e,t){var r=Ds(e,t);if(r.state>jg)throw new Error("too late; already running");return r}function Ds(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function X2e(e,t,r){var a=e.__transition,s;a[t]=r,r.timer=sK(i,0,r.time);function i(f){r.state=E$,r.timer.restart(l,r.delay,r.time),r.delay<=f&&l(f-r.delay)}function l(f){var m,p,x,v;if(r.state!==E$)return d();for(m in a)if(v=a[m],v.name===r.name){if(v.state===jg)return _$(l);v.state===T$?(v.state=bg,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete a[m]):+m<t&&(v.state=bg,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete a[m])}if(_$(function(){r.state===jg&&(r.state=T$,r.timer.restart(u,r.delay,r.time),u(f))}),r.state=_C,r.on.call("start",e,e.__data__,r.index,r.group),r.state===_C){for(r.state=jg,s=new Array(x=r.tween.length),m=0,p=-1;m<x;++m)(v=r.tween[m].value.call(e,e.__data__,r.index,r.group))&&(s[++p]=v);s.length=p+1}}function u(f){for(var m=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(d),r.state=EC,1),p=-1,x=s.length;++p<x;)s[p].call(e,m);r.state===EC&&(r.on.call("end",e,e.__data__,r.index,r.group),d())}function d(){r.state=bg,r.timer.stop(),delete a[t];for(var f in a)return;delete e.__transition}}function wg(e,t){var r=e.__transition,a,s,i=!0,l;if(r){t=t==null?null:t+"";for(l in r){if((a=r[l]).name!==t){i=!1;continue}s=a.state>_C&&a.state<EC,a.state=bg,a.timer.stop(),a.on.call(s?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete r[l]}i&&delete e.__transition}}function Q2e(e){return this.each(function(){wg(this,e)})}function Z2e(e,t){var r,a;return function(){var s=ri(this,e),i=s.tween;if(i!==r){a=r=i;for(var l=0,u=a.length;l<u;++l)if(a[l].name===t){a=a.slice(),a.splice(l,1);break}}s.tween=a}}function J2e(e,t,r){var a,s;if(typeof r!="function")throw new Error;return function(){var i=ri(this,e),l=i.tween;if(l!==a){s=(a=l).slice();for(var u={name:t,value:r},d=0,f=s.length;d<f;++d)if(s[d].name===t){s[d]=u;break}d===f&&s.push(u)}i.tween=s}}function eAe(e,t){var r=this._id;if(e+="",arguments.length<2){for(var a=Ds(this.node(),r).tween,s=0,i=a.length,l;s<i;++s)if((l=a[s]).name===e)return l.value;return null}return this.each((t==null?Z2e:J2e)(r,e,t))}function sT(e,t,r){var a=e._id;return e.each(function(){var s=ri(this,a);(s.value||(s.value={}))[t]=r.apply(this,arguments)}),function(s){return Ds(s,a).value[t]}}function oK(e,t){var r;return(typeof t=="number"?gs:t instanceof lc?ey:(r=lc(t))?(t=r,ey):WB)(e,t)}function tAe(e){return function(){this.removeAttribute(e)}}function nAe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rAe(e,t,r){var a,s=r+"",i;return function(){var l=this.getAttribute(e);return l===s?null:l===a?i:i=t(a=l,r)}}function aAe(e,t,r){var a,s=r+"",i;return function(){var l=this.getAttributeNS(e.space,e.local);return l===s?null:l===a?i:i=t(a=l,r)}}function sAe(e,t,r){var a,s,i;return function(){var l,u=r(this),d;return u==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=u+"",l===d?null:l===a&&d===s?i:(s=d,i=t(a=l,u)))}}function iAe(e,t,r){var a,s,i;return function(){var l,u=r(this),d;return u==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=u+"",l===d?null:l===a&&d===s?i:(s=d,i=t(a=l,u)))}}function oAe(e,t){var r=g0(e),a=r==="transform"?afe:oK;return this.attrTween(e,typeof t=="function"?(r.local?iAe:sAe)(r,a,sT(this,"attr."+e,t)):t==null?(r.local?nAe:tAe)(r):(r.local?aAe:rAe)(r,a,t))}function lAe(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function cAe(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function uAe(e,t){var r,a;function s(){var i=t.apply(this,arguments);return i!==a&&(r=(a=i)&&cAe(e,i)),r}return s._value=t,s}function dAe(e,t){var r,a;function s(){var i=t.apply(this,arguments);return i!==a&&(r=(a=i)&&lAe(e,i)),r}return s._value=t,s}function fAe(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var a=g0(e);return this.tween(r,(a.local?uAe:dAe)(a,t))}function hAe(e,t){return function(){aT(this,e).delay=+t.apply(this,arguments)}}function mAe(e,t){return t=+t,function(){aT(this,e).delay=t}}function pAe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hAe:mAe)(t,e)):Ds(this.node(),t).delay}function xAe(e,t){return function(){ri(this,e).duration=+t.apply(this,arguments)}}function gAe(e,t){return t=+t,function(){ri(this,e).duration=t}}function yAe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?xAe:gAe)(t,e)):Ds(this.node(),t).duration}function vAe(e,t){if(typeof t!="function")throw new Error;return function(){ri(this,e).ease=t}}function jAe(e){var t=this._id;return arguments.length?this.each(vAe(t,e)):Ds(this.node(),t).ease}function bAe(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;ri(this,e).ease=r}}function wAe(e){if(typeof e!="function")throw new Error;return this.each(bAe(this._id,e))}function NAe(e){typeof e!="function"&&(e=H7(e));for(var t=this._groups,r=t.length,a=new Array(r),s=0;s<r;++s)for(var i=t[s],l=i.length,u=a[s]=[],d,f=0;f<l;++f)(d=i[f])&&e.call(d,d.__data__,f,i)&&u.push(d);return new Hi(a,this._parents,this._name,this._id)}function SAe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,a=t.length,s=r.length,i=Math.min(a,s),l=new Array(a),u=0;u<i;++u)for(var d=t[u],f=r[u],m=d.length,p=l[u]=new Array(m),x,v=0;v<m;++v)(x=d[v]||f[v])&&(p[v]=x);for(;u<a;++u)l[u]=t[u];return new Hi(l,this._parents,this._name,this._id)}function AAe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function CAe(e,t,r){var a,s,i=AAe(t)?aT:ri;return function(){var l=i(this,e),u=l.on;u!==a&&(s=(a=u).copy()).on(t,r),l.on=s}}function _Ae(e,t){var r=this._id;return arguments.length<2?Ds(this.node(),r).on.on(e):this.each(CAe(r,e,t))}function EAe(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function TAe(){return this.on("end.remove",EAe(this._id))}function OAe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=tT(e));for(var a=this._groups,s=a.length,i=new Array(s),l=0;l<s;++l)for(var u=a[l],d=u.length,f=i[l]=new Array(d),m,p,x=0;x<d;++x)(m=u[x])&&(p=e.call(m,m.__data__,x,u))&&("__data__"in m&&(p.__data__=m.__data__),f[x]=p,v0(f[x],t,r,x,f,Ds(m,r)));return new Hi(i,this._parents,t,r)}function MAe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=U7(e));for(var a=this._groups,s=a.length,i=[],l=[],u=0;u<s;++u)for(var d=a[u],f=d.length,m,p=0;p<f;++p)if(m=d[p]){for(var x=e.call(m,m.__data__,p,d),v,j=Ds(m,r),y=0,N=x.length;y<N;++y)(v=x[y])&&v0(v,t,r,y,x,j);i.push(x),l.push(m)}return new Hi(i,l,t,r)}var kAe=ap.prototype.constructor;function PAe(){return new kAe(this._groups,this._parents)}function RAe(e,t){var r,a,s;return function(){var i=Ad(this,e),l=(this.style.removeProperty(e),Ad(this,e));return i===l?null:i===r&&l===a?s:s=t(r=i,a=l)}}function lK(e){return function(){this.style.removeProperty(e)}}function DAe(e,t,r){var a,s=r+"",i;return function(){var l=Ad(this,e);return l===s?null:l===a?i:i=t(a=l,r)}}function IAe(e,t,r){var a,s,i;return function(){var l=Ad(this,e),u=r(this),d=u+"";return u==null&&(d=u=(this.style.removeProperty(e),Ad(this,e))),l===d?null:l===a&&d===s?i:(s=d,i=t(a=l,u))}}function LAe(e,t){var r,a,s,i="style."+t,l="end."+i,u;return function(){var d=ri(this,e),f=d.on,m=d.value[i]==null?u||(u=lK(t)):void 0;(f!==r||s!==m)&&(a=(r=f).copy()).on(l,s=m),d.on=a}}function $Ae(e,t,r){var a=(e+="")=="transform"?rfe:oK;return t==null?this.styleTween(e,RAe(e,a)).on("end.style."+e,lK(e)):typeof t=="function"?this.styleTween(e,IAe(e,a,sT(this,"style."+e,t))).each(LAe(this._id,e)):this.styleTween(e,DAe(e,a,t),r).on("end.style."+e,null)}function FAe(e,t,r){return function(a){this.style.setProperty(e,t.call(this,a),r)}}function qAe(e,t,r){var a,s;function i(){var l=t.apply(this,arguments);return l!==s&&(a=(s=l)&&FAe(e,l,r)),a}return i._value=t,i}function zAe(e,t,r){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,qAe(e,t,r??""))}function BAe(e){return function(){this.textContent=e}}function UAe(e){return function(){var t=e(this);this.textContent=t??""}}function HAe(e){return this.tween("text",typeof e=="function"?UAe(sT(this,"text",e)):BAe(e==null?"":e+""))}function KAe(e){return function(t){this.textContent=e.call(this,t)}}function VAe(e){var t,r;function a(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&KAe(s)),t}return a._value=e,a}function WAe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,VAe(e))}function GAe(){for(var e=this._name,t=this._id,r=cK(),a=this._groups,s=a.length,i=0;i<s;++i)for(var l=a[i],u=l.length,d,f=0;f<u;++f)if(d=l[f]){var m=Ds(d,t);v0(d,e,r,f,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Hi(a,this._parents,e,r)}function YAe(){var e,t,r=this,a=r._id,s=r.size();return new Promise(function(i,l){var u={value:l},d={value:function(){--s===0&&i()}};r.each(function(){var f=ri(this,a),m=f.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(d)),f.on=t}),s===0&&i()})}var XAe=0;function Hi(e,t,r,a){this._groups=e,this._parents=t,this._name=r,this._id=a}function cK(){return++XAe}var Ai=ap.prototype;Hi.prototype={constructor:Hi,select:OAe,selectAll:MAe,selectChild:Ai.selectChild,selectChildren:Ai.selectChildren,filter:NAe,merge:SAe,selection:PAe,transition:GAe,call:Ai.call,nodes:Ai.nodes,node:Ai.node,size:Ai.size,empty:Ai.empty,each:Ai.each,on:_Ae,attr:oAe,attrTween:fAe,style:$Ae,styleTween:zAe,text:HAe,textTween:WAe,remove:TAe,tween:eAe,delay:pAe,duration:yAe,ease:jAe,easeVarying:wAe,end:YAe,[Symbol.iterator]:Ai[Symbol.iterator]};function QAe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ZAe={time:null,delay:0,duration:250,ease:QAe};function JAe(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function eCe(e){var t,r;e instanceof Hi?(t=e._id,e=e._name):(t=cK(),(r=ZAe).time=rT(),e=e==null?null:e+"");for(var a=this._groups,s=a.length,i=0;i<s;++i)for(var l=a[i],u=l.length,d,f=0;f<u;++f)(d=l[f])&&v0(d,e,t,f,l,r||JAe(d,t));return new Hi(a,this._parents,e,t)}ap.prototype.interrupt=Q2e;ap.prototype.transition=eCe;const ag=e=>()=>e;function tCe(e,{sourceEvent:t,target:r,transform:a,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:s}})}function Mi(e,t,r){this.k=e,this.x=t,this.y=r}Mi.prototype={constructor:Mi,scale:function(e){return e===1?this:new Mi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Mi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var j0=new Mi(1,0,0);uK.prototype=Mi.prototype;function uK(e){for(;!e.__zoom;)if(!(e=e.parentNode))return j0;return e.__zoom}function p2(e){e.stopImmediatePropagation()}function uh(e){e.preventDefault(),e.stopImmediatePropagation()}function nCe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function rCe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function O$(){return this.__zoom||j0}function aCe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function sCe(){return navigator.maxTouchPoints||"ontouchstart"in this}function iCe(e,t,r){var a=e.invertX(t[0][0])-r[0][0],s=e.invertX(t[1][0])-r[1][0],i=e.invertY(t[0][1])-r[0][1],l=e.invertY(t[1][1])-r[1][1];return e.translate(s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s),l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l))}function dK(){var e=nCe,t=rCe,r=iCe,a=aCe,s=sCe,i=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,d=gg,f=x0("start","zoom","end"),m,p,x,v=500,j=150,y=0,N=10;function C(q){q.property("__zoom",O$).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",V).filter(s).on("touchstart.zoom",F).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function(q,$,k,D){var P=q.selection?q.selection():q;P.property("__zoom",O$),q!==P?E(q,$,k,D):P.interrupt().each(function(){O(this,arguments).event(D).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},C.scaleBy=function(q,$,k,D){C.scaleTo(q,function(){var P=this.__zoom.k,U=typeof $=="function"?$.apply(this,arguments):$;return P*U},k,D)},C.scaleTo=function(q,$,k,D){C.transform(q,function(){var P=t.apply(this,arguments),U=this.__zoom,G=k==null?S(P):typeof k=="function"?k.apply(this,arguments):k,B=U.invert(G),z=typeof $=="function"?$.apply(this,arguments):$;return r(w(A(U,z),G,B),P,l)},k,D)},C.translateBy=function(q,$,k,D){C.transform(q,function(){return r(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof k=="function"?k.apply(this,arguments):k),t.apply(this,arguments),l)},null,D)},C.translateTo=function(q,$,k,D,P){C.transform(q,function(){var U=t.apply(this,arguments),G=this.__zoom,B=D==null?S(U):typeof D=="function"?D.apply(this,arguments):D;return r(j0.translate(B[0],B[1]).scale(G.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof k=="function"?-k.apply(this,arguments):-k),U,l)},D,P)};function A(q,$){return $=Math.max(i[0],Math.min(i[1],$)),$===q.k?q:new Mi($,q.x,q.y)}function w(q,$,k){var D=$[0]-k[0]*q.k,P=$[1]-k[1]*q.k;return D===q.x&&P===q.y?q:new Mi(q.k,D,P)}function S(q){return[(+q[0][0]+ +q[1][0])/2,(+q[0][1]+ +q[1][1])/2]}function E(q,$,k,D){q.on("start.zoom",function(){O(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(D).end()}).tween("zoom",function(){var P=this,U=arguments,G=O(P,U).event(D),B=t.apply(P,U),z=k==null?S(B):typeof k=="function"?k.apply(P,U):k,X=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),ee=P.__zoom,je=typeof $=="function"?$.apply(P,U):$,he=d(ee.invert(z).concat(X/ee.k),je.invert(z).concat(X/je.k));return function(le){if(le===1)le=je;else{var ve=he(le),xe=X/ve[2];le=new Mi(xe,z[0]-ve[0]*xe,z[1]-ve[1]*xe)}G.zoom(null,le)}})}function O(q,$,k){return!k&&q.__zooming||new M(q,$)}function M(q,$){this.that=q,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(q,$),this.taps=0}M.prototype={event:function(q){return q&&(this.sourceEvent=q),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(q,$){return this.mouse&&q!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&q!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&q!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(q){var $=Oa(this.that).datum();f.call(q,this.that,new tCe(q,{sourceEvent:this.sourceEvent,target:C,transform:this.that.__zoom,dispatch:f}),$)}};function R(q,...$){if(!e.apply(this,arguments))return;var k=O(this,$).event(q),D=this.__zoom,P=Math.max(i[0],Math.min(i[1],D.k*Math.pow(2,a.apply(this,arguments)))),U=xs(q);if(k.wheel)(k.mouse[0][0]!==U[0]||k.mouse[0][1]!==U[1])&&(k.mouse[1]=D.invert(k.mouse[0]=U)),clearTimeout(k.wheel);else{if(D.k===P)return;k.mouse=[U,D.invert(U)],wg(this),k.start()}uh(q),k.wheel=setTimeout(G,j),k.zoom("mouse",r(w(A(D,P),k.mouse[0],k.mouse[1]),k.extent,l));function G(){k.wheel=null,k.end()}}function I(q,...$){if(x||!e.apply(this,arguments))return;var k=q.currentTarget,D=O(this,$,!0).event(q),P=Oa(q.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",X,!0),U=xs(q,k),G=q.clientX,B=q.clientY;eK(q.view),p2(q),D.mouse=[U,this.__zoom.invert(U)],wg(this),D.start();function z(ee){if(uh(ee),!D.moved){var je=ee.clientX-G,he=ee.clientY-B;D.moved=je*je+he*he>y}D.event(ee).zoom("mouse",r(w(D.that.__zoom,D.mouse[0]=xs(ee,k),D.mouse[1]),D.extent,l))}function X(ee){P.on("mousemove.zoom mouseup.zoom",null),tK(ee.view,D.moved),uh(ee),D.event(ee).end()}}function V(q,...$){if(e.apply(this,arguments)){var k=this.__zoom,D=xs(q.changedTouches?q.changedTouches[0]:q,this),P=k.invert(D),U=k.k*(q.shiftKey?.5:2),G=r(w(A(k,U),D,P),t.apply(this,$),l);uh(q),u>0?Oa(this).transition().duration(u).call(E,G,D,q):Oa(this).call(C.transform,G,D,q)}}function F(q,...$){if(e.apply(this,arguments)){var k=q.touches,D=k.length,P=O(this,$,q.changedTouches.length===D).event(q),U,G,B,z;for(p2(q),G=0;G<D;++G)B=k[G],z=xs(B,this),z=[z,this.__zoom.invert(z),B.identifier],P.touch0?!P.touch1&&P.touch0[2]!==z[2]&&(P.touch1=z,P.taps=0):(P.touch0=z,U=!0,P.taps=1+!!m);m&&(m=clearTimeout(m)),U&&(P.taps<2&&(p=z[0],m=setTimeout(function(){m=null},v)),wg(this),P.start())}}function H(q,...$){if(this.__zooming){var k=O(this,$).event(q),D=q.changedTouches,P=D.length,U,G,B,z;for(uh(q),U=0;U<P;++U)G=D[U],B=xs(G,this),k.touch0&&k.touch0[2]===G.identifier?k.touch0[0]=B:k.touch1&&k.touch1[2]===G.identifier&&(k.touch1[0]=B);if(G=k.that.__zoom,k.touch1){var X=k.touch0[0],ee=k.touch0[1],je=k.touch1[0],he=k.touch1[1],le=(le=je[0]-X[0])*le+(le=je[1]-X[1])*le,ve=(ve=he[0]-ee[0])*ve+(ve=he[1]-ee[1])*ve;G=A(G,Math.sqrt(le/ve)),B=[(X[0]+je[0])/2,(X[1]+je[1])/2],z=[(ee[0]+he[0])/2,(ee[1]+he[1])/2]}else if(k.touch0)B=k.touch0[0],z=k.touch0[1];else return;k.zoom("touch",r(w(G,B,z),k.extent,l))}}function K(q,...$){if(this.__zooming){var k=O(this,$).event(q),D=q.changedTouches,P=D.length,U,G;for(p2(q),x&&clearTimeout(x),x=setTimeout(function(){x=null},v),U=0;U<P;++U)G=D[U],k.touch0&&k.touch0[2]===G.identifier?delete k.touch0:k.touch1&&k.touch1[2]===G.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(G=xs(G,this),Math.hypot(p[0]-G[0],p[1]-G[1])<N)){var B=Oa(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return C.wheelDelta=function(q){return arguments.length?(a=typeof q=="function"?q:ag(+q),C):a},C.filter=function(q){return arguments.length?(e=typeof q=="function"?q:ag(!!q),C):e},C.touchable=function(q){return arguments.length?(s=typeof q=="function"?q:ag(!!q),C):s},C.extent=function(q){return arguments.length?(t=typeof q=="function"?q:ag([[+q[0][0],+q[0][1]],[+q[1][0],+q[1][1]]]),C):t},C.scaleExtent=function(q){return arguments.length?(i[0]=+q[0],i[1]=+q[1],C):[i[0],i[1]]},C.translateExtent=function(q){return arguments.length?(l[0][0]=+q[0][0],l[1][0]=+q[1][0],l[0][1]=+q[0][1],l[1][1]=+q[1][1],C):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},C.constrain=function(q){return arguments.length?(r=q,C):r},C.duration=function(q){return arguments.length?(u=+q,C):u},C.interpolate=function(q){return arguments.length?(d=q,C):d},C.on=function(){var q=f.on.apply(f,arguments);return q===f?C:q},C.clickDistance=function(q){return arguments.length?(y=(q=+q)*q,C):Math.sqrt(y)},C.tapDistance=function(q){return arguments.length?(N=+q,C):N},C}const Zs={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:a})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:a}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Cm=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],fK=["Enter"," ","Escape"],hK={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var _d;(function(e){e.Strict="strict",e.Loose="loose"})(_d||(_d={}));var Zl;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Zl||(Zl={}));var _m;(function(e){e.Partial="partial",e.Full="full"})(_m||(_m={}));const mK={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Fo;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Fo||(Fo={}));var Gy;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Gy||(Gy={}));var et;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(et||(et={}));const M$={[et.Left]:et.Right,[et.Right]:et.Left,[et.Top]:et.Bottom,[et.Bottom]:et.Top};function pK(e){return e===null?null:e?"valid":"invalid"}const xK=e=>"id"in e&&"source"in e&&"target"in e,oCe=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),iT=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),sp=(e,t=[0,0])=>{const{width:r,height:a}=eo(e),s=e.origin??t,i=r*s[0],l=a*s[1];return{x:e.position.x-i,y:e.position.y-l}},lCe=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((a,s)=>{const i=typeof s=="string";let l=!t.nodeLookup&&!i?s:void 0;t.nodeLookup&&(l=i?t.nodeLookup.get(s):iT(s)?s:t.nodeLookup.get(s.id));const u=l?Yy(l,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return b0(a,u)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return w0(r)},ip=(e,t={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},a=!1;return e.forEach(s=>{(t.filter===void 0||t.filter(s))&&(r=b0(r,Yy(s)),a=!0)}),a?w0(r):{x:0,y:0,width:0,height:0}},oT=(e,t,[r,a,s]=[0,0,1],i=!1,l=!1)=>{const u={...lp(t,[r,a,s]),width:t.width/s,height:t.height/s},d=[];for(const f of e.values()){const{measured:m,selectable:p=!0,hidden:x=!1}=f;if(l&&!p||x)continue;const v=m.width??f.width??f.initialWidth??null,j=m.height??f.height??f.initialHeight??null,y=Em(u,Td(f)),N=(v??0)*(j??0),C=i&&y>0;(!f.internals.handleBounds||C||y>=N||f.dragging)&&d.push(f)}return d},cCe=(e,t)=>{const r=new Set;return e.forEach(a=>{r.add(a.id)}),t.filter(a=>r.has(a.source)||r.has(a.target))};function uCe(e,t){const r=new Map,a=t?.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&(t?.includeHiddenNodes||!s.hidden)&&(!a||a.has(s.id))&&r.set(s.id,s)}),r}async function dCe({nodes:e,width:t,height:r,panZoom:a,minZoom:s,maxZoom:i},l){if(e.size===0)return Promise.resolve(!0);const u=uCe(e,l),d=ip(u),f=lT(d,t,r,l?.minZoom??s,l?.maxZoom??i,l?.padding??.1);return await a.setViewport(f,{duration:l?.duration,ease:l?.ease,interpolate:l?.interpolate}),Promise.resolve(!0)}function gK({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:a=[0,0],nodeExtent:s,onError:i}){const l=r.get(e),u=l.parentId?r.get(l.parentId):void 0,{x:d,y:f}=u?u.internals.positionAbsolute:{x:0,y:0},m=l.origin??a;let p=l.extent||s;if(l.extent==="parent"&&!l.expandParent)if(!u)i?.("005",Zs.error005());else{const v=u.measured.width,j=u.measured.height;v&&j&&(p=[[d,f],[d+v,f+j]])}else u&&Od(l.extent)&&(p=[[l.extent[0][0]+d,l.extent[0][1]+f],[l.extent[1][0]+d,l.extent[1][1]+f]]);const x=Od(p)?wc(t,p,l.measured):t;return(l.measured.width===void 0||l.measured.height===void 0)&&i?.("015",Zs.error015()),{position:{x:x.x-d+(l.measured.width??0)*m[0],y:x.y-f+(l.measured.height??0)*m[1]},positionAbsolute:x}}async function fCe({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:a,onBeforeDelete:s}){const i=new Set(e.map(x=>x.id)),l=[];for(const x of r){if(x.deletable===!1)continue;const v=i.has(x.id),j=!v&&x.parentId&&l.find(y=>y.id===x.parentId);(v||j)&&l.push(x)}const u=new Set(t.map(x=>x.id)),d=a.filter(x=>x.deletable!==!1),m=cCe(l,d);for(const x of d)u.has(x.id)&&!m.find(j=>j.id===x.id)&&m.push(x);if(!s)return{edges:m,nodes:l};const p=await s({nodes:l,edges:m});return typeof p=="boolean"?p?{edges:m,nodes:l}:{edges:[],nodes:[]}:p}const Ed=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),wc=(e={x:0,y:0},t,r)=>({x:Ed(e.x,t[0][0],t[1][0]-(r?.width??0)),y:Ed(e.y,t[0][1],t[1][1]-(r?.height??0))});function yK(e,t,r){const{width:a,height:s}=eo(r),{x:i,y:l}=r.internals.positionAbsolute;return wc(e,[[i,l],[i+a,l+s]],t)}const k$=(e,t,r)=>e<t?Ed(Math.abs(e-t),1,t)/t:e>r?-Ed(Math.abs(e-r),1,t)/t:0,vK=(e,t,r=15,a=40)=>{const s=k$(e.x,a,t.width-a)*r,i=k$(e.y,a,t.height-a)*r;return[s,i]},b0=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),TC=({x:e,y:t,width:r,height:a})=>({x:e,y:t,x2:e+r,y2:t+a}),w0=({x:e,y:t,x2:r,y2:a})=>({x:e,y:t,width:r-e,height:a-t}),Td=(e,t=[0,0])=>{const{x:r,y:a}=iT(e)?e.internals.positionAbsolute:sp(e,t);return{x:r,y:a,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Yy=(e,t=[0,0])=>{const{x:r,y:a}=iT(e)?e.internals.positionAbsolute:sp(e,t);return{x:r,y:a,x2:r+(e.measured?.width??e.width??e.initialWidth??0),y2:a+(e.measured?.height??e.height??e.initialHeight??0)}},jK=(e,t)=>w0(b0(TC(e),TC(t))),Em=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),a=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*a)},P$=e=>js(e.width)&&js(e.height)&&js(e.x)&&js(e.y),js=e=>!isNaN(e)&&isFinite(e),hCe=(e,t)=>{},op=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),lp=({x:e,y:t},[r,a,s],i=!1,l=[1,1])=>{const u={x:(e-r)/s,y:(t-a)/s};return i?op(u,l):u},Xy=({x:e,y:t},[r,a,s])=>({x:e*s+r,y:t*s+a});function Cu(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function mCe(e,t,r){if(typeof e=="string"||typeof e=="number"){const a=Cu(e,r),s=Cu(e,t);return{top:a,right:s,bottom:a,left:s,x:s*2,y:a*2}}if(typeof e=="object"){const a=Cu(e.top??e.y??0,r),s=Cu(e.bottom??e.y??0,r),i=Cu(e.left??e.x??0,t),l=Cu(e.right??e.x??0,t);return{top:a,right:l,bottom:s,left:i,x:i+l,y:a+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function pCe(e,t,r,a,s,i){const{x:l,y:u}=Xy(e,[t,r,a]),{x:d,y:f}=Xy({x:e.x+e.width,y:e.y+e.height},[t,r,a]),m=s-d,p=i-f;return{left:Math.floor(l),top:Math.floor(u),right:Math.floor(m),bottom:Math.floor(p)}}const lT=(e,t,r,a,s,i)=>{const l=mCe(i,t,r),u=(t-l.x)/e.width,d=(r-l.y)/e.height,f=Math.min(u,d),m=Ed(f,a,s),p=e.x+e.width/2,x=e.y+e.height/2,v=t/2-p*m,j=r/2-x*m,y=pCe(e,v,j,m,t,r),N={left:Math.min(y.left-l.left,0),top:Math.min(y.top-l.top,0),right:Math.min(y.right-l.right,0),bottom:Math.min(y.bottom-l.bottom,0)};return{x:v-N.left+N.right,y:j-N.top+N.bottom,zoom:m}},Tm=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Od(e){return e!=null&&e!=="parent"}function eo(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function bK(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function wK(e,t={width:0,height:0},r,a,s){const i={...e},l=a.get(r);if(l){const u=l.origin||s;i.x+=l.internals.positionAbsolute.x-(t.width??0)*u[0],i.y+=l.internals.positionAbsolute.y-(t.height??0)*u[1]}return i}function R$(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function xCe(){let e,t;return{promise:new Promise((a,s)=>{e=a,t=s}),resolve:e,reject:t}}function gCe(e){return{...hK,...e||{}}}function Ph(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:a,containerBounds:s}){const{x:i,y:l}=bs(e),u=lp({x:i-(s?.left??0),y:l-(s?.top??0)},a),{x:d,y:f}=r?op(u,t):u;return{xSnapped:d,ySnapped:f,...u}}const cT=e=>({width:e.offsetWidth,height:e.offsetHeight}),NK=e=>e?.getRootNode?.()||window?.document,yCe=["INPUT","SELECT","TEXTAREA"];function SK(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:yCe.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const AK=e=>"clientX"in e,bs=(e,t)=>{const r=AK(e),a=r?e.clientX:e.touches?.[0].clientX,s=r?e.clientY:e.touches?.[0].clientY;return{x:a-(t?.left??0),y:s-(t?.top??0)}},D$=(e,t,r,a,s)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:e,nodeId:s,position:l.getAttribute("data-handlepos"),x:(u.left-r.left)/a,y:(u.top-r.top)/a,...cT(l)}})};function CK({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:s,sourceControlY:i,targetControlX:l,targetControlY:u}){const d=e*.125+s*.375+l*.375+r*.125,f=t*.125+i*.375+u*.375+a*.125,m=Math.abs(d-e),p=Math.abs(f-t);return[d,f,m,p]}function sg(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function I$({pos:e,x1:t,y1:r,x2:a,y2:s,c:i}){switch(e){case et.Left:return[t-sg(t-a,i),r];case et.Right:return[t+sg(a-t,i),r];case et.Top:return[t,r-sg(r-s,i)];case et.Bottom:return[t,r+sg(s-r,i)]}}function _K({sourceX:e,sourceY:t,sourcePosition:r=et.Bottom,targetX:a,targetY:s,targetPosition:i=et.Top,curvature:l=.25}){const[u,d]=I$({pos:r,x1:e,y1:t,x2:a,y2:s,c:l}),[f,m]=I$({pos:i,x1:a,y1:s,x2:e,y2:t,c:l}),[p,x,v,j]=CK({sourceX:e,sourceY:t,targetX:a,targetY:s,sourceControlX:u,sourceControlY:d,targetControlX:f,targetControlY:m});return[`M${e},${t} C${u},${d} ${f},${m} ${a},${s}`,p,x,v,j]}function EK({sourceX:e,sourceY:t,targetX:r,targetY:a}){const s=Math.abs(r-e)/2,i=r<e?r+s:r-s,l=Math.abs(a-t)/2,u=a<t?a+l:a-l;return[i,u,s,l]}function vCe({sourceNode:e,targetNode:t,selected:r=!1,zIndex:a,elevateOnSelect:s=!1}){if(a!==void 0)return a;const i=s&&r?1e3:0,l=Math.max(e.parentId||s&&e.selected?e.internals.z:0,t.parentId||s&&t.selected?t.internals.z:0);return i+l}function jCe({sourceNode:e,targetNode:t,width:r,height:a,transform:s}){const i=b0(Yy(e),Yy(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const l={x:-s[0]/s[2],y:-s[1]/s[2],width:r/s[2],height:a/s[2]};return Em(l,w0(i))>0}const bCe=({source:e,sourceHandle:t,target:r,targetHandle:a})=>`xy-edge__${e}${t||""}-${r}${a||""}`,wCe=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),uT=(e,t)=>{if(!e.source||!e.target)return t;let r;return xK(e)?r={...e}:r={...e,id:bCe(e)},wCe(r,t)?t:(r.sourceHandle===null&&delete r.sourceHandle,r.targetHandle===null&&delete r.targetHandle,t.concat(r))};function TK({sourceX:e,sourceY:t,targetX:r,targetY:a}){const[s,i,l,u]=EK({sourceX:e,sourceY:t,targetX:r,targetY:a});return[`M ${e},${t}L ${r},${a}`,s,i,l,u]}const L$={[et.Left]:{x:-1,y:0},[et.Right]:{x:1,y:0},[et.Top]:{x:0,y:-1},[et.Bottom]:{x:0,y:1}},NCe=({source:e,sourcePosition:t=et.Bottom,target:r})=>t===et.Left||t===et.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},$$=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function SCe({source:e,sourcePosition:t=et.Bottom,target:r,targetPosition:a=et.Top,center:s,offset:i,stepPosition:l}){const u=L$[t],d=L$[a],f={x:e.x+u.x*i,y:e.y+u.y*i},m={x:r.x+d.x*i,y:r.y+d.y*i},p=NCe({source:f,sourcePosition:t,target:m}),x=p.x!==0?"x":"y",v=p[x];let j=[],y,N;const C={x:0,y:0},A={x:0,y:0},[,,w,S]=EK({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(u[x]*d[x]===-1){x==="x"?(y=s.x??f.x+(m.x-f.x)*l,N=s.y??(f.y+m.y)/2):(y=s.x??(f.x+m.x)/2,N=s.y??f.y+(m.y-f.y)*l);const O=[{x:y,y:f.y},{x:y,y:m.y}],M=[{x:f.x,y:N},{x:m.x,y:N}];u[x]===v?j=x==="x"?O:M:j=x==="x"?M:O}else{const O=[{x:f.x,y:m.y}],M=[{x:m.x,y:f.y}];if(x==="x"?j=u.x===v?M:O:j=u.y===v?O:M,t===a){const H=Math.abs(e[x]-r[x]);if(H<=i){const K=Math.min(i-1,i-H);u[x]===v?C[x]=(f[x]>e[x]?-1:1)*K:A[x]=(m[x]>r[x]?-1:1)*K}}if(t!==a){const H=x==="x"?"y":"x",K=u[x]===d[H],q=f[H]>m[H],$=f[H]<m[H];(u[x]===1&&(!K&&q||K&&$)||u[x]!==1&&(!K&&$||K&&q))&&(j=x==="x"?O:M)}const R={x:f.x+C.x,y:f.y+C.y},I={x:m.x+A.x,y:m.y+A.y},V=Math.max(Math.abs(R.x-j[0].x),Math.abs(I.x-j[0].x)),F=Math.max(Math.abs(R.y-j[0].y),Math.abs(I.y-j[0].y));V>=F?(y=(R.x+I.x)/2,N=j[0].y):(y=j[0].x,N=(R.y+I.y)/2)}return[[e,{x:f.x+C.x,y:f.y+C.y},...j,{x:m.x+A.x,y:m.y+A.y},r],y,N,w,S]}function ACe(e,t,r,a){const s=Math.min($$(e,t)/2,$$(t,r)/2,a),{x:i,y:l}=t;if(e.x===i&&i===r.x||e.y===l&&l===r.y)return`L${i} ${l}`;if(e.y===l){const f=e.x<r.x?-1:1,m=e.y<r.y?1:-1;return`L ${i+s*f},${l}Q ${i},${l} ${i},${l+s*m}`}const u=e.x<r.x?1:-1,d=e.y<r.y?-1:1;return`L ${i},${l+s*d}Q ${i},${l} ${i+s*u},${l}`}function OC({sourceX:e,sourceY:t,sourcePosition:r=et.Bottom,targetX:a,targetY:s,targetPosition:i=et.Top,borderRadius:l=5,centerX:u,centerY:d,offset:f=20,stepPosition:m=.5}){const[p,x,v,j,y]=SCe({source:{x:e,y:t},sourcePosition:r,target:{x:a,y:s},targetPosition:i,center:{x:u,y:d},offset:f,stepPosition:m});return[p.reduce((C,A,w)=>{let S="";return w>0&&w<p.length-1?S=ACe(p[w-1],A,p[w+1],l):S=`${w===0?"M":"L"}${A.x} ${A.y}`,C+=S,C},""),x,v,j,y]}function F$(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function CCe(e){const{sourceNode:t,targetNode:r}=e;if(!F$(t)||!F$(r))return null;const a=t.internals.handleBounds||q$(t.handles),s=r.internals.handleBounds||q$(r.handles),i=z$(a?.source??[],e.sourceHandle),l=z$(e.connectionMode===_d.Strict?s?.target??[]:(s?.target??[]).concat(s?.source??[]),e.targetHandle);if(!i||!l)return e.onError?.("008",Zs.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const u=i?.position||et.Bottom,d=l?.position||et.Top,f=Om(t,i,u),m=Om(r,l,d);return{sourceX:f.x,sourceY:f.y,targetX:m.x,targetY:m.y,sourcePosition:u,targetPosition:d}}function q$(e){if(!e)return null;const t=[],r=[];for(const a of e)a.width=a.width??1,a.height=a.height??1,a.type==="source"?t.push(a):a.type==="target"&&r.push(a);return{source:t,target:r}}function Om(e,t,r=et.Left,a=!1){const s=(t?.x??0)+e.internals.positionAbsolute.x,i=(t?.y??0)+e.internals.positionAbsolute.y,{width:l,height:u}=t??eo(e);if(a)return{x:s+l/2,y:i+u/2};switch(t?.position??r){case et.Top:return{x:s+l/2,y:i};case et.Right:return{x:s+l,y:i+u/2};case et.Bottom:return{x:s+l/2,y:i+u};case et.Left:return{x:s,y:i+u/2}}}function z$(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function MC(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(a=>`${a}=${e[a]}`).join("&")}`:""}function _Ce(e,{id:t,defaultColor:r,defaultMarkerStart:a,defaultMarkerEnd:s}){const i=new Set;return e.reduce((l,u)=>([u.markerStart||a,u.markerEnd||s].forEach(d=>{if(d&&typeof d=="object"){const f=MC(d,t);i.has(f)||(l.push({id:f,color:d.color||r,...d}),i.add(f))}}),l),[]).sort((l,u)=>l.id.localeCompare(u.id))}const OK=1e3,ECe=10,dT={nodeOrigin:[0,0],nodeExtent:Cm,elevateNodesOnSelect:!0,defaults:{}},TCe={...dT,checkEquality:!0};function fT(e,t){const r={...e};for(const a in t)t[a]!==void 0&&(r[a]=t[a]);return r}function OCe(e,t,r){const a=fT(dT,r);for(const s of e.values())if(s.parentId)hT(s,e,t,a);else{const i=sp(s,a.nodeOrigin),l=Od(s.extent)?s.extent:a.nodeExtent,u=wc(i,l,eo(s));s.internals.positionAbsolute=u}}function MCe(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;const r=[],a=[];for(const s of e.handles){const i={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?r.push(i):s.type==="target"&&a.push(i)}return{source:r,target:a}}function kC(e,t,r,a){const s=fT(TCe,a);let i={i:-1},l=e.length>0;const u=new Map(t),d=s?.elevateNodesOnSelect?OK:0;t.clear(),r.clear();for(const f of e){let m=u.get(f.id);if(s.checkEquality&&f===m?.internals.userNode)t.set(f.id,m);else{const p=sp(f,s.nodeOrigin),x=Od(f.extent)?f.extent:s.nodeExtent,v=wc(p,x,eo(f));m={...s.defaults,...f,measured:{width:f.measured?.width,height:f.measured?.height},internals:{positionAbsolute:v,handleBounds:MCe(f,m),z:MK(f,d),userNode:f}},t.set(f.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(l=!1),f.parentId&&hT(m,t,r,a,i)}return l}function kCe(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function hT(e,t,r,a,s){const{elevateNodesOnSelect:i,nodeOrigin:l,nodeExtent:u}=fT(dT,a),d=e.parentId,f=t.get(d);if(!f){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}kCe(e,r),s&&!f.parentId&&f.internals.rootParentIndex===void 0&&(f.internals.rootParentIndex=++s.i,f.internals.z=f.internals.z+s.i*ECe),s&&f.internals.rootParentIndex!==void 0&&(s.i=f.internals.rootParentIndex);const m=i?OK:0,{x:p,y:x,z:v}=PCe(e,f,l,u,m),{positionAbsolute:j}=e.internals,y=p!==j.x||x!==j.y;(y||v!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:y?{x:p,y:x}:j,z:v}})}function MK(e,t){return(js(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function PCe(e,t,r,a,s){const{x:i,y:l}=t.internals.positionAbsolute,u=eo(e),d=sp(e,r),f=Od(e.extent)?wc(d,e.extent,u):d;let m=wc({x:i+f.x,y:l+f.y},a,u);e.extent==="parent"&&(m=yK(m,u,t));const p=MK(e,s),x=t.internals.z??0;return{x:m.x,y:m.y,z:x>=p?x+1:p}}function mT(e,t,r,a=[0,0]){const s=[],i=new Map;for(const l of e){const u=t.get(l.parentId);if(!u)continue;const d=i.get(l.parentId)?.expandedRect??Td(u),f=jK(d,l.rect);i.set(l.parentId,{expandedRect:f,parent:u})}return i.size>0&&i.forEach(({expandedRect:l,parent:u},d)=>{const f=u.internals.positionAbsolute,m=eo(u),p=u.origin??a,x=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,v=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,j=Math.max(m.width,Math.round(l.width)),y=Math.max(m.height,Math.round(l.height)),N=(j-m.width)*p[0],C=(y-m.height)*p[1];(x>0||v>0||N||C)&&(s.push({id:d,type:"position",position:{x:u.position.x-x+N,y:u.position.y-v+C}}),r.get(d)?.forEach(A=>{e.some(w=>w.id===A.id)||s.push({id:A.id,type:"position",position:{x:A.position.x+x,y:A.position.y+v}})})),(m.width<l.width||m.height<l.height||x||v)&&s.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:j+(x?p[0]*x-N:0),height:y+(v?p[1]*v-C:0)}})}),s}function RCe(e,t,r,a,s,i){const l=a?.querySelector(".xyflow__viewport");let u=!1;if(!l)return{changes:[],updatedInternals:u};const d=[],f=window.getComputedStyle(l),{m22:m}=new window.DOMMatrixReadOnly(f.transform),p=[];for(const x of e.values()){const v=t.get(x.id);if(!v)continue;if(v.hidden){t.set(v.id,{...v,internals:{...v.internals,handleBounds:void 0}}),u=!0;continue}const j=cT(x.nodeElement),y=v.measured.width!==j.width||v.measured.height!==j.height;if(!!(j.width&&j.height&&(y||!v.internals.handleBounds||x.force))){const C=x.nodeElement.getBoundingClientRect(),A=Od(v.extent)?v.extent:i;let{positionAbsolute:w}=v.internals;v.parentId&&v.extent==="parent"?w=yK(w,j,t.get(v.parentId)):A&&(w=wc(w,A,j));const S={...v,measured:j,internals:{...v.internals,positionAbsolute:w,handleBounds:{source:D$("source",x.nodeElement,C,m,v.id),target:D$("target",x.nodeElement,C,m,v.id)}}};t.set(v.id,S),v.parentId&&hT(S,t,r,{nodeOrigin:s}),u=!0,y&&(d.push({id:v.id,type:"dimensions",dimensions:j}),v.expandParent&&v.parentId&&p.push({id:v.id,parentId:v.parentId,rect:Td(S,s)}))}}if(p.length>0){const x=mT(p,t,r,s);d.push(...x)}return{changes:d,updatedInternals:u}}async function DCe({delta:e,panZoom:t,transform:r,translateExtent:a,width:s,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const l=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[s,i]],a),u=!!l&&(l.x!==r[0]||l.y!==r[1]||l.k!==r[2]);return Promise.resolve(u)}function B$(e,t,r,a,s,i){let l=s;const u=a.get(l)||new Map;a.set(l,u.set(r,t)),l=`${s}-${e}`;const d=a.get(l)||new Map;if(a.set(l,d.set(r,t)),i){l=`${s}-${e}-${i}`;const f=a.get(l)||new Map;a.set(l,f.set(r,t))}}function kK(e,t,r){e.clear(),t.clear();for(const a of r){const{source:s,target:i,sourceHandle:l=null,targetHandle:u=null}=a,d={edgeId:a.id,source:s,target:i,sourceHandle:l,targetHandle:u},f=`${s}-${l}--${i}-${u}`,m=`${i}-${u}--${s}-${l}`;B$("source",d,m,e,s,l),B$("target",d,f,e,i,u),t.set(a.id,a)}}function PK(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:PK(r,t):!1}function U$(e,t,r){let a=e;do{if(a?.matches?.(t))return!0;if(a===r)return!1;a=a?.parentElement}while(a);return!1}function ICe(e,t,r,a){const s=new Map;for(const[i,l]of e)if((l.selected||l.id===a)&&(!l.parentId||!PK(l,e))&&(l.draggable||t&&typeof l.draggable>"u")){const u=e.get(i);u&&s.set(i,{id:i,position:u.position||{x:0,y:0},distance:{x:r.x-u.internals.positionAbsolute.x,y:r.y-u.internals.positionAbsolute.y},extent:u.extent,parentId:u.parentId,origin:u.origin,expandParent:u.expandParent,internals:{positionAbsolute:u.internals.positionAbsolute||{x:0,y:0}},measured:{width:u.measured.width??0,height:u.measured.height??0}})}return s}function x2({nodeId:e,dragItems:t,nodeLookup:r,dragging:a=!0}){const s=[];for(const[l,u]of t){const d=r.get(l)?.internals.userNode;d&&s.push({...d,position:u.position,dragging:a})}if(!e)return[s[0],s];const i=r.get(e)?.internals.userNode;return[i?{...i,position:t.get(e)?.position||i.position,dragging:a}:s[0],s]}function LCe({dragItems:e,snapGrid:t,x:r,y:a}){const s=e.values().next().value;if(!s)return null;const i={x:r-s.distance.x,y:a-s.distance.y},l=op(i,t);return{x:l.x-i.x,y:l.y-i.y}}function $Ce({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:a,onDragStop:s}){let i={x:null,y:null},l=0,u=new Map,d=!1,f={x:0,y:0},m=null,p=!1,x=null,v=!1,j=!1,y=null;function N({noDragClassName:A,handleSelector:w,domNode:S,isSelectable:E,nodeId:O,nodeClickDistance:M=0}){x=Oa(S);function R({x:H,y:K}){const{nodeLookup:q,nodeExtent:$,snapGrid:k,snapToGrid:D,nodeOrigin:P,onNodeDrag:U,onSelectionDrag:G,onError:B,updateNodePositions:z}=t();i={x:H,y:K};let X=!1;const ee=u.size>1,je=ee&&$?TC(ip(u)):null,he=ee&&D?LCe({dragItems:u,snapGrid:k,x:H,y:K}):null;for(const[le,ve]of u){if(!q.has(le))continue;let xe={x:H-ve.distance.x,y:K-ve.distance.y};D&&(xe=he?{x:Math.round(xe.x+he.x),y:Math.round(xe.y+he.y)}:op(xe,k));let _e=null;if(ee&&$&&!ve.extent&&je){const{positionAbsolute:$e}=ve.internals,ue=$e.x-je.x+$[0][0],Me=$e.x+ve.measured.width-je.x2+$[1][0],Ze=$e.y-je.y+$[0][1],ht=$e.y+ve.measured.height-je.y2+$[1][1];_e=[[ue,Ze],[Me,ht]]}const{position:Ee,positionAbsolute:me}=gK({nodeId:le,nextPosition:xe,nodeLookup:q,nodeExtent:_e||$,nodeOrigin:P,onError:B});X=X||ve.position.x!==Ee.x||ve.position.y!==Ee.y,ve.position=Ee,ve.internals.positionAbsolute=me}if(j=j||X,!!X&&(z(u,!0),y&&(a||U||!O&&G))){const[le,ve]=x2({nodeId:O,dragItems:u,nodeLookup:q});a?.(y,u,le,ve),U?.(y,le,ve),O||G?.(y,ve)}}async function I(){if(!m)return;const{transform:H,panBy:K,autoPanSpeed:q,autoPanOnNodeDrag:$}=t();if(!$){d=!1,cancelAnimationFrame(l);return}const[k,D]=vK(f,m,q);(k!==0||D!==0)&&(i.x=(i.x??0)-k/H[2],i.y=(i.y??0)-D/H[2],await K({x:k,y:D})&&R(i)),l=requestAnimationFrame(I)}function V(H){const{nodeLookup:K,multiSelectionActive:q,nodesDraggable:$,transform:k,snapGrid:D,snapToGrid:P,selectNodesOnDrag:U,onNodeDragStart:G,onSelectionDragStart:B,unselectNodesAndEdges:z}=t();p=!0,(!U||!E)&&!q&&O&&(K.get(O)?.selected||z()),E&&U&&O&&e?.(O);const X=Ph(H.sourceEvent,{transform:k,snapGrid:D,snapToGrid:P,containerBounds:m});if(i=X,u=ICe(K,$,X,O),u.size>0&&(r||G||!O&&B)){const[ee,je]=x2({nodeId:O,dragItems:u,nodeLookup:K});r?.(H.sourceEvent,u,ee,je),G?.(H.sourceEvent,ee,je),O||B?.(H.sourceEvent,je)}}const F=nK().clickDistance(M).on("start",H=>{const{domNode:K,nodeDragThreshold:q,transform:$,snapGrid:k,snapToGrid:D}=t();m=K?.getBoundingClientRect()||null,v=!1,j=!1,y=H.sourceEvent,q===0&&V(H),i=Ph(H.sourceEvent,{transform:$,snapGrid:k,snapToGrid:D,containerBounds:m}),f=bs(H.sourceEvent,m)}).on("drag",H=>{const{autoPanOnNodeDrag:K,transform:q,snapGrid:$,snapToGrid:k,nodeDragThreshold:D,nodeLookup:P}=t(),U=Ph(H.sourceEvent,{transform:q,snapGrid:$,snapToGrid:k,containerBounds:m});if(y=H.sourceEvent,(H.sourceEvent.type==="touchmove"&&H.sourceEvent.touches.length>1||O&&!P.has(O))&&(v=!0),!v){if(!d&&K&&p&&(d=!0,I()),!p){const G=bs(H.sourceEvent,m),B=G.x-f.x,z=G.y-f.y;Math.sqrt(B*B+z*z)>D&&V(H)}(i.x!==U.xSnapped||i.y!==U.ySnapped)&&u&&p&&(f=bs(H.sourceEvent,m),R(U))}}).on("end",H=>{if(!(!p||v)&&(d=!1,p=!1,cancelAnimationFrame(l),u.size>0)){const{nodeLookup:K,updateNodePositions:q,onNodeDragStop:$,onSelectionDragStop:k}=t();if(j&&(q(u,!1),j=!1),s||$||!O&&k){const[D,P]=x2({nodeId:O,dragItems:u,nodeLookup:K,dragging:!1});s?.(H.sourceEvent,u,D,P),$?.(H.sourceEvent,D,P),O||k?.(H.sourceEvent,P)}}}).filter(H=>{const K=H.target;return!H.button&&(!A||!U$(K,`.${A}`,S))&&(!w||U$(K,w,S))});x.call(F)}function C(){x?.on(".drag",null)}return{update:N,destroy:C}}function FCe(e,t,r){const a=[],s={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const i of t.values())Em(s,Td(i))>0&&a.push(i);return a}const qCe=250;function zCe(e,t,r,a){let s=[],i=1/0;const l=FCe(e,r,t+qCe);for(const u of l){const d=[...u.internals.handleBounds?.source??[],...u.internals.handleBounds?.target??[]];for(const f of d){if(a.nodeId===f.nodeId&&a.type===f.type&&a.id===f.id)continue;const{x:m,y:p}=Om(u,f,f.position,!0),x=Math.sqrt(Math.pow(m-e.x,2)+Math.pow(p-e.y,2));x>t||(x<i?(s=[{...f,x:m,y:p}],i=x):x===i&&s.push({...f,x:m,y:p}))}}if(!s.length)return null;if(s.length>1){const u=a.type==="source"?"target":"source";return s.find(d=>d.type===u)??s[0]}return s[0]}function RK(e,t,r,a,s,i=!1){const l=a.get(e);if(!l)return null;const u=s==="strict"?l.internals.handleBounds?.[t]:[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]],d=(r?u?.find(f=>f.id===r):u?.[0])??null;return d&&i?{...d,...Om(l,d,d.position,!0)}:d}function DK(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function BCe(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const IK=()=>!0;function UCe(e,{connectionMode:t,connectionRadius:r,handleId:a,nodeId:s,edgeUpdaterType:i,isTarget:l,domNode:u,nodeLookup:d,lib:f,autoPanOnConnect:m,flowId:p,panBy:x,cancelConnection:v,onConnectStart:j,onConnect:y,onConnectEnd:N,isValidConnection:C=IK,onReconnectEnd:A,updateConnection:w,getTransform:S,getFromHandle:E,autoPanSpeed:O,dragThreshold:M=1,handleDomNode:R}){const I=NK(e.target);let V=0,F;const{x:H,y:K}=bs(e),q=DK(i,R),$=u?.getBoundingClientRect();let k=!1;if(!$||!q)return;const D=RK(s,q,a,d,t);if(!D)return;let P=bs(e,$),U=!1,G=null,B=!1,z=null;function X(){if(!m||!$)return;const[Ee,me]=vK(P,$,O);x({x:Ee,y:me}),V=requestAnimationFrame(X)}const ee={...D,nodeId:s,type:q,position:D.position},je=d.get(s);let le={inProgress:!0,isValid:null,from:Om(je,ee,et.Left,!0),fromHandle:ee,fromPosition:ee.position,fromNode:je,to:P,toHandle:null,toPosition:M$[ee.position],toNode:null,pointer:P};function ve(){k=!0,w(le),j?.(e,{nodeId:s,handleId:a,handleType:q})}M===0&&ve();function xe(Ee){if(!k){const{x:Me,y:Ze}=bs(Ee),ht=Me-H,pe=Ze-K;if(!(ht*ht+pe*pe>M*M))return;ve()}if(!E()||!ee){_e(Ee);return}const me=S();P=bs(Ee,$),F=zCe(lp(P,me,!1,[1,1]),r,d,ee),U||(X(),U=!0);const $e=LK(Ee,{handle:F,connectionMode:t,fromNodeId:s,fromHandleId:a,fromType:l?"target":"source",isValidConnection:C,doc:I,lib:f,flowId:p,nodeLookup:d});z=$e.handleDomNode,G=$e.connection,B=BCe(!!F,$e.isValid);const ue={...le,isValid:B,to:$e.toHandle&&B?Xy({x:$e.toHandle.x,y:$e.toHandle.y},me):P,toHandle:$e.toHandle,toPosition:B&&$e.toHandle?$e.toHandle.position:M$[ee.position],toNode:$e.toHandle?d.get($e.toHandle.nodeId):null,pointer:P};w(ue),le=ue}function _e(Ee){if(!("touches"in Ee&&Ee.touches.length>0)){if(k){(F||z)&&G&&B&&y?.(G);const{inProgress:me,...$e}=le,ue={...$e,toPosition:le.toHandle?le.toPosition:null};N?.(Ee,ue),i&&A?.(Ee,ue)}v(),cancelAnimationFrame(V),U=!1,B=!1,G=null,z=null,I.removeEventListener("mousemove",xe),I.removeEventListener("mouseup",_e),I.removeEventListener("touchmove",xe),I.removeEventListener("touchend",_e)}}I.addEventListener("mousemove",xe),I.addEventListener("mouseup",_e),I.addEventListener("touchmove",xe),I.addEventListener("touchend",_e)}function LK(e,{handle:t,connectionMode:r,fromNodeId:a,fromHandleId:s,fromType:i,doc:l,lib:u,flowId:d,isValidConnection:f=IK,nodeLookup:m}){const p=i==="target",x=t?l.querySelector(`.${u}-flow__handle[data-id="${d}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:v,y:j}=bs(e),y=l.elementFromPoint(v,j),N=y?.classList.contains(`${u}-flow__handle`)?y:x,C={handleDomNode:N,isValid:!1,connection:null,toHandle:null};if(N){const A=DK(void 0,N),w=N.getAttribute("data-nodeid"),S=N.getAttribute("data-handleid"),E=N.classList.contains("connectable"),O=N.classList.contains("connectableend");if(!w||!A)return C;const M={source:p?w:a,sourceHandle:p?S:s,target:p?a:w,targetHandle:p?s:S};C.connection=M;const I=E&&O&&(r===_d.Strict?p&&A==="source"||!p&&A==="target":w!==a||S!==s);C.isValid=I&&f(M),C.toHandle=RK(w,A,S,m,r,!0)}return C}const PC={onPointerDown:UCe,isValid:LK};function HCe({domNode:e,panZoom:t,getTransform:r,getViewScale:a}){const s=Oa(e);function i({translateExtent:u,width:d,height:f,zoomStep:m=1,pannable:p=!0,zoomable:x=!0,inversePan:v=!1}){const j=w=>{if(w.sourceEvent.type!=="wheel"||!t)return;const S=r(),E=w.sourceEvent.ctrlKey&&Tm()?10:1,O=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*m,M=S[2]*Math.pow(2,O*E);t.scaleTo(M)};let y=[0,0];const N=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(y=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},C=w=>{const S=r();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!t)return;const E=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],O=[E[0]-y[0],E[1]-y[1]];y=E;const M=a()*Math.max(S[2],Math.log(S[2]))*(v?-1:1),R={x:S[0]-O[0]*M,y:S[1]-O[1]*M},I=[[0,0],[d,f]];t.setViewportConstrained({x:R.x,y:R.y,zoom:S[2]},I,u)},A=dK().on("start",N).on("zoom",p?C:null).on("zoom.wheel",x?j:null);s.call(A,{})}function l(){s.on("zoom",null)}return{update:i,destroy:l,pointer:xs}}const N0=e=>({x:e.x,y:e.y,zoom:e.k}),g2=({x:e,y:t,zoom:r})=>j0.translate(e,t).scale(r),Iu=(e,t)=>e.target.closest(`.${t}`),$K=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),KCe=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,y2=(e,t=0,r=KCe,a=()=>{})=>{const s=typeof t=="number"&&t>0;return s||a(),s?e.transition().duration(t).ease(r).on("end",a):e},FK=e=>{const t=e.ctrlKey&&Tm()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function VCe({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:a,panOnScrollMode:s,panOnScrollSpeed:i,zoomOnPinch:l,onPanZoomStart:u,onPanZoom:d,onPanZoomEnd:f}){return m=>{if(Iu(m,t))return m.ctrlKey&&m.preventDefault(),!1;m.preventDefault(),m.stopImmediatePropagation();const p=r.property("__zoom").k||1;if(m.ctrlKey&&l){const N=xs(m),C=FK(m),A=p*Math.pow(2,C);a.scaleTo(r,A,N,m);return}const x=m.deltaMode===1?20:1;let v=s===Zl.Vertical?0:m.deltaX*x,j=s===Zl.Horizontal?0:m.deltaY*x;!Tm()&&m.shiftKey&&s!==Zl.Vertical&&(v=m.deltaY*x,j=0),a.translateBy(r,-(v/p)*i,-(j/p)*i,{internal:!0});const y=N0(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(d?.(m,y),e.panScrollTimeout=setTimeout(()=>{f?.(m,y),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,u?.(m,y))}}function WCe({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(a,s){const i=a.type==="wheel",l=!t&&i&&!a.ctrlKey,u=Iu(a,e);if(a.ctrlKey&&i&&u&&a.preventDefault(),l||u)return null;a.preventDefault(),r.call(this,a,s)}}function GCe({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return a=>{if(a.sourceEvent?.internal)return;const s=N0(a.transform);e.mouseButton=a.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=s,a.sourceEvent?.type==="mousedown"&&t(!0),r&&r?.(a.sourceEvent,s)}}function YCe({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:a,onPanZoom:s}){return i=>{e.usedRightMouseButton=!!(r&&$K(t,e.mouseButton??0)),i.sourceEvent?.sync||a([i.transform.x,i.transform.y,i.transform.k]),s&&!i.sourceEvent?.internal&&s?.(i.sourceEvent,N0(i.transform))}}function XCe({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:a,onPanZoomEnd:s,onPaneContextMenu:i}){return l=>{if(!l.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,i&&$K(t,e.mouseButton??0)&&!e.usedRightMouseButton&&l.sourceEvent&&i(l.sourceEvent),e.usedRightMouseButton=!1,a(!1),s)){const u=N0(l.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s?.(l.sourceEvent,u)},r?150:0)}}}function QCe({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:a,panOnScroll:s,zoomOnDoubleClick:i,userSelectionActive:l,noWheelClassName:u,noPanClassName:d,lib:f,connectionInProgress:m}){return p=>{const x=e||t,v=r&&p.ctrlKey,j=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(Iu(p,`${f}-flow__node`)||Iu(p,`${f}-flow__edge`)))return!0;if(!a&&!x&&!s&&!i&&!r||l||m&&!j||Iu(p,u)&&j||Iu(p,d)&&(!j||s&&j&&!e)||!r&&p.ctrlKey&&j)return!1;if(!r&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!x&&!s&&!v&&j||!a&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(a)&&!a.includes(p.button)&&p.type==="mousedown")return!1;const y=Array.isArray(a)&&a.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||j)&&y}}function ZCe({domNode:e,minZoom:t,maxZoom:r,translateExtent:a,viewport:s,onPanZoom:i,onPanZoomStart:l,onPanZoomEnd:u,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=e.getBoundingClientRect(),p=dK().scaleExtent([t,r]).translateExtent(a),x=Oa(e).call(p);A({x:s.x,y:s.y,zoom:Ed(s.zoom,t,r)},[[0,0],[m.width,m.height]],a);const v=x.on("wheel.zoom"),j=x.on("dblclick.zoom");p.wheelDelta(FK);function y(F,H){return x?new Promise(K=>{p?.interpolate(H?.interpolate==="linear"?Ri:gg).transform(y2(x,H?.duration,H?.ease,()=>K(!0)),F)}):Promise.resolve(!1)}function N({noWheelClassName:F,noPanClassName:H,onPaneContextMenu:K,userSelectionActive:q,panOnScroll:$,panOnDrag:k,panOnScrollMode:D,panOnScrollSpeed:P,preventScrolling:U,zoomOnPinch:G,zoomOnScroll:B,zoomOnDoubleClick:z,zoomActivationKeyPressed:X,lib:ee,onTransformChange:je,connectionInProgress:he,paneClickDistance:le,selectionOnDrag:ve}){q&&!f.isZoomingOrPanning&&C();const xe=$&&!X&&!q;p.clickDistance(ve?1/0:!js(le)||le<0?0:le);const _e=xe?VCe({zoomPanValues:f,noWheelClassName:F,d3Selection:x,d3Zoom:p,panOnScrollMode:D,panOnScrollSpeed:P,zoomOnPinch:G,onPanZoomStart:l,onPanZoom:i,onPanZoomEnd:u}):WCe({noWheelClassName:F,preventScrolling:U,d3ZoomHandler:v});if(x.on("wheel.zoom",_e,{passive:!1}),!q){const me=GCe({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:l});p.on("start",me);const $e=YCe({zoomPanValues:f,panOnDrag:k,onPaneContextMenu:!!K,onPanZoom:i,onTransformChange:je});p.on("zoom",$e);const ue=XCe({zoomPanValues:f,panOnDrag:k,panOnScroll:$,onPaneContextMenu:K,onPanZoomEnd:u,onDraggingChange:d});p.on("end",ue)}const Ee=QCe({zoomActivationKeyPressed:X,panOnDrag:k,zoomOnScroll:B,panOnScroll:$,zoomOnDoubleClick:z,zoomOnPinch:G,userSelectionActive:q,noPanClassName:H,noWheelClassName:F,lib:ee,connectionInProgress:he});p.filter(Ee),z?x.on("dblclick.zoom",j):x.on("dblclick.zoom",null)}function C(){p.on("zoom",null)}async function A(F,H,K){const q=g2(F),$=p?.constrain()(q,H,K);return $&&await y($),new Promise(k=>k($))}async function w(F,H){const K=g2(F);return await y(K,H),new Promise(q=>q(K))}function S(F){if(x){const H=g2(F),K=x.property("__zoom");(K.k!==F.zoom||K.x!==F.x||K.y!==F.y)&&p?.transform(x,H,null,{sync:!0})}}function E(){const F=x?uK(x.node()):{x:0,y:0,k:1};return{x:F.x,y:F.y,zoom:F.k}}function O(F,H){return x?new Promise(K=>{p?.interpolate(H?.interpolate==="linear"?Ri:gg).scaleTo(y2(x,H?.duration,H?.ease,()=>K(!0)),F)}):Promise.resolve(!1)}function M(F,H){return x?new Promise(K=>{p?.interpolate(H?.interpolate==="linear"?Ri:gg).scaleBy(y2(x,H?.duration,H?.ease,()=>K(!0)),F)}):Promise.resolve(!1)}function R(F){p?.scaleExtent(F)}function I(F){p?.translateExtent(F)}function V(F){const H=!js(F)||F<0?0:F;p?.clickDistance(H)}return{update:N,destroy:C,setViewport:w,setViewportConstrained:A,getViewport:E,scaleTo:O,scaleBy:M,setScaleExtent:R,setTranslateExtent:I,syncViewport:S,setClickDistance:V}}var Md;(function(e){e.Line="line",e.Handle="handle"})(Md||(Md={}));function JCe({width:e,prevWidth:t,height:r,prevHeight:a,affectsX:s,affectsY:i}){const l=e-t,u=r-a,d=[l>0?1:l<0?-1:0,u>0?1:u<0?-1:0];return l&&s&&(d[0]=d[0]*-1),u&&i&&(d[1]=d[1]*-1),d}function H$(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),a=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:a,affectsY:s}}function ko(e,t){return Math.max(0,t-e)}function Po(e,t){return Math.max(0,e-t)}function ig(e,t,r){return Math.max(0,t-e,e-r)}function K$(e,t){return e?!t:t}function e_e(e,t,r,a,s,i,l,u){let{affectsX:d,affectsY:f}=t;const{isHorizontal:m,isVertical:p}=t,x=m&&p,{xSnapped:v,ySnapped:j}=r,{minWidth:y,maxWidth:N,minHeight:C,maxHeight:A}=a,{x:w,y:S,width:E,height:O,aspectRatio:M}=e;let R=Math.floor(m?v-e.pointerX:0),I=Math.floor(p?j-e.pointerY:0);const V=E+(d?-R:R),F=O+(f?-I:I),H=-i[0]*E,K=-i[1]*O;let q=ig(V,y,N),$=ig(F,C,A);if(l){let P=0,U=0;d&&R<0?P=ko(w+R+H,l[0][0]):!d&&R>0&&(P=Po(w+V+H,l[1][0])),f&&I<0?U=ko(S+I+K,l[0][1]):!f&&I>0&&(U=Po(S+F+K,l[1][1])),q=Math.max(q,P),$=Math.max($,U)}if(u){let P=0,U=0;d&&R>0?P=Po(w+R,u[0][0]):!d&&R<0&&(P=ko(w+V,u[1][0])),f&&I>0?U=Po(S+I,u[0][1]):!f&&I<0&&(U=ko(S+F,u[1][1])),q=Math.max(q,P),$=Math.max($,U)}if(s){if(m){const P=ig(V/M,C,A)*M;if(q=Math.max(q,P),l){let U=0;!d&&!f||d&&!f&&x?U=Po(S+K+V/M,l[1][1])*M:U=ko(S+K+(d?R:-R)/M,l[0][1])*M,q=Math.max(q,U)}if(u){let U=0;!d&&!f||d&&!f&&x?U=ko(S+V/M,u[1][1])*M:U=Po(S+(d?R:-R)/M,u[0][1])*M,q=Math.max(q,U)}}if(p){const P=ig(F*M,y,N)/M;if($=Math.max($,P),l){let U=0;!d&&!f||f&&!d&&x?U=Po(w+F*M+H,l[1][0])/M:U=ko(w+(f?I:-I)*M+H,l[0][0])/M,$=Math.max($,U)}if(u){let U=0;!d&&!f||f&&!d&&x?U=ko(w+F*M,u[1][0])/M:U=Po(w+(f?I:-I)*M,u[0][0])/M,$=Math.max($,U)}}}I=I+(I<0?$:-$),R=R+(R<0?q:-q),s&&(x?V>F*M?I=(K$(d,f)?-R:R)/M:R=(K$(d,f)?-I:I)*M:m?(I=R/M,f=d):(R=I*M,d=f));const k=d?w+R:w,D=f?S+I:S;return{width:E+(d?-R:R),height:O+(f?-I:I),x:i[0]*R*(d?-1:1)+k,y:i[1]*I*(f?-1:1)+D}}const qK={width:0,height:0,x:0,y:0},t_e={...qK,pointerX:0,pointerY:0,aspectRatio:1};function n_e(e){return[[0,0],[e.measured.width,e.measured.height]]}function r_e(e,t,r){const a=t.position.x+e.position.x,s=t.position.y+e.position.y,i=e.measured.width??0,l=e.measured.height??0,u=r[0]*i,d=r[1]*l;return[[a-u,s-d],[a+i-u,s+l-d]]}function a_e({domNode:e,nodeId:t,getStoreItems:r,onChange:a,onEnd:s}){const i=Oa(e);let l={controlDirection:H$("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function u({controlPosition:f,boundaries:m,keepAspectRatio:p,resizeDirection:x,onResizeStart:v,onResize:j,onResizeEnd:y,shouldResize:N}){let C={...qK},A={...t_e};l={boundaries:m,resizeDirection:x,keepAspectRatio:p,controlDirection:H$(f)};let w,S=null,E=[],O,M,R,I=!1;const V=nK().on("start",F=>{const{nodeLookup:H,transform:K,snapGrid:q,snapToGrid:$,nodeOrigin:k,paneDomNode:D}=r();if(w=H.get(t),!w)return;S=D?.getBoundingClientRect()??null;const{xSnapped:P,ySnapped:U}=Ph(F.sourceEvent,{transform:K,snapGrid:q,snapToGrid:$,containerBounds:S});C={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},A={...C,pointerX:P,pointerY:U,aspectRatio:C.width/C.height},O=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(O=H.get(w.parentId),M=O&&w.extent==="parent"?n_e(O):void 0),E=[],R=void 0;for(const[G,B]of H)if(B.parentId===t&&(E.push({id:G,position:{...B.position},extent:B.extent}),B.extent==="parent"||B.expandParent)){const z=r_e(B,w,B.origin??k);R?R=[[Math.min(z[0][0],R[0][0]),Math.min(z[0][1],R[0][1])],[Math.max(z[1][0],R[1][0]),Math.max(z[1][1],R[1][1])]]:R=z}v?.(F,{...C})}).on("drag",F=>{const{transform:H,snapGrid:K,snapToGrid:q,nodeOrigin:$}=r(),k=Ph(F.sourceEvent,{transform:H,snapGrid:K,snapToGrid:q,containerBounds:S}),D=[];if(!w)return;const{x:P,y:U,width:G,height:B}=C,z={},X=w.origin??$,{width:ee,height:je,x:he,y:le}=e_e(A,l.controlDirection,k,l.boundaries,l.keepAspectRatio,X,M,R),ve=ee!==G,xe=je!==B,_e=he!==P&&ve,Ee=le!==U&&xe;if(!_e&&!Ee&&!ve&&!xe)return;if((_e||Ee||X[0]===1||X[1]===1)&&(z.x=_e?he:C.x,z.y=Ee?le:C.y,C.x=z.x,C.y=z.y,E.length>0)){const Me=he-P,Ze=le-U;for(const ht of E)ht.position={x:ht.position.x-Me+X[0]*(ee-G),y:ht.position.y-Ze+X[1]*(je-B)},D.push(ht)}if((ve||xe)&&(z.width=ve&&(!l.resizeDirection||l.resizeDirection==="horizontal")?ee:C.width,z.height=xe&&(!l.resizeDirection||l.resizeDirection==="vertical")?je:C.height,C.width=z.width,C.height=z.height),O&&w.expandParent){const Me=X[0]*(z.width??0);z.x&&z.x<Me&&(C.x=Me,A.x=A.x-(z.x-Me));const Ze=X[1]*(z.height??0);z.y&&z.y<Ze&&(C.y=Ze,A.y=A.y-(z.y-Ze))}const me=JCe({width:C.width,prevWidth:G,height:C.height,prevHeight:B,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),$e={...C,direction:me};N?.(F,$e)!==!1&&(I=!0,j?.(F,$e),a(z,D))}).on("end",F=>{I&&(y?.(F,{...C}),s?.({...C}),I=!1)});i.call(V)}function d(){i.on(".drag",null)}return{update:u,destroy:d}}var v2={exports:{}},j2={};var V$;function s_e(){if(V$)return j2;V$=1;var e=Rm(),t=L6();function r(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return j2.useSyncExternalStoreWithSelector=function(f,m,p,x,v){var j=i(null);if(j.current===null){var y={hasValue:!1,value:null};j.current=y}else y=j.current;j=u(function(){function C(O){if(!A){if(A=!0,w=O,O=x(O),v!==void 0&&y.hasValue){var M=y.value;if(v(M,O))return S=M}return S=O}if(M=S,a(w,O))return M;var R=x(O);return v!==void 0&&v(M,R)?(w=O,M):(w=O,S=R)}var A=!1,w,S,E=p===void 0?null:p;return[function(){return C(m())},E===null?void 0:function(){return C(E())}]},[m,p,x,v]);var N=s(f,j[0],j[1]);return l(function(){y.hasValue=!0,y.value=N},[N]),d(N),N},j2}var W$;function i_e(){return W$||(W$=1,v2.exports=s_e()),v2.exports}var o_e=i_e();const l_e=an(o_e),c_e={},G$=e=>{let t;const r=new Set,a=(m,p)=>{const x=typeof m=="function"?m(t):m;if(!Object.is(x,t)){const v=t;t=p??(typeof x!="object"||x===null)?x:Object.assign({},t,x),r.forEach(j=>j(t,v))}},s=()=>t,d={setState:a,getState:s,getInitialState:()=>f,subscribe:m=>(r.add(m),()=>r.delete(m)),destroy:()=>{(c_e?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},f=t=e(a,s,d);return d},u_e=e=>e?G$(e):G$,{useDebugValue:d_e}=J,{useSyncExternalStoreWithSelector:f_e}=l_e,h_e=e=>e;function zK(e,t=h_e,r){const a=f_e(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return d_e(a),a}const Y$=(e,t)=>{const r=u_e(e),a=(s,i=t)=>zK(r,s,i);return Object.assign(a,r),a},m_e=(e,t)=>e?Y$(e,t):Y$;function Un(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[a,s]of e)if(!Object.is(s,t.get(a)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const a of r)if(!Object.prototype.hasOwnProperty.call(t,a)||!Object.is(e[a],t[a]))return!1;return!0}const S0=b.createContext(null),p_e=S0.Provider,BK=Zs.error001();function Qt(e,t){const r=b.useContext(S0);if(r===null)throw new Error(BK);return zK(r,e,t)}function Fn(){const e=b.useContext(S0);if(e===null)throw new Error(BK);return b.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const X$={display:"none"},x_e={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},UK="react-flow__node-desc",HK="react-flow__edge-desc",g_e="react-flow__aria-live",y_e=e=>e.ariaLiveMessage,v_e=e=>e.ariaLabelConfig;function j_e({rfId:e}){const t=Qt(y_e);return n.jsx("div",{id:`${g_e}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:x_e,children:t})}function b_e({rfId:e,disableKeyboardA11y:t}){const r=Qt(v_e);return n.jsxs(n.Fragment,{children:[n.jsx("div",{id:`${UK}-${e}`,style:X$,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),n.jsx("div",{id:`${HK}-${e}`,style:X$,children:r["edge.a11yDescription.default"]}),!t&&n.jsx(j_e,{rfId:e})]})}const A0=b.forwardRef(({position:e="top-left",children:t,className:r,style:a,...s},i)=>{const l=`${e}`.split("-");return n.jsx("div",{className:mr(["react-flow__panel",r,...l]),style:a,ref:i,...s,children:t})});A0.displayName="Panel";function w_e({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:n.jsx(A0,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:n.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const N_e=e=>{const t=[],r=[];for(const[,a]of e.nodeLookup)a.selected&&t.push(a.internals.userNode);for(const[,a]of e.edgeLookup)a.selected&&r.push(a);return{selectedNodes:t,selectedEdges:r}},og=e=>e.id;function S_e(e,t){return Un(e.selectedNodes.map(og),t.selectedNodes.map(og))&&Un(e.selectedEdges.map(og),t.selectedEdges.map(og))}function A_e({onSelectionChange:e}){const t=Fn(),{selectedNodes:r,selectedEdges:a}=Qt(N_e,S_e);return b.useEffect(()=>{const s={nodes:r,edges:a};e?.(s),t.getState().onSelectionChangeHandlers.forEach(i=>i(s))},[r,a,e]),null}const C_e=e=>!!e.onSelectionChangeHandlers;function __e({onSelectionChange:e}){const t=Qt(C_e);return e||t?n.jsx(A_e,{onSelectionChange:e}):null}const KK=[0,0],E_e={x:0,y:0,zoom:1},T_e=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig"],Q$=[...T_e,"rfId"],O_e=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Z$={translateExtent:Cm,nodeOrigin:KK,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function M_e(e){const{setNodes:t,setEdges:r,setMinZoom:a,setMaxZoom:s,setTranslateExtent:i,setNodeExtent:l,reset:u,setDefaultNodesAndEdges:d}=Qt(O_e,Un),f=Fn();b.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{m.current=Z$,u()}),[]);const m=b.useRef(Z$);return b.useEffect(()=>{for(const p of Q$){const x=e[p],v=m.current[p];x!==v&&(typeof e[p]>"u"||(p==="nodes"?t(x):p==="edges"?r(x):p==="minZoom"?a(x):p==="maxZoom"?s(x):p==="translateExtent"?i(x):p==="nodeExtent"?l(x):p==="ariaLabelConfig"?f.setState({ariaLabelConfig:gCe(x)}):p==="fitView"?f.setState({fitViewQueued:x}):p==="fitViewOptions"?f.setState({fitViewOptions:x}):f.setState({[p]:x})))}m.current=e},Q$.map(p=>e[p])),null}function J$(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function k_e(e){const[t,r]=b.useState(e==="system"?null:e);return b.useEffect(()=>{if(e!=="system"){r(e);return}const a=J$(),s=()=>r(a?.matches?"dark":"light");return s(),a?.addEventListener("change",s),()=>{a?.removeEventListener("change",s)}},[e]),t!==null?t:J$()?.matches?"dark":"light"}const e6=typeof document<"u"?document:null;function Mm(e=null,t={target:e6,actInsideInputWithModifier:!0}){const[r,a]=b.useState(!1),s=b.useRef(!1),i=b.useRef(new Set([])),[l,u]=b.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=f.reduce((p,x)=>p.concat(...x),[]);return[f,m]}return[[],[]]},[e]);return b.useEffect(()=>{const d=t?.target??e6,f=t?.actInsideInputWithModifier??!0;if(e!==null){const m=v=>{if(s.current=v.ctrlKey||v.metaKey||v.shiftKey||v.altKey,(!s.current||s.current&&!f)&&SK(v))return!1;const y=n6(v.code,u);if(i.current.add(v[y]),t6(l,i.current,!1)){const N=v.composedPath?.()?.[0]||v.target,C=N?.nodeName==="BUTTON"||N?.nodeName==="A";t.preventDefault!==!1&&(s.current||!C)&&v.preventDefault(),a(!0)}},p=v=>{const j=n6(v.code,u);t6(l,i.current,!0)?(a(!1),i.current.clear()):i.current.delete(v[j]),v.key==="Meta"&&i.current.clear(),s.current=!1},x=()=>{i.current.clear(),a(!1)};return d?.addEventListener("keydown",m),d?.addEventListener("keyup",p),window.addEventListener("blur",x),window.addEventListener("contextmenu",x),()=>{d?.removeEventListener("keydown",m),d?.removeEventListener("keyup",p),window.removeEventListener("blur",x),window.removeEventListener("contextmenu",x)}}},[e,a]),r}function t6(e,t,r){return e.filter(a=>r||a.length===t.size).some(a=>a.every(s=>t.has(s)))}function n6(e,t){return t.includes(e)?"code":"key"}const P_e=()=>{const e=Fn();return b.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:a}=e.getState();return a?a.scaleTo(t,{duration:r?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[a,s,i],panZoom:l}=e.getState();return l?(await l.setViewport({x:t.x??a,y:t.y??s,zoom:t.zoom??i},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,a]=e.getState().transform;return{x:t,y:r,zoom:a}},setCenter:async(t,r,a)=>e.getState().setCenter(t,r,a),fitBounds:async(t,r)=>{const{width:a,height:s,minZoom:i,maxZoom:l,panZoom:u}=e.getState(),d=lT(t,a,s,i,l,r?.padding??.1);return u?(await u.setViewport(d,{duration:r?.duration,ease:r?.ease,interpolate:r?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:a,snapGrid:s,snapToGrid:i,domNode:l}=e.getState();if(!l)return t;const{x:u,y:d}=l.getBoundingClientRect(),f={x:t.x-u,y:t.y-d},m=r.snapGrid??s,p=r.snapToGrid??i;return lp(f,a,p,m)},flowToScreenPosition:t=>{const{transform:r,domNode:a}=e.getState();if(!a)return t;const{x:s,y:i}=a.getBoundingClientRect(),l=Xy(t,r);return{x:l.x+s,y:l.y+i}}}),[])};function VK(e,t){const r=[],a=new Map,s=[];for(const i of e)if(i.type==="add"){s.push(i);continue}else if(i.type==="remove"||i.type==="replace")a.set(i.id,[i]);else{const l=a.get(i.id);l?l.push(i):a.set(i.id,[i])}for(const i of t){const l=a.get(i.id);if(!l){r.push(i);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){r.push({...l[0].item});continue}const u={...i};for(const d of l)R_e(d,u);r.push(u)}return s.length&&s.forEach(i=>{i.index!==void 0?r.splice(i.index,0,{...i.item}):r.push({...i.item})}),r}function R_e(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??={},t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function WK(e,t){return VK(e,t)}function GK(e,t){return VK(e,t)}function zl(e,t){return{id:e,type:"select",selected:t}}function Lu(e,t=new Set,r=!1){const a=[];for(const[s,i]of e){const l=t.has(s);!(i.selected===void 0&&!l)&&i.selected!==l&&(r&&(i.selected=l),a.push(zl(i.id,l)))}return a}function r6({items:e=[],lookup:t}){const r=[],a=new Map(e.map(s=>[s.id,s]));for(const[s,i]of e.entries()){const l=t.get(i.id),u=l?.internals?.userNode??l;u!==void 0&&u!==i&&r.push({id:i.id,item:i,type:"replace"}),u===void 0&&r.push({item:i,type:"add",index:s})}for(const[s]of t)a.get(s)===void 0&&r.push({id:s,type:"remove"});return r}function a6(e){return{id:e.id,type:"remove"}}const s6=e=>oCe(e),D_e=e=>xK(e);function YK(e){return b.forwardRef(e)}const I_e=typeof window<"u"?b.useLayoutEffect:b.useEffect;function i6(e){const[t,r]=b.useState(BigInt(0)),[a]=b.useState(()=>L_e(()=>r(s=>s+BigInt(1))));return I_e(()=>{const s=a.get();s.length&&(e(s),a.reset())},[t]),a}function L_e(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const XK=b.createContext(null);function $_e({children:e}){const t=Fn(),r=b.useCallback(u=>{const{nodes:d=[],setNodes:f,hasDefaultNodes:m,onNodesChange:p,nodeLookup:x,fitViewQueued:v}=t.getState();let j=d;for(const N of u)j=typeof N=="function"?N(j):N;const y=r6({items:j,lookup:x});m&&f(j),y.length>0?p?.(y):v&&window.requestAnimationFrame(()=>{const{fitViewQueued:N,nodes:C,setNodes:A}=t.getState();N&&A(C)})},[]),a=i6(r),s=b.useCallback(u=>{const{edges:d=[],setEdges:f,hasDefaultEdges:m,onEdgesChange:p,edgeLookup:x}=t.getState();let v=d;for(const j of u)v=typeof j=="function"?j(v):j;m?f(v):p&&p(r6({items:v,lookup:x}))},[]),i=i6(s),l=b.useMemo(()=>({nodeQueue:a,edgeQueue:i}),[]);return n.jsx(XK.Provider,{value:l,children:e})}function F_e(){const e=b.useContext(XK);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const q_e=e=>!!e.panZoom;function pT(){const e=P_e(),t=Fn(),r=F_e(),a=Qt(q_e),s=b.useMemo(()=>{const i=p=>t.getState().nodeLookup.get(p),l=p=>{r.nodeQueue.push(p)},u=p=>{r.edgeQueue.push(p)},d=p=>{const{nodeLookup:x,nodeOrigin:v}=t.getState(),j=s6(p)?p:x.get(p.id),y=j.parentId?wK(j.position,j.measured,j.parentId,x,v):j.position,N={...j,position:y,width:j.measured?.width??j.width,height:j.measured?.height??j.height};return Td(N)},f=(p,x,v={replace:!1})=>{l(j=>j.map(y=>{if(y.id===p){const N=typeof x=="function"?x(y):x;return v.replace&&s6(N)?N:{...y,...N}}return y}))},m=(p,x,v={replace:!1})=>{u(j=>j.map(y=>{if(y.id===p){const N=typeof x=="function"?x(y):x;return v.replace&&D_e(N)?N:{...y,...N}}return y}))};return{getNodes:()=>t.getState().nodes.map(p=>({...p})),getNode:p=>i(p)?.internals.userNode,getInternalNode:i,getEdges:()=>{const{edges:p=[]}=t.getState();return p.map(x=>({...x}))},getEdge:p=>t.getState().edgeLookup.get(p),setNodes:l,setEdges:u,addNodes:p=>{const x=Array.isArray(p)?p:[p];r.nodeQueue.push(v=>[...v,...x])},addEdges:p=>{const x=Array.isArray(p)?p:[p];r.edgeQueue.push(v=>[...v,...x])},toObject:()=>{const{nodes:p=[],edges:x=[],transform:v}=t.getState(),[j,y,N]=v;return{nodes:p.map(C=>({...C})),edges:x.map(C=>({...C})),viewport:{x:j,y,zoom:N}}},deleteElements:async({nodes:p=[],edges:x=[]})=>{const{nodes:v,edges:j,onNodesDelete:y,onEdgesDelete:N,triggerNodeChanges:C,triggerEdgeChanges:A,onDelete:w,onBeforeDelete:S}=t.getState(),{nodes:E,edges:O}=await fCe({nodesToRemove:p,edgesToRemove:x,nodes:v,edges:j,onBeforeDelete:S}),M=O.length>0,R=E.length>0;if(M){const I=O.map(a6);N?.(O),A(I)}if(R){const I=E.map(a6);y?.(E),C(I)}return(R||M)&&w?.({nodes:E,edges:O}),{deletedNodes:E,deletedEdges:O}},getIntersectingNodes:(p,x=!0,v)=>{const j=P$(p),y=j?p:d(p),N=v!==void 0;return y?(v||t.getState().nodes).filter(C=>{const A=t.getState().nodeLookup.get(C.id);if(A&&!j&&(C.id===p.id||!A.internals.positionAbsolute))return!1;const w=Td(N?C:A),S=Em(w,y);return x&&S>0||S>=w.width*w.height||S>=y.width*y.height}):[]},isNodeIntersecting:(p,x,v=!0)=>{const y=P$(p)?p:d(p);if(!y)return!1;const N=Em(y,x);return v&&N>0||N>=x.width*x.height||N>=y.width*y.height},updateNode:f,updateNodeData:(p,x,v={replace:!1})=>{f(p,j=>{const y=typeof x=="function"?x(j):x;return v.replace?{...j,data:y}:{...j,data:{...j.data,...y}}},v)},updateEdge:m,updateEdgeData:(p,x,v={replace:!1})=>{m(p,j=>{const y=typeof x=="function"?x(j):x;return v.replace?{...j,data:y}:{...j,data:{...j.data,...y}}},v)},getNodesBounds:p=>{const{nodeLookup:x,nodeOrigin:v}=t.getState();return lCe(p,{nodeLookup:x,nodeOrigin:v})},getHandleConnections:({type:p,id:x,nodeId:v})=>Array.from(t.getState().connectionLookup.get(`${v}-${p}${x?`-${x}`:""}`)?.values()??[]),getNodeConnections:({type:p,handleId:x,nodeId:v})=>Array.from(t.getState().connectionLookup.get(`${v}${p?x?`-${p}-${x}`:`-${p}`:""}`)?.values()??[]),fitView:async p=>{const x=t.getState().fitViewResolver??xCe();return t.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:x}),r.nodeQueue.push(v=>[...v]),x.promise}}},[]);return b.useMemo(()=>({...s,...e,viewportInitialized:a}),[a])}const o6=e=>e.selected,z_e=typeof window<"u"?window:void 0;function B_e({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=Fn(),{deleteElements:a}=pT(),s=Mm(e,{actInsideInputWithModifier:!1}),i=Mm(t,{target:z_e});b.useEffect(()=>{if(s){const{edges:l,nodes:u}=r.getState();a({nodes:u.filter(o6),edges:l.filter(o6)}),r.setState({nodesSelectionActive:!1})}},[s]),b.useEffect(()=>{r.setState({multiSelectionActive:i})},[i])}function U_e(e){const t=Fn();b.useEffect(()=>{const r=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const a=cT(e.current);(a.height===0||a.width===0)&&t.getState().onError?.("004",Zs.error004()),t.setState({width:a.width||500,height:a.height||500})};if(e.current){r(),window.addEventListener("resize",r);const a=new ResizeObserver(()=>r());return a.observe(e.current),()=>{window.removeEventListener("resize",r),a&&e.current&&a.unobserve(e.current)}}},[])}const C0={position:"absolute",width:"100%",height:"100%",top:0,left:0},H_e=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function K_e({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:a=!1,panOnScrollSpeed:s=.5,panOnScrollMode:i=Zl.Free,zoomOnDoubleClick:l=!0,panOnDrag:u=!0,defaultViewport:d,translateExtent:f,minZoom:m,maxZoom:p,zoomActivationKeyCode:x,preventScrolling:v=!0,children:j,noWheelClassName:y,noPanClassName:N,onViewportChange:C,isControlledViewport:A,paneClickDistance:w,selectionOnDrag:S}){const E=Fn(),O=b.useRef(null),{userSelectionActive:M,lib:R,connectionInProgress:I}=Qt(H_e,Un),V=Mm(x),F=b.useRef();U_e(O);const H=b.useCallback(K=>{C?.({x:K[0],y:K[1],zoom:K[2]}),A||E.setState({transform:K})},[C,A]);return b.useEffect(()=>{if(O.current){F.current=ZCe({domNode:O.current,minZoom:m,maxZoom:p,translateExtent:f,viewport:d,onDraggingChange:k=>E.setState({paneDragging:k}),onPanZoomStart:(k,D)=>{const{onViewportChangeStart:P,onMoveStart:U}=E.getState();U?.(k,D),P?.(D)},onPanZoom:(k,D)=>{const{onViewportChange:P,onMove:U}=E.getState();U?.(k,D),P?.(D)},onPanZoomEnd:(k,D)=>{const{onViewportChangeEnd:P,onMoveEnd:U}=E.getState();U?.(k,D),P?.(D)}});const{x:K,y:q,zoom:$}=F.current.getViewport();return E.setState({panZoom:F.current,transform:[K,q,$],domNode:O.current.closest(".react-flow")}),()=>{F.current?.destroy()}}},[]),b.useEffect(()=>{F.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:a,panOnScrollSpeed:s,panOnScrollMode:i,zoomOnDoubleClick:l,panOnDrag:u,zoomActivationKeyPressed:V,preventScrolling:v,noPanClassName:N,userSelectionActive:M,noWheelClassName:y,lib:R,onTransformChange:H,connectionInProgress:I,selectionOnDrag:S,paneClickDistance:w})},[e,t,r,a,s,i,l,u,V,v,N,M,y,R,H,I,S,w]),n.jsx("div",{className:"react-flow__renderer",ref:O,style:C0,children:j})}const V_e=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function W_e(){const{userSelectionActive:e,userSelectionRect:t}=Qt(V_e,Un);return e&&t?n.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const b2=(e,t)=>r=>{r.target===t.current&&e?.(r)},G_e=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Y_e({isSelecting:e,selectionKeyPressed:t,selectionMode:r=_m.Full,panOnDrag:a,paneClickDistance:s,selectionOnDrag:i,onSelectionStart:l,onSelectionEnd:u,onPaneClick:d,onPaneContextMenu:f,onPaneScroll:m,onPaneMouseEnter:p,onPaneMouseMove:x,onPaneMouseLeave:v,children:j}){const y=Fn(),{userSelectionActive:N,elementsSelectable:C,dragging:A,connectionInProgress:w}=Qt(G_e,Un),S=C&&(e||N),E=b.useRef(null),O=b.useRef(),M=b.useRef(new Set),R=b.useRef(new Set),I=b.useRef(!1),V=P=>{if(I.current||w){I.current=!1;return}d?.(P),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},F=P=>{if(Array.isArray(a)&&a?.includes(2)){P.preventDefault();return}f?.(P)},H=m?P=>m(P):void 0,K=P=>{I.current&&(P.stopPropagation(),I.current=!1)},q=P=>{const{domNode:U}=y.getState();if(O.current=U?.getBoundingClientRect(),!O.current)return;const G=P.target===E.current;if(!G&&!!P.target.closest(".nokey")||!e||!(i&&G||t)||P.button!==0||!P.isPrimary)return;P.target?.setPointerCapture?.(P.pointerId),I.current=!1;const{x:X,y:ee}=bs(P.nativeEvent,O.current);y.setState({userSelectionRect:{width:0,height:0,startX:X,startY:ee,x:X,y:ee}}),G||(P.stopPropagation(),P.preventDefault())},$=P=>{const{userSelectionRect:U,transform:G,nodeLookup:B,edgeLookup:z,connectionLookup:X,triggerNodeChanges:ee,triggerEdgeChanges:je,defaultEdgeOptions:he,resetSelectedElements:le}=y.getState();if(!O.current||!U)return;const{x:ve,y:xe}=bs(P.nativeEvent,O.current),{startX:_e,startY:Ee}=U;if(!I.current){const Ze=t?0:s;if(Math.hypot(ve-_e,xe-Ee)<=Ze)return;le(),l?.(P)}I.current=!0;const me={startX:_e,startY:Ee,x:ve<_e?ve:_e,y:xe<Ee?xe:Ee,width:Math.abs(ve-_e),height:Math.abs(xe-Ee)},$e=M.current,ue=R.current;M.current=new Set(oT(B,me,G,r===_m.Partial,!0).map(Ze=>Ze.id)),R.current=new Set;const Me=he?.selectable??!0;for(const Ze of M.current){const ht=X.get(Ze);if(ht)for(const{edgeId:pe}of ht.values()){const vt=z.get(pe);vt&&(vt.selectable??Me)&&R.current.add(pe)}}if(!R$($e,M.current)){const Ze=Lu(B,M.current,!0);ee(Ze)}if(!R$(ue,R.current)){const Ze=Lu(z,R.current);je(Ze)}y.setState({userSelectionRect:me,userSelectionActive:!0,nodesSelectionActive:!1})},k=P=>{P.button===0&&(P.target?.releasePointerCapture?.(P.pointerId),!N&&P.target===E.current&&y.getState().userSelectionRect&&V?.(P),y.setState({userSelectionActive:!1,userSelectionRect:null}),I.current&&(u?.(P),y.setState({nodesSelectionActive:M.current.size>0})))},D=a===!0||Array.isArray(a)&&a.includes(0);return n.jsxs("div",{className:mr(["react-flow__pane",{draggable:D,dragging:A,selection:e}]),onClick:S?void 0:b2(V,E),onContextMenu:b2(F,E),onWheel:b2(H,E),onPointerEnter:S?void 0:p,onPointerMove:S?$:x,onPointerUp:S?k:void 0,onPointerDownCapture:S?q:void 0,onClickCapture:S?K:void 0,onPointerLeave:v,ref:E,style:C0,children:[j,n.jsx(W_e,{})]})}function RC({id:e,store:t,unselect:r=!1,nodeRef:a}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:l,nodeLookup:u,onError:d}=t.getState(),f=u.get(e);if(!f){d?.("012",Zs.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(r||f.selected&&l)&&(i({nodes:[f],edges:[]}),requestAnimationFrame(()=>a?.current?.blur())):s([e])}function QK({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:a,nodeId:s,isSelectable:i,nodeClickDistance:l}){const u=Fn(),[d,f]=b.useState(!1),m=b.useRef();return b.useEffect(()=>{m.current=$Ce({getStoreItems:()=>u.getState(),onNodeMouseDown:p=>{RC({id:p,store:u,nodeRef:e})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),b.useEffect(()=>{if(t)m.current?.destroy();else if(e.current)return m.current?.update({noDragClassName:r,handleSelector:a,domNode:e.current,isSelectable:i,nodeId:s,nodeClickDistance:l}),()=>{m.current?.destroy()}},[r,a,t,i,e,s]),d}const X_e=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function ZK(){const e=Fn();return b.useCallback(r=>{const{nodeExtent:a,snapToGrid:s,snapGrid:i,nodesDraggable:l,onError:u,updateNodePositions:d,nodeLookup:f,nodeOrigin:m}=e.getState(),p=new Map,x=X_e(l),v=s?i[0]:5,j=s?i[1]:5,y=r.direction.x*v*r.factor,N=r.direction.y*j*r.factor;for(const[,C]of f){if(!x(C))continue;let A={x:C.internals.positionAbsolute.x+y,y:C.internals.positionAbsolute.y+N};s&&(A=op(A,i));const{position:w,positionAbsolute:S}=gK({nodeId:C.id,nextPosition:A,nodeLookup:f,nodeExtent:a,nodeOrigin:m,onError:u});C.position=w,C.internals.positionAbsolute=S,p.set(C.id,C)}d(p)},[])}const xT=b.createContext(null),Q_e=xT.Provider;xT.Consumer;const JK=()=>b.useContext(xT),Z_e=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),J_e=(e,t,r)=>a=>{const{connectionClickStartHandle:s,connectionMode:i,connection:l}=a,{fromHandle:u,toHandle:d,isValid:f}=l,m=d?.nodeId===e&&d?.id===t&&d?.type===r;return{connectingFrom:u?.nodeId===e&&u?.id===t&&u?.type===r,connectingTo:m,clickConnecting:s?.nodeId===e&&s?.id===t&&s?.type===r,isPossibleEndHandle:i===_d.Strict?u?.type!==r:e!==u?.nodeId||t!==u?.id,connectionInProcess:!!u,clickConnectionInProcess:!!s,valid:m&&f}};function eEe({type:e="source",position:t=et.Top,isValidConnection:r,isConnectable:a=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:l,onConnect:u,children:d,className:f,onMouseDown:m,onTouchStart:p,...x},v){const j=l||null,y=e==="target",N=Fn(),C=JK(),{connectOnClick:A,noPanClassName:w,rfId:S}=Qt(Z_e,Un),{connectingFrom:E,connectingTo:O,clickConnecting:M,isPossibleEndHandle:R,connectionInProcess:I,clickConnectionInProcess:V,valid:F}=Qt(J_e(C,j,e),Un);C||N.getState().onError?.("010",Zs.error010());const H=$=>{const{defaultEdgeOptions:k,onConnect:D,hasDefaultEdges:P}=N.getState(),U={...k,...$};if(P){const{edges:G,setEdges:B}=N.getState();B(uT(U,G))}D?.(U),u?.(U)},K=$=>{if(!C)return;const k=AK($.nativeEvent);if(s&&(k&&$.button===0||!k)){const D=N.getState();PC.onPointerDown($.nativeEvent,{handleDomNode:$.currentTarget,autoPanOnConnect:D.autoPanOnConnect,connectionMode:D.connectionMode,connectionRadius:D.connectionRadius,domNode:D.domNode,nodeLookup:D.nodeLookup,lib:D.lib,isTarget:y,handleId:j,nodeId:C,flowId:D.rfId,panBy:D.panBy,cancelConnection:D.cancelConnection,onConnectStart:D.onConnectStart,onConnectEnd:D.onConnectEnd,updateConnection:D.updateConnection,onConnect:H,isValidConnection:r||D.isValidConnection,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,autoPanSpeed:D.autoPanSpeed,dragThreshold:D.connectionDragThreshold})}k?m?.($):p?.($)},q=$=>{const{onClickConnectStart:k,onClickConnectEnd:D,connectionClickStartHandle:P,connectionMode:U,isValidConnection:G,lib:B,rfId:z,nodeLookup:X,connection:ee}=N.getState();if(!C||!P&&!s)return;if(!P){k?.($.nativeEvent,{nodeId:C,handleId:j,handleType:e}),N.setState({connectionClickStartHandle:{nodeId:C,type:e,id:j}});return}const je=NK($.target),he=r||G,{connection:le,isValid:ve}=PC.isValid($.nativeEvent,{handle:{nodeId:C,id:j,type:e},connectionMode:U,fromNodeId:P.nodeId,fromHandleId:P.id||null,fromType:P.type,isValidConnection:he,flowId:z,doc:je,lib:B,nodeLookup:X});ve&&le&&H(le);const xe=structuredClone(ee);delete xe.inProgress,xe.toPosition=xe.toHandle?xe.toHandle.position:null,D?.($,xe),N.setState({connectionClickStartHandle:null})};return n.jsx("div",{"data-handleid":j,"data-nodeid":C,"data-handlepos":t,"data-id":`${S}-${C}-${j}-${e}`,className:mr(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,f,{source:!y,target:y,connectable:a,connectablestart:s,connectableend:i,clickconnecting:M,connectingfrom:E,connectingto:O,valid:F,connectionindicator:a&&(!I||R)&&(I||V?i:s)}]),onMouseDown:K,onTouchStart:K,onClick:A?q:void 0,ref:v,...x,children:d})}const fr=b.memo(YK(eEe));function tEe({data:e,isConnectable:t,sourcePosition:r=et.Bottom}){return n.jsxs(n.Fragment,{children:[e?.label,n.jsx(fr,{type:"source",position:r,isConnectable:t})]})}function nEe({data:e,isConnectable:t,targetPosition:r=et.Top,sourcePosition:a=et.Bottom}){return n.jsxs(n.Fragment,{children:[n.jsx(fr,{type:"target",position:r,isConnectable:t}),e?.label,n.jsx(fr,{type:"source",position:a,isConnectable:t})]})}function rEe(){return null}function aEe({data:e,isConnectable:t,targetPosition:r=et.Top}){return n.jsxs(n.Fragment,{children:[n.jsx(fr,{type:"target",position:r,isConnectable:t}),e?.label]})}const Qy={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},l6={input:tEe,default:nEe,output:aEe,group:rEe};function sEe(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const iEe=e=>{const{width:t,height:r,x:a,y:s}=ip(e.nodeLookup,{filter:i=>!!i.selected});return{width:js(t)?t:null,height:js(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${a}px,${s}px)`}};function oEe({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const a=Fn(),{width:s,height:i,transformString:l,userSelectionActive:u}=Qt(iEe,Un),d=ZK(),f=b.useRef(null);if(b.useEffect(()=>{r||f.current?.focus({preventScroll:!0})},[r]),QK({nodeRef:f}),u||!s||!i)return null;const m=e?x=>{const v=a.getState().nodes.filter(j=>j.selected);e(x,v)}:void 0,p=x=>{Object.prototype.hasOwnProperty.call(Qy,x.key)&&(x.preventDefault(),d({direction:Qy[x.key],factor:x.shiftKey?4:1}))};return n.jsx("div",{className:mr(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:n.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:r?void 0:-1,onKeyDown:r?void 0:p,style:{width:s,height:i}})})}const c6=typeof window<"u"?window:void 0,lEe=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function eV({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:l,paneClickDistance:u,deleteKeyCode:d,selectionKeyCode:f,selectionOnDrag:m,selectionMode:p,onSelectionStart:x,onSelectionEnd:v,multiSelectionKeyCode:j,panActivationKeyCode:y,zoomActivationKeyCode:N,elementsSelectable:C,zoomOnScroll:A,zoomOnPinch:w,panOnScroll:S,panOnScrollSpeed:E,panOnScrollMode:O,zoomOnDoubleClick:M,panOnDrag:R,defaultViewport:I,translateExtent:V,minZoom:F,maxZoom:H,preventScrolling:K,onSelectionContextMenu:q,noWheelClassName:$,noPanClassName:k,disableKeyboardA11y:D,onViewportChange:P,isControlledViewport:U}){const{nodesSelectionActive:G,userSelectionActive:B}=Qt(lEe),z=Mm(f,{target:c6}),X=Mm(y,{target:c6}),ee=X||R,je=X||S,he=m&&ee!==!0,le=z||B||he;return B_e({deleteKeyCode:d,multiSelectionKeyCode:j}),n.jsx(K_e,{onPaneContextMenu:i,elementsSelectable:C,zoomOnScroll:A,zoomOnPinch:w,panOnScroll:je,panOnScrollSpeed:E,panOnScrollMode:O,zoomOnDoubleClick:M,panOnDrag:!z&&ee,defaultViewport:I,translateExtent:V,minZoom:F,maxZoom:H,zoomActivationKeyCode:N,preventScrolling:K,noWheelClassName:$,noPanClassName:k,onViewportChange:P,isControlledViewport:U,paneClickDistance:u,selectionOnDrag:he,children:n.jsxs(Y_e,{onSelectionStart:x,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:l,panOnDrag:ee,isSelecting:!!le,selectionMode:p,selectionKeyPressed:z,paneClickDistance:u,selectionOnDrag:he,children:[e,G&&n.jsx(oEe,{onSelectionContextMenu:q,noPanClassName:k,disableKeyboardA11y:D})]})})}eV.displayName="FlowRenderer";const cEe=b.memo(eV),uEe=e=>t=>e?oT(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function dEe(e){return Qt(b.useCallback(uEe(e),[e]),Un)}const fEe=e=>e.updateNodeInternals;function hEe(){const e=Qt(fEe),[t]=b.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const a=new Map;r.forEach(s=>{const i=s.target.getAttribute("data-id");a.set(i,{id:i,nodeElement:s.target,force:!0})}),e(a)}));return b.useEffect(()=>()=>{t?.disconnect()},[t]),t}function mEe({node:e,nodeType:t,hasDimensions:r,resizeObserver:a}){const s=Fn(),i=b.useRef(null),l=b.useRef(null),u=b.useRef(e.sourcePosition),d=b.useRef(e.targetPosition),f=b.useRef(t),m=r&&!!e.internals.handleBounds;return b.useEffect(()=>{i.current&&!e.hidden&&(!m||l.current!==i.current)&&(l.current&&a?.unobserve(l.current),a?.observe(i.current),l.current=i.current)},[m,e.hidden]),b.useEffect(()=>()=>{l.current&&(a?.unobserve(l.current),l.current=null)},[]),b.useEffect(()=>{if(i.current){const p=f.current!==t,x=u.current!==e.sourcePosition,v=d.current!==e.targetPosition;(p||x||v)&&(f.current=t,u.current=e.sourcePosition,d.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function pEe({id:e,onClick:t,onMouseEnter:r,onMouseMove:a,onMouseLeave:s,onContextMenu:i,onDoubleClick:l,nodesDraggable:u,elementsSelectable:d,nodesConnectable:f,nodesFocusable:m,resizeObserver:p,noDragClassName:x,noPanClassName:v,disableKeyboardA11y:j,rfId:y,nodeTypes:N,nodeClickDistance:C,onError:A}){const{node:w,internals:S,isParent:E}=Qt(ve=>{const xe=ve.nodeLookup.get(e),_e=ve.parentLookup.has(e);return{node:xe,internals:xe.internals,isParent:_e}},Un);let O=w.type||"default",M=N?.[O]||l6[O];M===void 0&&(A?.("003",Zs.error003(O)),O="default",M=N?.default||l6.default);const R=!!(w.draggable||u&&typeof w.draggable>"u"),I=!!(w.selectable||d&&typeof w.selectable>"u"),V=!!(w.connectable||f&&typeof w.connectable>"u"),F=!!(w.focusable||m&&typeof w.focusable>"u"),H=Fn(),K=bK(w),q=mEe({node:w,nodeType:O,hasDimensions:K,resizeObserver:p}),$=QK({nodeRef:q,disabled:w.hidden||!R,noDragClassName:x,handleSelector:w.dragHandle,nodeId:e,isSelectable:I,nodeClickDistance:C}),k=ZK();if(w.hidden)return null;const D=eo(w),P=sEe(w),U=I||R||t||r||a||s,G=r?ve=>r(ve,{...S.userNode}):void 0,B=a?ve=>a(ve,{...S.userNode}):void 0,z=s?ve=>s(ve,{...S.userNode}):void 0,X=i?ve=>i(ve,{...S.userNode}):void 0,ee=l?ve=>l(ve,{...S.userNode}):void 0,je=ve=>{const{selectNodesOnDrag:xe,nodeDragThreshold:_e}=H.getState();I&&(!xe||!R||_e>0)&&RC({id:e,store:H,nodeRef:q}),t&&t(ve,{...S.userNode})},he=ve=>{if(!(SK(ve.nativeEvent)||j)){if(fK.includes(ve.key)&&I){const xe=ve.key==="Escape";RC({id:e,store:H,unselect:xe,nodeRef:q})}else if(R&&w.selected&&Object.prototype.hasOwnProperty.call(Qy,ve.key)){ve.preventDefault();const{ariaLabelConfig:xe}=H.getState();H.setState({ariaLiveMessage:xe["node.a11yDescription.ariaLiveMessage"]({direction:ve.key.replace("Arrow","").toLowerCase(),x:~~S.positionAbsolute.x,y:~~S.positionAbsolute.y})}),k({direction:Qy[ve.key],factor:ve.shiftKey?4:1})}}},le=()=>{if(j||!q.current?.matches(":focus-visible"))return;const{transform:ve,width:xe,height:_e,autoPanOnNodeFocus:Ee,setCenter:me}=H.getState();if(!Ee)return;oT(new Map([[e,w]]),{x:0,y:0,width:xe,height:_e},ve,!0).length>0||me(w.position.x+D.width/2,w.position.y+D.height/2,{zoom:ve[2]})};return n.jsx("div",{className:mr(["react-flow__node",`react-flow__node-${O}`,{[v]:R},w.className,{selected:w.selected,selectable:I,parent:E,draggable:R,dragging:$}]),ref:q,style:{zIndex:S.z,transform:`translate(${S.positionAbsolute.x}px,${S.positionAbsolute.y}px)`,pointerEvents:U?"all":"none",visibility:K?"visible":"hidden",...w.style,...P},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:G,onMouseMove:B,onMouseLeave:z,onContextMenu:X,onClick:je,onDoubleClick:ee,onKeyDown:F?he:void 0,tabIndex:F?0:void 0,onFocus:F?le:void 0,role:w.ariaRole??(F?"group":void 0),"aria-roledescription":"node","aria-describedby":j?void 0:`${UK}-${y}`,"aria-label":w.ariaLabel,...w.domAttributes,children:n.jsx(Q_e,{value:e,children:n.jsx(M,{id:e,data:w.data,type:O,positionAbsoluteX:S.positionAbsolute.x,positionAbsoluteY:S.positionAbsolute.y,selected:w.selected??!1,selectable:I,draggable:R,deletable:w.deletable??!0,isConnectable:V,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:$,dragHandle:w.dragHandle,zIndex:S.z,parentId:w.parentId,...D})})})}var xEe=b.memo(pEe);const gEe=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function tV(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:a,elementsSelectable:s,onError:i}=Qt(gEe,Un),l=dEe(e.onlyRenderVisibleElements),u=hEe();return n.jsx("div",{className:"react-flow__nodes",style:C0,children:l.map(d=>n.jsx(xEe,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:u,nodesDraggable:t,nodesConnectable:r,nodesFocusable:a,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:i},d))})}tV.displayName="NodeRenderer";const yEe=b.memo(tV);function vEe(e){return Qt(b.useCallback(r=>{if(!e)return r.edges.map(s=>s.id);const a=[];if(r.width&&r.height)for(const s of r.edges){const i=r.nodeLookup.get(s.source),l=r.nodeLookup.get(s.target);i&&l&&jCe({sourceNode:i,targetNode:l,width:r.width,height:r.height,transform:r.transform})&&a.push(s.id)}return a},[e]),Un)}const jEe=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e}};return n.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},bEe=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e,fill:e}};return n.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},u6={[Gy.Arrow]:jEe,[Gy.ArrowClosed]:bEe};function wEe(e){const t=Fn();return b.useMemo(()=>Object.prototype.hasOwnProperty.call(u6,e)?u6[e]:(t.getState().onError?.("009",Zs.error009(e)),null),[e])}const NEe=({id:e,type:t,color:r,width:a=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:l,orient:u="auto-start-reverse"})=>{const d=wEe(t);return d?n.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:u,refX:"0",refY:"0",children:n.jsx(d,{color:r,strokeWidth:l})}):null},nV=({defaultColor:e,rfId:t})=>{const r=Qt(i=>i.edges),a=Qt(i=>i.defaultEdgeOptions),s=b.useMemo(()=>_Ce(r,{id:t,defaultColor:e,defaultMarkerStart:a?.markerStart,defaultMarkerEnd:a?.markerEnd}),[r,a,t,e]);return s.length?n.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:n.jsx("defs",{children:s.map(i=>n.jsx(NEe,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};nV.displayName="MarkerDefinitions";var SEe=b.memo(nV);function rV({x:e,y:t,label:r,labelStyle:a,labelShowBg:s=!0,labelBgStyle:i,labelBgPadding:l=[2,4],labelBgBorderRadius:u=2,children:d,className:f,...m}){const[p,x]=b.useState({x:1,y:0,width:0,height:0}),v=mr(["react-flow__edge-textwrapper",f]),j=b.useRef(null);return b.useEffect(()=>{if(j.current){const y=j.current.getBBox();x({x:y.x,y:y.y,width:y.width,height:y.height})}},[r]),r?n.jsxs("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:v,visibility:p.width?"visible":"hidden",...m,children:[s&&n.jsx("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:i,rx:u,ry:u}),n.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:j,style:a,children:r}),d]}):null}rV.displayName="EdgeText";const AEe=b.memo(rV);function _0({path:e,labelX:t,labelY:r,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,interactionWidth:f=20,...m}){return n.jsxs(n.Fragment,{children:[n.jsx("path",{...m,d:e,fill:"none",className:mr(["react-flow__edge-path",m.className])}),f?n.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,a&&js(t)&&js(r)?n.jsx(AEe,{x:t,y:r,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d}):null]})}function d6({pos:e,x1:t,y1:r,x2:a,y2:s}){return e===et.Left||e===et.Right?[.5*(t+a),r]:[t,.5*(r+s)]}function aV({sourceX:e,sourceY:t,sourcePosition:r=et.Bottom,targetX:a,targetY:s,targetPosition:i=et.Top}){const[l,u]=d6({pos:r,x1:e,y1:t,x2:a,y2:s}),[d,f]=d6({pos:i,x1:a,y1:s,x2:e,y2:t}),[m,p,x,v]=CK({sourceX:e,sourceY:t,targetX:a,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:f});return[`M${e},${t} C${l},${u} ${d},${f} ${a},${s}`,m,p,x,v]}function sV(e){return b.memo(({id:t,sourceX:r,sourceY:a,targetX:s,targetY:i,sourcePosition:l,targetPosition:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:v,style:j,markerEnd:y,markerStart:N,interactionWidth:C})=>{const[A,w,S]=aV({sourceX:r,sourceY:a,sourcePosition:l,targetX:s,targetY:i,targetPosition:u}),E=e.isInternal?void 0:t;return n.jsx(_0,{id:E,path:A,labelX:w,labelY:S,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:v,style:j,markerEnd:y,markerStart:N,interactionWidth:C})})}const CEe=sV({isInternal:!1}),iV=sV({isInternal:!0});CEe.displayName="SimpleBezierEdge";iV.displayName="SimpleBezierEdgeInternal";function oV(e){return b.memo(({id:t,sourceX:r,sourceY:a,targetX:s,targetY:i,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:x,sourcePosition:v=et.Bottom,targetPosition:j=et.Top,markerEnd:y,markerStart:N,pathOptions:C,interactionWidth:A})=>{const[w,S,E]=OC({sourceX:r,sourceY:a,sourcePosition:v,targetX:s,targetY:i,targetPosition:j,borderRadius:C?.borderRadius,offset:C?.offset,stepPosition:C?.stepPosition}),O=e.isInternal?void 0:t;return n.jsx(_0,{id:O,path:w,labelX:S,labelY:E,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:x,markerEnd:y,markerStart:N,interactionWidth:A})})}const lV=oV({isInternal:!1}),cV=oV({isInternal:!0});lV.displayName="SmoothStepEdge";cV.displayName="SmoothStepEdgeInternal";function uV(e){return b.memo(({id:t,...r})=>{const a=e.isInternal?void 0:t;return n.jsx(lV,{...r,id:a,pathOptions:b.useMemo(()=>({borderRadius:0,offset:r.pathOptions?.offset}),[r.pathOptions?.offset])})})}const _Ee=uV({isInternal:!1}),dV=uV({isInternal:!0});_Ee.displayName="StepEdge";dV.displayName="StepEdgeInternal";function fV(e){return b.memo(({id:t,sourceX:r,sourceY:a,targetX:s,targetY:i,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:x,markerEnd:v,markerStart:j,interactionWidth:y})=>{const[N,C,A]=TK({sourceX:r,sourceY:a,targetX:s,targetY:i}),w=e.isInternal?void 0:t;return n.jsx(_0,{id:w,path:N,labelX:C,labelY:A,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:x,markerEnd:v,markerStart:j,interactionWidth:y})})}const EEe=fV({isInternal:!1}),hV=fV({isInternal:!0});EEe.displayName="StraightEdge";hV.displayName="StraightEdgeInternal";function mV(e){return b.memo(({id:t,sourceX:r,sourceY:a,targetX:s,targetY:i,sourcePosition:l=et.Bottom,targetPosition:u=et.Top,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:v,style:j,markerEnd:y,markerStart:N,pathOptions:C,interactionWidth:A})=>{const[w,S,E]=_K({sourceX:r,sourceY:a,sourcePosition:l,targetX:s,targetY:i,targetPosition:u,curvature:C?.curvature}),O=e.isInternal?void 0:t;return n.jsx(_0,{id:O,path:w,labelX:S,labelY:E,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:v,style:j,markerEnd:y,markerStart:N,interactionWidth:A})})}const TEe=mV({isInternal:!1}),pV=mV({isInternal:!0});TEe.displayName="BezierEdge";pV.displayName="BezierEdgeInternal";const f6={default:pV,straight:hV,step:dV,smoothstep:cV,simplebezier:iV},h6={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},OEe=(e,t,r)=>r===et.Left?e-t:r===et.Right?e+t:e,MEe=(e,t,r)=>r===et.Top?e-t:r===et.Bottom?e+t:e,m6="react-flow__edgeupdater";function p6({position:e,centerX:t,centerY:r,radius:a=10,onMouseDown:s,onMouseEnter:i,onMouseOut:l,type:u}){return n.jsx("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:l,className:mr([m6,`${m6}-${u}`]),cx:OEe(t,a,e),cy:MEe(r,a,e),r:a,stroke:"transparent",fill:"transparent"})}function kEe({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:a,sourceY:s,targetX:i,targetY:l,sourcePosition:u,targetPosition:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:p,setReconnecting:x,setUpdateHover:v}){const j=Fn(),y=(S,E)=>{if(S.button!==0)return;const{autoPanOnConnect:O,domNode:M,isValidConnection:R,connectionMode:I,connectionRadius:V,lib:F,onConnectStart:H,onConnectEnd:K,cancelConnection:q,nodeLookup:$,rfId:k,panBy:D,updateConnection:P}=j.getState(),U=E.type==="target",G=(X,ee)=>{x(!1),p?.(X,r,E.type,ee)},B=X=>f?.(r,X),z=(X,ee)=>{x(!0),m?.(S,r,E.type),H?.(X,ee)};PC.onPointerDown(S.nativeEvent,{autoPanOnConnect:O,connectionMode:I,connectionRadius:V,domNode:M,handleId:E.id,nodeId:E.nodeId,nodeLookup:$,isTarget:U,edgeUpdaterType:E.type,lib:F,flowId:k,cancelConnection:q,panBy:D,isValidConnection:R,onConnect:B,onConnectStart:z,onConnectEnd:K,onReconnectEnd:G,updateConnection:P,getTransform:()=>j.getState().transform,getFromHandle:()=>j.getState().connection.fromHandle,dragThreshold:j.getState().connectionDragThreshold,handleDomNode:S.currentTarget})},N=S=>y(S,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),C=S=>y(S,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),A=()=>v(!0),w=()=>v(!1);return n.jsxs(n.Fragment,{children:[(e===!0||e==="source")&&n.jsx(p6,{position:u,centerX:a,centerY:s,radius:t,onMouseDown:N,onMouseEnter:A,onMouseOut:w,type:"source"}),(e===!0||e==="target")&&n.jsx(p6,{position:d,centerX:i,centerY:l,radius:t,onMouseDown:C,onMouseEnter:A,onMouseOut:w,type:"target"})]})}function PEe({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:a,onClick:s,onDoubleClick:i,onContextMenu:l,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,reconnectRadius:m,onReconnect:p,onReconnectStart:x,onReconnectEnd:v,rfId:j,edgeTypes:y,noPanClassName:N,onError:C,disableKeyboardA11y:A}){let w=Qt(me=>me.edgeLookup.get(e));const S=Qt(me=>me.defaultEdgeOptions);w=S?{...S,...w}:w;let E=w.type||"default",O=y?.[E]||f6[E];O===void 0&&(C?.("011",Zs.error011(E)),E="default",O=y?.default||f6.default);const M=!!(w.focusable||t&&typeof w.focusable>"u"),R=typeof p<"u"&&(w.reconnectable||r&&typeof w.reconnectable>"u"),I=!!(w.selectable||a&&typeof w.selectable>"u"),V=b.useRef(null),[F,H]=b.useState(!1),[K,q]=b.useState(!1),$=Fn(),{zIndex:k,sourceX:D,sourceY:P,targetX:U,targetY:G,sourcePosition:B,targetPosition:z}=Qt(b.useCallback(me=>{const $e=me.nodeLookup.get(w.source),ue=me.nodeLookup.get(w.target);if(!$e||!ue)return{zIndex:w.zIndex,...h6};const Me=CCe({id:e,sourceNode:$e,targetNode:ue,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:me.connectionMode,onError:C});return{zIndex:vCe({selected:w.selected,zIndex:w.zIndex,sourceNode:$e,targetNode:ue,elevateOnSelect:me.elevateEdgesOnSelect}),...Me||h6}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),Un),X=b.useMemo(()=>w.markerStart?`url('#${MC(w.markerStart,j)}')`:void 0,[w.markerStart,j]),ee=b.useMemo(()=>w.markerEnd?`url('#${MC(w.markerEnd,j)}')`:void 0,[w.markerEnd,j]);if(w.hidden||D===null||P===null||U===null||G===null)return null;const je=me=>{const{addSelectedEdges:$e,unselectNodesAndEdges:ue,multiSelectionActive:Me}=$.getState();I&&($.setState({nodesSelectionActive:!1}),w.selected&&Me?(ue({nodes:[],edges:[w]}),V.current?.blur()):$e([e])),s&&s(me,w)},he=i?me=>{i(me,{...w})}:void 0,le=l?me=>{l(me,{...w})}:void 0,ve=u?me=>{u(me,{...w})}:void 0,xe=d?me=>{d(me,{...w})}:void 0,_e=f?me=>{f(me,{...w})}:void 0,Ee=me=>{if(!A&&fK.includes(me.key)&&I){const{unselectNodesAndEdges:$e,addSelectedEdges:ue}=$.getState();me.key==="Escape"?(V.current?.blur(),$e({edges:[w]})):ue([e])}};return n.jsx("svg",{style:{zIndex:k},children:n.jsxs("g",{className:mr(["react-flow__edge",`react-flow__edge-${E}`,w.className,N,{selected:w.selected,animated:w.animated,inactive:!I&&!s,updating:F,selectable:I}]),onClick:je,onDoubleClick:he,onContextMenu:le,onMouseEnter:ve,onMouseMove:xe,onMouseLeave:_e,onKeyDown:M?Ee:void 0,tabIndex:M?0:void 0,role:w.ariaRole??(M?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":M?`${HK}-${j}`:void 0,ref:V,...w.domAttributes,children:[!K&&n.jsx(O,{id:e,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:I,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:D,sourceY:P,targetX:U,targetY:G,sourcePosition:B,targetPosition:z,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:X,markerEnd:ee,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),R&&n.jsx(kEe,{edge:w,isReconnectable:R,reconnectRadius:m,onReconnect:p,onReconnectStart:x,onReconnectEnd:v,sourceX:D,sourceY:P,targetX:U,targetY:G,sourcePosition:B,targetPosition:z,setUpdateHover:H,setReconnecting:q})]})})}var REe=b.memo(PEe);const DEe=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function xV({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:a,noPanClassName:s,onReconnect:i,onEdgeContextMenu:l,onEdgeMouseEnter:u,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:m,reconnectRadius:p,onEdgeDoubleClick:x,onReconnectStart:v,onReconnectEnd:j,disableKeyboardA11y:y}){const{edgesFocusable:N,edgesReconnectable:C,elementsSelectable:A,onError:w}=Qt(DEe,Un),S=vEe(t);return n.jsxs("div",{className:"react-flow__edges",children:[n.jsx(SEe,{defaultColor:e,rfId:r}),S.map(E=>n.jsx(REe,{id:E,edgesFocusable:N,edgesReconnectable:C,elementsSelectable:A,noPanClassName:s,onReconnect:i,onContextMenu:l,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,onClick:m,reconnectRadius:p,onDoubleClick:x,onReconnectStart:v,onReconnectEnd:j,rfId:r,onError:w,edgeTypes:a,disableKeyboardA11y:y},E))]})}xV.displayName="EdgeRenderer";const IEe=b.memo(xV),LEe=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function $Ee({children:e}){const t=Qt(LEe);return n.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function FEe(e){const t=pT(),r=b.useRef(!1);b.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const qEe=e=>e.panZoom?.syncViewport;function zEe(e){const t=Qt(qEe),r=Fn();return b.useEffect(()=>{e&&(t?.(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function BEe(e){return e.connection.inProgress?{...e.connection,to:lp(e.connection.to,e.transform)}:{...e.connection}}function UEe(e){return BEe}function HEe(e){const t=UEe();return Qt(t,Un)}const KEe=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function VEe({containerStyle:e,style:t,type:r,component:a}){const{nodesConnectable:s,width:i,height:l,isValid:u,inProgress:d}=Qt(KEe,Un);return!(i&&s&&d)?null:n.jsx("svg",{style:e,width:i,height:l,className:"react-flow__connectionline react-flow__container",children:n.jsx("g",{className:mr(["react-flow__connection",pK(u)]),children:n.jsx(gV,{style:t,type:r,CustomComponent:a,isValid:u})})})}const gV=({style:e,type:t=Fo.Bezier,CustomComponent:r,isValid:a})=>{const{inProgress:s,from:i,fromNode:l,fromHandle:u,fromPosition:d,to:f,toNode:m,toHandle:p,toPosition:x,pointer:v}=HEe();if(!s)return;if(r)return n.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:u,fromX:i.x,fromY:i.y,toX:f.x,toY:f.y,fromPosition:d,toPosition:x,connectionStatus:pK(a),toNode:m,toHandle:p,pointer:v});let j="";const y={sourceX:i.x,sourceY:i.y,sourcePosition:d,targetX:f.x,targetY:f.y,targetPosition:x};switch(t){case Fo.Bezier:[j]=_K(y);break;case Fo.SimpleBezier:[j]=aV(y);break;case Fo.Step:[j]=OC({...y,borderRadius:0});break;case Fo.SmoothStep:[j]=OC(y);break;default:[j]=TK(y)}return n.jsx("path",{d:j,fill:"none",className:"react-flow__connection-path",style:e})};gV.displayName="ConnectionLine";const WEe={};function x6(e=WEe){b.useRef(e),Fn(),b.useEffect(()=>{},[e])}function GEe(){Fn(),b.useRef(!1),b.useEffect(()=>{},[])}function yV({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:a,onEdgeClick:s,onNodeDoubleClick:i,onEdgeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:p,onSelectionStart:x,onSelectionEnd:v,connectionLineType:j,connectionLineStyle:y,connectionLineComponent:N,connectionLineContainerStyle:C,selectionKeyCode:A,selectionOnDrag:w,selectionMode:S,multiSelectionKeyCode:E,panActivationKeyCode:O,zoomActivationKeyCode:M,deleteKeyCode:R,onlyRenderVisibleElements:I,elementsSelectable:V,defaultViewport:F,translateExtent:H,minZoom:K,maxZoom:q,preventScrolling:$,defaultMarkerColor:k,zoomOnScroll:D,zoomOnPinch:P,panOnScroll:U,panOnScrollSpeed:G,panOnScrollMode:B,zoomOnDoubleClick:z,panOnDrag:X,onPaneClick:ee,onPaneMouseEnter:je,onPaneMouseMove:he,onPaneMouseLeave:le,onPaneScroll:ve,onPaneContextMenu:xe,paneClickDistance:_e,nodeClickDistance:Ee,onEdgeContextMenu:me,onEdgeMouseEnter:$e,onEdgeMouseMove:ue,onEdgeMouseLeave:Me,reconnectRadius:Ze,onReconnect:ht,onReconnectStart:pe,onReconnectEnd:vt,noDragClassName:Zt,noWheelClassName:Cn,noPanClassName:Ne,disableKeyboardA11y:Fe,nodeExtent:ut,rfId:zt,viewport:nn,onViewportChange:ge}){return x6(e),x6(t),GEe(),FEe(r),zEe(nn),n.jsx(cEe,{onPaneClick:ee,onPaneMouseEnter:je,onPaneMouseMove:he,onPaneMouseLeave:le,onPaneContextMenu:xe,onPaneScroll:ve,paneClickDistance:_e,deleteKeyCode:R,selectionKeyCode:A,selectionOnDrag:w,selectionMode:S,onSelectionStart:x,onSelectionEnd:v,multiSelectionKeyCode:E,panActivationKeyCode:O,zoomActivationKeyCode:M,elementsSelectable:V,zoomOnScroll:D,zoomOnPinch:P,zoomOnDoubleClick:z,panOnScroll:U,panOnScrollSpeed:G,panOnScrollMode:B,panOnDrag:X,defaultViewport:F,translateExtent:H,minZoom:K,maxZoom:q,onSelectionContextMenu:p,preventScrolling:$,noDragClassName:Zt,noWheelClassName:Cn,noPanClassName:Ne,disableKeyboardA11y:Fe,onViewportChange:ge,isControlledViewport:!!nn,children:n.jsxs($Ee,{children:[n.jsx(IEe,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:l,onReconnect:ht,onReconnectStart:pe,onReconnectEnd:vt,onlyRenderVisibleElements:I,onEdgeContextMenu:me,onEdgeMouseEnter:$e,onEdgeMouseMove:ue,onEdgeMouseLeave:Me,reconnectRadius:Ze,defaultMarkerColor:k,noPanClassName:Ne,disableKeyboardA11y:Fe,rfId:zt}),n.jsx(VEe,{style:y,type:j,component:N,containerStyle:C}),n.jsx("div",{className:"react-flow__edgelabel-renderer"}),n.jsx(yEe,{nodeTypes:e,onNodeClick:a,onNodeDoubleClick:i,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,nodeClickDistance:Ee,onlyRenderVisibleElements:I,noPanClassName:Ne,noDragClassName:Zt,disableKeyboardA11y:Fe,nodeExtent:ut,rfId:zt}),n.jsx("div",{className:"react-flow__viewport-portal"})]})})}yV.displayName="GraphView";const YEe=b.memo(yV),g6=({nodes:e,edges:t,defaultNodes:r,defaultEdges:a,width:s,height:i,fitView:l,fitViewOptions:u,minZoom:d=.5,maxZoom:f=2,nodeOrigin:m,nodeExtent:p}={})=>{const x=new Map,v=new Map,j=new Map,y=new Map,N=a??t??[],C=r??e??[],A=m??[0,0],w=p??Cm;kK(j,y,N);const S=kC(C,x,v,{nodeOrigin:A,nodeExtent:w,elevateNodesOnSelect:!1});let E=[0,0,1];if(l&&s&&i){const O=ip(x,{filter:V=>!!((V.width||V.initialWidth)&&(V.height||V.initialHeight))}),{x:M,y:R,zoom:I}=lT(O,s,i,d,f,u?.padding??.1);E=[M,R,I]}return{rfId:"1",width:s??0,height:i??0,transform:E,nodes:C,nodesInitialized:S,nodeLookup:x,parentLookup:v,edges:N,edgeLookup:y,connectionLookup:j,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:a!==void 0,panZoom:null,minZoom:d,maxZoom:f,translateExtent:Cm,nodeExtent:w,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:_d.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:A,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:u,fitViewResolver:null,connection:{...mK},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:hCe,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:hK}},XEe=({nodes:e,edges:t,defaultNodes:r,defaultEdges:a,width:s,height:i,fitView:l,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:m,nodeExtent:p})=>m_e((x,v)=>{async function j(){const{nodeLookup:y,panZoom:N,fitViewOptions:C,fitViewResolver:A,width:w,height:S,minZoom:E,maxZoom:O}=v();N&&(await dCe({nodes:y,width:w,height:S,panZoom:N,minZoom:E,maxZoom:O},C),A?.resolve(!0),x({fitViewResolver:null}))}return{...g6({nodes:e,edges:t,width:s,height:i,fitView:l,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:m,nodeExtent:p,defaultNodes:r,defaultEdges:a}),setNodes:y=>{const{nodeLookup:N,parentLookup:C,nodeOrigin:A,elevateNodesOnSelect:w,fitViewQueued:S}=v(),E=kC(y,N,C,{nodeOrigin:A,nodeExtent:p,elevateNodesOnSelect:w,checkEquality:!0});S&&E?(j(),x({nodes:y,nodesInitialized:E,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:y,nodesInitialized:E})},setEdges:y=>{const{connectionLookup:N,edgeLookup:C}=v();kK(N,C,y),x({edges:y})},setDefaultNodesAndEdges:(y,N)=>{if(y){const{setNodes:C}=v();C(y),x({hasDefaultNodes:!0})}if(N){const{setEdges:C}=v();C(N),x({hasDefaultEdges:!0})}},updateNodeInternals:y=>{const{triggerNodeChanges:N,nodeLookup:C,parentLookup:A,domNode:w,nodeOrigin:S,nodeExtent:E,debug:O,fitViewQueued:M}=v(),{changes:R,updatedInternals:I}=RCe(y,C,A,w,S,E);I&&(OCe(C,A,{nodeOrigin:S,nodeExtent:E}),M?(j(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),R?.length>0&&(O&&console.log("React Flow: trigger node changes",R),N?.(R)))},updateNodePositions:(y,N=!1)=>{const C=[],A=[],{nodeLookup:w,triggerNodeChanges:S}=v();for(const[E,O]of y){const M=w.get(E),R=!!(M?.expandParent&&M?.parentId&&O?.position),I={id:E,type:"position",position:R?{x:Math.max(0,O.position.x),y:Math.max(0,O.position.y)}:O.position,dragging:N};R&&M.parentId&&C.push({id:E,parentId:M.parentId,rect:{...O.internals.positionAbsolute,width:O.measured.width??0,height:O.measured.height??0}}),A.push(I)}if(C.length>0){const{parentLookup:E,nodeOrigin:O}=v(),M=mT(C,w,E,O);A.push(...M)}S(A)},triggerNodeChanges:y=>{const{onNodesChange:N,setNodes:C,nodes:A,hasDefaultNodes:w,debug:S}=v();if(y?.length){if(w){const E=WK(y,A);C(E)}S&&console.log("React Flow: trigger node changes",y),N?.(y)}},triggerEdgeChanges:y=>{const{onEdgesChange:N,setEdges:C,edges:A,hasDefaultEdges:w,debug:S}=v();if(y?.length){if(w){const E=GK(y,A);C(E)}S&&console.log("React Flow: trigger edge changes",y),N?.(y)}},addSelectedNodes:y=>{const{multiSelectionActive:N,edgeLookup:C,nodeLookup:A,triggerNodeChanges:w,triggerEdgeChanges:S}=v();if(N){const E=y.map(O=>zl(O,!0));w(E);return}w(Lu(A,new Set([...y]),!0)),S(Lu(C))},addSelectedEdges:y=>{const{multiSelectionActive:N,edgeLookup:C,nodeLookup:A,triggerNodeChanges:w,triggerEdgeChanges:S}=v();if(N){const E=y.map(O=>zl(O,!0));S(E);return}S(Lu(C,new Set([...y]))),w(Lu(A,new Set,!0))},unselectNodesAndEdges:({nodes:y,edges:N}={})=>{const{edges:C,nodes:A,nodeLookup:w,triggerNodeChanges:S,triggerEdgeChanges:E}=v(),O=y||A,M=N||C,R=O.map(V=>{const F=w.get(V.id);return F&&(F.selected=!1),zl(V.id,!1)}),I=M.map(V=>zl(V.id,!1));S(R),E(I)},setMinZoom:y=>{const{panZoom:N,maxZoom:C}=v();N?.setScaleExtent([y,C]),x({minZoom:y})},setMaxZoom:y=>{const{panZoom:N,minZoom:C}=v();N?.setScaleExtent([C,y]),x({maxZoom:y})},setTranslateExtent:y=>{v().panZoom?.setTranslateExtent(y),x({translateExtent:y})},resetSelectedElements:()=>{const{edges:y,nodes:N,triggerNodeChanges:C,triggerEdgeChanges:A,elementsSelectable:w}=v();if(!w)return;const S=N.reduce((O,M)=>M.selected?[...O,zl(M.id,!1)]:O,[]),E=y.reduce((O,M)=>M.selected?[...O,zl(M.id,!1)]:O,[]);C(S),A(E)},setNodeExtent:y=>{const{nodes:N,nodeLookup:C,parentLookup:A,nodeOrigin:w,elevateNodesOnSelect:S,nodeExtent:E}=v();y[0][0]===E[0][0]&&y[0][1]===E[0][1]&&y[1][0]===E[1][0]&&y[1][1]===E[1][1]||(kC(N,C,A,{nodeOrigin:w,nodeExtent:y,elevateNodesOnSelect:S,checkEquality:!1}),x({nodeExtent:y}))},panBy:y=>{const{transform:N,width:C,height:A,panZoom:w,translateExtent:S}=v();return DCe({delta:y,panZoom:w,transform:N,translateExtent:S,width:C,height:A})},setCenter:async(y,N,C)=>{const{width:A,height:w,maxZoom:S,panZoom:E}=v();if(!E)return Promise.resolve(!1);const O=typeof C?.zoom<"u"?C.zoom:S;return await E.setViewport({x:A/2-y*O,y:w/2-N*O,zoom:O},{duration:C?.duration,ease:C?.ease,interpolate:C?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{...mK}})},updateConnection:y=>{x({connection:y})},reset:()=>x({...g6()})}},Object.is);function QEe({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:a,initialWidth:s,initialHeight:i,initialMinZoom:l,initialMaxZoom:u,initialFitViewOptions:d,fitView:f,nodeOrigin:m,nodeExtent:p,children:x}){const[v]=b.useState(()=>XEe({nodes:e,edges:t,defaultNodes:r,defaultEdges:a,width:s,height:i,fitView:f,minZoom:l,maxZoom:u,fitViewOptions:d,nodeOrigin:m,nodeExtent:p}));return n.jsx(p_e,{value:v,children:n.jsx($_e,{children:x})})}function ZEe({children:e,nodes:t,edges:r,defaultNodes:a,defaultEdges:s,width:i,height:l,fitView:u,fitViewOptions:d,minZoom:f,maxZoom:m,nodeOrigin:p,nodeExtent:x}){return b.useContext(S0)?n.jsx(n.Fragment,{children:e}):n.jsx(QEe,{initialNodes:t,initialEdges:r,defaultNodes:a,defaultEdges:s,initialWidth:i,initialHeight:l,fitView:u,initialFitViewOptions:d,initialMinZoom:f,initialMaxZoom:m,nodeOrigin:p,nodeExtent:x,children:e})}const JEe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function eTe({nodes:e,edges:t,defaultNodes:r,defaultEdges:a,className:s,nodeTypes:i,edgeTypes:l,onNodeClick:u,onEdgeClick:d,onInit:f,onMove:m,onMoveStart:p,onMoveEnd:x,onConnect:v,onConnectStart:j,onConnectEnd:y,onClickConnectStart:N,onClickConnectEnd:C,onNodeMouseEnter:A,onNodeMouseMove:w,onNodeMouseLeave:S,onNodeContextMenu:E,onNodeDoubleClick:O,onNodeDragStart:M,onNodeDrag:R,onNodeDragStop:I,onNodesDelete:V,onEdgesDelete:F,onDelete:H,onSelectionChange:K,onSelectionDragStart:q,onSelectionDrag:$,onSelectionDragStop:k,onSelectionContextMenu:D,onSelectionStart:P,onSelectionEnd:U,onBeforeDelete:G,connectionMode:B,connectionLineType:z=Fo.Bezier,connectionLineStyle:X,connectionLineComponent:ee,connectionLineContainerStyle:je,deleteKeyCode:he="Backspace",selectionKeyCode:le="Shift",selectionOnDrag:ve=!1,selectionMode:xe=_m.Full,panActivationKeyCode:_e="Space",multiSelectionKeyCode:Ee=Tm()?"Meta":"Control",zoomActivationKeyCode:me=Tm()?"Meta":"Control",snapToGrid:$e,snapGrid:ue,onlyRenderVisibleElements:Me=!1,selectNodesOnDrag:Ze,nodesDraggable:ht,autoPanOnNodeFocus:pe,nodesConnectable:vt,nodesFocusable:Zt,nodeOrigin:Cn=KK,edgesFocusable:Ne,edgesReconnectable:Fe,elementsSelectable:ut=!0,defaultViewport:zt=E_e,minZoom:nn=.5,maxZoom:ge=2,translateExtent:Ue=Cm,preventScrolling:xt=!0,nodeExtent:rt,defaultMarkerColor:sn="#b1b1b7",zoomOnScroll:Jn=!0,zoomOnPinch:_n=!0,panOnScroll:En=!1,panOnScrollSpeed:Sr=.5,panOnScrollMode:Ar=Zl.Free,zoomOnDoubleClick:tf=!0,panOnDrag:kc=!0,onPaneClick:nf,onPaneMouseEnter:to,onPaneMouseMove:fe,onPaneMouseLeave:He,onPaneScroll:gt,onPaneContextMenu:yt,paneClickDistance:Xt=1,nodeClickDistance:Br=0,children:pr,onReconnect:Ia,onReconnectStart:gl,onReconnectEnd:M0,onEdgeContextMenu:cp,onEdgeDoubleClick:up,onEdgeMouseEnter:dp,onEdgeMouseMove:rf,onEdgeMouseLeave:af,reconnectRadius:fp=10,onNodesChange:hp,onEdgesChange:Is,noDragClassName:xr="nodrag",noWheelClassName:Ur="nowheel",noPanClassName:ai="nopan",fitView:Pc,fitViewOptions:mp,connectOnClick:k0,attributionPosition:pp,proOptions:yl,defaultEdgeOptions:sf,elevateNodesOnSelect:no,elevateEdgesOnSelect:ro,disableKeyboardA11y:ao=!1,autoPanOnConnect:so,autoPanOnNodeDrag:ar,autoPanSpeed:xp,connectionRadius:gp,isValidConnection:si,onError:io,style:P0,id:of,nodeDragThreshold:yp,connectionDragThreshold:R0,viewport:Rc,onViewportChange:Dc,width:ls,height:oa,colorMode:vp="light",debug:D0,onScroll:Ic,ariaLabelConfig:jp,...Lc},I0){const Hr=of||"1",lf=k_e(vp),bp=b.useCallback($c=>{$c.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ic?.($c)},[Ic]);return n.jsx("div",{"data-testid":"rf__wrapper",...Lc,onScroll:bp,style:{...P0,...JEe},ref:I0,className:mr(["react-flow",s,lf]),id:of,role:"application",children:n.jsxs(ZEe,{nodes:e,edges:t,width:ls,height:oa,fitView:Pc,fitViewOptions:mp,minZoom:nn,maxZoom:ge,nodeOrigin:Cn,nodeExtent:rt,children:[n.jsx(YEe,{onInit:f,onNodeClick:u,onEdgeClick:d,onNodeMouseEnter:A,onNodeMouseMove:w,onNodeMouseLeave:S,onNodeContextMenu:E,onNodeDoubleClick:O,nodeTypes:i,edgeTypes:l,connectionLineType:z,connectionLineStyle:X,connectionLineComponent:ee,connectionLineContainerStyle:je,selectionKeyCode:le,selectionOnDrag:ve,selectionMode:xe,deleteKeyCode:he,multiSelectionKeyCode:Ee,panActivationKeyCode:_e,zoomActivationKeyCode:me,onlyRenderVisibleElements:Me,defaultViewport:zt,translateExtent:Ue,minZoom:nn,maxZoom:ge,preventScrolling:xt,zoomOnScroll:Jn,zoomOnPinch:_n,zoomOnDoubleClick:tf,panOnScroll:En,panOnScrollSpeed:Sr,panOnScrollMode:Ar,panOnDrag:kc,onPaneClick:nf,onPaneMouseEnter:to,onPaneMouseMove:fe,onPaneMouseLeave:He,onPaneScroll:gt,onPaneContextMenu:yt,paneClickDistance:Xt,nodeClickDistance:Br,onSelectionContextMenu:D,onSelectionStart:P,onSelectionEnd:U,onReconnect:Ia,onReconnectStart:gl,onReconnectEnd:M0,onEdgeContextMenu:cp,onEdgeDoubleClick:up,onEdgeMouseEnter:dp,onEdgeMouseMove:rf,onEdgeMouseLeave:af,reconnectRadius:fp,defaultMarkerColor:sn,noDragClassName:xr,noWheelClassName:Ur,noPanClassName:ai,rfId:Hr,disableKeyboardA11y:ao,nodeExtent:rt,viewport:Rc,onViewportChange:Dc}),n.jsx(M_e,{nodes:e,edges:t,defaultNodes:r,defaultEdges:a,onConnect:v,onConnectStart:j,onConnectEnd:y,onClickConnectStart:N,onClickConnectEnd:C,nodesDraggable:ht,autoPanOnNodeFocus:pe,nodesConnectable:vt,nodesFocusable:Zt,edgesFocusable:Ne,edgesReconnectable:Fe,elementsSelectable:ut,elevateNodesOnSelect:no,elevateEdgesOnSelect:ro,minZoom:nn,maxZoom:ge,nodeExtent:rt,onNodesChange:hp,onEdgesChange:Is,snapToGrid:$e,snapGrid:ue,connectionMode:B,translateExtent:Ue,connectOnClick:k0,defaultEdgeOptions:sf,fitView:Pc,fitViewOptions:mp,onNodesDelete:V,onEdgesDelete:F,onDelete:H,onNodeDragStart:M,onNodeDrag:R,onNodeDragStop:I,onSelectionDrag:$,onSelectionDragStart:q,onSelectionDragStop:k,onMove:m,onMoveStart:p,onMoveEnd:x,noPanClassName:ai,nodeOrigin:Cn,rfId:Hr,autoPanOnConnect:so,autoPanOnNodeDrag:ar,autoPanSpeed:xp,onError:io,connectionRadius:gp,isValidConnection:si,selectNodesOnDrag:Ze,nodeDragThreshold:yp,connectionDragThreshold:R0,onBeforeDelete:G,debug:D0,ariaLabelConfig:jp}),n.jsx(__e,{onSelectionChange:K}),pr,n.jsx(w_e,{proOptions:yl,position:pp}),n.jsx(b_e,{rfId:Hr,disableKeyboardA11y:ao})]})})}var vV=YK(eTe);function jV(e){const[t,r]=b.useState(e),a=b.useCallback(s=>r(i=>WK(s,i)),[]);return[t,r,a]}function bV(e){const[t,r]=b.useState(e),a=b.useCallback(s=>r(i=>GK(s,i)),[]);return[t,r,a]}function tTe({dimensions:e,lineWidth:t,variant:r,className:a}){return n.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:mr(["react-flow__background-pattern",r,a])})}function nTe({radius:e,className:t}){return n.jsx("circle",{cx:e,cy:e,r:e,className:mr(["react-flow__background-pattern","dots",t])})}var Gs;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Gs||(Gs={}));const rTe={[Gs.Dots]:1,[Gs.Lines]:1,[Gs.Cross]:6},aTe=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function wV({id:e,variant:t=Gs.Dots,gap:r=20,size:a,lineWidth:s=1,offset:i=0,color:l,bgColor:u,style:d,className:f,patternClassName:m}){const p=b.useRef(null),{transform:x,patternId:v}=Qt(aTe,Un),j=a||rTe[t],y=t===Gs.Dots,N=t===Gs.Cross,C=Array.isArray(r)?r:[r,r],A=[C[0]*x[2]||1,C[1]*x[2]||1],w=j*x[2],S=Array.isArray(i)?i:[i,i],E=N?[w,w]:A,O=[S[0]*x[2]||1+E[0]/2,S[1]*x[2]||1+E[1]/2],M=`${v}${e||""}`;return n.jsxs("svg",{className:mr(["react-flow__background",f]),style:{...d,...C0,"--xy-background-color-props":u,"--xy-background-pattern-color-props":l},ref:p,"data-testid":"rf__background",children:[n.jsx("pattern",{id:M,x:x[0]%A[0],y:x[1]%A[1],width:A[0],height:A[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${O[0]},-${O[1]})`,children:y?n.jsx(nTe,{radius:w/2,className:m}):n.jsx(tTe,{dimensions:E,lineWidth:s,variant:t,className:m})}),n.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${M})`})]})}wV.displayName="Background";const NV=b.memo(wV);function sTe(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:n.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function iTe(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:n.jsx("path",{d:"M0 0h32v4.2H0z"})})}function oTe(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:n.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function lTe(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:n.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function cTe(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:n.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function lg({children:e,className:t,...r}){return n.jsx("button",{type:"button",className:mr(["react-flow__controls-button",t]),...r,children:e})}const uTe=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function SV({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:a=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:l,onFitView:u,onInteractiveChange:d,className:f,children:m,position:p="bottom-left",orientation:x="vertical","aria-label":v}){const j=Fn(),{isInteractive:y,minZoomReached:N,maxZoomReached:C,ariaLabelConfig:A}=Qt(uTe,Un),{zoomIn:w,zoomOut:S,fitView:E}=pT(),O=()=>{w(),i?.()},M=()=>{S(),l?.()},R=()=>{E(s),u?.()},I=()=>{j.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),d?.(!y)},V=x==="horizontal"?"horizontal":"vertical";return n.jsxs(A0,{className:mr(["react-flow__controls",V,f]),position:p,style:e,"data-testid":"rf__controls","aria-label":v??A["controls.ariaLabel"],children:[t&&n.jsxs(n.Fragment,{children:[n.jsx(lg,{onClick:O,className:"react-flow__controls-zoomin",title:A["controls.zoomIn.ariaLabel"],"aria-label":A["controls.zoomIn.ariaLabel"],disabled:C,children:n.jsx(sTe,{})}),n.jsx(lg,{onClick:M,className:"react-flow__controls-zoomout",title:A["controls.zoomOut.ariaLabel"],"aria-label":A["controls.zoomOut.ariaLabel"],disabled:N,children:n.jsx(iTe,{})})]}),r&&n.jsx(lg,{className:"react-flow__controls-fitview",onClick:R,title:A["controls.fitView.ariaLabel"],"aria-label":A["controls.fitView.ariaLabel"],children:n.jsx(oTe,{})}),a&&n.jsx(lg,{className:"react-flow__controls-interactive",onClick:I,title:A["controls.interactive.ariaLabel"],"aria-label":A["controls.interactive.ariaLabel"],children:y?n.jsx(cTe,{}):n.jsx(lTe,{})}),m]})}SV.displayName="Controls";const AV=b.memo(SV);function dTe({id:e,x:t,y:r,width:a,height:s,style:i,color:l,strokeColor:u,strokeWidth:d,className:f,borderRadius:m,shapeRendering:p,selected:x,onClick:v}){const{background:j,backgroundColor:y}=i||{},N=l||j||y;return n.jsx("rect",{className:mr(["react-flow__minimap-node",{selected:x},f]),x:t,y:r,rx:m,ry:m,width:a,height:s,style:{fill:N,stroke:u,strokeWidth:d},shapeRendering:p,onClick:v?C=>v(C,e):void 0})}const fTe=b.memo(dTe),hTe=e=>e.nodes.map(t=>t.id),w2=e=>e instanceof Function?e:()=>e;function mTe({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:a=5,nodeStrokeWidth:s,nodeComponent:i=fTe,onClick:l}){const u=Qt(hTe,Un),d=w2(t),f=w2(e),m=w2(r),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return n.jsx(n.Fragment,{children:u.map(x=>n.jsx(xTe,{id:x,nodeColorFunc:d,nodeStrokeColorFunc:f,nodeClassNameFunc:m,nodeBorderRadius:a,nodeStrokeWidth:s,NodeComponent:i,onClick:l,shapeRendering:p},x))})}function pTe({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:a,nodeBorderRadius:s,nodeStrokeWidth:i,shapeRendering:l,NodeComponent:u,onClick:d}){const{node:f,x:m,y:p,width:x,height:v}=Qt(j=>{const{internals:y}=j.nodeLookup.get(e),N=y.userNode,{x:C,y:A}=y.positionAbsolute,{width:w,height:S}=eo(N);return{node:N,x:C,y:A,width:w,height:S}},Un);return!f||f.hidden||!bK(f)?null:n.jsx(u,{x:m,y:p,width:x,height:v,style:f.style,selected:!!f.selected,className:a(f),color:t(f),borderRadius:s,strokeColor:r(f),strokeWidth:i,shapeRendering:l,onClick:d,id:f.id})}const xTe=b.memo(pTe);var gTe=b.memo(mTe);const yTe=200,vTe=150,jTe=e=>!e.hidden,bTe=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?jK(ip(e.nodeLookup,{filter:jTe}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},wTe="react-flow__minimap-desc";function CV({style:e,className:t,nodeStrokeColor:r,nodeColor:a,nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:l,nodeComponent:u,bgColor:d,maskColor:f,maskStrokeColor:m,maskStrokeWidth:p,position:x="bottom-right",onClick:v,onNodeClick:j,pannable:y=!1,zoomable:N=!1,ariaLabel:C,inversePan:A,zoomStep:w=1,offsetScale:S=5}){const E=Fn(),O=b.useRef(null),{boundingRect:M,viewBB:R,rfId:I,panZoom:V,translateExtent:F,flowWidth:H,flowHeight:K,ariaLabelConfig:q}=Qt(bTe,Un),$=e?.width??yTe,k=e?.height??vTe,D=M.width/$,P=M.height/k,U=Math.max(D,P),G=U*$,B=U*k,z=S*U,X=M.x-(G-M.width)/2-z,ee=M.y-(B-M.height)/2-z,je=G+z*2,he=B+z*2,le=`${wTe}-${I}`,ve=b.useRef(0),xe=b.useRef();ve.current=U,b.useEffect(()=>{if(O.current&&V)return xe.current=HCe({domNode:O.current,panZoom:V,getTransform:()=>E.getState().transform,getViewScale:()=>ve.current}),()=>{xe.current?.destroy()}},[V]),b.useEffect(()=>{xe.current?.update({translateExtent:F,width:H,height:K,inversePan:A,pannable:y,zoomStep:w,zoomable:N})},[y,N,A,w,F,H,K]);const _e=v?$e=>{const[ue,Me]=xe.current?.pointer($e)||[0,0];v($e,{x:ue,y:Me})}:void 0,Ee=j?b.useCallback(($e,ue)=>{const Me=E.getState().nodeLookup.get(ue).internals.userNode;j($e,Me)},[]):void 0,me=C??q["minimap.ariaLabel"];return n.jsx(A0,{position:x,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*U:void 0,"--xy-minimap-node-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:mr(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:n.jsxs("svg",{width:$,height:k,viewBox:`${X} ${ee} ${je} ${he}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":le,ref:O,onClick:_e,children:[me&&n.jsx("title",{id:le,children:me}),n.jsx(gTe,{onClick:Ee,nodeColor:a,nodeStrokeColor:r,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:l,nodeComponent:u}),n.jsx("path",{className:"react-flow__minimap-mask",d:`M${X-z},${ee-z}h${je+z*2}v${he+z*2}h${-je-z*2}z
        M${R.x},${R.y}h${R.width}v${R.height}h${-R.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}CV.displayName="MiniMap";const _V=b.memo(CV),NTe=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,STe={[Md.Line]:"right",[Md.Handle]:"bottom-right"};function ATe({nodeId:e,position:t,variant:r=Md.Handle,className:a,style:s=void 0,children:i,color:l,minWidth:u=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:x,autoScale:v=!0,shouldResize:j,onResizeStart:y,onResize:N,onResizeEnd:C}){const A=JK(),w=typeof e=="string"?e:A,S=Fn(),E=b.useRef(null),O=r===Md.Handle,M=Qt(b.useCallback(NTe(O&&v),[O,v]),Un),R=b.useRef(null),I=t??STe[r];b.useEffect(()=>{if(!(!E.current||!w))return R.current||(R.current=a_e({domNode:E.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:F,transform:H,snapGrid:K,snapToGrid:q,nodeOrigin:$,domNode:k}=S.getState();return{nodeLookup:F,transform:H,snapGrid:K,snapToGrid:q,nodeOrigin:$,paneDomNode:k}},onChange:(F,H)=>{const{triggerNodeChanges:K,nodeLookup:q,parentLookup:$,nodeOrigin:k}=S.getState(),D=[],P={x:F.x,y:F.y},U=q.get(w);if(U&&U.expandParent&&U.parentId){const G=U.origin??k,B=F.width??U.measured.width??0,z=F.height??U.measured.height??0,X={id:U.id,parentId:U.parentId,rect:{width:B,height:z,...wK({x:F.x??U.position.x,y:F.y??U.position.y},{width:B,height:z},U.parentId,q,G)}},ee=mT([X],q,$,k);D.push(...ee),P.x=F.x?Math.max(G[0]*B,F.x):void 0,P.y=F.y?Math.max(G[1]*z,F.y):void 0}if(P.x!==void 0&&P.y!==void 0){const G={id:w,type:"position",position:{...P}};D.push(G)}if(F.width!==void 0&&F.height!==void 0){const B={id:w,type:"dimensions",resizing:!0,setAttributes:x?x==="horizontal"?"width":"height":!0,dimensions:{width:F.width,height:F.height}};D.push(B)}for(const G of H){const B={...G,type:"position"};D.push(B)}K(D)},onEnd:({width:F,height:H})=>{const K={id:w,type:"dimensions",resizing:!1,dimensions:{width:F,height:H}};S.getState().triggerNodeChanges([K])}})),R.current.update({controlPosition:I,boundaries:{minWidth:u,minHeight:d,maxWidth:f,maxHeight:m},keepAspectRatio:p,resizeDirection:x,onResizeStart:y,onResize:N,onResizeEnd:C,shouldResize:j}),()=>{R.current?.destroy()}},[I,u,d,f,m,p,y,N,C,j]);const V=I.split("-");return n.jsx("div",{className:mr(["react-flow__resize-control","nodrag",...V,r,a]),ref:E,style:{...s,scale:M,...l&&{[O?"backgroundColor":"borderColor"]:l}},children:i})}b.memo(ATe);const CTe=({data:e})=>n.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-white border-2 border-primary min-w-[150px]",children:[n.jsx("div",{className:"font-bold text-sm text-primary mb-1",children:"Trigger"}),n.jsx("div",{className:"text-xs text-gray-500",children:e.label}),n.jsx(fr,{type:"source",position:et.Bottom,className:"w-3 h-3 bg-primary"})]}),_Te=({data:e})=>n.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-white border border-gray-200 min-w-[150px]",children:[n.jsx(fr,{type:"target",position:et.Top,className:"w-3 h-3 bg-gray-400"}),n.jsx("div",{className:"font-bold text-sm text-gray-700 mb-1",children:"Send Message"}),n.jsx("div",{className:"text-xs text-gray-500",children:e.label}),n.jsx(fr,{type:"source",position:et.Bottom,className:"w-3 h-3 bg-gray-400"})]}),ETe=({data:e})=>n.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-white border border-orange-300 min-w-[150px] relative",children:[n.jsx(fr,{type:"target",position:et.Top,className:"w-3 h-3 bg-gray-400"}),n.jsx("div",{className:"font-bold text-sm text-orange-600 mb-1",children:"Condition"}),n.jsx("div",{className:"text-xs text-gray-500",children:e.label}),n.jsx("div",{className:"absolute -bottom-6 left-1/4 text-[10px] text-gray-500",children:"Yes"}),n.jsx(fr,{type:"source",position:et.Bottom,id:"a",className:"w-3 h-3 bg-green-500 left-1/4"}),n.jsx("div",{className:"absolute -bottom-6 right-1/4 text-[10px] text-gray-500",children:"No"}),n.jsx(fr,{type:"source",position:et.Bottom,id:"b",className:"w-3 h-3 bg-red-500 left-3/4"})]}),TTe={trigger:CTe,message:_Te,condition:ETe},OTe=[{id:"1",type:"trigger",position:{x:250,y:0},data:{label:'Incoming Message: "Hello"'}},{id:"2",type:"message",position:{x:250,y:100},data:{label:"Reply: Welcome to our service!"}},{id:"3",type:"condition",position:{x:250,y:200},data:{label:"Is Business Hours?"}},{id:"4",type:"message",position:{x:100,y:300},data:{label:"Reply: How can we help?"}},{id:"5",type:"message",position:{x:400,y:300},data:{label:"Reply: We are closed."}}],MTe=[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4",sourceHandle:"a",label:"Yes"},{id:"e3-5",source:"3",target:"5",sourceHandle:"b",label:"No"}];function kTe(){const[e,t,r]=jV(OTe),[a,s,i]=bV(MTe),l=b.useCallback(u=>s(d=>uT(u,d)),[s]);return n.jsx(ct,{children:n.jsxs("div",{className:"flex flex-col h-[calc(100vh-8rem)] space-y-4 animate-in fade-in duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between shrink-0",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Automation Builder"}),n.jsx("p",{className:"text-muted-foreground",children:"Design your chatbot flows visually."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Y,{variant:"outline",children:[n.jsx(Za,{className:"mr-2 h-4 w-4"}),"Test Flow"]}),n.jsxs(Y,{children:[n.jsx(RF,{className:"mr-2 h-4 w-4"}),"Save Flow"]})]})]}),n.jsxs("div",{className:"flex-1 flex gap-4 min-h-0",children:[n.jsxs(Q,{className:"w-60 shrink-0 p-4 flex flex-col gap-3 overflow-y-auto",children:[n.jsx("h3",{className:"font-medium text-sm mb-2",children:"Elements"}),n.jsxs("div",{className:"p-3 border rounded cursor-grab hover:bg-secondary transition-colors bg-white shadow-sm border-l-4 border-l-primary",children:[n.jsx("span",{className:"font-medium text-sm",children:"Trigger"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Start flow"})]}),n.jsxs("div",{className:"p-3 border rounded cursor-grab hover:bg-secondary transition-colors bg-white shadow-sm",children:[n.jsx("span",{className:"font-medium text-sm",children:"Send Message"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Text, Image, Video"})]}),n.jsxs("div",{className:"p-3 border rounded cursor-grab hover:bg-secondary transition-colors bg-white shadow-sm border-l-4 border-l-orange-400",children:[n.jsx("span",{className:"font-medium text-sm",children:"Condition"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Branch logic"})]}),n.jsxs("div",{className:"p-3 border rounded cursor-grab hover:bg-secondary transition-colors bg-white shadow-sm",children:[n.jsx("span",{className:"font-medium text-sm",children:"Wait"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delay execution"})]}),n.jsxs("div",{className:"p-3 border rounded cursor-grab hover:bg-secondary transition-colors bg-white shadow-sm",children:[n.jsx("span",{className:"font-medium text-sm",children:"Assign to Agent"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Handover"})]})]}),n.jsx(Q,{className:"flex-1 overflow-hidden border-2 border-muted",children:n.jsxs(vV,{nodes:e,edges:a,onNodesChange:r,onEdgesChange:i,onConnect:l,nodeTypes:TTe,fitView:!0,children:[n.jsx(AV,{}),n.jsx(_V,{}),n.jsx(NV,{variant:Gs.Dots,gap:12,size:1})]})})]})]})})}function PTe(){const[e,t]=b.useState(""),[r,a]=b.useState(!1),[s,i]=b.useState(!1),[l,u]=b.useState(!1),[d,f]=b.useState(null),[m,p]=b.useState({name:"",phone:"",email:"",tags:"",notes:""}),[x,v]=b.useState(""),j=yn(),{data:y=[],isLoading:N}=Ie({queryKey:["/api/contacts"],queryFn:async()=>{const k=await fetch("/api/contacts");if(!k.ok)throw new Error("Failed to fetch contacts");return k.json()}}),{data:C=[],isLoading:A}=Ie({queryKey:["/api/broadcast/imported-contacts"],queryFn:async()=>{const k=await fetch("/api/broadcast/imported-contacts");if(!k.ok)throw new Error("Failed to fetch imported contacts");return k.json()}}),w=[...y,...C.map(k=>({...k,tags:k.tags||[],source:k.source||"import"}))],S=N||A,E=qe({mutationFn:async k=>{const D=await fetch("/api/contacts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!D.ok)throw new Error("Failed to create contact");return D.json()},onSuccess:()=>{j.invalidateQueries({queryKey:["/api/contacts"]}),a(!1),p({name:"",phone:"",email:"",tags:"",notes:""}),re.success("Contact created successfully")},onError:()=>{re.error("Failed to create contact")}}),O=qe({mutationFn:async({id:k,data:D})=>{const P=await fetch(`/api/contacts/${k}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});if(!P.ok)throw new Error("Failed to update contact");return P.json()},onSuccess:()=>{j.invalidateQueries({queryKey:["/api/contacts"]}),i(!1),f(null),re.success("Contact updated successfully")},onError:()=>{re.error("Failed to update contact")}}),M=qe({mutationFn:async k=>{const D=k.source==="import"||k.source==="excel"||k.source==="csv",P=D?`/api/broadcast/imported-contacts/${k.id}`:`/api/contacts/${k.id}`;if(!(await fetch(P,{method:"DELETE"})).ok)throw new Error("Failed to delete contact");return D},onSuccess:k=>{k?j.invalidateQueries({queryKey:["/api/broadcast/imported-contacts"]}):j.invalidateQueries({queryKey:["/api/contacts"]}),re.success("Contact deleted successfully")},onError:()=>{re.error("Failed to delete contact")}}),R=qe({mutationFn:async k=>{const D=await fetch("/api/contacts/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contacts:k})});if(!D.ok)throw new Error("Failed to import contacts");return D.json()},onSuccess:k=>{j.invalidateQueries({queryKey:["/api/contacts"]}),u(!1),v(""),re.success(`Imported ${k.imported} contacts successfully`)},onError:()=>{re.error("Failed to import contacts")}}),I=()=>{E.mutate({name:m.name,phone:m.phone,email:m.email||void 0,tags:m.tags.split(",").map(k=>k.trim()).filter(Boolean),notes:m.notes||void 0})},V=()=>{d&&O.mutate({id:d.id,data:{name:m.name,phone:m.phone,email:m.email||void 0,tags:m.tags.split(",").map(k=>k.trim()).filter(Boolean),notes:m.notes||void 0}})},F=()=>{try{const D=x.trim().split(`
`).map(P=>{const[U,G,B,z]=P.split(",").map(X=>X.trim());return{name:U||"Unknown",phone:G||"",email:B||void 0,tags:z?z.split(";").map(X=>X.trim()):[]}}).filter(P=>P.phone);R.mutate(D)}catch{re.error("Invalid import format")}},H=()=>{const k=w.map(G=>`${G.name},${G.phone},${G.email||""},${G.tags.join(";")}`).join(`
`),D=new Blob([`Name,Phone,Email,Tags
${k}`],{type:"text/csv"}),P=URL.createObjectURL(D),U=document.createElement("a");U.href=P,U.download="contacts.csv",U.click(),re.success("Contacts exported successfully")},K=k=>{f(k),p({name:k.name,phone:k.phone,email:k.email||"",tags:k.tags.join(", "),notes:k.notes||""}),i(!0)},q=w.filter(k=>k.name.toLowerCase().includes(e.toLowerCase())||k.phone.includes(e)||k.tags.some(D=>D.toLowerCase().includes(e.toLowerCase()))),$=k=>{const D=Date.now()-new Date(k).getTime(),P=Math.floor(D/6e4),U=Math.floor(D/36e5),G=Math.floor(D/864e5);return G>0?`${G} day${G>1?"s":""} ago`:U>0?`${U} hour${U>1?"s":""} ago`:P>0?`${P} min${P>1?"s":""} ago`:"Just now"};return n.jsxs(ct,{children:[n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Contacts"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your customer database and segments."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs($t,{open:l,onOpenChange:u,children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{variant:"outline",children:[n.jsx(Lh,{className:"mr-2 h-4 w-4"}),"Import"]})}),n.jsxs(kt,{children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Import Contacts"}),n.jsx(Dn,{children:"Paste CSV data (Name,Phone,Email,Tags). Tags separated by semicolons."})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsx(cn,{placeholder:"John Doe,+1234567890,john@email.com,VIP;Customer",value:x,onChange:k=>v(k.target.value),rows:6})}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),n.jsxs(Y,{onClick:F,disabled:R.isPending,children:[R.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Import"]})]})]})]}),n.jsxs(Y,{variant:"outline",onClick:H,children:[n.jsx(Or,{className:"mr-2 h-4 w-4"}),"Export"]}),n.jsxs($t,{open:r,onOpenChange:a,children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{children:[n.jsx(An,{className:"mr-2 h-4 w-4"}),"Add Contact"]})}),n.jsxs(kt,{children:[n.jsx(Pt,{children:n.jsx(Rt,{children:"Add New Contact"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Name *"}),n.jsx(Pe,{placeholder:"John Doe",value:m.name,onChange:k=>p({...m,name:k.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Phone Number *"}),n.jsx(Pe,{placeholder:"+1234567890",value:m.phone,onChange:k=>p({...m,phone:k.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Email"}),n.jsx(Pe,{type:"email",placeholder:"john@example.com",value:m.email,onChange:k=>p({...m,email:k.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Tags (comma-separated)"}),n.jsx(Pe,{placeholder:"VIP, Customer, Lead",value:m.tags,onChange:k=>p({...m,tags:k.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Notes"}),n.jsx(cn,{placeholder:"Additional notes...",value:m.notes,onChange:k=>p({...m,notes:k.target.value})})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),n.jsxs(Y,{onClick:I,disabled:E.isPending||!m.name||!m.phone,children:[E.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Contact"]})]})]})]})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(oe,{children:"All Contacts"}),n.jsxs(Le,{children:["Total ",w.length," contacts in your database."]})]}),n.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[n.jsxs("div",{className:"relative w-64",children:[n.jsx(Qn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search contacts...",className:"pl-9",value:e,onChange:k=>t(k.target.value)})]}),n.jsx(Y,{variant:"outline",size:"icon",children:n.jsx($m,{className:"h-4 w-4"})})]})]})}),n.jsx(Z,{children:S?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{className:"w-[250px]",children:"Name"}),n.jsx(ne,{children:"Phone Number"}),n.jsx(ne,{children:"Tags"}),n.jsx(ne,{children:"Last Updated"}),n.jsx(ne,{className:"text-right",children:"Actions"})]})}),n.jsx(Lt,{children:q.map(k=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(aa,{className:"h-8 w-8",children:n.jsx(sa,{className:"text-xs bg-primary/10 text-primary",children:k.name.split(" ").map(D=>D[0]).join("").slice(0,2)})}),n.jsxs("div",{children:[n.jsx("div",{children:k.name}),k.email&&n.jsx("div",{className:"text-xs text-muted-foreground",children:k.email})]})]})}),n.jsx(te,{children:k.phone}),n.jsx(te,{children:n.jsx("div",{className:"flex flex-wrap gap-1",children:k.tags.map(D=>n.jsx(Ae,{variant:"secondary",className:"text-xs font-normal",children:D},D))})}),n.jsx(te,{className:"text-muted-foreground",children:$(k.updatedAt)}),n.jsx(te,{className:"text-right",children:n.jsxs(ol,{children:[n.jsx(ll,{asChild:!0,children:n.jsx(Y,{variant:"ghost",size:"icon",children:n.jsx(JC,{className:"h-4 w-4"})})}),n.jsxs(Gi,{align:"end",children:[n.jsxs(Bn,{onClick:()=>K(k),children:[n.jsx(Es,{className:"mr-2 h-4 w-4"}),"Edit"]}),n.jsxs(Bn,{className:"text-destructive",onClick:()=>M.mutate(k),children:[n.jsx(hr,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},k.id))})]})})]})]}),n.jsx($t,{open:s,onOpenChange:i,children:n.jsxs(kt,{children:[n.jsx(Pt,{children:n.jsx(Rt,{children:"Edit Contact"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Name *"}),n.jsx(Pe,{placeholder:"John Doe",value:m.name,onChange:k=>p({...m,name:k.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Phone Number *"}),n.jsx(Pe,{placeholder:"+1234567890",value:m.phone,onChange:k=>p({...m,phone:k.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Email"}),n.jsx(Pe,{type:"email",placeholder:"john@example.com",value:m.email,onChange:k=>p({...m,email:k.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Tags (comma-separated)"}),n.jsx(Pe,{placeholder:"VIP, Customer, Lead",value:m.tags,onChange:k=>p({...m,tags:k.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Notes"}),n.jsx(cn,{placeholder:"Additional notes...",value:m.notes,onChange:k=>p({...m,notes:k.target.value})})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),n.jsxs(Y,{onClick:V,disabled:O.isPending||!m.name||!m.phone,children:[O.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})})]})}var E0="Switch",[RTe]=Qr(E0),[DTe,ITe]=RTe(E0),EV=b.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:s,defaultChecked:i,required:l,disabled:u,value:d="on",onCheckedChange:f,form:m,...p}=e,[x,v]=b.useState(null),j=At(t,w=>v(w)),y=b.useRef(!1),N=x?m||!!x.closest("form"):!0,[C,A]=Cs({prop:s,defaultProp:i??!1,onChange:f,caller:E0});return n.jsxs(DTe,{scope:r,checked:C,disabled:u,children:[n.jsx(dt.button,{type:"button",role:"switch","aria-checked":C,"aria-required":l,"data-state":kV(C),"data-disabled":u?"":void 0,disabled:u,value:d,...p,ref:j,onClick:Be(e.onClick,w=>{A(S=>!S),N&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),N&&n.jsx(MV,{control:x,bubbles:!y.current,name:a,value:d,checked:C,required:l,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});EV.displayName=E0;var TV="SwitchThumb",OV=b.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,s=ITe(TV,r);return n.jsx(dt.span,{"data-state":kV(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});OV.displayName=TV;var LTe="SwitchBubbleInput",MV=b.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...s},i)=>{const l=b.useRef(null),u=At(l,i),d=c0(r),f=fv(t);return b.useEffect(()=>{const m=l.current;if(!m)return;const p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==r&&v){const j=new Event("click",{bubbles:a});v.call(m,r),m.dispatchEvent(j)}},[d,r,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:u,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});MV.displayName=LTe;function kV(e){return e?"checked":"unchecked"}var PV=EV,$Te=OV;const Tr=b.forwardRef(({className:e,...t},r)=>n.jsx(PV,{className:Je("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx($Te,{className:Je("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Tr.displayName=PV.displayName;function FTe(){return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences."})]}),n.jsxs(rr,{defaultValue:"general",className:"space-y-4",children:[n.jsxs(Zn,{children:[n.jsx(lt,{value:"general",children:"General"}),n.jsx(lt,{value:"business",children:"Business Profile"}),n.jsx(lt,{value:"api",children:"API & Webhooks"}),n.jsx(lt,{value:"notifications",children:"Notifications"})]}),n.jsxs(ft,{value:"general",className:"space-y-4",children:[n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Profile Information"}),n.jsx(Le,{children:"Update your account profile details."})]}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(aa,{className:"h-20 w-20",children:[n.jsx(A_,{src:"https://github.com/shadcn.png"}),n.jsx(sa,{children:"CN"})]}),n.jsx(Y,{variant:"outline",children:"Change Avatar"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{htmlFor:"name",children:"Display Name"}),n.jsx(Pe,{id:"name",defaultValue:"Acme Inc Admin"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{htmlFor:"email",children:"Email"}),n.jsx(Pe,{id:"email",defaultValue:"admin@acme.com"})]})]}),n.jsx(Fr,{children:n.jsx(Y,{children:"Save Changes"})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Appearance"}),n.jsx(Le,{children:"Customize how the dashboard looks on your device."})]}),n.jsx(Z,{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(de,{children:"Dark Mode"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable dark mode for the dashboard."})]}),n.jsx(Tr,{})]})})]})]}),n.jsx(ft,{value:"business",className:"space-y-4",children:n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"WhatsApp Business Profile"}),n.jsx(Le,{children:"This information will be visible to your customers on WhatsApp."})]}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Business Name"}),n.jsx(Pe,{defaultValue:"Acme Corporation"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Description"}),n.jsx(Pe,{defaultValue:"We provide the best widgets in the world."})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Address"}),n.jsx(Pe,{defaultValue:"123 Widget St, Tech City"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Email"}),n.jsx(Pe,{defaultValue:"support@acme.com"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Website"}),n.jsx(Pe,{defaultValue:"https://acme.com"})]})]}),n.jsx(Fr,{children:n.jsx(Y,{children:"Update Profile"})})]})}),n.jsxs(ft,{value:"api",className:"space-y-4",children:[n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"API Credentials"}),n.jsx(Le,{children:"Manage your API keys and authentication tokens."})]}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Phone Number ID"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Pe,{value:"10928374655",readOnly:!0,className:"font-mono bg-muted"}),n.jsx(Y,{variant:"outline",size:"icon",children:n.jsx(Eg,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"WhatsApp Business Account ID"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Pe,{value:"19283746556",readOnly:!0,className:"font-mono bg-muted"}),n.jsx(Y,{variant:"outline",size:"icon",children:n.jsx(Eg,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Permanent Access Token"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Pe,{value:"EAABw...",type:"password",readOnly:!0,className:"font-mono bg-muted"}),n.jsx(Y,{variant:"outline",children:"Regenerate"})]})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Integrations"}),n.jsx(Le,{children:"Connect with other platforms."})]}),n.jsx(Z,{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center justify-between border p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-full flex items-center justify-center text-white",children:n.jsx($d,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:"Facebook Leads"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Sync leads from Facebook & Instagram Ads."})]})]}),n.jsx(Y,{variant:"outline",children:"Connect"})]})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Webhooks"}),n.jsx(Le,{children:"Configure where we send real-time events."})]}),n.jsxs(Z,{children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Callback URL"}),n.jsx(Pe,{placeholder:"https://your-domain.com/webhook"})]}),n.jsxs("div",{className:"grid gap-2 mt-4",children:[n.jsx(de,{children:"Verify Token"}),n.jsx(Pe,{placeholder:"random_string"})]})]}),n.jsx(Fr,{children:n.jsx(Y,{children:"Save Webhook"})})]})]}),n.jsx(ft,{value:"notifications",className:"space-y-4",children:n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsx(oe,{children:"Email Notifications"})}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(de,{children:"Weekly Reports"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive a summary of your activity every Monday."})]}),n.jsx(Tr,{defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(de,{children:"System Alerts"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about API errors or downtime."})]}),n.jsx(Tr,{defaultChecked:!0})]})]})]})})]})]})})}function qTe(){const[e,t]=b.useState(!1),[r,a]=b.useState({name:"",email:"",role:"agent"}),s=yn(),{data:i=[],isLoading:l}=Ie({queryKey:["/api/team-members"],queryFn:async()=>{const m=await fetch("/api/team-members");if(!m.ok)throw new Error("Failed to fetch team members");return m.json()}}),u=qe({mutationFn:async m=>{const p=await fetch("/api/team-members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:`user-${Date.now()}`,...m,permissions:m.role==="admin"?["all"]:["inbox","contacts"],isActive:!0})});if(!p.ok)throw new Error("Failed to add team member");return p.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/team-members"]}),t(!1),a({name:"",email:"",role:"agent"}),re.success("Team member added successfully")},onError:()=>{re.error("Failed to add team member")}}),d=qe({mutationFn:async m=>{if(!(await fetch(`/api/team-members/${m}`,{method:"DELETE"})).ok)throw new Error("Failed to delete team member")},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/team-members"]}),re.success("Team member removed successfully")},onError:()=>{re.error("Failed to remove team member")}}),f=()=>{if(!r.name||!r.email){re.error("Please fill in all fields");return}u.mutate(r)};return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Team Members"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your team and their roles."})]}),n.jsxs($t,{open:e,onOpenChange:t,children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{children:[n.jsx(An,{className:"mr-2 h-4 w-4"}),"Add Member"]})}),n.jsxs(kt,{children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Add Team Member"}),n.jsx(Dn,{children:"Invite a new user to your organization."})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{htmlFor:"name",children:"Name"}),n.jsx(Pe,{id:"name",placeholder:"John Doe",value:r.name,onChange:m=>a({...r,name:m.target.value})})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{htmlFor:"email",children:"Email"}),n.jsx(Pe,{id:"email",type:"email",placeholder:"john@example.com",value:r.email,onChange:m=>a({...r,email:m.target.value})})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{htmlFor:"role",children:"Role"}),n.jsxs(Xe,{value:r.role,onValueChange:m=>a({...r,role:m}),children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select role"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"admin",children:"Admin"}),n.jsx(ae,{value:"agent",children:"Agent"})]})]})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(Y,{onClick:f,disabled:u.isPending,children:[u.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Member"]})]})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"All Members"}),n.jsx(Le,{children:"A list of all users with access to this account."})]}),n.jsx(Z,{children:l?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"User"}),n.jsx(ne,{children:"Role"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{className:"text-right",children:"Actions"})]})}),n.jsx(Lt,{children:i.map(m=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(aa,{children:n.jsx(sa,{className:"bg-primary/10 text-primary",children:m.name.split(" ").map(p=>p[0]).join("").slice(0,2)})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:m.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:m.email})]})]})}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[m.role==="admin"?n.jsx(tc,{className:"h-3 w-3 text-primary"}):n.jsx(rc,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"capitalize",children:m.role})]})}),n.jsx(te,{children:n.jsx(Ae,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})}),n.jsx(te,{className:"text-right",children:n.jsx(Y,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>d.mutate(m.id),disabled:d.isPending,children:n.jsx(hr,{className:"h-4 w-4"})})})]},m.id))})]})})]})]})})}function zTe(){return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Permissions"}),n.jsx("p",{className:"text-muted-foreground",children:"Control access levels for different roles."})]}),n.jsxs(rr,{defaultValue:"agent",className:"w-full",children:[n.jsxs(Zn,{children:[n.jsx(lt,{value:"admin",children:"Admin Role"}),n.jsx(lt,{value:"agent",children:"Agent Role"})]}),n.jsx(ft,{value:"agent",className:"space-y-4 mt-4",children:n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Module Access"}),n.jsx(Le,{children:"Define which modules agents can access."})]}),n.jsxs(Z,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(de,{children:"Dashboard"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"View analytics and overview stats."})]}),n.jsx(Tr,{defaultChecked:!0,disabled:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(de,{children:"Inbox"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Read and reply to messages."})]}),n.jsx(Tr,{defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(de,{children:"Campaigns"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and send broadcasts."})]}),n.jsx(Tr,{})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(de,{children:"Contacts"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"View and edit contact details."})]}),n.jsx(Tr,{defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(de,{children:"Settings"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Access global settings."})]}),n.jsx(Tr,{})]})]})]})}),n.jsx(ft,{value:"admin",children:n.jsx(Q,{children:n.jsx(Z,{className:"pt-6",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:"Admins have full access to all modules by default."})})})})]})]})})}function BTe(){return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"WhatsApp Number Settings"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your connected phone numbers."})]}),n.jsxs(Q,{className:"border-l-4 border-l-green-500",children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Ac,{className:"h-5 w-5"}),"+1 (555) 123-4567"]}),n.jsx(Le,{children:"Default Sending Number"})]}),n.jsx(Ae,{className:"bg-green-500 hover:bg-green-600",children:"Active"})]})}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Quality Rating"}),n.jsx("span",{className:"font-medium text-green-600",children:"High"})]}),n.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500 w-full"})})]}),n.jsx("div",{className:"grid gap-2",children:n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Messaging Limit"}),n.jsx("span",{className:"font-medium",children:"1,000 conversations / 24h"})]})})]}),n.jsxs(Fr,{className:"flex justify-end gap-2",children:[n.jsx(Y,{variant:"outline",size:"sm",children:"Verify"}),n.jsx(Y,{variant:"destructive",size:"sm",children:"Disconnect"})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Add New Number"}),n.jsx(Le,{children:"Connect another WhatsApp Business number."})]}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Phone Number"}),n.jsx(Pe,{placeholder:"+1 (555) 000-0000"})]}),n.jsx(Y,{children:"Send Verification Code"})]})]})]})})}const y6={super_admin:{label:"Super Admin",color:"bg-red-100 text-red-800 border-red-200",icon:n.jsx(gZ,{className:"h-3 w-3"})},sub_admin:{label:"Sub Admin",color:"bg-purple-100 text-purple-800 border-purple-200",icon:n.jsx(wJ,{className:"h-3 w-3"})},manager:{label:"Manager",color:"bg-blue-100 text-blue-800 border-blue-200",icon:n.jsx(iv,{className:"h-3 w-3"})},user:{label:"User",color:"bg-gray-100 text-gray-800 border-gray-200",icon:n.jsx(rc,{className:"h-3 w-3"})},admin:{label:"Admin",color:"bg-emerald-100 text-emerald-800 border-emerald-200",icon:n.jsx(tc,{className:"h-3 w-3"})}};function UTe(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}function HTe(){const{user:e,checkAuth:t}=zm(),[r,a]=b.useState("utc"),[s,i]=b.useState({name:e?.name||"",email:e?.email||"",phone:""}),l=qe({mutationFn:async d=>{const f=await fetch("/api/auth/update-profile",{method:"PUT",headers:{"Content-Type":"application/json",...Ke()},body:JSON.stringify(d)});if(!f.ok){const m=await f.json();throw new Error(m.error||"Failed to update profile")}return f.json()},onSuccess:()=>{t(),re.success("Profile updated successfully")},onError:d=>{re.error(d.message)}}),u=y6[e?.role||"user"]||y6.user;return e?n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Profile Details"}),n.jsx("p",{className:"text-muted-foreground",children:"View and update your account information."})]}),n.jsxs(Ae,{className:`${u.color} flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium`,children:[u.icon,u.label]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Account Information"}),n.jsx(Le,{children:"Your login and role details."})]}),n.jsxs(Z,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(aa,{className:"h-20 w-20 border-2 border-primary/20",children:n.jsx(sa,{className:"bg-primary/10 text-primary text-xl font-semibold",children:UTe(e.name)})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("h3",{className:"text-xl font-semibold",children:e.name}),n.jsxs(Ae,{variant:"outline",className:`${u.color} flex items-center gap-1 w-fit`,children:[u.icon,u.label]})]})]}),n.jsxs("div",{className:"space-y-4 pt-2",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[n.jsx(OF,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Username"}),n.jsx("p",{className:"font-medium",children:e.username})]})]}),e.email&&n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[n.jsx(xa,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Email Address"}),n.jsx("p",{className:"font-medium",children:e.email})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[n.jsx(tc,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"User ID"}),n.jsx("p",{className:"font-mono text-sm",children:e.id})]})]}),e.pageAccess&&e.pageAccess.length>0&&n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Page Access"}),n.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.pageAccess.map(d=>n.jsx(Ae,{variant:"secondary",className:"text-xs capitalize",children:d.replace(/_/g," ")},d))})]})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Edit Profile"}),n.jsx(Le,{children:"Update your personal information."})]}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{htmlFor:"name",children:"Full Name"}),n.jsx(Pe,{id:"name",value:s.name,onChange:d=>i({...s,name:d.target.value}),placeholder:"Enter your full name"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{htmlFor:"email",children:"Email Address"}),n.jsx(Pe,{id:"email",type:"email",value:s.email,onChange:d=>i({...s,email:d.target.value}),placeholder:"Enter your email"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{htmlFor:"phone",children:"Phone Number"}),n.jsx(Pe,{id:"phone",value:s.phone,onChange:d=>i({...s,phone:d.target.value}),placeholder:"Enter your phone number"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Timezone"}),n.jsxs(Xe,{value:r,onValueChange:a,children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"utc",children:"UTC (GMT+0)"}),n.jsx(ae,{value:"ist",children:"IST (GMT+5:30)"}),n.jsx(ae,{value:"est",children:"EST (GMT-5)"}),n.jsx(ae,{value:"pst",children:"PST (GMT-8)"})]})]})]})]}),n.jsx(Fr,{children:n.jsxs(Y,{onClick:()=>l.mutate(s),disabled:l.isPending,children:[l.isPending&&n.jsx(We,{className:"h-4 w-4 mr-2 animate-spin"}),"Update Profile"]})})]})]})]})}):n.jsx(ct,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}const KTe=Id("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Zo=b.forwardRef(({className:e,variant:t,...r},a)=>n.jsx("div",{ref:a,role:"alert",className:Je(KTe({variant:t}),e),...r}));Zo.displayName="Alert";const km=b.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:Je("mb-1 font-medium leading-none tracking-tight",e),...t}));km.displayName="AlertTitle";const Jo=b.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Je("text-sm [&_p]:leading-relaxed",e),...t}));Jo.displayName="AlertDescription";function VTe(){const[e,t]=b.useState(!1),[r,a]=b.useState(!1),[s,i]=b.useState(!1),[l,u]=b.useState(!1),[d,f]=b.useState(""),[m,p]=b.useState(""),[x,v]=b.useState(""),[j,y]=b.useState(""),[N,C]=b.useState(""),[A,w]=b.useState(""),[S,E]=b.useState(""),[O,M]=b.useState(""),[R,I]=b.useState(""),[V,F]=b.useState(""),H=yn(),{data:K,isLoading:q}=Ie({queryKey:["/api/credentials"],queryFn:async()=>{const he=await Nn("/api/credentials");if(!he.ok)throw new Error("Failed to fetch credentials");return he.json()}}),$=qe({mutationFn:async he=>{const le=await Nn("/api/credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(he)});if(!le.ok)throw new Error("Failed to save credentials");return le.json()},onSuccess:()=>{H.invalidateQueries({queryKey:["/api/credentials"]}),re.success("Credentials saved and encrypted successfully"),f(""),p(""),v(""),y(""),C(""),w(""),E(""),M(""),I(""),F("")},onError:()=>{re.error("Failed to save credentials")}});qe({mutationFn:async()=>{const he=await Nn("/api/credentials/test/whatsapp",{method:"POST"}),le=await he.json();if(!he.ok)throw new Error(le.error||le.details||"Test failed");return le},onSuccess:he=>{H.invalidateQueries({queryKey:["/api/credentials"]}),re.success(`WhatsApp connected: ${he.verifiedName||he.phoneNumber}`)},onError:he=>{re.error(he.message||"WhatsApp connection test failed")}});const k=qe({mutationFn:async()=>{const he=await Nn("/api/credentials/test/openai",{method:"POST"}),le=await he.json();if(!he.ok)throw new Error(le.error||le.details||"Test failed");return le},onSuccess:()=>{re.success("OpenAI API connection successful")},onError:he=>{re.error(he.message||"OpenAI connection test failed")}}),D=qe({mutationFn:async()=>{const he=await Nn("/api/credentials/test/facebook",{method:"POST"}),le=await he.json();if(!he.ok)throw new Error(le.error||le.details||"Test failed");return le},onSuccess:he=>{re.success(`Facebook connected: ${he.name}`)},onError:he=>{re.error(he.message||"Facebook connection test failed")}}),P=()=>{const he={};if(d&&(he.whatsappToken=d),m&&(he.phoneNumberId=m),x&&(he.businessAccountId=x),j&&(he.webhookVerifyToken=j),N&&(he.appId=N),A&&(he.appSecret=A),Object.keys(he).length===0){re.error("Please enter at least one credential");return}$.mutate(he)},U=()=>{if(!S){re.error("Please enter your OpenAI API key");return}$.mutate({openaiApiKey:S})},G=()=>{if(!O){re.error("Please enter your Gemini API key");return}$.mutate({geminiApiKey:O})},B=()=>{const he={};if(R&&(he.facebookAccessToken=R),V&&(he.facebookPageId=V),Object.keys(he).length===0){re.error("Please enter at least one credential");return}$.mutate(he)},z=he=>{navigator.clipboard.writeText(he),re.success("Copied to clipboard")},X=typeof window<"u"?`${window.location.origin}/api/webhook/whatsapp`:"",ee=K?.status||{hasWhatsApp:!1,hasOpenAI:!1,hasGemini:!1,hasFacebook:!1,isVerified:!1},je=K?.credentials||{};return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"API Credentials"}),n.jsx("p",{className:"text-muted-foreground",children:"Securely manage your API keys and webhook configurations."})]}),n.jsxs("div",{className:"flex gap-2",children:[ee.hasWhatsApp&&n.jsx(Ae,{variant:ee.isVerified?"default":"secondary",className:"gap-1",children:ee.isVerified?n.jsxs(n.Fragment,{children:[n.jsx(Pn,{className:"h-3 w-3"})," WhatsApp Connected"]}):n.jsxs(n.Fragment,{children:[n.jsx(Wi,{className:"h-3 w-3"})," WhatsApp Not Verified"]})}),ee.hasOpenAI&&n.jsxs(Ae,{variant:"default",className:"gap-1 bg-purple-600",children:[n.jsx(Ct,{className:"h-3 w-3"})," AI Ready"]})]})]}),n.jsxs(Zo,{className:"bg-blue-50 border-blue-200",children:[n.jsx(tc,{className:"h-4 w-4 text-blue-600"}),n.jsx(km,{className:"text-blue-800",children:"Secure Storage"}),n.jsx(Jo,{className:"text-blue-700",children:"All your API keys are encrypted using AES-256-GCM before being stored. Your credentials are never exposed in plain text after saving."})]}),n.jsxs(rr,{defaultValue:"whatsapp",className:"space-y-4",children:[n.jsxs(Zn,{children:[n.jsxs(lt,{value:"whatsapp",className:"gap-2",children:[n.jsx(zk,{className:"h-4 w-4"}),"WhatsApp API"]}),n.jsxs(lt,{value:"openai",className:"gap-2",children:[n.jsx(Ct,{className:"h-4 w-4"}),"OpenAI"]}),n.jsxs(lt,{value:"gemini",className:"gap-2",children:[n.jsx(Ct,{className:"h-4 w-4"}),"Gemini"]}),n.jsxs(lt,{value:"facebook",className:"gap-2",children:[n.jsx(Cg,{className:"h-4 w-4"}),"Facebook"]}),n.jsxs(lt,{value:"webhook",className:"gap-2",children:[n.jsx(vs,{className:"h-4 w-4"}),"Webhook"]})]}),n.jsx(ft,{value:"whatsapp",className:"space-y-4",children:n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-green-500 flex items-center justify-center text-white",children:n.jsx(zk,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsx(oe,{children:"WhatsApp Business API"}),n.jsx(Le,{children:"Connect your WhatsApp Business account"})]})]})}),n.jsxs(Z,{className:"space-y-4",children:[ee.hasWhatsApp&&je.whatsappToken&&n.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg mb-4",children:n.jsxs("p",{className:"text-sm text-green-700",children:[n.jsx(Pn,{className:"h-4 w-4 inline mr-1"}),"Credentials saved. Token: ",je.whatsappToken]})}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Access Token"}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Pe,{type:e?"text":"password",placeholder:ee.hasWhatsApp?"Enter new token to update...":"Enter your WhatsApp Access Token",value:d,onChange:he=>f(he.target.value)}),n.jsx(Y,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>t(!e),children:e?n.jsx(Dx,{className:"h-4 w-4"}):n.jsx(ma,{className:"h-4 w-4"})})]})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Phone Number ID"}),n.jsx(Pe,{placeholder:ee.hasWhatsApp?je.phoneNumberId||"Enter to update...":"Phone Number ID",value:m,onChange:he=>p(he.target.value)})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Business Account ID (WABA ID)"}),n.jsx(Pe,{placeholder:ee.hasWhatsApp?je.businessAccountId||"Enter to update...":"WABA ID",value:x,onChange:he=>v(he.target.value)})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"App ID"}),n.jsx(Pe,{placeholder:ee.hasWhatsApp?je.appId||"Enter to update...":"Meta App ID",value:N,onChange:he=>C(he.target.value)})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"App Secret"}),n.jsx(Pe,{type:"password",placeholder:ee.hasWhatsApp?"Enter to update...":"Meta App Secret",value:A,onChange:he=>w(he.target.value)})]})]})]}),n.jsx(Fr,{className:"flex justify-between bg-muted/50 border-t p-6",children:n.jsxs(Y,{onClick:P,disabled:$.isPending,children:[$.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Save & Encrypt"]})})]})}),n.jsx(ft,{value:"openai",className:"space-y-4",children:n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-500 flex items-center justify-center text-white",children:n.jsx(Ct,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsx(oe,{children:"OpenAI API"}),n.jsx(Le,{children:"Connect your OpenAI account for AI agent responses"})]})]})}),n.jsxs(Z,{className:"space-y-4",children:[ee.hasOpenAI&&je.openaiApiKey&&n.jsx("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg mb-4",children:n.jsxs("p",{className:"text-sm text-purple-700",children:[n.jsx(Pn,{className:"h-4 w-4 inline mr-1"}),"API Key saved: ",je.openaiApiKey]})}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"OpenAI API Key"}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Pe,{type:r?"text":"password",placeholder:ee.hasOpenAI?"Enter new key to update...":"sk-...",value:S,onChange:he=>E(he.target.value)}),n.jsx(Y,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>a(!r),children:r?n.jsx(Dx,{className:"h-4 w-4"}):n.jsx(ma,{className:"h-4 w-4"})})]})}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Get your API key from"," ",n.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline",children:"OpenAI Platform"})]})]})]}),n.jsxs(Fr,{className:"flex justify-between bg-muted/50 border-t p-6",children:[n.jsxs(Y,{variant:"outline",onClick:()=>k.mutate(),disabled:k.isPending||!ee.hasOpenAI,children:[k.isPending?n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(vs,{className:"mr-2 h-4 w-4"}),"Test Connection"]}),n.jsxs(Y,{onClick:U,disabled:$.isPending,children:[$.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Save & Encrypt"]})]})]})}),n.jsx(ft,{value:"gemini",className:"space-y-4",children:n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center text-white",children:n.jsx(Ct,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsx(oe,{children:"Google Gemini API"}),n.jsx(Le,{children:"Connect your Google AI account for Gemini-powered agents"})]})]})}),n.jsxs(Z,{className:"space-y-4",children:[ee.hasGemini&&je.geminiApiKey&&n.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:n.jsxs("p",{className:"text-sm text-blue-700",children:[n.jsx(Pn,{className:"h-4 w-4 inline mr-1"}),"API Key saved: ",je.geminiApiKey]})}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Gemini API Key"}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Pe,{type:s?"text":"password",placeholder:ee.hasGemini?"Enter new key to update...":"AIza...",value:O,onChange:he=>M(he.target.value)}),n.jsx(Y,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>i(!s),children:s?n.jsx(Dx,{className:"h-4 w-4"}):n.jsx(ma,{className:"h-4 w-4"})})]})}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Get your API key from"," ",n.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline",children:"Google AI Studio"})]})]})]}),n.jsx(Fr,{className:"flex justify-end bg-muted/50 border-t p-6",children:n.jsxs(Y,{onClick:G,disabled:$.isPending,children:[$.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Save & Encrypt"]})})]})}),n.jsx(ft,{value:"facebook",className:"space-y-4",children:n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center text-white",children:n.jsx(Cg,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsx(oe,{children:"Facebook API"}),n.jsx(Le,{children:"Connect for Facebook Lead Forms integration"})]})]})}),n.jsxs(Z,{className:"space-y-4",children:[ee.hasFacebook&&je.facebookAccessToken&&n.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:n.jsxs("p",{className:"text-sm text-blue-700",children:[n.jsx(Pn,{className:"h-4 w-4 inline mr-1"}),"Token saved: ",je.facebookAccessToken]})}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Facebook Access Token"}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Pe,{type:l?"text":"password",placeholder:ee.hasFacebook?"Enter new token to update...":"Your Facebook Page Access Token",value:R,onChange:he=>I(he.target.value)}),n.jsx(Y,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>u(!l),children:l?n.jsx(Dx,{className:"h-4 w-4"}):n.jsx(ma,{className:"h-4 w-4"})})]})})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Facebook Page ID"}),n.jsx(Pe,{placeholder:ee.hasFacebook?je.facebookPageId||"Enter to update...":"Your Facebook Page ID",value:V,onChange:he=>F(he.target.value)})]})]}),n.jsxs(Fr,{className:"flex justify-between bg-muted/50 border-t p-6",children:[n.jsxs(Y,{variant:"outline",onClick:()=>D.mutate(),disabled:D.isPending||!ee.hasFacebook,children:[D.isPending?n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(vs,{className:"mr-2 h-4 w-4"}),"Test Connection"]}),n.jsxs(Y,{onClick:B,disabled:$.isPending,children:[$.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Save & Encrypt"]})]})]})}),n.jsx(ft,{value:"webhook",className:"space-y-4",children:n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Webhook Configuration"}),n.jsx(Le,{children:"Configure your WhatsApp webhook in Meta Developer Console"})]}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Callback URL"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Pe,{value:X,readOnly:!0,className:"font-mono bg-muted"}),n.jsx(Y,{variant:"outline",size:"icon",onClick:()=>z(X),children:n.jsx(Sc,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Use this URL as the Callback URL in your Meta Developer Console webhook settings."})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Webhook Verify Token"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Pe,{placeholder:"Enter to update your verify token",value:j,onChange:he=>y(he.target.value)}),n.jsx(Y,{onClick:()=>{j&&$.mutate({webhookVerifyToken:j})},disabled:$.isPending||!j,children:"Save"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Set a custom verify token that matches what you configure in Meta Developer Console."})]}),n.jsxs(Zo,{children:[n.jsx(vs,{className:"h-4 w-4"}),n.jsx(km,{children:"Setup Instructions"}),n.jsxs(Jo,{className:"space-y-2",children:[n.jsx("p",{children:"1. Go to your Meta Developer Console"}),n.jsxs("p",{children:["2. Navigate to WhatsApp ",">"," Configuration ",">"," Webhook"]}),n.jsx("p",{children:"3. Set the Callback URL to the URL shown above"}),n.jsx("p",{children:"4. Set the Verify Token to match what you saved above"}),n.jsx("p",{children:"5. Subscribe to: messages, message_deliveries, message_reads"})]})]})]})]})})]})]})})}const cg={name:"Life Changing Networks",displayPhoneNumber:"+91 98765 43210",phoneNumberId:"848441401690739",whatsappBusinessAccountId:"3646219455517188"};function WTe(){const[e,t]=b.useState(!1),[r,a]=b.useState(""),s=yn(),{data:i,isLoading:l}=Ie({queryKey:["/api/billing"],queryFn:async()=>{const j=await fetch("/api/billing");if(!j.ok)throw new Error("Failed to fetch billing");return j.json()}}),u=qe({mutationFn:async j=>{const y=await fetch("/api/billing/purchase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:j})});if(!y.ok)throw new Error("Failed to purchase credits");return y.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/billing"]}),t(!1),a(""),re.success("Credits purchased successfully!")},onError:()=>{re.error("Failed to purchase credits")}}),d=()=>{const j=parseInt(r);if(!j||j<=0){re.error("Please enter a valid amount");return}u.mutate(j)},f=j=>new Date(j).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),m=()=>i?i.transactions.filter(j=>j.type==="usage").reduce((j,y)=>j+Math.abs(y.amount),0):0,p=(i?.credits||0)+m(),x=m(),v=p>0?Math.min(x/p*100,100):0;return l?n.jsx(ct,{children:n.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-8rem)]",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})})}):n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Billing & Credits"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your credits and connected WhatsApp account."})]}),n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsxs("div",{children:[n.jsx(oe,{className:"text-lg font-medium",children:"WhatsApp Account"}),n.jsx(Le,{children:"Connected business profile"})]}),n.jsx(ki,{className:"h-6 w-6 text-green-500"})]}),n.jsx(Z,{children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Business Name:"})," ",cg.name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",cg.displayPhoneNumber]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Phone Number ID:"})," ",cg.phoneNumberId]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"WABA ID:"})," ",cg.whatsappBusinessAccountId]})]})})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[n.jsxs(Q,{className:"bg-primary text-primary-foreground border-none",children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-lg font-medium opacity-90",children:"Available Credits"})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-4xl font-bold",children:i?.credits?.toLocaleString("en-IN")||0}),n.jsx("p",{className:"text-xs opacity-80 mt-1",children:"Each credit  0.01 per message*"}),n.jsxs($t,{open:e,onOpenChange:t,children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{variant:"secondary",className:"w-full mt-4 text-primary",children:[n.jsx(An,{className:"mr-2 h-4 w-4"})," Recharge"]})}),n.jsxs(kt,{children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Purchase Credits"}),n.jsx(Dn,{children:"Add credits to your account. Pricing starts at 5 for 500 credits."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Credits to Add"}),n.jsx(Pe,{type:"number",placeholder:"e.g., 1000",value:r,onChange:j=>a(j.target.value)})]}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:[500,1e3,2e3].map(j=>n.jsx(Y,{variant:"outline",onClick:()=>a(j.toString()),children:j},j))})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(Y,{onClick:d,disabled:u.isPending,children:[u.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Purchase"]})]})]})]})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-lg font-medium",children:"Credits Used"})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-4xl font-bold",children:x.toLocaleString("en-IN")}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["of ",p.toLocaleString("en-IN")," total"]}),n.jsx("div",{className:"mt-3 h-3 bg-secondary rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 transition-all duration-500",style:{width:`${v}%`}})}),n.jsxs("p",{className:"text-right text-xs text-muted-foreground mt-1",children:[Math.round(v),"% used"]})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-lg font-medium",children:"Payment Method"})}),n.jsxs(Z,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(MF,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:"INR () Billing"})]}),n.jsx(Y,{variant:"outline",className:"w-full",onClick:()=>re.info("UPI, Cards & NetBanking supported"),children:"Manage Payment"})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Transaction History"}),n.jsx(Le,{children:"Recent credit purchases and usage."})]}),n.jsx(Z,{children:i?.transactions&&i.transactions.length>0?n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Date"}),n.jsx(ne,{children:"Description"}),n.jsx(ne,{children:"Type"}),n.jsx(ne,{className:"text-right",children:"Amount (Credits)"}),n.jsx(ne,{className:"text-right",children:"Invoice"})]})}),n.jsx(Lt,{children:i.transactions.slice().reverse().map(j=>n.jsxs(Ve,{children:[n.jsx(te,{children:f(j.createdAt)}),n.jsx(te,{children:j.description}),n.jsx(te,{children:n.jsx(Ae,{variant:j.type==="purchase"?"default":"secondary",children:j.type==="purchase"?"Purchase":"Usage"})}),n.jsxs(te,{className:`text-right font-medium ${j.amount>0?"text-green-600":"text-red-600"}`,children:[j.amount>0?"+":"",j.amount.toLocaleString("en-IN")]}),n.jsx(te,{className:"text-right",children:n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>re.success("Invoice downloaded"),children:n.jsx(Or,{className:"h-4 w-4"})})})]},j.id))})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No transactions yet."})})]}),n.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"* Actual pricing may vary. 1 credit  1 outbound message on WhatsApp (INR-based)."})]})})}const GTe=[{id:1,name:"welcome_message",language:"en_US",status:"Approved",category:"Marketing",type:"text",preview:"Hi {{1}}, welcome to our store! We're excited to have you here. Check out our latest collection here: {{2}}"},{id:2,name:"order_confirmation",language:"en_US",status:"Approved",category:"Utility",type:"text",preview:"Hello {{1}}, your order #{{2}} has been confirmed and will be shipped soon."},{id:3,name:"promo_image_header",language:"es_ES",status:"Pending",category:"Marketing",type:"image",preview:"Hola {{1}}, tenemos una oferta especial para ti! 20% de descuento en tu prxima compra."},{id:4,name:"shipping_update",language:"en_US",status:"Rejected",category:"Utility",type:"text",preview:"Your package is on the way! Track it here: {{1}}"},{id:5,name:"appointment_reminder",language:"en_US",status:"Approved",category:"Utility",type:"text",preview:"Hi {{1}}, just a reminder for your appointment tomorrow at {{2}}."}];function YTe(){return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Message Templates"}),n.jsx("p",{className:"text-muted-foreground",children:"Create and manage WhatsApp message templates."})]}),n.jsxs(Y,{children:[n.jsx(An,{className:"mr-2 h-4 w-4"}),"New Template"]})]}),n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:GTe.map(e=>n.jsxs(Q,{className:"flex flex-col",children:[n.jsxs(ie,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[e.type==="image"?n.jsx(RZ,{className:"h-4 w-4 text-muted-foreground"}):e.type==="video"?n.jsx(ov,{className:"h-4 w-4 text-muted-foreground"}):e.type==="location"?n.jsx(tJ,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Yn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx(oe,{className:"text-base font-medium truncate",children:e.name})]}),n.jsx(Ae,{variant:e.status==="Approved"?"default":e.status==="Pending"?"secondary":"destructive",className:e.status==="Approved"?"bg-green-500 hover:bg-green-600":"",children:e.status})]}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(Ae,{variant:"outline",className:"text-xs font-normal",children:e.language}),n.jsx(Ae,{variant:"outline",className:"text-xs font-normal",children:e.category})]})]}),n.jsx(Z,{className:"flex-1",children:n.jsx("div",{className:"bg-muted/30 p-3 rounded-md text-sm text-muted-foreground border border-border h-full",children:e.preview})}),n.jsx(Fr,{className:"border-t pt-4",children:n.jsx(Y,{variant:"ghost",size:"sm",className:"w-full",children:"Edit Template"})})]},e.id))})]})})}function DC({headerType:e,headerText:t,headerImage:r,body:a,footer:s,className:i}){return n.jsx("div",{className:Je("flex justify-center",i),children:n.jsx("div",{className:"relative w-[280px]",children:n.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-2 shadow-xl",children:[n.jsx("div",{className:"bg-gray-800 rounded-t-[2rem] pt-6 pb-2 px-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-white text-sm font-medium",children:"WhatsApp Business"}),n.jsx("div",{className:"text-gray-400 text-xs",children:"online"})]})]})}),n.jsx("div",{className:"bg-[#0b141a] min-h-[380px] px-3 py-4 overflow-y-auto",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23172630' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`},children:n.jsx("div",{className:"flex justify-end",children:n.jsxs("div",{className:"max-w-[85%] bg-[#005c4b] rounded-lg overflow-hidden shadow-sm",children:[e==="image"&&r&&n.jsx("img",{src:r,alt:"Header",className:"w-full h-32 object-cover"}),e==="image"&&!r&&n.jsx("div",{className:"w-full h-32 bg-gray-700 flex items-center justify-center",children:n.jsx("svg",{className:"w-12 h-12 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsxs("div",{className:"p-2",children:[e==="text"&&t&&n.jsx("p",{className:"text-white font-semibold text-sm mb-1",children:t}),n.jsx("p",{className:"text-white text-sm whitespace-pre-wrap leading-relaxed",children:a||"Your message will appear here..."}),s&&n.jsx("p",{className:"text-gray-400 text-xs mt-2 pt-1 border-t border-gray-600",children:s}),n.jsxs("div",{className:"flex justify-end mt-1",children:[n.jsx("span",{className:"text-[10px] text-gray-400",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),n.jsx("svg",{className:"w-4 h-4 text-blue-400 ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})})]})]})]})})}),n.jsx("div",{className:"bg-gray-800 rounded-b-[2rem] py-3 px-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1 bg-gray-700 rounded-full px-4 py-2",children:n.jsx("span",{className:"text-gray-400 text-sm",children:"Type a message"})}),n.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 14.016l5.016-5.016 1.406 1.406-6.422 6.422-6.422-6.422 1.406-1.406z"})})})]})})]})})})}function XTe(){il();const[e,t]=b.useState([]),[r,a]=b.useState([]),[s,i]=b.useState(""),[l,u]=b.useState(""),[d,f]=b.useState(""),[m,p]=b.useState(""),[x,v]=b.useState(""),[j,y]=b.useState("template"),[N,C]=b.useState(""),[A,w]=b.useState(!1),[S,E]=b.useState(""),[O,M]=b.useState(""),[R,I]=b.useState(!1),[V,F]=b.useState(!1),[H,K]=b.useState(""),q=b.useRef(null),$=yn(),{data:k=[]}=Ie({queryKey:["/api/contacts"],queryFn:async()=>{const ue=await fetch("/api/contacts");if(!ue.ok)throw new Error("Failed to fetch contacts");return ue.json()}}),{data:D=[]}=Ie({queryKey:["/api/broadcast/imported-contacts"],queryFn:async()=>{const ue=await fetch("/api/broadcast/imported-contact");if(!ue.ok)throw new Error("Failed to fetch imported contacts");return ue.json()}}),P=b.useMemo(()=>[...k,...D.map(ue=>({id:ue.id,name:ue.name,phone:ue.phone,tags:ue.tags||[]}))],[k,D]),U=b.useMemo(()=>{if(!H.trim())return P;const ue=H.toLowerCase();return P.filter(Me=>Me.name.toLowerCase().includes(ue)||Me.phone.includes(H))},[P,H]),{data:G=[]}=Ie({queryKey:["/api/templates"],queryFn:async()=>{const ue=await fetch("/api/templates");if(!ue.ok)throw new Error("Failed to fetch templates");return ue.json()}}),{data:B=[]}=Ie({queryKey:["/api/agents"],queryFn:async()=>{const ue=await fetch("/api/agents");if(!ue.ok)throw new Error("Failed to fetch agents");return ue.json()}}),{data:z=[]}=Ie({queryKey:["/api/broadcast/lists"],queryFn:async()=>{const ue=await fetch("/api/broadcast/lists");if(!ue.ok)throw new Error("Failed to fetch broadcast lists");return ue.json()}}),X=G.filter(ue=>ue.status==="approved"),ee=B.filter(ue=>ue.isActive),je=qe({mutationFn:async ue=>{const Me=new FormData;Me.append("file",ue);const Ze=await fetch("/api/broadcast/import-excel",{method:"POST",body:Me}),ht=await Ze.json();if(!Ze.ok)throw new Error(ht.error||"Failed to import file");return ht},onSuccess:ue=>{a(ue.contacts),ue.errors&&ue.errors.length>0?re.warning(`Imported ${ue.validContacts} of ${ue.totalRows} rows. ${ue.errors.length} rows had issues.`):re.success(`Successfully imported ${ue.validContacts} contacts from ${ue.totalRows} rows`)},onError:ue=>{re.error(ue.message||"Failed to import file. Check that your file has 'Name' and 'Mobile' columns.")}}),he=qe({mutationFn:async ue=>{const Me=await fetch("/api/broadcast/lists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ue)});if(!Me.ok)throw new Error("Failed to create list");return Me.json()},onSuccess:()=>{$.invalidateQueries({queryKey:["/api/broadcast/lists"]}),re.success("Broadcast list created successfully"),I(!1),M("")},onError:()=>{re.error("Failed to create broadcast list")}}),le=ue=>{const Me=ue.target.files?.[0];Me&&je.mutate(Me)},ve=ue=>{if(f(ue),ue==="hello_world")p("hello_world"),i("Welcome and congratulations!! This message demonstrates your ability to send a WhatsApp message notification from the Cloud API, hosted by Meta.");else{const Me=G.find(Ze=>Ze.id===ue);Me&&(p(Me.name),i(Me.content))}},xe=(ue,Me)=>{t(Me===!0?ht=>[...ht,ue]:ht=>ht.filter(pe=>pe!==ue))},_e=()=>{e.length===U.length?t([]):t(U.map(ue=>ue.id))},Ee=async()=>{if(!l.trim()){re.error("Campaign name is required! Please enter a campaign name.");return}let ue=[];if(S){const Me=z.find(Ze=>Ze.id===S);Me&&(ue=Me.contacts)}else r.length>0?ue=r:e.length>0&&(ue=P.filter(Me=>e.includes(Me.id)).map(Me=>({name:Me.name,phone:Me.phone})));if(ue.length===0){re.error("Please select contacts or import from Excel");return}if(j==="template"&&!d){re.error("Please select a template");return}if(j==="custom"&&!s.trim()){re.error("Please enter a message");return}if(j==="ai_agent"&&!x){re.error("Please select an AI agent");return}if(A){if(!N){re.error("Please select a schedule time");return}if(new Date(N)<=new Date){re.error("Scheduled time must be in the future");return}}F(!0);try{const Me={contacts:ue,messageType:j,templateName:j==="template"?m||"hello_world":void 0,customMessage:j==="custom"?s:void 0,agentId:j==="ai_agent"?x:void 0,campaignName:l.trim(),isScheduled:A,scheduledTime:A?new Date(N).toISOString():void 0};console.log(" Sending broadcast payload:",Me);const Ze=await fetch("/api/broadcast/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Me)}),ht=await Ze.json();if(console.log(" Broadcast response:",ht),!Ze.ok){re.error(ht.error||`Failed to send broadcast (${Ze.status})`),F(!1);return}A?re.success(`Broadcast scheduled successfully for ${new Date(N).toLocaleString()}`):ht.failed>0?re.warning(`Broadcast partially sent: ${ht.successful} successful, ${ht.failed} failed`):re.success(`Broadcast sent successfully to ${ht.successful} contacts`),t([]),a([]),u(""),f(""),p(""),i(""),w(!1),C(""),F(!1)}catch(Me){console.error(" Broadcast error:",Me),re.error(Me.message||"Failed to send broadcast"),F(!1)}},me=()=>{if(!O.trim()){re.error("Please enter a list name");return}let ue=[];if(r.length>0?ue=r:e.length>0&&(ue=P.filter(Me=>e.includes(Me.id)).map(Me=>({name:Me.name,phone:Me.phone}))),ue.length===0){re.error("No contacts to add to the list");return}he.mutate({name:O,contacts:ue})},$e=S?z.find(ue=>ue.id===S)?.contacts.length||0:r.length>0?r.length:e.length;return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Send Broadcast"}),n.jsx("p",{className:"text-muted-foreground",children:"Send bulk messages to your contact lists."})]}),n.jsxs(Zo,{children:[n.jsx(el,{className:"h-4 w-4"}),n.jsxs(Jo,{children:[n.jsx("strong",{children:"Campaign name is required"})," to track and analyze your broadcasts."]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{children:["Campaign Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Pe,{placeholder:"e.g., Black Friday Sale, Product Launch 2024",value:l,onChange:ue=>u(ue.target.value),className:l.trim()?"":"border-red-300 focus-visible:ring-red-500"}),!l.trim()&&n.jsx("p",{className:"text-sm text-red-500",children:"Campaign name is required to send broadcasts"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Yt,{className:"h-5 w-5"}),"1. Select Audience"]}),n.jsxs(Le,{children:["Choose who will receive this message. Selected: ",$e," contacts"]})]}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx("input",{type:"file",ref:q,onChange:le,accept:".xlsx,.xls,.csv",className:"hidden"}),n.jsxs(Y,{variant:"outline",size:"sm",type:"button",onClick:()=>q.current?.click(),disabled:je.isPending,children:[je.isPending?n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(e_,{className:"mr-2 h-4 w-4"}),"Import Excel/CSV"]}),n.jsxs($t,{open:R,onOpenChange:I,children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{variant:"outline",size:"sm",type:"button",children:[n.jsx(An,{className:"mr-2 h-4 w-4"}),"Save as List"]})}),n.jsxs(kt,{children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Create Broadcast List"}),n.jsx(Dn,{children:"Save selected contacts as a reusable list"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"List Name"}),n.jsx(Pe,{placeholder:"e.g., VIP Customers",value:O,onChange:ue=>M(ue.target.value)})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["This will save"," ",r.length>0?r.length:e.length," ","contacts to the list."]})]}),n.jsx(Kt,{children:n.jsxs(Y,{type:"button",onClick:me,disabled:he.isPending,children:[he.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Create List"]})})]})]})]}),z.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Or Select Existing List"}),n.jsxs(Xe,{value:S,onValueChange:ue=>{E(ue),ue&&(t([]),a([]))},children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Choose a broadcast list..."})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"",children:"None (Select manually)"}),z.map(ue=>n.jsxs(ae,{value:ue.id,children:[ue.name," (",ue.contacts.length," contacts)"]},ue.id))]})]})]}),r.length>0&&n.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[n.jsxs("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:[r.length," contacts imported from Excel"]}),n.jsx(Y,{variant:"ghost",size:"sm",type:"button",className:"mt-2 text-xs",onClick:()=>a([]),children:"Clear imported"})]}),!S&&r.length===0&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative",children:[n.jsx(Qn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search contacts by name or phone...",className:"pl-10",value:H,onChange:ue=>K(ue.target.value)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Y,{variant:"outline",size:"sm",type:"button",onClick:_e,children:e.length===U.length?"Deselect All":"Select All"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[U.length," contacts found"]})]}),n.jsx("div",{className:"border rounded-lg max-h-[300px] overflow-y-auto",children:U.length>0?U.map(ue=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border-b last:border-b-0 hover:bg-muted/50 cursor-pointer",onClick:()=>xe(ue.id,!e.includes(ue.id)),children:[n.jsx(Wn,{checked:e.includes(ue.id),onCheckedChange:Me=>xe(ue.id,Me===!0)}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:ue.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:ue.phone})]}),e.includes(ue.id)&&n.jsx(Ld,{className:"h-4 w-4 text-primary"})]},ue.id)):n.jsx("p",{className:"p-4 text-center text-sm text-muted-foreground",children:"No contacts match your search."})})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(qt,{className:"h-5 w-5"}),"2. Compose Message"]}),n.jsx(Le,{children:"Select a template, write custom message, or use AI Agent."})]}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs(rr,{value:j,onValueChange:ue=>y(ue),children:[n.jsxs(Zn,{className:"w-full",children:[n.jsx(lt,{value:"template",className:"flex-1",children:"Template"}),n.jsx(lt,{value:"custom",className:"flex-1",children:"Custom"}),n.jsxs(lt,{value:"ai_agent",className:"flex-1",children:[n.jsx(Ct,{className:"mr-1 h-4 w-4"}),"AI Agent"]})]}),n.jsxs(ft,{value:"template",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select Template"}),n.jsxs(Xe,{value:d,onValueChange:ve,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select a template..."})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"hello_world",children:"hello_world (Default)"}),X.map(ue=>n.jsx(ae,{value:ue.id,children:ue.name},ue.id))]})]})]}),d&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx(I2,{className:"h-4 w-4"}),"Preview: ",m]}),n.jsx(DC,{body:s,className:"py-2"})]})]}),n.jsxs(ft,{value:"custom",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Message Text"}),n.jsx(cn,{placeholder:"Type your message here... Use {{name}} for personalization",className:"min-h-[120px]",value:s,onChange:ue=>i(ue.target.value)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Note: Custom messages require the recipient to have messaged you first (24-hour window rule)."})]}),s&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx(I2,{className:"h-4 w-4"}),"Preview"]}),n.jsx(DC,{body:s,className:"py-2"})]})]}),n.jsx(ft,{value:"ai_agent",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select AI Agent"}),n.jsxs(Xe,{value:x,onValueChange:v,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select an AI agent..."})}),n.jsx(Ye,{children:ee.length===0?n.jsx(ae,{value:"none",disabled:!0,children:"No active agents. Create one first."}):ee.map(ue=>n.jsx(ae,{value:ue.id,children:ue.name},ue.id))})]}),x&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"The AI agent will generate personalized messages for each recipient using the hello_world template."})]})})]}),n.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t",children:[n.jsx(Wn,{id:"schedule",checked:A,onCheckedChange:ue=>w(ue===!0)}),n.jsx(de,{htmlFor:"schedule",className:"cursor-pointer",children:"Schedule for later"})]}),A&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Schedule Time"}),n.jsx(Pe,{type:"datetime-local",value:N,onChange:ue=>C(ue.target.value),min:new Date().toISOString().slice(0,16)}),N&&new Date(N)<=new Date&&n.jsx("p",{className:"text-xs text-red-500",children:"Time must be in the future"})]}),n.jsxs(Y,{className:"w-full",type:"button",onClick:Ee,disabled:V||!l.trim(),children:[V?n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}):A?n.jsx(Ii,{className:"mr-2 h-4 w-4"}):n.jsx(nr,{className:"mr-2 h-4 w-4"}),V?"Processing...":A?"Schedule Broadcast":`Send to ${$e} Contacts`]}),!l.trim()&&n.jsx("p",{className:"text-xs text-red-500 text-center",children:"Please enter a campaign name to send"})]})]})]})]})})}function QTe(){const[e,t]=b.useState([]),[r,a]=b.useState(""),[s,i]=b.useState("template"),[l,u]=b.useState(""),[d,f]=b.useState(""),[m,p]=b.useState(""),[x,v]=b.useState(!1),{data:j=[],isLoading:y}=Ie({queryKey:["/api/contacts"],queryFn:async()=>{const K=await fetch("/api/contacts");if(!K.ok)throw new Error("Failed to fetch contacts");return K.json()}}),{data:N=[],isLoading:C}=Ie({queryKey:["/api/broadcast/imported-contacts"],queryFn:async()=>{const K=await fetch("/api/broadcast/imported-contacts");if(!K.ok)throw new Error("Failed to fetch imported contacts");return K.json()}}),A=[...j,...N.map(K=>({id:K.id,name:K.name,phone:K.phone,email:K.email,tags:K.tags||[],source:K.source||"import"}))],w=y||C,{data:S=[]}=Ie({queryKey:["/api/templates"],queryFn:async()=>{const K=await fetch("/api/templates");if(!K.ok)throw new Error("Failed to fetch templates");return K.json()}}),{data:E=[]}=Ie({queryKey:["/api/agents"],queryFn:async()=>{const K=await fetch("/api/agents");if(!K.ok)throw new Error("Failed to fetch agents");return K.json()}}),O=S.filter(K=>K.status==="approved"),M=E.filter(K=>K.isActive),R=qe({mutationFn:async K=>{const q=await fetch("/api/broadcast/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(!q.ok)throw new Error("Failed to send messages");return q.json()},onSuccess:K=>{re.success(`Sent: ${K.successful} successful, ${K.failed} failed`),v(!1),t([])},onError:()=>{re.error("Failed to send messages")}}),I=K=>{e.includes(K)?t(e.filter(q=>q!==K)):t([...e,K])},V=()=>{e.length===H.length?t([]):t(H.map(K=>K.id))},F=()=>{if(e.length===0){re.error("Please select at least one contact");return}if(s==="template"&&!l){re.error("Please select a template");return}if(s==="custom"&&!m.trim()){re.error("Please enter a message");return}if(s==="ai_agent"&&!d){re.error("Please select an AI agent");return}const K=A.filter(q=>e.includes(q.id)).map(q=>({name:q.name,phone:q.phone}));R.mutate({contacts:K,messageType:s,templateName:s==="template"?S.find(q=>q.id===l)?.name||"hello_world":void 0,customMessage:s==="custom"?m:void 0,agentId:s==="ai_agent"?d:void 0})},H=A.filter(K=>K.name.toLowerCase().includes(r.toLowerCase())||K.phone.includes(r));return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Send to Selected"}),n.jsx("p",{className:"text-muted-foreground",children:"Select specific contacts and send a targeted message."})]}),n.jsxs($t,{open:x,onOpenChange:v,children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{disabled:e.length===0,children:[n.jsx(nr,{className:"mr-2 h-4 w-4"}),"Send to ",e.length," Contacts"]})}),n.jsxs(kt,{className:"sm:max-w-[500px]",children:[n.jsx(Pt,{children:n.jsx(Rt,{children:"Compose Message"})}),n.jsx("div",{className:"grid gap-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Message Type"}),n.jsxs(rr,{value:s,onValueChange:K=>i(K),children:[n.jsxs(Zn,{className:"w-full",children:[n.jsxs(lt,{value:"template",className:"flex-1",children:[n.jsx(Yn,{className:"mr-1 h-4 w-4"}),"Template"]}),n.jsxs(lt,{value:"custom",className:"flex-1",children:[n.jsx(qt,{className:"mr-1 h-4 w-4"}),"Custom"]}),n.jsxs(lt,{value:"ai_agent",className:"flex-1",children:[n.jsx(Ct,{className:"mr-1 h-4 w-4"}),"AI Agent"]})]}),n.jsx(ft,{value:"template",className:"mt-4",children:n.jsxs(Xe,{value:l,onValueChange:u,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select a template..."})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"hello_world",children:"hello_world (Default)"}),O.map(K=>n.jsx(ae,{value:K.id,children:K.name},K.id))]})]})}),n.jsxs(ft,{value:"custom",className:"mt-4",children:[n.jsx(cn,{placeholder:"Type your message here...",value:m,onChange:K=>p(K.target.value),className:"min-h-[100px]"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Note: Custom messages require the recipient to have messaged you first."})]}),n.jsx(ft,{value:"ai_agent",className:"mt-4",children:n.jsxs(Xe,{value:d,onValueChange:f,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select an AI agent..."})}),n.jsx(Ye,{children:M.length===0?n.jsx(ae,{value:"",disabled:!0,children:"No active agents available"}):M.map(K=>n.jsx(ae,{value:K.id,children:K.name},K.id))})]})})]})]})}),n.jsx(Kt,{children:n.jsxs(Y,{onClick:F,disabled:R.isPending,children:[R.isPending?n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(nr,{className:"mr-2 h-4 w-4"}),"Send Message"]})})]})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(oe,{children:"Contact List"}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"relative w-64",children:[n.jsx(Qn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search contacts...",className:"pl-9",value:r,onChange:K=>a(K.target.value)})]})})]})}),n.jsx(Z,{children:w?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(We,{className:"h-6 w-6 animate-spin"})}):H.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No contacts found"}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{className:"w-[50px]",children:n.jsx(Wn,{checked:e.length===H.length&&H.length>0,onCheckedChange:V})}),n.jsx(ne,{children:"Name"}),n.jsx(ne,{children:"Phone"}),n.jsx(ne,{children:"Tags"})]})}),n.jsx(Lt,{children:H.map(K=>n.jsxs(Ve,{className:e.includes(K.id)?"bg-muted/50":"",children:[n.jsx(te,{children:n.jsx(Wn,{checked:e.includes(K.id),onCheckedChange:()=>I(K.id)})}),n.jsx(te,{className:"font-medium",children:K.name}),n.jsx(te,{children:K.phone}),n.jsx(te,{children:K.tags?.map(q=>n.jsx(Ae,{variant:"secondary",className:"mr-1",children:q},q))})]},K.id))})]})})]})]})})}function ZTe(){const[e,t]=b.useState(!1),[r,a]=b.useState(""),[s,i]=b.useState(""),[l,u]=b.useState("template"),[d,f]=b.useState(""),[m,p]=b.useState(""),[x,v]=b.useState(""),[j,y]=b.useState([]),N=b.useRef(null),C=yn(),{data:A=[],isLoading:w}=Ie({queryKey:["/api/broadcast/schedules"],queryFn:async()=>{const z=await fetch("/api/broadcast/schedules");if(!z.ok)throw new Error("Failed to fetch schedules");return z.json()}}),{data:S=[],isLoading:E,refetch:O}=Ie({queryKey:["/api/broadcast/scheduled-broadcasts"],queryFn:async()=>{const z=await fetch("/api/broadcast/scheduled-broadcasts");if(!z.ok)throw new Error("Failed to fetch scheduled broadcasts");return z.json()},refetchInterval:3e4}),{data:M=[]}=Ie({queryKey:["/api/templates"],queryFn:async()=>{const z=await fetch("/api/templates");if(!z.ok)throw new Error("Failed to fetch templates");return z.json()}}),{data:R=[]}=Ie({queryKey:["/api/agents"],queryFn:async()=>{const z=await fetch("/api/agents");if(!z.ok)throw new Error("Failed to fetch agents");return z.json()}}),I=M.filter(z=>z.status==="approved"),V=R.filter(z=>z.isActive),F=qe({mutationFn:async z=>{const X=new FormData;X.append("file",z);const ee=await fetch("/api/broadcast/import-excel",{method:"POST",body:X});if(!ee.ok)throw new Error("Failed to import file");return ee.json()},onSuccess:z=>{y(z.contacts),re.success(`Imported ${z.validContacts} contacts`)},onError:()=>{re.error("Failed to import file")}}),H=qe({mutationFn:async z=>{const X=await fetch("/api/broadcast/schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)});if(!X.ok)throw new Error("Failed to create schedule");return X.json()},onSuccess:()=>{C.invalidateQueries({queryKey:["/api/broadcast/schedules"]}),re.success("Schedule created successfully"),P()},onError:()=>{re.error("Failed to create schedule")}}),K=qe({mutationFn:async z=>{if(!(await fetch(`/api/broadcast/schedules/${z}`,{method:"DELETE"})).ok)throw new Error("Failed to delete schedule")},onSuccess:()=>{C.invalidateQueries({queryKey:["/api/broadcast/schedules"]}),re.success("Schedule deleted")},onError:()=>{re.error("Failed to delete schedule")}}),q=qe({mutationFn:async({id:z,status:X})=>{const ee=await fetch(`/api/broadcast/schedules/${z}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:X})});if(!ee.ok)throw new Error("Failed to update schedule");return ee.json()},onSuccess:()=>{C.invalidateQueries({queryKey:["/api/broadcast/schedules"]}),re.success("Schedule updated")},onError:()=>{re.error("Failed to update schedule")}}),$=qe({mutationFn:async z=>{const X=await fetch(`/api/broadcast/scheduled-broadcasts/${z}/cancel`,{method:"POST"});if(!X.ok)throw new Error("Failed to cancel scheduled broadcast");return X.json()},onSuccess:()=>{C.invalidateQueries({queryKey:["/api/broadcast/scheduled-broadcasts"]}),re.success("Scheduled broadcast cancelled")},onError:()=>{re.error("Failed to cancel scheduled broadcast")}}),k=qe({mutationFn:async z=>{const X=await fetch(`/api/broadcast/scheduled-broadcasts/${z}`,{method:"DELETE"});if(!X.ok)throw new Error("Failed to delete scheduled broadcast");return X.json()},onSuccess:()=>{C.invalidateQueries({queryKey:["/api/broadcast/scheduled-broadcasts"]}),re.success("Scheduled broadcast deleted")},onError:()=>{re.error("Failed to delete scheduled broadcast")}}),D=z=>{const X=z.target.files?.[0];X&&F.mutate(X)},P=()=>{t(!1),a(""),i(""),u("template"),f(""),p(""),v(""),y([])},U=()=>{if(!r.trim()){re.error("Please enter a schedule name");return}if(!s){re.error("Please select a schedule time");return}if(j.length===0){re.error("Please import contacts from Excel/CSV");return}if(l==="template"&&!d){re.error("Please select a template");return}if(l==="custom"&&!x.trim()){re.error("Please enter a message");return}if(l==="ai_agent"&&!m){re.error("Please select an AI agent");return}H.mutate({name:r,messageType:l,templateName:l==="template"?M.find(z=>z.id===d)?.name||"hello_world":void 0,customMessage:l==="custom"?x:void 0,agentId:l==="ai_agent"?m:void 0,scheduledAt:s,recipientCount:j.length})},G=z=>new Date(z).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),B={scheduled:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",sending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",sent:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",failed:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",cancelled:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"};return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Schedule Messages"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your upcoming scheduled campaigns."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Y,{variant:"outline",onClick:()=>O(),disabled:E,children:[E?n.jsx(We,{className:"h-4 w-4 animate-spin"}):n.jsx(gn,{className:"h-4 w-4"}),n.jsx("span",{className:"ml-2",children:"Refresh"})]}),n.jsxs($t,{open:e,onOpenChange:t,children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{children:[n.jsx(An,{className:"mr-2 h-4 w-4"}),"New Schedule"]})}),n.jsxs(kt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Pt,{children:n.jsx(Rt,{children:"Create Scheduled Message"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Campaign Name *"}),n.jsx(Pe,{placeholder:"e.g., Weekly Newsletter",value:r,onChange:z=>a(z.target.value)})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Schedule Time *"}),n.jsx(Pe,{type:"datetime-local",value:s,onChange:z=>i(z.target.value),min:new Date().toISOString().slice(0,16)})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Import Contacts *"}),n.jsx("input",{type:"file",ref:N,onChange:D,accept:".xlsx,.xls,.csv",className:"hidden"}),n.jsxs(Y,{variant:"outline",onClick:()=>N.current?.click(),disabled:F.isPending,children:[F.isPending?n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(e_,{className:"mr-2 h-4 w-4"}),"Upload Excel/CSV"]}),j.length>0&&n.jsxs("p",{className:"text-sm text-green-600",children:[j.length," contacts imported"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Message Type"}),n.jsxs(rr,{value:l,onValueChange:z=>u(z),children:[n.jsxs(Zn,{className:"w-full",children:[n.jsxs(lt,{value:"template",className:"flex-1",children:[n.jsx(Yn,{className:"mr-1 h-4 w-4"}),"Template"]}),n.jsxs(lt,{value:"custom",className:"flex-1",children:[n.jsx(qt,{className:"mr-1 h-4 w-4"}),"Custom"]}),n.jsxs(lt,{value:"ai_agent",className:"flex-1",children:[n.jsx(Ct,{className:"mr-1 h-4 w-4"}),"AI Agent"]})]}),n.jsx(ft,{value:"template",className:"mt-4",children:n.jsxs(Xe,{value:d,onValueChange:f,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select a template..."})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"hello_world",children:"hello_world (Default)"}),I.map(z=>n.jsx(ae,{value:z.id,children:z.name},z.id))]})]})}),n.jsx(ft,{value:"custom",className:"mt-4",children:n.jsx(cn,{placeholder:"Type your message...",value:x,onChange:z=>v(z.target.value),className:"min-h-[100px]"})}),n.jsx(ft,{value:"ai_agent",className:"mt-4",children:n.jsxs(Xe,{value:m,onValueChange:p,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select an AI agent..."})}),n.jsx(Ye,{children:V.map(z=>n.jsx(ae,{value:z.id,children:z.name},z.id))})]})})]})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:P,children:"Cancel"}),n.jsxs(Y,{onClick:U,disabled:H.isPending,children:[H.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Schedule"]})]})]})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Ii,{className:"h-5 w-5"}),"Scheduled Broadcasts"]}),n.jsx(Le,{children:"Broadcasts scheduled from the Broadcast page. These will be sent automatically at the scheduled time."})]}),n.jsx(Z,{children:E?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(We,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):S.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Ht,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No scheduled broadcasts"}),n.jsx("p",{className:"text-sm",children:"Go to Broadcast page and schedule a message to see it here"})]}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Campaign Name"}),n.jsx(ne,{children:"Type"}),n.jsx(ne,{children:"Scheduled Time"}),n.jsx(ne,{children:"Recipients"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{children:"Results"}),n.jsx(ne,{className:"text-right",children:"Actions"})]})}),n.jsx(Lt,{children:S.sort((z,X)=>new Date(z.scheduledAt).getTime()-new Date(X.scheduledAt).getTime()).map(z=>{const ee=new Date(z.scheduledAt)<=new Date;return n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:z.campaignName}),n.jsx(te,{children:n.jsxs(Ae,{variant:"outline",children:[z.messageType==="template"&&n.jsx(Yn,{className:"mr-1 h-3 w-3"}),z.messageType==="custom"&&n.jsx(qt,{className:"mr-1 h-3 w-3"}),z.messageType==="ai_agent"&&n.jsx(Ct,{className:"mr-1 h-3 w-3"}),z.messageType==="template"?z.templateName||"hello_world":z.messageType==="custom"?"Custom":"AI Agent"]})}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"h-3 w-3 text-muted-foreground"}),n.jsxs("span",{className:ee&&z.status==="scheduled"?"text-amber-600 dark:text-amber-400":"",children:[G(z.scheduledAt),ee&&z.status==="scheduled"&&" (Processing...)"]})]})}),n.jsx(te,{children:z.contacts?.length||0}),n.jsx(te,{children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B[z.status]}`,children:z.status.charAt(0).toUpperCase()+z.status.slice(1)})}),n.jsx(te,{children:z.status==="sent"||z.status==="failed"?n.jsxs("span",{className:"text-sm",children:[z.sentCount||0," sent, ",z.failedCount||0," failed"]}):n.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),n.jsx(te,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[z.status==="scheduled"&&n.jsx(Y,{variant:"ghost",size:"icon",title:"Cancel",onClick:()=>$.mutate(z.id),disabled:$.isPending,children:$.isPending?n.jsx(We,{className:"h-4 w-4 animate-spin"}):n.jsx(Wi,{className:"h-4 w-4"})}),(z.status==="sent"||z.status==="failed"||z.status==="cancelled")&&n.jsx(Y,{variant:"ghost",size:"icon",className:"text-destructive",title:"Delete",onClick:()=>k.mutate(z.id),disabled:k.isPending,children:k.isPending?n.jsx(We,{className:"h-4 w-4 animate-spin"}):n.jsx(hr,{className:"h-4 w-4"})})]})})]},z.id)})})]})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Upcoming Schedules (Legacy)"}),n.jsx(Le,{children:"View and manage your automated dispatch queue."})]}),n.jsx(Z,{children:w?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(We,{className:"h-6 w-6 animate-spin"})}):A.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No scheduled messages. Create one using the "New Schedule" button above.'}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Campaign Name"}),n.jsx(ne,{children:"Type"}),n.jsx(ne,{children:"Scheduled Time"}),n.jsx(ne,{children:"Recipients"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{className:"text-right",children:"Actions"})]})}),n.jsx(Lt,{children:A.map(z=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:z.name}),n.jsx(te,{children:n.jsxs(Ae,{variant:"outline",children:[z.messageType==="template"&&n.jsx(Yn,{className:"mr-1 h-3 w-3"}),z.messageType==="custom"&&n.jsx(qt,{className:"mr-1 h-3 w-3"}),z.messageType==="ai_agent"&&n.jsx(Ct,{className:"mr-1 h-3 w-3"}),z.messageType]})}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"h-3 w-3 text-muted-foreground"}),G(z.scheduledAt)]})}),n.jsx(te,{children:z.recipientCount}),n.jsx(te,{children:n.jsx(Ae,{variant:z.status==="scheduled"?"default":z.status==="sent"?"secondary":"outline",className:z.status==="scheduled"?"bg-blue-500":z.status==="sent"?"bg-green-500":"",children:z.status})}),n.jsx(te,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[z.status==="scheduled"&&n.jsx(Y,{variant:"ghost",size:"icon",title:"Cancel",onClick:()=>q.mutate({id:z.id,status:"cancelled"}),children:n.jsx(sZ,{className:"h-4 w-4"})}),n.jsx(Y,{variant:"ghost",size:"icon",className:"text-destructive",title:"Delete",onClick:()=>K.mutate(z.id),children:n.jsx(hr,{className:"h-4 w-4"})})]})})]},z.id))})]})})]})]})})}function JTe(){const[e,t]=b.useState(""),[r,a]=b.useState(""),[s,i]=b.useState(""),[l,u]=b.useState(""),[d,f]=b.useState(""),[m,p]=b.useState("template"),{data:x=[]}=Ie({queryKey:["/api/templates"],queryFn:async()=>{const S=await fetch("/api/templates");if(!S.ok)throw new Error("Failed to fetch templates");return S.json()}}),{data:v=[]}=Ie({queryKey:["/api/agents"],queryFn:async()=>{const S=await fetch("/api/agents");if(!S.ok)throw new Error("Failed to fetch agents");return S.json()}}),j=x.filter(S=>S.status==="approved"),y=v.filter(S=>S.isActive),N=qe({mutationFn:async S=>{const E=await fetch("/api/broadcast/send-single",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!E.ok){const O=await E.json();throw new Error(O.error||"Failed to send message")}return E.json()},onSuccess:S=>{S.success?(re.success("Message sent successfully!"),A()):re.error(S.error||"Failed to send message")},onError:S=>{re.error(S.message)}}),C=S=>{u(S);const E=x.find(O=>O.id===S);E&&i(E.content)},A=()=>{t(""),a(""),i(""),u(""),f("")},w=()=>{if(!e.trim()){re.error("Please enter a phone number");return}if(m==="template"&&!l){re.error("Please select a template");return}if(m==="custom"&&!s.trim()){re.error("Please enter a message");return}if(m==="ai_agent"&&!d){re.error("Please select an AI agent");return}N.mutate({phone:e,name:r,messageType:m,templateName:m==="template"?x.find(S=>S.id===l)?.name||"hello_world":void 0,customMessage:m==="custom"?s:void 0,agentId:m==="ai_agent"?d:void 0})};return n.jsx(ct,{children:n.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Single Message"}),n.jsx("p",{className:"text-muted-foreground",children:"Quickly send a message to a specific number."})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Compose Message"}),n.jsx(Le,{children:"Send a one-off message without creating a campaign."})]}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Phone Number *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ac,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"+91 98765 43210",className:"pl-9",value:e,onChange:S=>t(S.target.value)})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Recipient Name (Optional)"}),n.jsxs("div",{className:"relative",children:[n.jsx(rc,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"John Doe",className:"pl-9",value:r,onChange:S=>a(S.target.value)})]})]}),n.jsxs("div",{className:"space-y-4 pt-4",children:[n.jsx(de,{children:"Message Type"}),n.jsxs(rr,{value:m,onValueChange:S=>p(S),children:[n.jsxs(Zn,{className:"w-full",children:[n.jsxs(lt,{value:"template",className:"flex-1",children:[n.jsx(Yn,{className:"mr-1 h-4 w-4"}),"Template"]}),n.jsxs(lt,{value:"custom",className:"flex-1",children:[n.jsx(qt,{className:"mr-1 h-4 w-4"}),"Custom"]}),n.jsxs(lt,{value:"ai_agent",className:"flex-1",children:[n.jsx(Ct,{className:"mr-1 h-4 w-4"}),"AI Agent"]})]}),n.jsxs(ft,{value:"template",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select Template"}),n.jsxs(Xe,{value:l,onValueChange:C,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select a template..."})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"hello_world",children:"hello_world (Default)"}),j.map(S=>n.jsx(ae,{value:S.id,children:S.name},S.id))]})]})]}),l&&l!=="hello_world"&&n.jsx("div",{className:"p-3 bg-muted rounded-lg",children:n.jsx("p",{className:"text-sm",children:s})})]}),n.jsx(ft,{value:"custom",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Message Text"}),n.jsx(cn,{placeholder:"Type your message here...",className:"min-h-[150px]",value:s,onChange:S=>i(S.target.value)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Note: Custom messages require the recipient to have messaged you first (24-hour window rule)."})]})}),n.jsx(ft,{value:"ai_agent",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select AI Agent"}),n.jsxs(Xe,{value:d,onValueChange:f,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select an AI agent..."})}),n.jsx(Ye,{children:y.length===0?n.jsx(ae,{value:"",disabled:!0,children:"No active agents available"}):y.map(S=>n.jsx(ae,{value:S.id,children:S.name},S.id))})]}),d&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"The AI agent will generate a personalized welcome message."})]})})]})]})]}),n.jsxs(Fr,{className:"flex justify-between border-t pt-6",children:[n.jsx(Y,{variant:"outline",onClick:A,children:"Clear Form"}),n.jsxs(Y,{onClick:w,disabled:N.isPending||!e.trim(),children:[N.isPending?n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(nr,{className:"mr-2 h-4 w-4"}),"Send Now"]})]})]})]})})})}function os(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function sl(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function eOe(e,t){const r=os(e);return isNaN(t)?sl(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const RV=6048e5,tOe=864e5;let nOe={};function T0(){return nOe}function Pm(e,t){const r=T0(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=os(e),i=s.getDay(),l=(i<a?7:0)+i-a;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Zy(e){return Pm(e,{weekStartsOn:1})}function DV(e){const t=os(e),r=t.getFullYear(),a=sl(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=Zy(a),i=sl(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const l=Zy(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function v6(e){const t=os(e);return t.setHours(0,0,0,0),t}function j6(e){const t=os(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function rOe(e,t){const r=v6(e),a=v6(t),s=+r-j6(r),i=+a-j6(a);return Math.round((s-i)/tOe)}function aOe(e){const t=DV(e),r=sl(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Zy(r)}function sOe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function IV(e){if(!sOe(e)&&typeof e!="number")return!1;const t=os(e);return!isNaN(Number(t))}function iOe(e){const t=os(e),r=sl(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const oOe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lOe=(e,t,r)=>{let a;const s=oOe[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function N2(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const cOe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uOe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dOe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fOe={date:N2({formats:cOe,defaultWidth:"full"}),time:N2({formats:uOe,defaultWidth:"full"}),dateTime:N2({formats:dOe,defaultWidth:"full"})},hOe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mOe=(e,t,r,a)=>hOe[e];function dh(e){return(t,r)=>{const a=r?.context?String(r.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):l;s=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;s=e.values[u]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const pOe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xOe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gOe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yOe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vOe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jOe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bOe=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},wOe={ordinalNumber:bOe,era:dh({values:pOe,defaultWidth:"wide"}),quarter:dh({values:xOe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dh({values:gOe,defaultWidth:"wide"}),day:dh({values:yOe,defaultWidth:"wide"}),dayPeriod:dh({values:vOe,defaultWidth:"wide",formattingValues:jOe,defaultFormattingWidth:"wide"})};function fh(e){return(t,r={})=>{const a=r.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const l=i[0],u=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?SOe(u,p=>p.test(l)):NOe(u,p=>p.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const m=t.slice(l.length);return{value:f,rest:m}}}function NOe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function SOe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function AOe(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const s=a[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const u=t.slice(s.length);return{value:l,rest:u}}}const COe=/^(\d+)(th|st|nd|rd)?/i,_Oe=/\d+/i,EOe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TOe={any:[/^b/i,/^(a|c)/i]},OOe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},MOe={any:[/1/i,/2/i,/3/i,/4/i]},kOe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},POe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ROe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DOe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IOe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LOe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$Oe={ordinalNumber:AOe({matchPattern:COe,parsePattern:_Oe,valueCallback:e=>parseInt(e,10)}),era:fh({matchPatterns:EOe,defaultMatchWidth:"wide",parsePatterns:TOe,defaultParseWidth:"any"}),quarter:fh({matchPatterns:OOe,defaultMatchWidth:"wide",parsePatterns:MOe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:fh({matchPatterns:kOe,defaultMatchWidth:"wide",parsePatterns:POe,defaultParseWidth:"any"}),day:fh({matchPatterns:ROe,defaultMatchWidth:"wide",parsePatterns:DOe,defaultParseWidth:"any"}),dayPeriod:fh({matchPatterns:IOe,defaultMatchWidth:"any",parsePatterns:LOe,defaultParseWidth:"any"})},FOe={code:"en-US",formatDistance:lOe,formatLong:fOe,formatRelative:mOe,localize:wOe,match:$Oe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qOe(e){const t=os(e);return rOe(t,iOe(t))+1}function zOe(e){const t=os(e),r=+Zy(t)-+aOe(t);return Math.round(r/RV)+1}function LV(e,t){const r=os(e),a=r.getFullYear(),s=T0(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=sl(e,0);l.setFullYear(a+1,0,i),l.setHours(0,0,0,0);const u=Pm(l,t),d=sl(e,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const f=Pm(d,t);return r.getTime()>=u.getTime()?a+1:r.getTime()>=f.getTime()?a:a-1}function BOe(e,t){const r=T0(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=LV(e,t),i=sl(e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),Pm(i,t)}function UOe(e,t){const r=os(e),a=+Pm(r,t)-+BOe(r,t);return Math.round(a/RV)+1}function fn(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const Ro={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return fn(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):fn(r+1,2)},d(e,t){return fn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return fn(e.getHours()%12||12,t.length)},H(e,t){return fn(e.getHours(),t.length)},m(e,t){return fn(e.getMinutes(),t.length)},s(e,t){return fn(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,r-3));return fn(s,t.length)}},_u={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},b6={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return r.ordinalNumber(s,{unit:"year"})}return Ro.y(e,t)},Y:function(e,t,r,a){const s=LV(e,a),i=s>0?s:1-s;if(t==="YY"){const l=i%100;return fn(l,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):fn(i,t.length)},R:function(e,t){const r=DV(e);return fn(r,t.length)},u:function(e,t){const r=e.getFullYear();return fn(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return fn(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return fn(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return Ro.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return fn(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const s=UOe(e,a);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):fn(s,t.length)},I:function(e,t,r){const a=zOe(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):fn(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ro.d(e,t)},D:function(e,t,r){const a=qOe(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):fn(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return fn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return fn(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),s=a===0?7:a;switch(t){case"i":return String(s);case"ii":return fn(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let s;switch(a===12?s=_u.noon:a===0?s=_u.midnight:s=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let s;switch(a>=17?s=_u.evening:a>=12?s=_u.afternoon:a>=4?s=_u.morning:s=_u.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Ro.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ro.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):fn(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):fn(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ro.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ro.s(e,t)},S:function(e,t){return Ro.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return N6(a);case"XXXX":case"XX":return Bl(a);case"XXXXX":case"XXX":default:return Bl(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return N6(a);case"xxxx":case"xx":return Bl(a);case"xxxxx":case"xxx":default:return Bl(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+w6(a,":");case"OOOO":default:return"GMT"+Bl(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+w6(a,":");case"zzzz":default:return"GMT"+Bl(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return fn(a,t.length)},T:function(e,t,r){const a=e.getTime();return fn(a,t.length)}};function w6(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?r+String(s):r+String(s)+t+fn(i,2)}function N6(e,t){return e%60===0?(e>0?"-":"+")+fn(Math.abs(e)/60,2):Bl(e,t)}function Bl(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=fn(Math.trunc(a/60),2),i=fn(a%60,2);return r+s+t+i}const S6=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$V=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},HOe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],s=r[2];if(!s)return S6(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",S6(a,t)).replace("{{time}}",$V(s,t))},KOe={p:$V,P:HOe},VOe=/^D+$/,WOe=/^Y+$/,GOe=["D","DD","YY","YYYY"];function YOe(e){return VOe.test(e)}function XOe(e){return WOe.test(e)}function QOe(e,t,r){const a=ZOe(e,t,r);if(console.warn(a),GOe.includes(e))throw new RangeError(a)}function ZOe(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const JOe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,e4e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,t4e=/^'([^]*?)'?$/,n4e=/''/g,r4e=/[a-zA-Z]/;function qn(e,t,r){const a=T0(),s=a.locale??FOe,i=a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u=os(e);if(!IV(u))throw new RangeError("Invalid time value");let d=t.match(e4e).map(m=>{const p=m[0];if(p==="p"||p==="P"){const x=KOe[p];return x(m,s.formatLong)}return m}).join("").match(JOe).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:a4e(m)};if(b6[p])return{isToken:!0,value:m};if(p.match(r4e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(d=s.localize.preprocessor(u,d));const f={firstWeekContainsDate:i,weekStartsOn:l,locale:s};return d.map(m=>{if(!m.isToken)return m.value;const p=m.value;(XOe(p)||YOe(p))&&QOe(p,t,String(e));const x=b6[p[0]];return x(u,p,s.localize,f)}).join("")}function a4e(e){const t=e.match(t4e);return t?t[1].replace(n4e,"'"):e}function Jy(e,t){return eOe(e,-t)}function s4e(){const[,e]=il(),[t,r]=b.useState("7"),{data:a,isLoading:s}=Ie({queryKey:["/api/reports/campaign",t],queryFn:async()=>{const w=await fetch(`/api/reports/campaign?days=${t}`);if(!w.ok)throw new Error("Failed to fetch report");return w.json()},refetchInterval:3e4});if(s)return n.jsx(ct,{children:n.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-8rem)]",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})})});const i=a?.totalSent||0,l=a?.totalDelivered||0,u=a?.totalRead||0,d=a?.totalReplied||0,f=a?.totalCost||0,m=a?.deliveryRate||0,p=a?.readRate||0,x=a?.replyRate||0,v=a?.deliveryData||[],j=a?.dailyStats||[],y=a?.campaignStats||[],N=a?.templatePerformance||[],C=a?.costTrend||[],A=()=>{const w=["Metric","Value"],S=[["Total Sent",i.toString()],["Total Delivered",l.toString()],["Total Read",u.toString()],["Total Replied",d.toString()],["Delivery Rate",`${m}%`],["Read Rate",`${p}%`],["Reply Rate",`${x}%`],["Total Cost",`${f.toFixed(2)}`]],E=[w.join(","),...S.map(I=>I.join(","))].join(`
`),O=new Blob([E],{type:"text/csv"}),M=URL.createObjectURL(O),R=document.createElement("a");R.href=M,R.download=`campaign-report-${qn(new Date,"yyyyMMdd")}.csv`,R.click(),URL.revokeObjectURL(M)};return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Campaign Reports"}),n.jsx("p",{className:"text-muted-foreground",children:"Detailed insights into message delivery, engagement, and costs."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Xe,{value:t,onValueChange:r,children:[n.jsx(Ge,{className:"w-[150px]",children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"7",children:"Last 7 Days"}),n.jsx(ae,{value:"30",children:"Last 30 Days"}),n.jsx(ae,{value:"90",children:"Last 90 Days"})]})]}),n.jsxs(Y,{variant:"outline",onClick:()=>e("/reports/user-engagement"),children:[n.jsx(s_,{className:"mr-2 h-4 w-4"}),"User Engagement Report"]}),n.jsxs(Y,{variant:"outline",onClick:A,children:[n.jsx(Or,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[n.jsx(_i,{title:"Total Sent",value:i.toLocaleString(),icon:Pn}),n.jsx(_i,{title:"Delivered",value:`${m}%`,icon:Pn,className:"text-green-600"}),n.jsx(_i,{title:"Read Rate",value:`${p}%`,icon:ma,className:"text-blue-600"}),n.jsx(_i,{title:"Reply Rate",value:`${x}%`,icon:qt,className:"text-purple-600"}),n.jsx(_i,{title:"Total Cost",value:`${f.toFixed(2)}`,icon:$u})]}),n.jsxs(rr,{defaultValue:"overview",className:"space-y-4",children:[n.jsxs(Zn,{children:[n.jsx(lt,{value:"overview",children:"Overview"}),n.jsx(lt,{value:"campaigns",children:"Campaign Wise"}),n.jsx(lt,{value:"templates",children:"Template Performance"}),n.jsx(lt,{value:"costs",children:"Cost Analysis"})]}),n.jsx(ft,{value:"overview",className:"space-y-4",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Delivery Status"}),n.jsx(Le,{children:"Overall breakdown of message statuses."})]}),n.jsx(Z,{children:n.jsx("div",{className:"h-[300px] flex items-center justify-center",children:v.length>0&&v.some(w=>w.value>0)?n.jsx(Gr,{width:"100%",height:"100%",children:n.jsxs(wm,{children:[n.jsx(Ra,{data:v.filter(w=>w.value>0),cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",label:({name:w,value:S})=>`${w}: ${S.toLocaleString()}`,children:v.filter(w=>w.value>0).map((w,S)=>n.jsx(Xs,{fill:w.color},`cell-${S}`))}),n.jsx(kn,{formatter:w=>w.toLocaleString()}),n.jsx(qr,{})]})}):n.jsxs("div",{className:"text-center text-muted-foreground",children:[n.jsx(qt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No message data available for this period"})]})})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Daily Engagement"}),n.jsx(Le,{children:"Messages sent, read, and replied over the selected period."})]}),n.jsx(Z,{children:n.jsx("div",{className:"h-[300px]",children:j.length>0&&j.some(w=>w.sent>0)?n.jsx(Gr,{width:"100%",height:"100%",children:n.jsxs(ml,{data:j,children:[n.jsx(Ms,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),n.jsx(zr,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(Mr,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"}}),n.jsx(qr,{}),n.jsx($n,{dataKey:"sent",name:"Sent",fill:"#3b82f6",radius:[4,4,0,0]}),n.jsx($n,{dataKey:"read",name:"Read",fill:"#22c55e",radius:[4,4,0,0]}),n.jsx($n,{dataKey:"replied",name:"Replied",fill:"#8b5cf6",radius:[4,4,0,0]})]})}):n.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:n.jsxs("div",{className:"text-center",children:[n.jsx(_s,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No activity data for this period"})]})})})})]})]})}),n.jsx(ft,{value:"campaigns",className:"space-y-4",children:n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Campaign Performance"}),n.jsx(Le,{children:"Detailed breakdown of each campaign's performance."})]}),n.jsx(Z,{children:y.length>0?n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Campaign"}),n.jsx(ne,{children:"Type"}),n.jsx(ne,{className:"text-right",children:"Sent"}),n.jsx(ne,{className:"text-right",children:"Delivered"}),n.jsx(ne,{className:"text-right",children:"Read"}),n.jsx(ne,{className:"text-right",children:"Replied"}),n.jsx(ne,{className:"text-right",children:"Cost ()"}),n.jsx(ne,{children:"Date"})]})}),n.jsx(Lt,{children:y.map((w,S)=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:w.name}),n.jsx(te,{children:n.jsx(Ae,{variant:w.type==="Marketing"?"default":"secondary",children:w.type})}),n.jsx(te,{className:"text-right",children:w.sent.toLocaleString()}),n.jsx(te,{className:"text-right text-green-600",children:w.delivered.toLocaleString()}),n.jsx(te,{className:"text-right text-blue-600",children:w.read.toLocaleString()}),n.jsx(te,{className:"text-right text-purple-600",children:w.replied.toLocaleString()}),n.jsxs(te,{className:"text-right",children:["",w.cost.toFixed(2)]}),n.jsx(te,{className:"text-muted-foreground",children:w.date?qn(new Date(w.date),"MMM d, yyyy"):"N/A"})]},S))})]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Yt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No campaign data available"}),n.jsx("p",{className:"text-sm",children:"Create and run campaigns to see performance data here."})]})})]})}),n.jsx(ft,{value:"templates",className:"space-y-4",children:n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Yn,{className:"h-5 w-5"}),"Template Performance"]}),n.jsx(Le,{children:"How each template is performing in terms of engagement."})]}),n.jsx(Z,{children:N.length>0?n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Template Name"}),n.jsx(ne,{className:"text-right",children:"Sent"}),n.jsx(ne,{className:"text-right",children:"Delivered"}),n.jsx(ne,{className:"text-right",children:"Read"}),n.jsx(ne,{className:"text-right",children:"Replied"}),n.jsx(ne,{className:"text-right",children:"Read Rate"}),n.jsx(ne,{className:"text-right",children:"Reply Rate"}),n.jsx(ne,{className:"text-right",children:"Cost ()"})]})}),n.jsx(Lt,{children:N.map((w,S)=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium font-mono text-sm",children:w.name}),n.jsx(te,{className:"text-right",children:w.sent.toLocaleString()}),n.jsx(te,{className:"text-right",children:w.delivered.toLocaleString()}),n.jsx(te,{className:"text-right text-blue-600",children:w.read.toLocaleString()}),n.jsx(te,{className:"text-right text-purple-600",children:w.replied.toLocaleString()}),n.jsx(te,{className:"text-right",children:n.jsxs(Ae,{variant:w.readRate>=70?"default":w.readRate>=50?"secondary":"outline",children:[w.readRate,"%"]})}),n.jsx(te,{className:"text-right",children:n.jsxs(Ae,{variant:w.replyRate>=25?"default":w.replyRate>=15?"secondary":"outline",children:[w.replyRate,"%"]})}),n.jsxs(te,{className:"text-right",children:["",w.cost.toFixed(2)]})]},S))})]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Yn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No template usage data available"}),n.jsx("p",{className:"text-sm",children:"Send messages using templates to see performance data here."})]})})]})}),n.jsxs(ft,{value:"costs",className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium",children:"Total Spend"})}),n.jsxs(Z,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["",f.toFixed(2)]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"This period"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium",children:"Cost per Message"})}),n.jsxs(Z,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["",i>0?(f/i).toFixed(4):"0.00"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Average"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium",children:"Cost per Reply"})}),n.jsxs(Z,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["",d>0?(f/d).toFixed(2):"0.00"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Average"})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Cost Trend"}),n.jsx(Le,{children:"Daily spending over the selected period."})]}),n.jsx(Z,{children:n.jsx("div",{className:"h-[300px]",children:C.length>0&&C.some(w=>w.cost>0)?n.jsx(Gr,{width:"100%",height:"100%",children:n.jsxs(jNe,{data:C,children:[n.jsx(Ms,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),n.jsx(zr,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(Mr,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:w=>`${w}`}),n.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"},formatter:(w,S)=>[S==="cost"?`${w.toFixed(2)}`:w.toLocaleString(),S==="cost"?"Cost":"Messages"]}),n.jsx(qr,{}),n.jsx(Ui,{type:"monotone",dataKey:"cost",name:"Cost ()",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b"}})]})}):n.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:n.jsxs("div",{className:"text-center",children:[n.jsx($u,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No cost data available for this period"})]})})})})]})]})]})]})})}function i4e(){const e=yn(),[t,r]=b.useState([]),[a,s]=b.useState(""),[i,l]=b.useState(""),[u,d]=b.useState("template"),[f,m]=b.useState(""),[p,x]=b.useState(""),[v,j]=b.useState(""),[y,N]=b.useState(""),[C,A]=b.useState(null),[w,S]=b.useState(!1),[E,O]=b.useState(!1),[M,R]=b.useState("interested"),[I,V]=b.useState("template"),[F,H]=b.useState(""),[K,q]=b.useState(""),[$,k]=b.useState(""),{data:D=[],isLoading:P}=Ie({queryKey:["/api/broadcast/campaigns/contacts/all"],queryFn:async()=>{const pe=await fetch("/api/broadcast/campaigns/contacts/all",{headers:Ke()});if(!pe.ok)throw new Error("Failed to fetch contacts");return pe.json()}}),{data:U=[]}=Ie({queryKey:["/api/templates"],queryFn:async()=>{const pe=await fetch("/api/templates",{headers:Ke()});return pe.ok?pe.json():[]}}),{data:G=[]}=Ie({queryKey:["/api/ai-agents"],queryFn:async()=>{const pe=await fetch("/api/ai-agents",{headers:Ke()});return pe.ok?pe.json():[]}}),{data:B,isLoading:z}=Ie({queryKey:["/api/broadcast/campaigns"],queryFn:async()=>{const pe=await fetch("/api/broadcast/campaigns",{headers:Ke()});if(!pe.ok)throw new Error("Failed to fetch campaigns");return pe.json()}}),X=B?.campaigns||[],ee=b.useMemo(()=>{if(!y)return D;const pe=y.toLowerCase();return D.filter(vt=>vt.name.toLowerCase().includes(pe)||vt.phone.includes(pe)||vt.email&&vt.email.toLowerCase().includes(pe))},[D,y]),je=U.filter(pe=>pe.status==="APPROVED"),he=G.filter(pe=>pe.isActive),le=qe({mutationFn:async pe=>{const vt=await fetch("/api/broadcast/campaigns",{method:"POST",headers:{...Ke(),"Content-Type":"application/json"},body:JSON.stringify(pe)});if(!vt.ok){const Zt=await vt.json();throw new Error(Zt.error||"Failed to create campaign")}return vt.json()},onSuccess:()=>{re.success("Campaign created successfully"),e.invalidateQueries({queryKey:["/api/broadcast/campaigns"]}),e.invalidateQueries({queryKey:["/api/broadcast/campaigns/contacts/all"]}),s(""),l(""),r([]),m(""),x(""),j("")},onError:pe=>{re.error(pe.message)}}),ve=qe({mutationFn:async pe=>{const vt=await fetch(`/api/broadcast/campaigns/${pe}/execute`,{method:"POST",headers:Ke()});if(!vt.ok){const Zt=await vt.json();throw new Error(Zt.error||"Failed to execute campaign")}return vt.json()},onSuccess:()=>{re.success("Campaign executed successfully"),e.invalidateQueries({queryKey:["/api/broadcast/campaigns"]})},onError:pe=>{re.error(pe.message)}}),xe=qe({mutationFn:async pe=>{const vt=await fetch(`/api/broadcast/campaigns/${pe}`,{method:"DELETE",headers:Ke()});if(!vt.ok){const Zt=await vt.json();throw new Error(Zt.error||"Failed to delete campaign")}},onSuccess:()=>{re.success("Campaign deleted"),e.invalidateQueries({queryKey:["/api/broadcast/campaigns"]}),e.invalidateQueries({queryKey:["/api/broadcast/campaigns/contacts/all"]})},onError:pe=>{re.error(pe.message)}}),_e=qe({mutationFn:async pe=>{const vt=await fetch(`/api/broadcast/campaigns/${pe.campaignId}/send-to-list`,{method:"POST",headers:{...Ke(),"Content-Type":"application/json"},body:JSON.stringify({interestType:pe.interestType,messageType:pe.messageType,templateName:pe.templateName,agentId:pe.agentId,campaignName:pe.campaignName})});if(!vt.ok){const Zt=await vt.json();throw new Error(Zt.error||"Failed to send to interest list")}return vt.json()},onSuccess:()=>{re.success("Follow-up campaign created and executed"),e.invalidateQueries({queryKey:["/api/broadcast/campaigns"]}),O(!1)},onError:pe=>{re.error(pe.message)}}),Ee=()=>{if(!a.trim()){re.error("Campaign name is required");return}if(t.length===0){re.error("Select at least one contact");return}let pe;if(u==="template"&&(pe=U.find(Zt=>Zt.id===f)?.name,!pe)){re.error("Select a template");return}if(u==="ai_agent"&&!p){re.error("Select an AI agent");return}if(u==="custom"&&!v.trim()){re.error("Enter a custom message");return}le.mutate({name:a,description:i,messageType:u,templateName:pe,customMessage:u==="custom"?v:void 0,agentId:u==="ai_agent"?p:void 0,contactIds:t})},me=()=>{t.length===ee.length?r([]):r(ee.map(pe=>pe.id))},$e=pe=>{t.includes(pe)?r(t.filter(vt=>vt!==pe)):r([...t,pe])},ue=pe=>{switch(pe){case"completed":return"bg-green-100 text-green-700";case"sending":return"bg-blue-100 text-blue-700";case"draft":return"bg-gray-100 text-gray-700";case"scheduled":return"bg-yellow-100 text-yellow-700";case"cancelled":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},Me=pe=>{A(pe),S(!0)},Ze=(pe,vt)=>{A(pe),R(vt),k(`Follow-up: ${vt==="interested"?"Interested":"Not Interested"} from "${pe.name}"`),O(!0)},ht=()=>{if(!C)return;let pe;if(I==="template"&&(pe=U.find(Zt=>Zt.id===F)?.name,!pe)){re.error("Select a template");return}if(I==="ai_agent"&&!K){re.error("Select an AI agent");return}_e.mutate({campaignId:C._id,interestType:M,messageType:I,templateName:pe,agentId:I==="ai_agent"?K:void 0,campaignName:$})};return n.jsxs(ct,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Campaign Manager"}),n.jsx("p",{className:"text-gray-500",children:"Create and manage broadcast campaigns with contact selection and interest tracking"})]}),n.jsxs(rr,{defaultValue:"create",className:"w-full",children:[n.jsxs(Zn,{className:"grid w-full grid-cols-2",children:[n.jsxs(lt,{value:"create",children:[n.jsx(An,{className:"h-4 w-4 mr-2"}),"Create Campaign"]}),n.jsxs(lt,{value:"reports",children:[n.jsx(_s,{className:"h-4 w-4 mr-2"}),"Campaign Reports"]})]}),n.jsx(ft,{value:"create",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Yt,{className:"h-5 w-5"}),"Select Contacts (",t.length," selected)"]}),n.jsx(Le,{children:"Choose contacts to include in this campaign"})]}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(Pe,{placeholder:"Search contacts...",value:y,onChange:pe=>N(pe.target.value),className:"pl-10"})]}),n.jsx(Y,{variant:"outline",onClick:me,children:t.length===ee.length?"Deselect All":"Select All"})]}),n.jsx("div",{className:"border rounded-lg max-h-96 overflow-y-auto",children:P?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(We,{className:"h-6 w-6 animate-spin"})}):ee.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No contacts found"}):n.jsx("div",{className:"divide-y",children:ee.map(pe=>n.jsxs("div",{className:`flex items-center gap-3 p-3 hover:bg-gray-50 cursor-pointer ${t.includes(pe.id)?"bg-blue-50":""}`,onClick:()=>$e(pe.id),children:[n.jsx(Wn,{checked:t.includes(pe.id),onCheckedChange:()=>$e(pe.id)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium truncate",children:pe.name}),n.jsx("p",{className:"text-sm text-gray-500",children:pe.phone})]}),pe.interestStatus&&pe.interestStatus!=="pending"&&n.jsx(Ae,{variant:pe.interestStatus==="interested"?"default":"secondary",className:"text-xs",children:pe.interestStatus})]},pe.id))})})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(qt,{className:"h-5 w-5"}),"Campaign Details"]}),n.jsx(Le,{children:"Configure your campaign message"})]}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Campaign Name *"}),n.jsx(Pe,{placeholder:"e.g., Holiday Promotion 2025",value:a,onChange:pe=>s(pe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Description (optional)"}),n.jsx(Pe,{placeholder:"Brief description of this campaign",value:i,onChange:pe=>l(pe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Message Type"}),n.jsxs(Xe,{value:u,onValueChange:pe=>d(pe),children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"template",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qt,{className:"h-4 w-4"}),"Template Message"]})}),n.jsx(ae,{value:"ai_agent",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4"}),"AI Agent Response"]})}),n.jsx(ae,{value:"custom",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qt,{className:"h-4 w-4"}),"Custom Message"]})})]})]})]}),u==="template"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select Template"}),n.jsxs(Xe,{value:f,onValueChange:m,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Choose a template"})}),n.jsx(Ye,{children:je.map(pe=>n.jsx(ae,{value:pe.id,children:pe.name},pe.id))})]})]}),u==="ai_agent"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select AI Agent"}),n.jsxs(Xe,{value:p,onValueChange:x,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Choose an AI agent"})}),n.jsx(Ye,{children:he.map(pe=>n.jsx(ae,{value:pe.id,children:pe.name},pe.id))})]})]}),u==="custom"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Custom Message"}),n.jsx(cn,{placeholder:"Enter your message...",value:v,onChange:pe=>j(pe.target.value),rows:4})]}),n.jsx("div",{className:"pt-4",children:n.jsxs(Y,{className:"w-full",onClick:Ee,disabled:le.isPending,children:[le.isPending?n.jsx(We,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(An,{className:"h-4 w-4 mr-2"}),"Create Campaign (",t.length," contacts)"]})})]})]})]})}),n.jsxs(ft,{value:"reports",className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Campaign History"}),n.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>e.invalidateQueries({queryKey:["/api/broadcast/campaigns"]}),children:[n.jsx(gn,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),z?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(We,{className:"h-8 w-8 animate-spin"})}):X.length===0?n.jsx(Q,{children:n.jsx(Z,{className:"py-12 text-center text-gray-500",children:"No campaigns yet. Create your first campaign to get started."})}):n.jsx("div",{className:"space-y-4",children:X.map(pe=>n.jsx(Q,{children:n.jsxs(Z,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-semibold",children:pe.name}),n.jsx(Ae,{className:ue(pe.status),children:pe.status})]}),pe.description&&n.jsx("p",{className:"text-sm text-gray-500 mb-2",children:pe.description}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Yt,{className:"h-4 w-4"}),pe.metrics.totalContacts," contacts"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(nr,{className:"h-4 w-4"}),pe.metrics.sent," sent"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ma,{className:"h-4 w-4"}),pe.metrics.read," read"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(xa,{className:"h-4 w-4"}),pe.metrics.replied," replied"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ht,{className:"h-4 w-4"}),new Date(pe.createdAt).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[pe.status==="draft"&&n.jsxs(Y,{size:"sm",onClick:()=>ve.mutate(pe._id),disabled:ve.isPending,children:[n.jsx(Za,{className:"h-4 w-4 mr-1"}),"Send"]}),n.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>Me(pe),children:[n.jsx(_s,{className:"h-4 w-4 mr-1"}),"View Report"]}),pe.status==="completed"&&pe.metrics.interested>0&&n.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>Ze(pe,"interested"),children:[n.jsx(Wo,{className:"h-4 w-4 mr-1"}),"Send to Interested (",pe.metrics.interested,")"]}),pe.status==="completed"&&pe.metrics.notInterested>0&&n.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>Ze(pe,"not_interested"),children:[n.jsx(Vo,{className:"h-4 w-4 mr-1"}),"Send to Not Interested (",pe.metrics.notInterested,")"]}),pe.status==="draft"&&n.jsx(Y,{size:"sm",variant:"destructive",onClick:()=>{confirm("Delete this campaign?")&&xe.mutate(pe._id)},children:n.jsx(hr,{className:"h-4 w-4"})})]})]}),pe.status==="completed"&&n.jsxs("div",{className:"mt-4 grid grid-cols-6 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:pe.metrics.sent}),n.jsx("div",{className:"text-xs text-gray-500",children:"Sent"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:pe.metrics.delivered}),n.jsx("div",{className:"text-xs text-gray-500",children:"Delivered"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:pe.metrics.read}),n.jsx("div",{className:"text-xs text-gray-500",children:"Read"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:pe.metrics.replied}),n.jsx("div",{className:"text-xs text-gray-500",children:"Replied"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:pe.metrics.interested}),n.jsx("div",{className:"text-xs text-gray-500",children:"Interested"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:pe.metrics.notInterested}),n.jsx("div",{className:"text-xs text-gray-500",children:"Not Interested"})]})]}),pe.status==="completed"&&pe.metrics.totalContacts>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx(ur,{value:pe.metrics.sent/pe.metrics.totalContacts*100,className:"h-2"}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[n.jsxs("span",{children:["Delivery Rate: ",Math.round(pe.metrics.delivered/pe.metrics.sent*100||0),"%"]}),n.jsxs("span",{children:["Read Rate: ",Math.round(pe.metrics.read/pe.metrics.delivered*100||0),"%"]}),n.jsxs("span",{children:["Reply Rate: ",Math.round(pe.metrics.replied/pe.metrics.sent*100||0),"%"]})]})]})]})},pe._id))})]})]})]}),n.jsx($t,{open:w,onOpenChange:S,children:n.jsxs(kt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Pt,{children:[n.jsxs(Rt,{children:["Campaign Report: ",C?.name]}),n.jsx(Dn,{children:"Detailed metrics and contact-level status"})]}),C&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium",children:"Delivery Stats"})}),n.jsx(Z,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Total"}),n.jsx("span",{className:"font-medium",children:C.metrics.totalContacts})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Sent"}),n.jsx("span",{className:"font-medium text-blue-600",children:C.metrics.sent})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Delivered"}),n.jsx("span",{className:"font-medium text-green-600",children:C.metrics.delivered})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Failed"}),n.jsx("span",{className:"font-medium text-red-600",children:C.metrics.failed})]})]})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium",children:"Engagement"})}),n.jsx(Z,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Read"}),n.jsx("span",{className:"font-medium text-purple-600",children:C.metrics.read})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Replied"}),n.jsx("span",{className:"font-medium text-orange-600",children:C.metrics.replied})]})]})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium",children:"Interest"})}),n.jsx(Z,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Interested"}),n.jsx("span",{className:"font-medium text-emerald-600",children:C.metrics.interested})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Not Interested"}),n.jsx("span",{className:"font-medium text-red-600",children:C.metrics.notInterested})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Neutral"}),n.jsx("span",{className:"font-medium text-gray-600",children:C.metrics.neutral})]})]})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-3",children:"Contact Details"}),n.jsx("div",{className:"border rounded-lg max-h-64 overflow-y-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50 sticky top-0",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-3",children:"Name"}),n.jsx("th",{className:"text-left p-3",children:"Phone"}),n.jsx("th",{className:"text-left p-3",children:"Status"}),n.jsx("th",{className:"text-left p-3",children:"Replied"}),n.jsx("th",{className:"text-left p-3",children:"Interest"})]})}),n.jsx("tbody",{className:"divide-y",children:C.contacts.map((pe,vt)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"p-3",children:pe.name}),n.jsx("td",{className:"p-3",children:pe.phone}),n.jsx("td",{className:"p-3",children:n.jsx(Ae,{variant:pe.status==="read"?"default":pe.status==="failed"?"destructive":"secondary",children:pe.status})}),n.jsx("td",{className:"p-3",children:pe.replied?n.jsx(Ld,{className:"h-4 w-4 text-green-600"}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx("td",{className:"p-3",children:pe.interestStatus&&pe.interestStatus!=="pending"?n.jsx(Ae,{variant:pe.interestStatus==="interested"?"default":"secondary",children:pe.interestStatus}):n.jsx("span",{className:"text-gray-400",children:"Pending"})})]},vt))})]})})]})]})]})}),n.jsx($t,{open:E,onOpenChange:O,children:n.jsxs(kt,{children:[n.jsxs(Pt,{children:[n.jsxs(Rt,{children:["Send to ",M==="interested"?"Interested":"Not Interested"," Contacts"]}),n.jsxs(Dn,{children:["Create a follow-up campaign for contacts who showed"," ",M==="interested"?"interest":"no interest"]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Campaign Name"}),n.jsx(Pe,{value:$,onChange:pe=>k(pe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Message Type"}),n.jsxs(Xe,{value:I,onValueChange:pe=>V(pe),children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"template",children:"Template Message"}),n.jsx(ae,{value:"ai_agent",children:"AI Agent Response"})]})]})]}),I==="template"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select Template"}),n.jsxs(Xe,{value:F,onValueChange:H,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Choose a template"})}),n.jsx(Ye,{children:je.map(pe=>n.jsx(ae,{value:pe.id,children:pe.name},pe.id))})]})]}),I==="ai_agent"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select AI Agent"}),n.jsxs(Xe,{value:K,onValueChange:q,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Choose an AI agent"})}),n.jsx(Ye,{children:he.map(pe=>n.jsx(ae,{value:pe.id,children:pe.name},pe.id))})]})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),n.jsxs(Y,{onClick:ht,disabled:_e.isPending,children:[_e.isPending?n.jsx(We,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(nr,{className:"h-4 w-4 mr-2"}),"Send Campaign"]})]})]})})]})}function o4e(){return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Auto-messages to Leads"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure automatic welcome messages for new leads from different sources."})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600 flex items-center justify-center text-white",children:n.jsx($d,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(oe,{children:"Facebook Leads"}),n.jsx(Le,{children:"Leads from FB Lead Forms"})]})]}),n.jsx(Tr,{defaultChecked:!0})]})}),n.jsx(Z,{className:"space-y-4",children:n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Welcome Message"}),n.jsx(cn,{defaultValue:"Hi {{name}}, thanks for your interest in our product! We have received your inquiry and will get back to you shortly.",className:"min-h-[100px]"})]})}),n.jsx(Fr,{children:n.jsx(Y,{children:"Save Settings"})})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-pink-600 flex items-center justify-center text-white",children:n.jsx(qZ,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(oe,{children:"Instagram Leads"}),n.jsx(Le,{children:"Leads from IG Direct"})]})]}),n.jsx(Tr,{})]})}),n.jsx(Z,{className:"space-y-4",children:n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Welcome Message"}),n.jsx(cn,{defaultValue:"Hello {{name}}! Thanks for reaching out on Instagram.",className:"min-h-[100px]"})]})}),n.jsx(Fr,{children:n.jsx(Y,{children:"Save Settings"})})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-600 flex items-center justify-center text-white",children:n.jsx(kF,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(oe,{children:"Website Form"}),n.jsx(Le,{children:"Leads from your website"})]})]}),n.jsx(Tr,{defaultChecked:!0})]})}),n.jsx(Z,{className:"space-y-4",children:n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Welcome Message"}),n.jsx(cn,{defaultValue:"Thanks for signing up on our website, {{name}}!",className:"min-h-[100px]"})]})}),n.jsx(Fr,{children:n.jsx(Y,{children:"Save Settings"})})]})]})]})})}function l4e(){const[e,t]=b.useState(!1),[r,a]=b.useState(!1),[s,i]=b.useState(null),[l,u]=b.useState({name:"",trigger:"",message:""}),d=yn(),{data:f=[],isLoading:m}=Ie({queryKey:["/api/automations"],queryFn:async()=>{const S=await fetch("/api/automations");if(!S.ok)throw new Error("Failed to fetch automations");return S.json()}}),p=f.filter(S=>S.type==="keyword"),x=qe({mutationFn:async S=>{const E=await fetch("/api/automations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...S,type:"keyword",isActive:!0})});if(!E.ok)throw new Error("Failed to create automation");return E.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automations"]}),t(!1),N(),re.success("Keyword rule created successfully")},onError:()=>{re.error("Failed to create keyword rule")}}),v=qe({mutationFn:async({id:S,data:E})=>{const O=await fetch(`/api/automations/${S}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(!O.ok)throw new Error("Failed to update automation");return O.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automations"]}),a(!1),i(null),re.success("Keyword rule updated successfully")},onError:()=>{re.error("Failed to update keyword rule")}}),j=qe({mutationFn:async S=>{if(!(await fetch(`/api/automations/${S}`,{method:"DELETE"})).ok)throw new Error("Failed to delete automation")},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automations"]}),re.success("Keyword rule deleted successfully")},onError:()=>{re.error("Failed to delete keyword rule")}}),y=qe({mutationFn:async({id:S,isActive:E})=>{const O=await fetch(`/api/automations/${S}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:E})});if(!O.ok)throw new Error("Failed to toggle automation");return O.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automations"]})},onError:()=>{re.error("Failed to toggle automation")}}),N=()=>{u({name:"",trigger:"",message:""})},C=S=>{i(S),u({name:S.name,trigger:S.trigger,message:S.message}),a(!0)},A=()=>{if(!l.name||!l.trigger||!l.message){re.error("Please fill in all fields");return}x.mutate(l)},w=()=>{s&&v.mutate({id:s.id,data:l})};return n.jsxs(ct,{children:[n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Keyword Auto-replies"}),n.jsx("p",{className:"text-muted-foreground",children:"Set up triggers for specific words in incoming messages."})]}),n.jsxs($t,{open:e,onOpenChange:t,children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{onClick:()=>{N(),t(!0)},children:[n.jsx(An,{className:"mr-2 h-4 w-4"}),"Add New Rule"]})}),n.jsxs(kt,{children:[n.jsx(Pt,{children:n.jsx(Rt,{children:"New Keyword Rule"})}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Rule Name"}),n.jsx(Pe,{placeholder:"e.g., Price Inquiry",value:l.name,onChange:S=>u({...l,name:S.target.value})})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Keyword Trigger"}),n.jsx(Pe,{placeholder:"e.g., price, pricing, cost",value:l.trigger,onChange:S=>u({...l,trigger:S.target.value})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the word or phrase that triggers this response"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Reply Message"}),n.jsx(cn,{placeholder:"The automated response...",value:l.message,onChange:S=>u({...l,message:S.target.value}),rows:4})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(Y,{onClick:A,disabled:x.isPending,children:[x.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Rule"]})]})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Active Rules"}),n.jsx(Le,{children:"Messages that trigger an automatic response."})]}),n.jsx(Z,{children:m?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):p.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No keyword rules yet. Create your first rule to get started."}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Name"}),n.jsx(ne,{children:"Keyword"}),n.jsx(ne,{children:"Reply Preview"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{className:"text-right",children:"Actions"})]})}),n.jsx(Lt,{children:p.map(S=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:S.name}),n.jsx(te,{className:"font-mono font-bold text-primary",children:S.trigger}),n.jsx(te,{className:"text-muted-foreground truncate max-w-[300px]",children:S.message}),n.jsx(te,{children:n.jsx(Tr,{checked:S.isActive,onCheckedChange:E=>y.mutate({id:S.id,isActive:E})})}),n.jsxs(te,{className:"text-right space-x-2",children:[n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>C(S),children:n.jsx(Es,{className:"h-4 w-4"})}),n.jsx(Y,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>j.mutate(S.id),children:n.jsx(hr,{className:"h-4 w-4"})})]})]},S.id))})]})})]})]}),n.jsx($t,{open:r,onOpenChange:a,children:n.jsxs(kt,{children:[n.jsx(Pt,{children:n.jsx(Rt,{children:"Edit Keyword Rule"})}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Rule Name"}),n.jsx(Pe,{value:l.name,onChange:S=>u({...l,name:S.target.value})})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Keyword Trigger"}),n.jsx(Pe,{value:l.trigger,onChange:S=>u({...l,trigger:S.target.value})})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Reply Message"}),n.jsx(cn,{value:l.message,onChange:S=>u({...l,message:S.target.value}),rows:4})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),n.jsxs(Y,{onClick:w,disabled:v.isPending,children:[v.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})})]})}function c4e(){return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Follow-up Messages"}),n.jsx("p",{className:"text-muted-foreground",children:"Re-engage leads who haven't responded."})]}),n.jsxs(Y,{children:[n.jsx(An,{className:"mr-2 h-4 w-4"}),"Add Follow-up"]})]}),n.jsxs("div",{className:"grid gap-4",children:[n.jsx(Q,{children:n.jsxs(Z,{className:"p-6 flex items-start gap-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-orange-100 flex items-center justify-center text-orange-600 shrink-0",children:n.jsx(Ht,{className:"h-6 w-6"})}),n.jsxs("div",{className:"flex-1 grid gap-4 md:grid-cols-3 items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{className:"text-muted-foreground",children:"Trigger"}),n.jsx("div",{className:"font-medium",children:"After 24 Hours of Inactivity"})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(de,{className:"text-muted-foreground",children:"Message"}),n.jsx("div",{className:"p-3 bg-muted rounded-md text-sm",children:"Hi there! Just wanted to check if you had any further questions? We are here to help!"})]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx(Y,{variant:"outline",size:"sm",children:"Edit"}),n.jsx(Y,{variant:"ghost",size:"sm",className:"text-destructive",children:"Delete"})]})]})}),n.jsx(Q,{children:n.jsxs(Z,{className:"p-6 flex items-start gap-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-orange-100 flex items-center justify-center text-orange-600 shrink-0",children:n.jsx(Ht,{className:"h-6 w-6"})}),n.jsxs("div",{className:"flex-1 grid gap-4 md:grid-cols-3 items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{className:"text-muted-foreground",children:"Trigger"}),n.jsx("div",{className:"font-medium",children:"After 48 Hours of No Reply"})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(de,{className:"text-muted-foreground",children:"Message"}),n.jsx("div",{className:"p-3 bg-muted rounded-md text-sm",children:"Hey! We noticed you haven't completed your profile. Need any assistance?"})]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx(Y,{variant:"outline",size:"sm",children:"Edit"}),n.jsx(Y,{variant:"ghost",size:"sm",className:"text-destructive",children:"Delete"})]})]})})]})]})})}function u4e(){return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Drip Campaigns"}),n.jsx("p",{className:"text-muted-foreground",children:"Create multi-day sequences for onboarding or nurturing."})]}),n.jsxs(Y,{children:[n.jsx(An,{className:"mr-2 h-4 w-4"}),"New Campaign"]})]}),n.jsx(Q,{className:"bg-muted/20 border-dashed border-2",children:n.jsxs(Z,{className:"p-10 flex flex-col items-center justify-center text-center space-y-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:n.jsx(Ii,{className:"h-6 w-6"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"New Customer Onboarding Sequence"}),n.jsx("p",{className:"text-muted-foreground max-w-md",children:'This sequence triggers when a new tag "Customer" is added to a contact.'}),n.jsxs("div",{className:"w-full max-w-3xl mt-8 relative",children:[n.jsx("div",{className:"absolute left-[20px] top-8 bottom-8 w-0.5 bg-border"}),n.jsxs("div",{className:"relative flex gap-6 mb-8 text-left",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold z-10 shrink-0",children:"1"}),n.jsxs(Q,{className:"flex-1",children:[n.jsx(ie,{className:"py-3",children:n.jsxs(oe,{className:"text-base flex items-center justify-between",children:[n.jsx("span",{children:"Day 1: Welcome Message"}),n.jsx(Ae,{children:"Active"})]})}),n.jsx(Z,{className:"py-3 text-sm text-muted-foreground",children:'"Welcome to the family! Here is your getting started guide..."'})]})]}),n.jsxs("div",{className:"relative flex gap-6 mb-8 text-left",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold z-10 shrink-0",children:"3"}),n.jsxs(Q,{className:"flex-1",children:[n.jsx(ie,{className:"py-3",children:n.jsxs(oe,{className:"text-base flex items-center justify-between",children:[n.jsx("span",{children:"Day 3: Product Tips"}),n.jsx(Ae,{children:"Active"})]})}),n.jsx(Z,{className:"py-3 text-sm text-muted-foreground",children:'"Did you know you can do X with our product? Check this out..."'})]})]}),n.jsxs("div",{className:"relative flex gap-6 text-left",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold z-10 shrink-0",children:"7"}),n.jsxs(Q,{className:"flex-1",children:[n.jsx(ie,{className:"py-3",children:n.jsxs(oe,{className:"text-base flex items-center justify-between",children:[n.jsx("span",{children:"Day 7: Review Request"}),n.jsx(Ae,{variant:"secondary",children:"Draft"})]})}),n.jsx(Z,{className:"py-3 text-sm text-muted-foreground",children:'"How are you liking it so far? We would love your feedback..."'})]})]})]}),n.jsxs(Y,{variant:"outline",className:"mt-4",children:[n.jsx(An,{className:"mr-2 h-4 w-4"})," Add Step"]})]})})]})})}function d4e(){return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"New Lead Alerts"}),n.jsx("p",{className:"text-muted-foreground",children:"Notify your team when a new lead comes in."})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 bg-primary/10 text-primary rounded-lg flex items-center justify-center",children:n.jsx(xa,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(oe,{children:"Email Notifications"}),n.jsx(Le,{children:"Send an email to admins."})]})]})}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(de,{children:"Enable Email Alerts"}),n.jsx(Tr,{defaultChecked:!0})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Recipient Email(s)"}),n.jsx(Pe,{defaultValue:"admin@acme.com, sales@acme.com"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma separated for multiple emails."})]})]}),n.jsx(Fr,{children:n.jsx(Y,{children:"Save Settings"})})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 bg-green-100 text-green-600 rounded-lg flex items-center justify-center",children:n.jsx(I2,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(oe,{children:"WhatsApp Admin Alert"}),n.jsx(Le,{children:"Send a WhatsApp message to your phone."})]})]})}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(de,{children:"Enable WhatsApp Alerts"}),n.jsx(Tr,{})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Admin Phone Number"}),n.jsx(Pe,{placeholder:"+1 555 123 4567"})]})]}),n.jsx(Fr,{children:n.jsx(Y,{children:"Save Settings"})})]})]})]})})}function f4e(){const{data:e,isLoading:t}=Ie({queryKey:["/api/automation/dashboard"],queryFn:async()=>{const u=await fetch("/api/automation/dashboard",{headers:Ke()});if(!u.ok)throw new Error("Failed to fetch dashboard");return u.json()}}),{data:r}=Ie({queryKey:["/api/automation/analytics/insights"],queryFn:async()=>{const u=await fetch("/api/automation/analytics/insights?limit=5",{headers:Ke()});return u.ok?u.json():[]}}),{data:a}=Ie({queryKey:["/api/automation/triggers/activity"],queryFn:async()=>{const u=await fetch("/api/automation/triggers/activity?limit=10",{headers:Ke()});return u.ok?u.json():[]}}),s=[{title:"Triggers",icon:Yr,color:"text-yellow-600",bgColor:"bg-yellow-50",metrics:e?.triggers,link:"/automation/triggers",stats:[{label:"Active",value:e?.triggers?.active||0},{label:"Executions (24h)",value:e?.triggers?.executions24h||0},{label:"Success Rate",value:`${e?.triggers?.successRate||0}%`}]},{title:"Flows",icon:ws,color:"text-blue-600",bgColor:"bg-blue-50",metrics:e?.flows,link:"/automation/flows",stats:[{label:"Published",value:e?.flows?.published||0},{label:"Instances (24h)",value:e?.flows?.instances24h||0},{label:"Completion Rate",value:`${e?.flows?.completionRate||0}%`}]},{title:"Drip Campaigns",icon:xa,color:"text-green-600",bgColor:"bg-green-50",metrics:e?.campaigns,link:"/automation/campaigns",stats:[{label:"Active",value:e?.campaigns?.active||0},{label:"Sent (24h)",value:e?.campaigns?.sent24h||0},{label:"Delivery Rate",value:`${e?.campaigns?.deliveryRate||0}%`}]},{title:"Segments",icon:Yt,color:"text-purple-600",bgColor:"bg-purple-50",metrics:e?.segments,link:"/automation/segments",stats:[{label:"Total",value:e?.segments?.total||0},{label:"Members",value:e?.segments?.totalMembers||0}]}],i=u=>{switch(u){case"positive":return"bg-green-100 text-green-800";case"warning":return"bg-yellow-100 text-yellow-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}},l=u=>{switch(u){case"processed":return n.jsx(Pn,{className:"h-4 w-4 text-green-500"});case"failed":return n.jsx(Li,{className:"h-4 w-4 text-red-500"});default:return n.jsx(Ht,{className:"h-4 w-4 text-gray-500"})}};return n.jsx(ct,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Automation Dashboard"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Real-time automation monitoring and control center"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Y,{variant:"outline",asChild:!0,children:n.jsxs(qo,{href:"/automation/analytics",children:[n.jsx(_s,{className:"h-4 w-4 mr-2"}),"Analytics"]})}),n.jsx(Y,{asChild:!0,children:n.jsxs(qo,{href:"/automation/triggers/new",children:[n.jsx(An,{className:"h-4 w-4 mr-2"}),"Create Trigger"]})})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:s.map(u=>n.jsxs(Q,{className:"hover:shadow-md transition-shadow",children:[n.jsxs(ie,{className:"pb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:`p-2 rounded-lg ${u.bgColor}`,children:n.jsx(u.icon,{className:`h-5 w-5 ${u.color}`})}),n.jsx(qo,{href:u.link,children:n.jsx(Y,{variant:"ghost",size:"sm",children:n.jsx(wh,{className:"h-4 w-4"})})})]}),n.jsx(oe,{className:"text-lg mt-2",children:u.title})]}),n.jsx(Z,{children:n.jsx("div",{className:"space-y-2",children:u.stats.map((d,f)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:d.label}),n.jsx("span",{className:"font-medium",children:d.value})]},f))})})]},u.title))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(Q,{className:"lg:col-span-2",children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(oe,{children:"Overall Performance"}),n.jsx(Le,{children:"Key metrics across all automations"})]}),n.jsx(Y,{variant:"ghost",size:"sm",children:n.jsx(gn,{className:"h-4 w-4"})})]})}),n.jsxs(Z,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"text-3xl font-bold text-green-600",children:e?.overall?.messagesDelivered||0}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Messages Delivered"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e?.overall?.messagesRead||0}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Messages Read"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"text-3xl font-bold text-purple-600",children:e?.overall?.conversions||0}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Conversions"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:[e?.overall?.engagementRate||0,"%"]}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Engagement Rate"})]})]}),n.jsxs("div",{className:"mt-6 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{children:"Trigger Success Rate"}),n.jsxs("span",{className:"font-medium",children:[e?.triggers?.successRate||0,"%"]})]}),n.jsx(ur,{value:e?.triggers?.successRate||0,className:"h-2"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{children:"Flow Completion Rate"}),n.jsxs("span",{className:"font-medium",children:[e?.flows?.completionRate||0,"%"]})]}),n.jsx(ur,{value:e?.flows?.completionRate||0,className:"h-2"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{children:"Campaign Delivery Rate"}),n.jsxs("span",{className:"font-medium",children:[e?.campaigns?.deliveryRate||0,"%"]})]}),n.jsx(ur,{value:e?.campaigns?.deliveryRate||0,className:"h-2"})]})]})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Tu,{className:"h-5 w-5 text-yellow-500"}),"AI Insights"]}),n.jsx(qo,{href:"/automation/analytics",children:n.jsx(Y,{variant:"ghost",size:"sm",children:"View All"})})]})}),n.jsx(Z,{children:r&&r.length>0?n.jsx("div",{className:"space-y-3",children:r.slice(0,4).map(u=>n.jsx("div",{className:"p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:n.jsx("div",{className:"flex items-start justify-between gap-2",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ae,{className:i(u.severity),children:u.severity}),n.jsx("span",{className:"text-xs text-gray-500",children:u.scope})]}),n.jsx("p",{className:"text-sm font-medium",children:u.title})]})})},u._id))}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Tu,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No insights yet"}),n.jsx("p",{className:"text-xs mt-1",children:"Start automating to get AI-powered recommendations"})]})})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-5 w-5"}),"Live Activity Feed"]}),n.jsx(Le,{children:"Real-time trigger executions and events"})]}),n.jsx(Y,{variant:"ghost",size:"sm",children:n.jsx(gn,{className:"h-4 w-4"})})]})}),n.jsx(Z,{children:a&&a.length>0?n.jsx("div",{className:"space-y-2",children:a.map(u=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[l(u.status),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-sm",children:u.eventType}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:u.sourceType})]}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(u.receivedAt).toLocaleString()})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(Ae,{variant:"secondary",children:[u.triggerMatches?.length||0," triggers matched"]})})]},u._id))}):n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(vs,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No recent activity"}),n.jsx("p",{className:"text-xs mt-1",children:"Events will appear here when triggers execute"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Q,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>window.location.href="/automation/triggers",children:n.jsx(Z,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:n.jsx(Yr,{className:"h-6 w-6 text-yellow-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"Create Trigger"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Set up event-based automations"})]})]})})}),n.jsx(Q,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>window.location.href="/automation/flows",children:n.jsx(Z,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(ws,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"Build Flow"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Design visual automation pipelines"})]})]})})}),n.jsx(Q,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>window.location.href="/automation/campaigns",children:n.jsx(Z,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(xa,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"Create Campaign"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Launch drip messaging sequences"})]})]})})})]})]})})}const A6=[{value:"webhook",label:"Webhook"},{value:"whatsapp_message",label:"WhatsApp Message"},{value:"whatsapp_status",label:"WhatsApp Status Update"},{value:"facebook_lead",label:"Facebook Lead"},{value:"crm_update",label:"CRM Update"},{value:"contact_created",label:"Contact Created"},{value:"contact_updated",label:"Contact Updated"},{value:"tag_added",label:"Tag Added"},{value:"segment_joined",label:"Segment Joined"},{value:"flow_completed",label:"Flow Completed"},{value:"campaign_event",label:"Campaign Event"},{value:"api_event",label:"API Event"},{value:"scheduled",label:"Scheduled"}];function C6(){const[e,t]=b.useState(""),[r,a]=b.useState("all"),[s,i]=b.useState(!1),[l,u]=b.useState(null),[d,f]=b.useState({name:"",description:"",eventSource:"whatsapp_message",status:"draft"}),m=yn(),{data:p,isLoading:x}=Ie({queryKey:["/api/automation/triggers",r,e],queryFn:async()=>{const S=new URLSearchParams;r!=="all"&&S.append("status",r),e&&S.append("search",e);const E=await fetch(`/api/automation/triggers?${S}`,{headers:Ke()});if(!E.ok)throw new Error("Failed to fetch triggers");return E.json()}}),{data:v}=Ie({queryKey:["/api/automation/triggers/stats"],queryFn:async()=>{const S=await fetch("/api/automation/triggers/stats",{headers:Ke()});if(!S.ok)throw new Error("Failed to fetch stats");return S.json()}}),j=qe({mutationFn:async S=>{const E=await fetch("/api/automation/triggers",{method:"POST",headers:{...Ke(),"Content-Type":"application/json"},body:JSON.stringify(S)});if(!E.ok)throw new Error("Failed to create trigger");return E.json()},onSuccess:()=>{m.invalidateQueries({queryKey:["/api/automation/triggers"]}),i(!1),f({name:"",description:"",eventSource:"whatsapp_message",status:"draft"}),re.success("Trigger created successfully")},onError:()=>re.error("Failed to create trigger")}),y=qe({mutationFn:async({id:S,action:E})=>{const O=await fetch(`/api/automation/triggers/${S}/${E}`,{method:"POST",headers:Ke()});if(!O.ok)throw new Error("Failed to update trigger");return O.json()},onSuccess:()=>{m.invalidateQueries({queryKey:["/api/automation/triggers"]}),re.success("Trigger status updated")}}),N=qe({mutationFn:async S=>{const E=await fetch(`/api/automation/triggers/${S}`,{method:"DELETE",headers:Ke()});if(!E.ok)throw new Error("Failed to delete trigger");return E.json()},onSuccess:()=>{m.invalidateQueries({queryKey:["/api/automation/triggers"]}),re.success("Trigger deleted")}}),C=qe({mutationFn:async S=>{const E=await fetch(`/api/automation/triggers/${S}/duplicate`,{method:"POST",headers:Ke()});if(!E.ok)throw new Error("Failed to duplicate trigger");return E.json()},onSuccess:()=>{m.invalidateQueries({queryKey:["/api/automation/triggers"]}),re.success("Trigger duplicated")}}),A=S=>{switch(S){case"active":return n.jsx(Ae,{className:"bg-green-100 text-green-800",children:"Active"});case"paused":return n.jsx(Ae,{className:"bg-yellow-100 text-yellow-800",children:"Paused"});default:return n.jsx(Ae,{variant:"secondary",children:"Draft"})}},w=S=>S.executionCount===0?"N/A":`${Math.round(S.successCount/S.executionCount*100)}%`;return n.jsx(ct,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Yr,{className:"h-6 w-6 text-yellow-500"}),"Triggers"]}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Create and manage event-based automation triggers"})]}),n.jsxs($t,{open:s,onOpenChange:i,children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{children:[n.jsx(An,{className:"h-4 w-4 mr-2"}),"Create Trigger"]})}),n.jsxs(kt,{className:"max-w-lg",children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Create New Trigger"}),n.jsx(Dn,{children:"Set up an event-based trigger to automate actions"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Trigger Name"}),n.jsx(Pe,{placeholder:"e.g., New Lead Follow-up",value:d.name,onChange:S=>f({...d,name:S.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Description"}),n.jsx(cn,{placeholder:"Describe what this trigger does...",value:d.description,onChange:S=>f({...d,description:S.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Event Source"}),n.jsxs(Xe,{value:d.eventSource,onValueChange:S=>f({...d,eventSource:S}),children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsx(Ye,{children:A6.map(S=>n.jsx(ae,{value:S.value,children:S.label},S.value))})]})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),n.jsx(Y,{onClick:()=>j.mutate(d),disabled:!d.name,children:"Create Trigger"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Yr,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:v?.totalTriggers||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Triggers"})]})]})})}),n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Za,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:v?.activeTriggers||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Active Triggers"})]})]})})}),n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(vs,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:v?.recentExecutions||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Executions (24h)"})]})]})})}),n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(Pn,{className:"h-5 w-5 text-orange-600"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[v?.successRate||0,"%"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Success Rate"})]})]})})})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(oe,{children:"All Triggers"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(Pe,{placeholder:"Search triggers...",className:"pl-9 w-64",value:e,onChange:S=>t(S.target.value)})]}),n.jsxs(Xe,{value:r,onValueChange:a,children:[n.jsx(Ge,{className:"w-32",children:n.jsx(Qe,{placeholder:"Status"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"all",children:"All"}),n.jsx(ae,{value:"active",children:"Active"}),n.jsx(ae,{value:"paused",children:"Paused"}),n.jsx(ae,{value:"draft",children:"Draft"})]})]})]})]})}),n.jsx(Z,{children:n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Name"}),n.jsx(ne,{children:"Event Source"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{children:"Executions"}),n.jsx(ne,{children:"Success Rate"}),n.jsx(ne,{children:"Last Run"}),n.jsx(ne,{className:"text-right",children:"Actions"})]})}),n.jsxs(Lt,{children:[p?.triggers?.map(S=>n.jsxs(Ve,{children:[n.jsx(te,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:S.name}),S.description&&n.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:S.description})]})}),n.jsx(te,{children:n.jsx(Ae,{variant:"outline",children:A6.find(E=>E.value===S.eventSource)?.label||S.eventSource})}),n.jsx(te,{children:A(S.status)}),n.jsx(te,{children:S.executionCount}),n.jsx(te,{children:w(S)}),n.jsx(te,{children:S.lastExecutedAt?new Date(S.lastExecutedAt).toLocaleString():"Never"}),n.jsx(te,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[S.status==="active"?n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>y.mutate({id:S._id,action:"pause"}),children:n.jsx(r_,{className:"h-4 w-4"})}):n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>y.mutate({id:S._id,action:"activate"}),children:n.jsx(Za,{className:"h-4 w-4"})}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>C.mutate(S._id),children:n.jsx(Sc,{className:"h-4 w-4"})}),n.jsx(Y,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>N.mutate(S._id),children:n.jsx(hr,{className:"h-4 w-4"})})]})})]},S._id)),(!p?.triggers||p.triggers.length===0)&&n.jsx(Ve,{children:n.jsxs(te,{colSpan:7,className:"text-center py-12 text-gray-500",children:[n.jsx(Yr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No triggers found"}),n.jsx("p",{className:"text-sm",children:"Create your first trigger to automate actions"})]})})]})]})})]})]})})}function h4e(){const[e,t]=b.useState(""),[r,a]=b.useState("all"),[s,i]=b.useState(!1),[l,u]=b.useState({name:"",description:""}),d=yn(),{data:f,isLoading:m}=Ie({queryKey:["/api/automation/flows",r,e],queryFn:async()=>{const w=new URLSearchParams;r!=="all"&&w.append("status",r),e&&w.append("search",e);const S=await fetch(`/api/automation/flows?${w}`,{headers:Ke()});if(!S.ok)throw new Error("Failed to fetch flows");return S.json()}}),{data:p}=Ie({queryKey:["/api/automation/flows/stats"],queryFn:async()=>{const w=await fetch("/api/automation/flows/stats",{headers:Ke()});if(!w.ok)throw new Error("Failed to fetch stats");return w.json()}}),x=qe({mutationFn:async w=>{const S=await fetch("/api/automation/flows",{method:"POST",headers:{...Ke(),"Content-Type":"application/json"},body:JSON.stringify(w)});if(!S.ok)throw new Error("Failed to create flow");return S.json()},onSuccess:w=>{d.invalidateQueries({queryKey:["/api/automation/flows"]}),i(!1),u({name:"",description:""}),re.success("Flow created successfully"),window.location.href=`/automation/flows/${w._id}/edit`},onError:()=>re.error("Failed to create flow")}),v=qe({mutationFn:async w=>{const S=await fetch(`/api/automation/flows/${w}/publish`,{method:"POST",headers:Ke()});if(!S.ok){const E=await S.json();throw new Error(E.error||"Failed to publish flow")}return S.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automation/flows"]}),re.success("Flow published")},onError:w=>re.error(w.message)}),j=qe({mutationFn:async w=>{const S=await fetch(`/api/automation/flows/${w}/unpublish`,{method:"POST",headers:Ke()});if(!S.ok)throw new Error("Failed to unpublish flow");return S.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automation/flows"]}),re.success("Flow unpublished")}}),y=qe({mutationFn:async w=>{const S=await fetch(`/api/automation/flows/${w}`,{method:"DELETE",headers:Ke()});if(!S.ok)throw new Error("Failed to delete flow");return S.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automation/flows"]}),re.success("Flow deleted")}}),N=qe({mutationFn:async w=>{const S=await fetch(`/api/automation/flows/${w}/duplicate`,{method:"POST",headers:Ke()});if(!S.ok)throw new Error("Failed to duplicate flow");return S.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automation/flows"]}),re.success("Flow duplicated")}}),C=w=>{switch(w){case"published":return n.jsx(Ae,{className:"bg-green-100 text-green-800",children:"Published"});case"archived":return n.jsx(Ae,{className:"bg-gray-100 text-gray-800",children:"Archived"});default:return n.jsx(Ae,{variant:"secondary",children:"Draft"})}},A=w=>w.totalInstances===0?"N/A":`${Math.round(w.completedInstances/w.totalInstances*100)}%`;return n.jsx(ct,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(ws,{className:"h-6 w-6 text-blue-500"}),"Automation Flows"]}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Design and manage visual automation pipelines"})]}),n.jsxs($t,{open:s,onOpenChange:i,children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{children:[n.jsx(An,{className:"h-4 w-4 mr-2"}),"Create Flow"]})}),n.jsxs(kt,{children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Create New Flow"}),n.jsx(Dn,{children:"Set up a new automation flow"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Flow Name"}),n.jsx(Pe,{placeholder:"e.g., Welcome Sequence",value:l.name,onChange:w=>u({...l,name:w.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Description"}),n.jsx(cn,{placeholder:"Describe what this flow does...",value:l.description,onChange:w=>u({...l,description:w.target.value})})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),n.jsx(Y,{onClick:()=>x.mutate(l),disabled:!l.name,children:"Create Flow"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(ws,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:p?.totalFlows||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Flows"})]})]})})}),n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Lh,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:p?.publishedFlows||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Published"})]})]})})}),n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(vs,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:p?.activeInstances||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Active Instances"})]})]})})}),n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(Pn,{className:"h-5 w-5 text-orange-600"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[p?.completionRate||0,"%"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Completion Rate"})]})]})})})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(oe,{children:"All Flows"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(Pe,{placeholder:"Search flows...",className:"pl-9 w-64",value:e,onChange:w=>t(w.target.value)})]}),n.jsxs(Xe,{value:r,onValueChange:a,children:[n.jsx(Ge,{className:"w-32",children:n.jsx(Qe,{placeholder:"Status"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"all",children:"All"}),n.jsx(ae,{value:"published",children:"Published"}),n.jsx(ae,{value:"draft",children:"Draft"}),n.jsx(ae,{value:"archived",children:"Archived"})]})]})]})]})}),n.jsx(Z,{children:n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Name"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{children:"Version"}),n.jsx(ne,{children:"Instances"}),n.jsx(ne,{children:"Completion Rate"}),n.jsx(ne,{children:"Last Updated"}),n.jsx(ne,{className:"text-right",children:"Actions"})]})}),n.jsxs(Lt,{children:[f?.flows?.map(w=>n.jsxs(Ve,{children:[n.jsx(te,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:w.name}),w.description&&n.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:w.description})]})}),n.jsx(te,{children:C(w.status)}),n.jsxs(te,{children:["v",w.version]}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-green-600",children:[w.activeInstances," active"]}),n.jsx("span",{className:"text-gray-400",children:"/"}),n.jsxs("span",{children:[w.totalInstances," total"]})]})}),n.jsx(te,{children:A(w)}),n.jsx(te,{children:new Date(w.updatedAt).toLocaleDateString()}),n.jsx(te,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(qo,{href:`/automation/flows/${w._id}/edit`,children:n.jsx(Y,{variant:"ghost",size:"sm",children:n.jsx(Es,{className:"h-4 w-4"})})}),w.status==="published"?n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>j.mutate(w._id),children:n.jsx(r_,{className:"h-4 w-4"})}):n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>v.mutate(w._id),children:n.jsx(Lh,{className:"h-4 w-4"})}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>N.mutate(w._id),children:n.jsx(Sc,{className:"h-4 w-4"})}),n.jsx(Y,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>y.mutate(w._id),children:n.jsx(hr,{className:"h-4 w-4"})})]})})]},w._id)),(!f?.flows||f.flows.length===0)&&n.jsx(Ve,{children:n.jsxs(te,{colSpan:7,className:"text-center py-12 text-gray-500",children:[n.jsx(ws,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No flows found"}),n.jsx("p",{className:"text-sm",children:"Create your first flow to start automating"})]})})]})]})})]})]})})}const m4e=({data:e})=>n.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-white border-2 border-yellow-500 min-w-[150px]",children:[n.jsxs("div",{className:"font-bold text-sm text-yellow-600 mb-1 flex items-center gap-1",children:[n.jsx(Yr,{className:"h-3 w-3"})," Trigger"]}),n.jsx("div",{className:"text-xs text-gray-500",children:e.label}),n.jsx(fr,{type:"source",position:et.Bottom,className:"w-3 h-3 bg-yellow-500"})]}),p4e=({data:e})=>n.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-white border border-blue-300 min-w-[150px]",children:[n.jsx(fr,{type:"target",position:et.Top,className:"w-3 h-3 bg-gray-400"}),n.jsxs("div",{className:"font-bold text-sm text-blue-600 mb-1 flex items-center gap-1",children:[n.jsx(qt,{className:"h-3 w-3"})," Message"]}),n.jsx("div",{className:"text-xs text-gray-500",children:e.label}),n.jsx(fr,{type:"source",position:et.Bottom,className:"w-3 h-3 bg-gray-400"})]}),x4e=({data:e})=>n.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-white border border-purple-300 min-w-[150px]",children:[n.jsx(fr,{type:"target",position:et.Top,className:"w-3 h-3 bg-gray-400"}),n.jsxs("div",{className:"font-bold text-sm text-purple-600 mb-1 flex items-center gap-1",children:[n.jsx(Ht,{className:"h-3 w-3"})," Delay"]}),n.jsx("div",{className:"text-xs text-gray-500",children:e.label}),n.jsx(fr,{type:"source",position:et.Bottom,className:"w-3 h-3 bg-gray-400"})]}),g4e=({data:e})=>n.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-white border border-orange-300 min-w-[150px] relative",children:[n.jsx(fr,{type:"target",position:et.Top,className:"w-3 h-3 bg-gray-400"}),n.jsxs("div",{className:"font-bold text-sm text-orange-600 mb-1 flex items-center gap-1",children:[n.jsx(ws,{className:"h-3 w-3"})," Condition"]}),n.jsx("div",{className:"text-xs text-gray-500",children:e.label}),n.jsxs("div",{className:"flex justify-between mt-2 text-[10px]",children:[n.jsx("span",{className:"text-green-600",children:"Yes"}),n.jsx("span",{className:"text-red-600",children:"No"})]}),n.jsx(fr,{type:"source",position:et.Bottom,id:"yes",className:"w-3 h-3 bg-green-500",style:{left:"25%"}}),n.jsx(fr,{type:"source",position:et.Bottom,id:"no",className:"w-3 h-3 bg-red-500",style:{left:"75%"}})]}),y4e=({data:e})=>n.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-white border border-green-300 min-w-[150px]",children:[n.jsx(fr,{type:"target",position:et.Top,className:"w-3 h-3 bg-gray-400"}),n.jsxs("div",{className:"font-bold text-sm text-green-600 mb-1 flex items-center gap-1",children:[n.jsx(Tg,{className:"h-3 w-3"})," Action"]}),n.jsx("div",{className:"text-xs text-gray-500",children:e.label}),n.jsx(fr,{type:"source",position:et.Bottom,className:"w-3 h-3 bg-gray-400"})]}),v4e={trigger:m4e,message:p4e,delay:x4e,condition:g4e,action:y4e},j4e=[{id:"1",type:"trigger",position:{x:250,y:0},data:{label:"Flow Started"}}],b4e=[];function _6(){const[,e]=DY("/automation/flows/:flowId/edit"),t=e?.flowId,[r,a,s]=jV(j4e),[i,l,u]=bV(b4e),[d,f]=b.useState(""),[m,p]=b.useState(""),[x,v]=b.useState(!1),[j,y]=b.useState("message"),[N,C]=b.useState(""),A=yn(),{data:w,isLoading:S}=Ie({queryKey:["/api/automation/flows",t],queryFn:async()=>{if(!t||t==="new")return null;const I=await fetch(`/api/automation/flows/${t}`,{headers:Ke()});if(!I.ok)throw new Error("Failed to fetch flow");return I.json()},enabled:!!t&&t!=="new"});b.useEffect(()=>{w&&(f(w.name||""),p(w.description||""),w.nodes&&w.nodes.length>0&&a(w.nodes),w.edges&&w.edges.length>0&&l(w.edges))},[w,a,l]);const E=qe({mutationFn:async()=>{const I={name:d,description:m,nodes:r,edges:i};if(t&&t!=="new"){const V=await fetch(`/api/automation/flows/${t}`,{method:"PUT",headers:{...Ke(),"Content-Type":"application/json"},body:JSON.stringify(I)});if(!V.ok)throw new Error("Failed to save flow");return V.json()}else{const V=await fetch("/api/automation/flows",{method:"POST",headers:{...Ke(),"Content-Type":"application/json"},body:JSON.stringify(I)});if(!V.ok)throw new Error("Failed to create flow");return V.json()}},onSuccess:()=>{A.invalidateQueries({queryKey:["/api/automation/flows"]}),re.success("Flow saved successfully")},onError:()=>re.error("Failed to save flow")}),O=qe({mutationFn:async()=>{if(!t||t==="new")throw new Error("Please save the flow first");const I=await fetch(`/api/automation/flows/${t}/publish`,{method:"POST",headers:Ke()});if(!I.ok){const V=await I.json();throw new Error(V.error||"Failed to publish flow")}return I.json()},onSuccess:()=>{A.invalidateQueries({queryKey:["/api/automation/flows"]}),re.success("Flow published")},onError:I=>re.error(I.message)}),M=b.useCallback(I=>l(V=>uT(I,V)),[l]),R=()=>{const I={id:`node-${Date.now()}`,type:j,position:{x:250,y:r.length*100},data:{label:N||`New ${j}`}};a(V=>[...V,I]),v(!1),C("")};return S?n.jsx(ct,{children:n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):n.jsx(ct,{children:n.jsxs("div",{className:"h-screen flex flex-col",children:[n.jsx("div",{className:"border-b bg-white p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(qo,{href:"/automation/flows",children:n.jsxs(Y,{variant:"ghost",size:"sm",children:[n.jsx(QC,{className:"h-4 w-4 mr-2"}),"Back"]})}),n.jsxs("div",{children:[n.jsx(Pe,{value:d,onChange:I=>f(I.target.value),placeholder:"Flow Name",className:"font-semibold text-lg border-none shadow-none focus-visible:ring-0 p-0 h-auto"}),n.jsx(Pe,{value:m,onChange:I=>p(I.target.value),placeholder:"Add description...",className:"text-sm text-gray-500 border-none shadow-none focus-visible:ring-0 p-0 h-auto"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ae,{variant:w?.status==="published"?"default":"secondary",children:w?.status||"draft"}),n.jsxs(Y,{variant:"outline",onClick:()=>v(!0),children:[n.jsx(An,{className:"h-4 w-4 mr-2"}),"Add Node"]}),n.jsxs(Y,{variant:"outline",onClick:()=>E.mutate(),children:[n.jsx(RF,{className:"h-4 w-4 mr-2"}),"Save"]}),n.jsxs(Y,{onClick:()=>O.mutate(),children:[n.jsx(Lh,{className:"h-4 w-4 mr-2"}),"Publish"]})]})]})}),n.jsx("div",{className:"flex-1",children:n.jsxs(vV,{nodes:r,edges:i,onNodesChange:s,onEdgesChange:u,onConnect:M,nodeTypes:v4e,fitView:!0,children:[n.jsx(AV,{}),n.jsx(_V,{}),n.jsx(NV,{variant:Gs.Dots,gap:12,size:1})]})}),n.jsx($t,{open:x,onOpenChange:v,children:n.jsxs(kt,{children:[n.jsx(Pt,{children:n.jsx(Rt,{children:"Add Node"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Node Type"}),n.jsxs(Xe,{value:j,onValueChange:y,children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"message",children:"Send Message"}),n.jsx(ae,{value:"delay",children:"Delay"}),n.jsx(ae,{value:"condition",children:"Condition"}),n.jsx(ae,{value:"action",children:"Action"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Label"}),n.jsx(Pe,{value:N,onChange:I=>C(I.target.value),placeholder:"Enter node label..."})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),n.jsx(Y,{onClick:R,children:"Add Node"})]})]})})]})})}function w4e(){const[e,t]=b.useState(""),[r,a]=b.useState("all"),[s,i]=b.useState(!1),[l,u]=b.useState(!1),[d,f]=b.useState(null),[m,p]=b.useState({name:"",messageType:"template",delayDays:0,delayHours:0,delayMinutes:0}),[x,v]=b.useState({name:"",description:"",targetType:"auto_trigger",deliveryMode:"template",defaultTemplateId:"",defaultTemplateName:"",defaultAiAgentId:"",defaultAiAgentName:"",autoTrigger:{enabled:!0,sources:[],sendImmediately:!0,initialMessage:""}}),j=yn(),{data:y,isLoading:N}=Ie({queryKey:["/api/automation/campaigns",r,e],queryFn:async()=>{const P=new URLSearchParams;r!=="all"&&P.append("status",r),e&&P.append("search",e);const U=await fetch(`/api/automation/campaigns?${P}`,{headers:Ke()});if(!U.ok)throw new Error("Failed to fetch campaigns");return U.json()}}),{data:C}=Ie({queryKey:["/api/automation/campaigns/stats"],queryFn:async()=>{const P=await fetch("/api/automation/campaigns/stats",{headers:Ke()});if(!P.ok)throw new Error("Failed to fetch stats");return P.json()}}),{data:A=[]}=Ie({queryKey:["/api/templates"],queryFn:async()=>{const P=await fetch("/api/templates",{headers:Ke()});if(!P.ok)throw new Error("Failed to fetch templates");return P.json()}}),{data:w=[]}=Ie({queryKey:["/api/agents"],queryFn:async()=>{const P=await fetch("/api/agents",{headers:Ke()});if(!P.ok)throw new Error("Failed to fetch agents");return P.json()}}),S=A.filter(P=>P.status==="approved"),E=w.filter(P=>P.isActive),O=P=>{const U=x.autoTrigger.sources,G=U.includes(P)?U.filter(B=>B!==P):[...U,P];v({...x,autoTrigger:{...x.autoTrigger,sources:G}})},M=qe({mutationFn:async P=>{const U=await fetch("/api/automation/campaigns",{method:"POST",headers:{...Ke(),"Content-Type":"application/json"},body:JSON.stringify(P)});if(!U.ok)throw new Error("Failed to create campaign");return U.json()},onSuccess:()=>{j.invalidateQueries({queryKey:["/api/automation/campaigns"]}),i(!1),v({name:"",description:"",targetType:"auto_trigger",deliveryMode:"template",defaultTemplateId:"",defaultTemplateName:"",defaultAiAgentId:"",defaultAiAgentName:"",autoTrigger:{enabled:!0,sources:[],sendImmediately:!0,initialMessage:""}}),re.success("Campaign created successfully")},onError:()=>re.error("Failed to create campaign")}),R=qe({mutationFn:async P=>{const U=await fetch(`/api/automation/campaigns/${P}/launch`,{method:"POST",headers:Ke()});if(!U.ok){const G=await U.json();throw new Error(G.error||"Failed to launch campaign")}return U.json()},onSuccess:()=>{j.invalidateQueries({queryKey:["/api/automation/campaigns"]}),re.success("Campaign launched")},onError:P=>re.error(P.message)}),I=qe({mutationFn:async P=>{const U=await fetch(`/api/automation/campaigns/${P}/pause`,{method:"POST",headers:Ke()});if(!U.ok)throw new Error("Failed to pause campaign");return U.json()},onSuccess:()=>{j.invalidateQueries({queryKey:["/api/automation/campaigns"]}),re.success("Campaign paused")}}),V=qe({mutationFn:async P=>{const U=await fetch(`/api/automation/campaigns/${P}/resume`,{method:"POST",headers:Ke()});if(!U.ok)throw new Error("Failed to resume campaign");return U.json()},onSuccess:()=>{j.invalidateQueries({queryKey:["/api/automation/campaigns"]}),re.success("Campaign resumed")}}),F=qe({mutationFn:async P=>{const U=await fetch(`/api/automation/campaigns/${P}`,{method:"DELETE",headers:Ke()});if(!U.ok)throw new Error("Failed to delete campaign");return U.json()},onSuccess:()=>{j.invalidateQueries({queryKey:["/api/automation/campaigns"]}),re.success("Campaign deleted")}}),H=qe({mutationFn:async({campaignId:P,step:U})=>{const G={id:`step_${Date.now()}`,order:d?.steps?.length||0,...U},B=await fetch(`/api/automation/campaigns/${P}/steps`,{method:"POST",headers:{...Ke(),"Content-Type":"application/json"},body:JSON.stringify(G)});if(!B.ok)throw new Error("Failed to add step");return B.json()},onSuccess:P=>{j.invalidateQueries({queryKey:["/api/automation/campaigns"]}),f(P),p({name:"",messageType:"template",delayDays:0,delayHours:0,delayMinutes:0}),re.success("Step added successfully")},onError:()=>re.error("Failed to add step")}),K=qe({mutationFn:async({campaignId:P,stepId:U})=>{const G=await fetch(`/api/automation/campaigns/${P}/steps/${U}`,{method:"DELETE",headers:Ke()});if(!G.ok)throw new Error("Failed to delete step");return G.json()},onSuccess:P=>{j.invalidateQueries({queryKey:["/api/automation/campaigns"]}),f(P),re.success("Step removed")},onError:()=>re.error("Failed to remove step")}),q=qe({mutationFn:async P=>{const U=await fetch(`/api/automation/campaigns/${P}/duplicate`,{method:"POST",headers:Ke()});if(!U.ok)throw new Error("Failed to duplicate campaign");return U.json()},onSuccess:()=>{j.invalidateQueries({queryKey:["/api/automation/campaigns"]}),re.success("Campaign duplicated")}}),$=P=>{switch(P){case"active":return n.jsx(Ae,{className:"bg-green-100 text-green-800",children:"Active"});case"paused":return n.jsx(Ae,{className:"bg-yellow-100 text-yellow-800",children:"Paused"});case"completed":return n.jsx(Ae,{className:"bg-blue-100 text-blue-800",children:"Completed"});case"archived":return n.jsx(Ae,{className:"bg-gray-100 text-gray-800",children:"Archived"});default:return n.jsx(Ae,{variant:"secondary",children:"Draft"})}},k=P=>P.metrics.totalSent===0?0:Math.round(P.metrics.totalDelivered/P.metrics.totalSent*100),D=P=>P.metrics.totalEnrolled===0?0:Math.round(P.metrics.totalConverted/P.metrics.totalEnrolled*100);return n.jsx(ct,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(xa,{className:"h-6 w-6 text-green-500"}),"Drip Campaigns"]}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Create and manage WhatsApp drip campaign sequences"})]}),n.jsxs($t,{open:s,onOpenChange:i,children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{children:[n.jsx(An,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})}),n.jsxs(kt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Create Drip Campaign"}),n.jsx(Dn,{children:"Set up an auto-triggered message sequence"})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Campaign Name"}),n.jsx(Pe,{placeholder:"e.g., Initial Trigger Sequence",value:x.name,onChange:P=>v({...x,name:P.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Target Type"}),n.jsxs(Xe,{value:x.targetType,onValueChange:P=>v({...x,targetType:P}),children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"auto_trigger",children:"Auto Trigger"}),n.jsx(ae,{value:"interest",children:"Interest-based"}),n.jsx(ae,{value:"segment",children:"Segment"}),n.jsx(ae,{value:"tag",children:"Tag-based"}),n.jsx(ae,{value:"manual",children:"Manual Selection"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Description"}),n.jsx(cn,{placeholder:"Describe the campaign objective...",value:x.description,onChange:P=>v({...x,description:P.target.value})})]}),n.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[n.jsxs(de,{className:"flex items-center gap-2 text-base font-semibold",children:[n.jsx(Yr,{className:"h-4 w-4 text-yellow-500"}),"Auto-Trigger Settings"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose when this campaign should automatically trigger and send messages"}),n.jsxs("div",{className:"space-y-3 pt-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wn,{id:"trigger-interested",checked:x.autoTrigger.sources.includes("interest_interested"),onCheckedChange:()=>O("interest_interested")}),n.jsxs("label",{htmlFor:"trigger-interested",className:"flex items-center gap-2 text-sm cursor-pointer",children:[n.jsx(Wo,{className:"h-4 w-4 text-green-600"}),"User shows interest (interested)"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wn,{id:"trigger-not-interested",checked:x.autoTrigger.sources.includes("interest_not_interested"),onCheckedChange:()=>O("interest_not_interested")}),n.jsxs("label",{htmlFor:"trigger-not-interested",className:"flex items-center gap-2 text-sm cursor-pointer",children:[n.jsx(Vo,{className:"h-4 w-4 text-red-600"}),"User not interested (follow-up)"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wn,{id:"trigger-neutral",checked:x.autoTrigger.sources.includes("interest_neutral"),onCheckedChange:()=>O("interest_neutral")}),n.jsxs("label",{htmlFor:"trigger-neutral",className:"flex items-center gap-2 text-sm cursor-pointer",children:[n.jsx(Ih,{className:"h-4 w-4 text-yellow-600"}),"User neutral (nurture)"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wn,{id:"trigger-facebook",checked:x.autoTrigger.sources.includes("facebook_new_lead"),onCheckedChange:()=>O("facebook_new_lead")}),n.jsxs("label",{htmlFor:"trigger-facebook",className:"flex items-center gap-2 text-sm cursor-pointer",children:[n.jsx($d,{className:"h-4 w-4 text-blue-600"}),"New Facebook lead"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wn,{id:"trigger-new-message",checked:x.autoTrigger.sources.includes("new_message"),onCheckedChange:()=>O("new_message")}),n.jsxs("label",{htmlFor:"trigger-new-message",className:"flex items-center gap-2 text-sm cursor-pointer",children:[n.jsx(qt,{className:"h-4 w-4 text-purple-600"}),"Any new message"]})]})]})]}),n.jsxs("div",{className:"space-y-3 p-4 border rounded-lg",children:[n.jsx(de,{className:"text-base font-semibold",children:"Message Delivery Mode"}),n.jsxs(Xe,{value:x.deliveryMode,onValueChange:P=>v({...x,deliveryMode:P}),children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"template",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Yn,{className:"h-4 w-4"}),"Template Messages"]})}),n.jsx(ae,{value:"ai_agent",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4"}),"AI Agent Responses"]})}),n.jsx(ae,{value:"mixed",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(qt,{className:"h-4 w-4"}),"Mixed (Template + AI)"]})})]})]}),(x.deliveryMode==="template"||x.deliveryMode==="mixed")&&n.jsxs("div",{className:"space-y-2 pt-2",children:[n.jsx(de,{children:"Default Template"}),n.jsxs(Xe,{value:x.defaultTemplateId,onValueChange:P=>{const U=S.find(G=>G.id===P);v({...x,defaultTemplateId:P,defaultTemplateName:U?.name||""})},children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select a template"})}),n.jsx(Ye,{children:S.map(P=>n.jsx(ae,{value:P.id,children:P.name},P.id))})]})]}),(x.deliveryMode==="ai_agent"||x.deliveryMode==="mixed")&&n.jsxs("div",{className:"space-y-2 pt-2",children:[n.jsx(de,{children:"Default AI Agent"}),n.jsxs(Xe,{value:x.defaultAiAgentId,onValueChange:P=>{const U=E.find(G=>G.id===P);v({...x,defaultAiAgentId:P,defaultAiAgentName:U?.name||""})},children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select an AI agent"})}),n.jsx(Ye,{children:E.map(P=>n.jsx(ae,{value:P.id,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4"}),P.name]})},P.id))})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[n.jsx(Wn,{id:"send-immediately",checked:x.autoTrigger.sendImmediately,onCheckedChange:P=>v({...x,autoTrigger:{...x.autoTrigger,sendImmediately:P===!0}})}),n.jsx("label",{htmlFor:"send-immediately",className:"text-sm cursor-pointer",children:"Send first message immediately when triggered (otherwise follow schedule)"})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),n.jsx(Y,{onClick:()=>M.mutate(x),disabled:!x.name||x.autoTrigger.sources.length===0,children:"Create Campaign"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(xa,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:C?.totalCampaigns||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Campaigns"})]})]})})}),n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Za,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:C?.activeCampaigns||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Active"})]})]})})}),n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Yt,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:C?.totalEnrolled||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Enrolled"})]})]})})}),n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(ks,{className:"h-5 w-5 text-orange-600"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[C?.overallConversionRate||0,"%"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Conversion Rate"})]})]})})})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(oe,{children:"All Campaigns"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(Pe,{placeholder:"Search campaigns...",className:"pl-9 w-64",value:e,onChange:P=>t(P.target.value)})]}),n.jsxs(Xe,{value:r,onValueChange:a,children:[n.jsx(Ge,{className:"w-32",children:n.jsx(Qe,{placeholder:"Status"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"all",children:"All"}),n.jsx(ae,{value:"active",children:"Active"}),n.jsx(ae,{value:"paused",children:"Paused"}),n.jsx(ae,{value:"draft",children:"Draft"}),n.jsx(ae,{value:"completed",children:"Completed"})]})]})]})]})}),n.jsx(Z,{children:n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Campaign"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{children:"Steps"}),n.jsx(ne,{children:"Enrolled"}),n.jsx(ne,{children:"Performance"}),n.jsx(ne,{children:"Conversion"}),n.jsx(ne,{className:"text-right",children:"Actions"})]})}),n.jsxs(Lt,{children:[y?.campaigns?.map(P=>n.jsxs(Ve,{children:[n.jsx(te,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:P.name}),P.description&&n.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:P.description})]})}),n.jsx(te,{children:$(P.status)}),n.jsxs(te,{children:[P.steps?.length||0," steps"]}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{children:P.metrics.totalEnrolled}),n.jsxs("span",{className:"text-green-600 text-sm",children:["(",P.metrics.activeContacts," active)"]})]})}),n.jsx(te,{children:n.jsx("div",{className:"space-y-1",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Delivery:"}),n.jsx(ur,{value:k(P),className:"w-20 h-2"}),n.jsxs("span",{children:[k(P),"%"]})]})})}),n.jsx(te,{children:n.jsxs(Ae,{variant:"outline",className:"text-green-600",children:[D(P),"%"]})}),n.jsx(te,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>{f(P),u(!0)},title:"Manage steps",children:n.jsx(Es,{className:"h-4 w-4"})}),P.status==="draft"?n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>R.mutate(P._id),title:"Launch campaign",children:n.jsx(Za,{className:"h-4 w-4"})}):P.status==="active"?n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>I.mutate(P._id),title:"Pause campaign",children:n.jsx(r_,{className:"h-4 w-4"})}):P.status==="paused"?n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>V.mutate(P._id),title:"Resume campaign",children:n.jsx(Za,{className:"h-4 w-4"})}):null,n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>q.mutate(P._id),title:"Duplicate",children:n.jsx(Sc,{className:"h-4 w-4"})}),n.jsx(Y,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>F.mutate(P._id),title:"Delete",children:n.jsx(hr,{className:"h-4 w-4"})})]})})]},P._id)),(!y?.campaigns||y.campaigns.length===0)&&n.jsx(Ve,{children:n.jsxs(te,{colSpan:7,className:"text-center py-12 text-gray-500",children:[n.jsx(xa,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No campaigns found"}),n.jsx("p",{className:"text-sm",children:"Create your first drip campaign"})]})})]})]})})]}),n.jsx($t,{open:l,onOpenChange:P=>{u(P),P||f(null)},children:n.jsxs(kt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Pt,{children:[n.jsxs(Rt,{children:["Manage Steps - ",d?.name]}),n.jsx(Dn,{children:"Add and configure message steps for this campaign. Each step sends a message after a delay."})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[d?.steps&&d.steps.length>0?n.jsxs("div",{className:"space-y-3",children:[n.jsxs(de,{className:"text-base font-semibold",children:["Current Steps (",d.steps.length,")"]}),d.steps.map((P,U)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-muted/30",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold text-sm shrink-0",children:U+1}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium",children:P.name||`Step ${U+1}`}),n.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[n.jsx(Ae,{variant:"outline",className:"text-xs",children:P.messageType==="ai_agent"?n.jsxs(n.Fragment,{children:[n.jsx(Ct,{className:"h-3 w-3 mr-1"}),"AI Agent"]}):P.messageType==="template"?n.jsxs(n.Fragment,{children:[n.jsx(Yn,{className:"h-3 w-3 mr-1"}),"Template"]}):n.jsxs(n.Fragment,{children:[n.jsx(qt,{className:"h-3 w-3 mr-1"}),"Text"]})}),n.jsxs("span",{children:["Delay: ",P.delayDays||0,"d ",P.delayHours||0,"h ",P.delayMinutes||0,"m"]})]})]}),n.jsx(Y,{variant:"ghost",size:"sm",className:"text-red-600 shrink-0",onClick:()=>K.mutate({campaignId:d._id,stepId:P.id}),children:n.jsx(hr,{className:"h-4 w-4"})})]},P.id))]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(qt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No steps added yet"}),n.jsx("p",{className:"text-sm",children:"Add your first step below"})]}),n.jsxs("div",{className:"border-t pt-4 space-y-4",children:[n.jsx(de,{className:"text-base font-semibold",children:"Add New Step"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Step Name"}),n.jsx(Pe,{placeholder:"e.g., Welcome Message",value:m.name||"",onChange:P=>p({...m,name:P.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Message Type"}),n.jsxs(Xe,{value:m.messageType,onValueChange:P=>p({...m,messageType:P}),children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"template",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Yn,{className:"h-4 w-4"}),"Template"]})}),n.jsx(ae,{value:"ai_agent",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4"}),"AI Agent"]})}),n.jsx(ae,{value:"text",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(qt,{className:"h-4 w-4"}),"Text Message"]})})]})]})]})]}),m.messageType==="template"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select Template"}),n.jsxs(Xe,{value:m.templateId||"",onValueChange:P=>{const U=S.find(G=>G.id===P);p({...m,templateId:P,templateName:U?.name||""})},children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Choose a template"})}),n.jsx(Ye,{children:S.map(P=>n.jsx(ae,{value:P.id,children:P.name},P.id))})]})]}),m.messageType==="ai_agent"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Select AI Agent"}),n.jsxs(Xe,{value:m.aiAgentId||"",onValueChange:P=>{const U=E.find(G=>G.id===P);p({...m,aiAgentId:P,aiAgentName:U?.name||""})},children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Choose an AI agent"})}),n.jsx(Ye,{children:E.map(P=>n.jsx(ae,{value:P.id,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4"}),P.name]})},P.id))})]})]}),m.messageType==="text"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Message Content"}),n.jsx(cn,{placeholder:"Enter your message text...",value:m.textContent||"",onChange:P=>p({...m,textContent:P.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Delay Before Sending"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(de,{className:"text-xs text-muted-foreground",children:"Days"}),n.jsx(Pe,{type:"number",min:0,value:m.delayDays||0,onChange:P=>p({...m,delayDays:parseInt(P.target.value)||0})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(de,{className:"text-xs text-muted-foreground",children:"Hours"}),n.jsx(Pe,{type:"number",min:0,max:23,value:m.delayHours||0,onChange:P=>p({...m,delayHours:parseInt(P.target.value)||0})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(de,{className:"text-xs text-muted-foreground",children:"Minutes"}),n.jsx(Pe,{type:"number",min:0,max:59,value:m.delayMinutes||0,onChange:P=>p({...m,delayMinutes:parseInt(P.target.value)||0})})]})]})]}),n.jsxs(Y,{onClick:()=>{d&&m.name&&H.mutate({campaignId:d._id,step:m})},disabled:!m.name||H.isPending,className:"w-full",children:[n.jsx(An,{className:"h-4 w-4 mr-2"}),"Add Step"]})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>u(!1),children:"Close"}),d?.status==="draft"&&d?.steps?.length>0&&n.jsxs(Y,{onClick:()=>{R.mutate(d._id),u(!1)},children:[n.jsx(Za,{className:"h-4 w-4 mr-2"}),"Launch Campaign"]})]})]})})]})})}function N4e(){const[e,t]=b.useState(""),[r,a]=b.useState("all"),[s,i]=b.useState(!1),[l,u]=b.useState({name:"",description:"",type:"dynamic",refreshStrategy:"hourly"}),d=yn(),{data:f,isLoading:m}=Ie({queryKey:["/api/automation/segments",r,e],queryFn:async()=>{const w=new URLSearchParams;r!=="all"&&w.append("type",r),e&&w.append("search",e);const S=await fetch(`/api/automation/segments?${w}`,{headers:Ke()});if(!S.ok)throw new Error("Failed to fetch segments");return S.json()}}),{data:p}=Ie({queryKey:["/api/automation/segments/stats"],queryFn:async()=>{const w=await fetch("/api/automation/segments/stats",{headers:Ke()});if(!w.ok)throw new Error("Failed to fetch stats");return w.json()}}),x=qe({mutationFn:async w=>{const S=await fetch("/api/automation/segments",{method:"POST",headers:{...Ke(),"Content-Type":"application/json"},body:JSON.stringify({...w,ruleGroup:{logic:"AND",rules:[]}})});if(!S.ok)throw new Error("Failed to create segment");return S.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automation/segments"]}),i(!1),u({name:"",description:"",type:"dynamic",refreshStrategy:"hourly"}),re.success("Segment created successfully")},onError:()=>re.error("Failed to create segment")}),v=qe({mutationFn:async w=>{const S=await fetch(`/api/automation/segments/${w}/refresh`,{method:"POST",headers:Ke()});if(!S.ok)throw new Error("Failed to refresh segment");return S.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automation/segments"]}),re.success("Segment refreshed")}}),j=qe({mutationFn:async w=>{const S=await fetch(`/api/automation/segments/${w}`,{method:"DELETE",headers:Ke()});if(!S.ok)throw new Error("Failed to delete segment");return S.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automation/segments"]}),re.success("Segment deleted")}}),y=qe({mutationFn:async w=>{const S=await fetch(`/api/automation/segments/${w}/duplicate`,{method:"POST",headers:Ke()});if(!S.ok)throw new Error("Failed to duplicate segment");return S.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automation/segments"]}),re.success("Segment duplicated")}}),N=w=>{switch(w){case"dynamic":return n.jsx(Ae,{className:"bg-blue-100 text-blue-800",children:"Dynamic"});default:return n.jsx(Ae,{variant:"secondary",children:"Static"})}},C=w=>{switch(w){case"active":return n.jsx(Ae,{className:"bg-green-100 text-green-800",children:"Active"});case"computing":return n.jsx(Ae,{className:"bg-yellow-100 text-yellow-800",children:"Computing"});default:return n.jsx(Ae,{variant:"secondary",children:"Inactive"})}},A=w=>w.usedInTriggers+w.usedInFlows+w.usedInCampaigns;return n.jsx(ct,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Yt,{className:"h-6 w-6 text-purple-500"}),"User Segments"]}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Create and manage dynamic user groups for targeting"})]}),n.jsxs($t,{open:s,onOpenChange:i,children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{children:[n.jsx(An,{className:"h-4 w-4 mr-2"}),"Create Segment"]})}),n.jsxs(kt,{children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Create New Segment"}),n.jsx(Dn,{children:"Define a new user segment for targeting"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Segment Name"}),n.jsx(Pe,{placeholder:"e.g., Active Subscribers",value:l.name,onChange:w=>u({...l,name:w.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Description"}),n.jsx(cn,{placeholder:"Describe this segment...",value:l.description,onChange:w=>u({...l,description:w.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Type"}),n.jsxs(Xe,{value:l.type,onValueChange:w=>u({...l,type:w}),children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"dynamic",children:"Dynamic (auto-updates)"}),n.jsx(ae,{value:"static",children:"Static (manual members)"})]})]})]}),l.type==="dynamic"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Refresh Strategy"}),n.jsxs(Xe,{value:l.refreshStrategy,onValueChange:w=>u({...l,refreshStrategy:w}),children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"realtime",children:"Real-time"}),n.jsx(ae,{value:"hourly",children:"Hourly"}),n.jsx(ae,{value:"daily",children:"Daily"}),n.jsx(ae,{value:"manual",children:"Manual"})]})]})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),n.jsx(Y,{onClick:()=>x.mutate(l),disabled:!l.name,children:"Create Segment"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Yt,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:p?.totalSegments||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Segments"})]})]})})}),n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx($m,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:p?.dynamicSegments||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Dynamic"})]})]})})}),n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Yt,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:p?.totalMembers||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Members"})]})]})})}),n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(Ht,{className:"h-5 w-5 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:p?.avgMembersPerSegment||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Avg Members"})]})]})})})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(oe,{children:"All Segments"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(Pe,{placeholder:"Search segments...",className:"pl-9 w-64",value:e,onChange:w=>t(w.target.value)})]}),n.jsxs(Xe,{value:r,onValueChange:a,children:[n.jsx(Ge,{className:"w-32",children:n.jsx(Qe,{placeholder:"Type"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"all",children:"All"}),n.jsx(ae,{value:"dynamic",children:"Dynamic"}),n.jsx(ae,{value:"static",children:"Static"})]})]})]})]})}),n.jsx(Z,{children:n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Segment"}),n.jsx(ne,{children:"Type"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{children:"Members"}),n.jsx(ne,{children:"Used In"}),n.jsx(ne,{children:"Last Refresh"}),n.jsx(ne,{className:"text-right",children:"Actions"})]})}),n.jsxs(Lt,{children:[f?.segments?.map(w=>n.jsxs(Ve,{children:[n.jsx(te,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:w.name}),w.description&&n.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:w.description})]})}),n.jsx(te,{children:N(w.type)}),n.jsx(te,{children:C(w.status)}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{children:w.memberCount})]})}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[w.usedInTriggers>0&&n.jsxs(Ae,{variant:"outline",className:"flex items-center gap-1",children:[n.jsx(Yr,{className:"h-3 w-3"}),w.usedInTriggers]}),w.usedInFlows>0&&n.jsxs(Ae,{variant:"outline",className:"flex items-center gap-1",children:[n.jsx(ws,{className:"h-3 w-3"}),w.usedInFlows]}),w.usedInCampaigns>0&&n.jsxs(Ae,{variant:"outline",className:"flex items-center gap-1",children:[n.jsx(xa,{className:"h-3 w-3"}),w.usedInCampaigns]}),A(w)===0&&n.jsx("span",{className:"text-gray-400 text-sm",children:"Not used"})]})}),n.jsx(te,{children:w.lastRefreshedAt?new Date(w.lastRefreshedAt).toLocaleString():"Never"}),n.jsx(te,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[w.type==="dynamic"&&n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>v.mutate(w._id),disabled:w.status==="computing",children:n.jsx(gn,{className:`h-4 w-4 ${w.status==="computing"?"animate-spin":""}`})}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>y.mutate(w._id),children:n.jsx(Sc,{className:"h-4 w-4"})}),n.jsx(Y,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>j.mutate(w._id),children:n.jsx(hr,{className:"h-4 w-4"})})]})})]},w._id)),(!f?.segments||f.segments.length===0)&&n.jsx(Ve,{children:n.jsxs(te,{colSpan:7,className:"text-center py-12 text-gray-500",children:[n.jsx(Yt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No segments found"}),n.jsx("p",{className:"text-sm",children:"Create your first segment to start targeting users"})]})})]})]})})]})]})})}function S4e(){const[e,t]=b.useState("7d"),[r,a]=b.useState("overview"),{data:s}=Ie({queryKey:["/api/automation/analytics/triggers",e],queryFn:async()=>{const j=await fetch("/api/automation/analytics/triggers",{headers:Ke()});return j.ok?j.json():{triggers:[]}}}),{data:i}=Ie({queryKey:["/api/automation/analytics/flows",e],queryFn:async()=>{const j=await fetch("/api/automation/analytics/flows",{headers:Ke()});return j.ok?j.json():{flows:[]}}}),{data:l}=Ie({queryKey:["/api/automation/analytics/campaigns",e],queryFn:async()=>{const j=await fetch("/api/automation/analytics/campaigns",{headers:Ke()});return j.ok?j.json():{campaigns:[]}}}),{data:u,refetch:d}=Ie({queryKey:["/api/automation/analytics/insights"],queryFn:async()=>{const j=await fetch("/api/automation/analytics/insights",{headers:Ke()});return j.ok?j.json():[]}}),{data:f}=Ie({queryKey:["/api/automation/analytics/heatmap"],queryFn:async()=>{const j=await fetch("/api/automation/analytics/heatmap?period=week",{headers:Ke()});return j.ok?j.json():null}}),m=qe({mutationFn:async()=>{const j=await fetch("/api/automation/analytics/insights/generate",{method:"POST",headers:Ke()});if(!j.ok)throw new Error("Failed to generate insights");return j.json()},onSuccess:()=>{d(),re.success("AI insights generated")},onError:()=>re.error("Failed to generate insights")}),p=qe({mutationFn:async j=>{const y=await fetch("/api/automation/analytics/export",{method:"POST",headers:{...Ke(),"Content-Type":"application/json"},body:JSON.stringify({reportType:"overall",format:j})});if(!y.ok)throw new Error("Failed to export");return y.json()},onSuccess:j=>{re.success(`Report exported: ${j.filename}`)},onError:()=>re.error("Failed to export report")}),x=j=>{switch(j){case"positive":return"bg-green-100 text-green-800";case"warning":return"bg-yellow-100 text-yellow-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}},v=j=>{switch(j){case"actioned":return n.jsx(Pn,{className:"h-4 w-4 text-green-500"});case"dismissed":return n.jsx(Li,{className:"h-4 w-4 text-gray-400"});case"viewed":return n.jsx(ma,{className:"h-4 w-4 text-blue-500"});default:return n.jsx(Tu,{className:"h-4 w-4 text-yellow-500"})}};return n.jsx(ct,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(_s,{className:"h-6 w-6"}),"Automation Analytics"]}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Performance metrics and AI-powered insights"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Xe,{value:e,onValueChange:t,children:[n.jsx(Ge,{className:"w-32",children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"24h",children:"Last 24h"}),n.jsx(ae,{value:"7d",children:"Last 7 days"}),n.jsx(ae,{value:"30d",children:"Last 30 days"}),n.jsx(ae,{value:"90d",children:"Last 90 days"})]})]}),n.jsxs(Y,{variant:"outline",onClick:()=>p.mutate("csv"),children:[n.jsx(Or,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),n.jsxs(rr,{value:r,onValueChange:a,children:[n.jsxs(Zn,{children:[n.jsx(lt,{value:"overview",children:"Overview"}),n.jsx(lt,{value:"triggers",children:"Triggers"}),n.jsx(lt,{value:"flows",children:"Flows"}),n.jsx(lt,{value:"campaigns",children:"Campaigns"}),n.jsx(lt,{value:"insights",children:"AI Insights"})]}),n.jsxs(ft,{value:"overview",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:n.jsx(Yr,{className:"h-5 w-5 text-yellow-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:s?.triggers?.length||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Active Triggers"})]})]})})}),n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(ws,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:i?.flows?.length||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Active Flows"})]})]})})}),n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(xa,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:l?.campaigns?.length||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Active Campaigns"})]})]})})}),n.jsx(Q,{children:n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Tu,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:u?.filter(j=>j.status==="new").length||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"New Insights"})]})]})})})]}),f&&n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Engagement Heatmap"}),n.jsx(Le,{children:"Activity distribution by day and hour"})]}),n.jsx(Z,{children:n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(_s,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Heatmap visualization will appear here"}),n.jsx("p",{className:"text-sm",children:"Based on automation engagement data"})]})})]})]}),n.jsx(ft,{value:"triggers",className:"space-y-4",children:n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Trigger Performance"}),n.jsx(Le,{children:"Execution metrics for all triggers"})]}),n.jsx(Z,{children:s?.triggers&&s.triggers.length>0?n.jsx("div",{className:"space-y-4",children:s.triggers.map(j=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:j.triggerName}),n.jsxs("div",{className:"text-sm text-gray-500",children:[j.executions," executions"]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm",children:"Success Rate"}),n.jsxs("div",{className:"font-bold text-green-600",children:[j.successRate,"%"]})]}),n.jsx(ur,{value:j.successRate,className:"w-24"})]})]},j.triggerId))}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Yr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No trigger data available"})]})})]})}),n.jsx(ft,{value:"flows",className:"space-y-4",children:n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Flow Performance"}),n.jsx(Le,{children:"Completion metrics for all flows"})]}),n.jsx(Z,{children:i?.flows&&i.flows.length>0?n.jsx("div",{className:"space-y-4",children:i.flows.map(j=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:j.flowName}),n.jsxs("div",{className:"text-sm text-gray-500",children:[j.instances," instances"]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm",children:"Completion Rate"}),n.jsxs("div",{className:"font-bold text-blue-600",children:[j.completionRate,"%"]})]}),n.jsx(ur,{value:j.completionRate,className:"w-24"})]})]},j.flowId))}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ws,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No flow data available"})]})})]})}),n.jsx(ft,{value:"campaigns",className:"space-y-4",children:n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Campaign Performance"}),n.jsx(Le,{children:"Delivery and engagement metrics"})]}),n.jsx(Z,{children:l?.campaigns&&l.campaigns.length>0?n.jsx("div",{className:"space-y-4",children:l.campaigns.map(j=>n.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"font-medium",children:j.campaignName}),n.jsxs(Ae,{variant:"outline",children:[j.enrolled," enrolled"]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Sent"}),n.jsx("div",{className:"font-medium",children:j.sent})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Delivered"}),n.jsxs("div",{className:"font-medium text-green-600",children:[j.deliveryRate,"%"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Read"}),n.jsxs("div",{className:"font-medium text-blue-600",children:[j.readRate,"%"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Converted"}),n.jsxs("div",{className:"font-medium text-purple-600",children:[j.conversionRate,"%"]})]})]})]},j.campaignId))}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xa,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No campaign data available"})]})})]})}),n.jsx(ft,{value:"insights",className:"space-y-4",children:n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Tu,{className:"h-5 w-5 text-yellow-500"}),"AI-Powered Insights"]}),n.jsx(Le,{children:"Recommendations based on your automation data"})]}),n.jsxs(Y,{onClick:()=>m.mutate(),disabled:m.isPending,children:[n.jsx(gn,{className:`h-4 w-4 mr-2 ${m.isPending?"animate-spin":""}`}),"Generate Insights"]})]})}),n.jsx(Z,{children:u&&u.length>0?n.jsx("div",{className:"space-y-4",children:u.map(j=>n.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[v(j.status),n.jsx(Ae,{className:x(j.severity),children:j.severity}),n.jsx(Ae,{variant:"outline",children:j.scope})]}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(j.createdAt).toLocaleDateString()})]}),n.jsx("h4",{className:"font-medium",children:j.title}),n.jsx("p",{className:"text-sm text-gray-600",children:j.description}),j.suggestedActions&&j.suggestedActions.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1",children:"Suggested Actions:"}),n.jsx("ul",{className:"text-sm space-y-1",children:j.suggestedActions.map((y,N)=>n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx(wh,{className:"h-3 w-3 text-gray-400"}),y]},N))})]})]},j._id))}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Tu,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No insights available"}),n.jsx("p",{className:"text-sm mt-1",children:'Click "Generate Insights" to get AI-powered recommendations'})]})})]})})]})]})})}function A4e(){const e=yn(),[t,r]=b.useState(""),[a,s]=b.useState("interested"),[i,l]=b.useState(null),[u,d]=b.useState(!1),[f,m]=b.useState(""),[p,x]=b.useState(!1),{data:v,isLoading:j}=Ie({queryKey:["/api/automation/interest/lists"],queryFn:async()=>{const E=await fetch("/api/automation/interest/lists",{headers:Ke()});if(!E.ok)throw new Error("Failed to fetch interest lists");return E.json()}}),{data:y}=Ie({queryKey:["/api/automation/drips"],queryFn:async()=>{const E=await fetch("/api/automation/drips",{headers:Ke()});if(!E.ok)throw new Error("Failed to fetch campaigns");return(await E.json()).campaigns||[]}}),{data:N}=Ie({queryKey:["/api/automation/interest/report"],queryFn:async()=>{const E=await fetch("/api/automation/interest/report?days=7",{headers:Ke()});if(!E.ok)throw new Error("Failed to fetch report");return E.json()}}),C=qe({mutationFn:async({contactId:E,status:O})=>{const M=await fetch(`/api/automation/interest/contacts/${E}`,{method:"PUT",headers:{...Ke(),"Content-Type":"application/json"},body:JSON.stringify({status:O})});if(!M.ok)throw new Error("Failed to classify contact");return M.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/automation/interest/lists"]}),re.success("Contact classified successfully")},onError:E=>{re.error(E.message)}}),A=()=>{if(!v)return[];const E=v[a]||[];return t?E.filter(O=>O.name.toLowerCase().includes(t.toLowerCase())||O.phone.includes(t)):E},w=v?.stats||{total:0,interested:0,notInterested:0,neutral:0,pending:0},S=[{value:"interested",label:"Interested",count:w.interested,icon:Wo,color:"text-green-600"},{value:"notInterested",label:"Not Interested",count:w.notInterested,icon:Vo,color:"text-red-600"},{value:"neutral",label:"Neutral",count:w.neutral,icon:Ih,color:"text-yellow-600"},{value:"pending",label:"Pending",count:w.pending,icon:Ht,color:"text-gray-500"}];return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Interest-Based Lists"}),n.jsx("p",{className:"text-muted-foreground",children:"Contacts from 24-hour window classified by interest level"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Y,{variant:"outline",onClick:()=>x(!0),children:[n.jsx(_s,{className:"h-4 w-4 mr-2"}),"View Report"]}),n.jsxs(Y,{onClick:()=>e.invalidateQueries({queryKey:["/api/automation/interest/lists"]}),children:[n.jsx(gn,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Total Contacts"}),n.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:w.total}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"In 24-hour window"})]})]}),n.jsxs(Q,{className:"border-green-200 bg-green-50/50",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Interested"}),n.jsx(Wo,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:w.interested}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.total>0?Math.round(w.interested/w.total*100):0,"% of total"]})]})]}),n.jsxs(Q,{className:"border-red-200 bg-red-50/50",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Not Interested"}),n.jsx(Vo,{className:"h-4 w-4 text-red-600"})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:w.notInterested}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.total>0?Math.round(w.notInterested/w.total*100):0,"% of total"]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Conversion Rate"}),n.jsx(ks,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Z,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[N?.conversionRate||0,"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Not interested  Interested"})]})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(oe,{children:"Contact Lists"}),n.jsx(Le,{children:"View and manage contacts by interest level. Assign drip campaigns to engage them."})]}),n.jsxs("div",{className:"relative w-64",children:[n.jsx(Qn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search contacts...",value:t,onChange:E=>r(E.target.value),className:"pl-10"})]})]})}),n.jsx(Z,{children:n.jsxs(rr,{value:a,onValueChange:s,children:[n.jsx(Zn,{className:"mb-4",children:S.map(E=>n.jsxs(lt,{value:E.value,className:"gap-2",children:[n.jsx(E.icon,{className:`h-4 w-4 ${E.color}`}),E.label,n.jsx(Ae,{variant:"secondary",className:"ml-1",children:E.count})]},E.value))}),S.map(E=>n.jsx(ft,{value:E.value,children:j?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsx(as,{className:"h-[400px]",children:n.jsx("div",{className:"space-y-2",children:A().length===0?n.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No contacts in this category"}):A().map(O=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Yt,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:O.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:O.phone})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[O.interestConfidence&&n.jsxs(Ae,{variant:"outline",children:[Math.round(O.interestConfidence*100),"% confidence"]}),n.jsxs(Xe,{value:O.interestStatus,onValueChange:M=>C.mutate({contactId:O.id,status:M}),children:[n.jsx(Ge,{className:"w-[140px]",children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"interested",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Wo,{className:"h-4 w-4 text-green-600"}),"Interested"]})}),n.jsx(ae,{value:"not_interested",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Vo,{className:"h-4 w-4 text-red-600"}),"Not Interested"]})}),n.jsx(ae,{value:"neutral",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Ih,{className:"h-4 w-4 text-yellow-600"}),"Neutral"]})})]})]})]})]},O.id))})})},E.value))]})})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Yr,{className:"h-5 w-5"}),"Interest-Based Drip Campaigns"]}),n.jsx(Le,{children:"Campaigns targeting contacts by interest level with auto-enrollment"})]}),n.jsx(Z,{children:n.jsx("div",{className:"space-y-3",children:y?.filter(E=>E.targetType==="interest").length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Ou,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No interest-based campaigns yet"}),n.jsx("p",{className:"text-sm",children:"Create a drip campaign targeting interested or not interested contacts"})]}):y?.filter(E=>E.targetType==="interest").map(E=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:E.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(Ae,{variant:E.status==="active"?"default":"secondary",children:E.status}),E.interestTargeting?.targetInterestLevels.map(O=>n.jsx(Ae,{variant:"outline",className:"capitalize",children:O.replace("_"," ")},O))]})]}),n.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[n.jsxs("p",{children:[E.metrics.totalEnrolled," enrolled"]}),n.jsxs("p",{children:[E.metrics.activeContacts," active"]})]})]},E._id))})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(qt,{className:"h-5 w-5"}),"Top Interest Keywords"]}),n.jsx(Le,{children:"Most common keywords that indicate interest level"})]}),n.jsx(Z,{children:n.jsx("div",{className:"space-y-3",children:N?.topKeywords?.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Qn,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No keywords detected yet"})]}):N?.topKeywords?.slice(0,8).map((E,O)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm font-medium text-muted-foreground w-5",children:[O+1,"."]}),n.jsx(Ae,{variant:"outline",children:E.keyword})]}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[E.count," times"]})]},E.keyword))})})]})]}),n.jsx($t,{open:p,onOpenChange:x,children:n.jsxs(kt,{className:"max-w-3xl",children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Interest Classification Report"}),n.jsx(Dn,{children:"Last 7 days of interest classification activity"})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:N?.distribution?.map(E=>n.jsx(Q,{children:n.jsxs(Z,{className:"pt-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:E.status.replace("_"," ")}),n.jsx("p",{className:"text-2xl font-bold",children:E.count}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.percentage,"%"]})]})},E.status))}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsx(oe,{className:"text-base",children:"Campaign Performance"})}),n.jsx(Z,{children:N?.campaignPerformance?.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No campaign data yet"}):n.jsx("div",{className:"space-y-3",children:N?.campaignPerformance?.map(E=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[n.jsx("span",{className:"font-medium",children:E.name}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("span",{children:[E.enrolled," enrolled"]}),n.jsxs("span",{className:"text-green-600",children:[E.converted," converted"]}),n.jsxs("span",{className:"text-muted-foreground",children:[E.enrolled>0?Math.round(E.converted/E.enrolled*100):0,"% rate"]})]})]},E.campaignId))})})]})]})]})})]})})}const C4e={MessageCircle:ki,Facebook:$d,Sparkles:_J,Bot:Ct,Mail:xa,CreditCard:MF};function _4e(e){return C4e[e]||ki}function E4e(e){return{messaging:"bg-green-600",social:"bg-blue-600",ai:"bg-purple-600",marketing:"bg-orange-600",payment:"bg-emerald-600",crm:"bg-indigo-600"}[e]||"bg-gray-600"}function T4e(e){if(!e)return null;switch(e){case"connected":return n.jsxs(Ae,{className:"bg-green-100 text-green-800",children:[n.jsx(Pn,{className:"w-3 h-3 mr-1"})," Connected"]});case"error":return n.jsxs(Ae,{className:"bg-red-100 text-red-800",children:[n.jsx(Li,{className:"w-3 h-3 mr-1"})," Error"]});case"pending":return n.jsxs(Ae,{className:"bg-yellow-100 text-yellow-800",children:[n.jsx(el,{className:"w-3 h-3 mr-1"})," Pending"]});case"expired":return n.jsxs(Ae,{className:"bg-orange-100 text-orange-800",children:[n.jsx(el,{className:"w-3 h-3 mr-1"})," Expired"]});default:return null}}function O4e(){const[e,t]=b.useState(""),[r,a]=b.useState(null),[s,i]=b.useState({}),[l,u]=b.useState(!1),[d,f]=b.useState(null),{toast:m}=Ki(),p=yn(),{data:x,isLoading:v}=Ie({queryKey:["/api/integrations/connections/status"],queryFn:async()=>{const S=await fetch("/api/integrations/connections/status",{headers:Ke()});if(!S.ok)throw new Error("Failed to fetch connections");return(await S.json()).map(O=>O.provider.id==="whatsapp"?{...O,isConnected:!0,connection:{id:"conn_whatsapp_demo",userId:"user_123",providerId:"whatsapp",providerName:"WhatsApp",status:"connected",credentials:{},metadata:{displayPhoneNumber:"+1 (555) 123-4567",verifiedName:"Your Business",phoneNumberId:"848441401690739",whatsappBusinessAccountId:"3646219455517188"},isDefault:!0,lastVerifiedAt:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}:O.provider.id==="facebook"?{...O,isConnected:!0,connection:{id:"conn_facebook_demo",userId:"user_123",providerId:"facebook",providerName:"Facebook",status:"connected",credentials:{},metadata:{verifiedName:"Life changing Networks",pageId:"123456789012345"},isDefault:!1,lastVerifiedAt:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}:O.isConnected?O:{...O,isConnected:!1,connection:null})}}),j=qe({mutationFn:async S=>{const E=await fetch("/api/integrations/connect",{method:"POST",headers:{"Content-Type":"application/json",...Ke()},body:JSON.stringify(S)}),O=await E.json();if(!E.ok)throw new Error(O.error||"Connection failed");return O},onSuccess:S=>{m({title:"Connected Successfully",description:S.message||"Your account has been connected."}),p.invalidateQueries({queryKey:["/api/integrations/connections/status"]}),a(null),i({})},onError:S=>{m({title:"Connection Failed",description:S.message,variant:"destructive"})}}),y=qe({mutationFn:async S=>{const E=await fetch(`/api/integrations/connections/${S}`,{method:"DELETE",headers:Ke()});if(!E.ok){const O=await E.json();throw new Error(O.error||"Disconnect failed")}return E.json()},onSuccess:()=>{m({title:"Disconnected",description:"The integration has been disconnected."}),p.invalidateQueries({queryKey:["/api/integrations/connections/status"]}),f(null)},onError:S=>{m({title:"Disconnect Failed",description:S.message,variant:"destructive"})}}),N=qe({mutationFn:async S=>(await fetch(`/api/integrations/connections/${S}/verify`,{method:"POST",headers:Ke()})).json(),onSuccess:S=>{m({title:S.success?"Verification Successful":"Verification Failed",description:S.message,variant:S.success?"default":"destructive"}),p.invalidateQueries({queryKey:["/api/integrations/connections/status"]})}}),C=async()=>{if(r){for(const S of r.requiredFields)if(!s[S.key]){m({title:"Missing Required Field",description:`Please enter ${S.label}`,variant:"destructive"});return}u(!0);try{await j.mutateAsync({providerId:r.id,credentials:s})}finally{u(!1)}}},A=x?.filter(S=>S.provider.name.toLowerCase().includes(e.toLowerCase())||S.provider.description.toLowerCase().includes(e.toLowerCase()))||[],w=Array.from(new Set(A.map(S=>S.provider.category)));return n.jsxs(ct,{children:[n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Connected Apps"}),n.jsx("p",{className:"text-muted-foreground",children:"Connect your business accounts and services to enable features."})]}),n.jsxs("div",{className:"relative w-full max-w-md",children:[n.jsx(Qn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search integrations...",className:"pl-9",value:e,onChange:S=>t(S.target.value)})]}),v?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):w.map(S=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold capitalize",children:S}),n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:A.filter(E=>E.provider.category===S).map(({provider:E,connection:O,isConnected:M})=>{const R=_4e(E.icon);return n.jsxs(Q,{className:"hover:shadow-md transition-shadow relative",children:[O&&n.jsx("div",{className:"absolute top-4 right-4",children:T4e(O.status)}),n.jsxs(ie,{className:"flex flex-row items-start gap-4",children:[n.jsx("div",{className:`h-12 w-12 rounded-lg flex items-center justify-center text-white ${E4e(E.category)}`,children:n.jsx(R,{className:"h-6 w-6"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(oe,{className:"text-base",children:E.name}),E.documentationUrl&&n.jsxs("a",{href:E.documentationUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline flex items-center gap-1 mt-1",children:["View Docs ",n.jsx(Dh,{className:"w-3 h-3"})]})]})]}),n.jsxs(Z,{className:"space-y-4",children:[n.jsx(Le,{className:"h-10",children:E.description}),O?.status==="connected"&&O.metadata&&n.jsxs("div",{className:"text-xs text-muted-foreground bg-muted p-2 rounded",children:[O.metadata.displayPhoneNumber&&n.jsxs("p",{children:["Phone: ",O.metadata.displayPhoneNumber]}),O.metadata.verifiedName&&n.jsxs("p",{children:["Name: ",O.metadata.verifiedName]}),O.metadata.phoneNumberId&&n.jsxs("p",{children:["Phone number ID: ",O.metadata.phoneNumberId]}),O.metadata.whatsappBusinessAccountId&&n.jsxs("p",{children:["WhatsApp Business Account ID: ",O.metadata.whatsappBusinessAccountId]}),O.lastVerifiedAt&&n.jsxs("p",{children:["Verified: ",new Date(O.lastVerifiedAt).toLocaleDateString()]})]}),O?.status==="error"&&O.errorMessage&&n.jsx("p",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:O.errorMessage}),!M&&n.jsx("p",{className:"text-xs text-muted-foreground italic",children:"API credentials required to connect."}),n.jsx("div",{className:"flex gap-2",children:M?n.jsxs(n.Fragment,{children:[n.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>O&&N.mutate(O.id),disabled:N.isPending,children:[n.jsx(gn,{className:`w-4 h-4 mr-1 ${N.isPending?"animate-spin":""}`}),"Verify"]}),n.jsxs(Y,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>O&&f(O.id),children:[n.jsx(hr,{className:"w-4 h-4 mr-1"}),"Disconnect"]})]}):n.jsx(Y,{className:"w-full",onClick:()=>{a(E),i({})},children:"Connect"})})]})]},E.id)})})]},S))]}),n.jsx($t,{open:!!r,onOpenChange:S=>!S&&a(null),children:n.jsxs(kt,{className:"sm:max-w-lg",children:[n.jsxs(Pt,{children:[n.jsxs(Rt,{children:["Connect ",r?.name]}),n.jsxs(Dn,{children:["Enter your credentials to connect ",r?.name,". Your credentials are encrypted and stored securely."]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[r?.requiredFields.map(S=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{htmlFor:S.key,children:[S.label," *"]}),S.type==="select"&&S.options?n.jsxs(Xe,{value:s[S.key]||"",onValueChange:E=>i(O=>({...O,[S.key]:E})),children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:S.placeholder||`Select ${S.label}`})}),n.jsx(Ye,{children:S.options.map(E=>n.jsx(ae,{value:E.value,children:E.label},E.value))})]}):n.jsx(Pe,{id:S.key,type:S.type,placeholder:S.placeholder,value:s[S.key]||"",onChange:E=>i(O=>({...O,[S.key]:E.target.value}))}),S.helpText&&n.jsx("p",{className:"text-xs text-muted-foreground",children:S.helpText})]},S.key)),r?.optionalFields&&r.optionalFields.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-t pt-4 mt-4",children:n.jsx("p",{className:"text-sm font-medium mb-3",children:"Optional Settings"})}),r.optionalFields.map(S=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:S.key,children:S.label}),S.type==="select"&&S.options?n.jsxs(Xe,{value:s[S.key]||"",onValueChange:E=>i(O=>({...O,[S.key]:E})),children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:S.placeholder||`Select ${S.label}`})}),n.jsx(Ye,{children:S.options.map(E=>n.jsx(ae,{value:E.value,children:E.label},E.value))})]}):n.jsx(Pe,{id:S.key,type:S.type,placeholder:S.placeholder,value:s[S.key]||"",onChange:E=>i(O=>({...O,[S.key]:E.target.value}))}),S.helpText&&n.jsx("p",{className:"text-xs text-muted-foreground",children:S.helpText})]},S.key))]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>a(null),children:"Cancel"}),n.jsx(Y,{onClick:C,disabled:l,children:l?n.jsxs(n.Fragment,{children:[n.jsx(We,{className:"w-4 h-4 mr-2 animate-spin"}),"Connecting..."]}):"Connect"})]})]})}),n.jsx($t,{open:!!d,onOpenChange:S=>!S&&f(null),children:n.jsxs(kt,{children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Disconnect Integration"}),n.jsx(Dn,{children:"Are you sure you want to disconnect this integration? This will remove the stored credentials and may affect features that depend on it."})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>f(null),children:"Cancel"}),n.jsx(Y,{variant:"destructive",onClick:()=>d&&y.mutate(d),disabled:y.isPending,children:y.isPending?"Disconnecting...":"Disconnect"})]})]})})]})}function M4e(){const[,e]=il(),t=yn(),[r,a]=b.useState(""),[s,i]=b.useState(""),[l,u]=b.useState("en_US"),[d,f]=b.useState("none"),[m,p]=b.useState(""),[x,v]=b.useState(""),[j,y]=b.useState(null),[N,C]=b.useState(""),[A,w]=b.useState(""),S=b.useRef(null),E=I=>{const V=I.target.files?.[0];if(V){if(V.size>5*1024*1024){re.error("Image must be less than 5MB");return}y(V);const F=new FileReader;F.onload=H=>{v(H.target?.result)},F.readAsDataURL(V)}},O=()=>{v(""),y(null),S.current&&(S.current.value="")},M=qe({mutationFn:async I=>{const V=await fetch("/api/templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!V.ok){const F=await V.json();throw new Error(F.error||"Failed to create template")}return V.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/templates"]}),re.success("Template created successfully!"),e("/templates/manage")},onError:I=>{re.error(I.message)}}),R=()=>{if(!r.trim()){re.error("Please enter a template name");return}if(!s){re.error("Please select a category");return}if(!N.trim()){re.error("Please enter body text");return}const I=r.toLowerCase().replace(/[^a-z0-9_]/g,"_");M.mutate({name:I,category:s,language:l,headerType:d==="none"?null:d,headerText:d==="text"?m:null,content:N,footer:A||null,status:"pending"})};return n.jsxs(ct,{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Add New Template"}),n.jsxs(Q,{className:"mt-4 border-blue-200 bg-blue-50/50 dark:bg-blue-950/20 dark:border-blue-900",children:[n.jsx(ie,{className:"pb-3",children:n.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[n.jsx(Nh,{className:"h-5 w-5 text-blue-600"}),"WhatsApp Template Rules & Guidelines"]})}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx(Pn,{className:"h-4 w-4 text-green-600"}),"Allowed Content"]}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 pl-6 list-disc",children:[n.jsx("li",{children:"Transaction confirmations (orders, bookings)"}),n.jsx("li",{children:"Account updates and notifications"}),n.jsx("li",{children:"Customer service responses"}),n.jsx("li",{children:"One-time passwords (OTP)"}),n.jsx("li",{children:"Appointment reminders"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx(Go,{className:"h-4 w-4 text-red-600"}),"Not Allowed"]}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 pl-6 list-disc",children:[n.jsx("li",{children:"Promotional content without opt-in"}),n.jsx("li",{children:"Adult or gambling content"}),n.jsx("li",{children:"Misleading or spam messages"}),n.jsx("li",{children:"Political content"}),n.jsx("li",{children:"Cryptocurrency promotions"})]})]})]}),n.jsxs(Zo,{children:[n.jsx(Nh,{className:"h-4 w-4"}),n.jsx(km,{children:"Approval Process"}),n.jsxs(Jo,{children:["Templates must be approved by Meta before use. Marketing templates may take 24-48 hours. Utility and authentication templates are usually approved faster.",n.jsxs("a",{href:"https://developers.facebook.com/docs/whatsapp/message-templates/guidelines",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 ml-2 text-blue-600 hover:underline",children:["View Full Guidelines ",n.jsx(Dh,{className:"h-3 w-3"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsx("div",{children:n.jsx("p",{className:"text-muted-foreground",children:"Create a WhatsApp message template for approval"})}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Template Details"}),n.jsx(Le,{children:"Fill in the details for your new template"})]}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{htmlFor:"name",children:"Template Name *"}),n.jsx(Pe,{id:"name",placeholder:"e.g., welcome_message_v2",value:r,onChange:I=>a(I.target.value)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Use lowercase letters, numbers, and underscores only"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Category *"}),n.jsxs(Xe,{value:s,onValueChange:i,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select category"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"marketing",children:"Marketing"}),n.jsx(ae,{value:"utility",children:"Utility"}),n.jsx(ae,{value:"authentication",children:"Authentication"})]})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Language"}),n.jsxs(Xe,{value:l,onValueChange:u,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select language"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"en_US",children:"English (US)"}),n.jsx(ae,{value:"en_GB",children:"English (UK)"}),n.jsx(ae,{value:"es_ES",children:"Spanish"}),n.jsx(ae,{value:"hi",children:"Hindi"}),n.jsx(ae,{value:"pt_BR",children:"Portuguese (Brazil)"})]})]})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Header (Optional)"}),n.jsxs(Xe,{value:d,onValueChange:f,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"None"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"none",children:"None"}),n.jsx(ae,{value:"text",children:"Text"}),n.jsx(ae,{value:"image",children:"Image"}),n.jsx(ae,{value:"video",children:"Video"}),n.jsx(ae,{value:"document",children:"Document"})]})]})]}),d==="text"&&n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Header Text"}),n.jsx(Pe,{placeholder:"Enter header text",value:m,onChange:I=>p(I.target.value)})]}),d==="image"&&n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Header Image"}),n.jsx("input",{type:"file",ref:S,onChange:E,accept:".png,.jpg,.jpeg,.gif,.webp,image/png,image/jpeg,image/gif,image/webp",className:"hidden"}),x?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:x,alt:"Header preview",className:"w-full h-40 object-cover rounded-lg border"}),n.jsx(Y,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:O,children:n.jsx(Wi,{className:"h-4 w-4"})})]}):n.jsxs("div",{onClick:()=>S.current?.click(),onDragOver:I=>{I.preventDefault(),I.stopPropagation()},onDrop:I=>{I.preventDefault(),I.stopPropagation();const V=I.dataTransfer.files?.[0];if(V&&V.type.startsWith("image/")){if(V.size>5*1024*1024){re.error("Image must be less than 5MB");return}y(V);const F=new FileReader;F.onload=H=>{v(H.target?.result)},F.readAsDataURL(V)}else re.error("Please drop a valid image file")},className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:border-primary hover:bg-muted/50 transition-colors",children:[n.jsx(Lh,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Click to upload or drag and drop"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG, JPEG, GIF, WebP (max 5MB)"})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{htmlFor:"body",children:"Body Text *"}),n.jsx(cn,{id:"body",placeholder:"Enter your message here. Use {{1}}, {{2}} for variables.",className:"min-h-[120px]",value:N,onChange:I=>C(I.target.value)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Use ","{{1}}",", ","{{2}}"," etc. for dynamic variables"]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Footer (Optional)"}),n.jsx(Pe,{placeholder:"e.g., Reply STOP to unsubscribe",value:A,onChange:I=>w(I.target.value)})]}),n.jsx(Y,{className:"w-full",onClick:R,disabled:M.isPending,children:M.isPending?n.jsxs(n.Fragment,{children:[n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Template..."]}):"Create Template"})]})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs(oe,{className:"text-base flex items-center gap-2",children:[n.jsx(Nh,{className:"h-4 w-4"}),"Template Guidelines"]})}),n.jsxs(Z,{className:"text-sm space-y-3 text-muted-foreground",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Pn,{className:"h-4 w-4 mt-0.5 text-green-500 shrink-0"}),n.jsx("span",{children:"Template names must be lowercase with underscores"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Pn,{className:"h-4 w-4 mt-0.5 text-green-500 shrink-0"}),n.jsx("span",{children:"Marketing templates need clear opt-out option"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Pn,{className:"h-4 w-4 mt-0.5 text-green-500 shrink-0"}),n.jsx("span",{children:"Avoid promotional language in Utility templates"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Pn,{className:"h-4 w-4 mt-0.5 text-green-500 shrink-0"}),n.jsx("span",{children:"Use variables for personalization"})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{className:"text-base",children:"Phone Preview"}),n.jsx(Le,{children:"See how your template will look on WhatsApp"})]}),n.jsx(Z,{children:n.jsx(DC,{headerType:d==="none"?void 0:d,headerText:m,headerImage:x,body:N,footer:A})})]})]})]})]})]})}function k4e(){const{data:e,isLoading:t,refetch:r,isRefetching:a,error:s}=Ie({queryKey:["/api/templates/meta"],queryFn:async()=>{const m=await Nn("/api/templates/meta");if(!m.ok){const p=await m.json();throw new Error(p.message||"Failed to fetch templates from Meta")}return m.json()},refetchOnWindowFocus:!1}),i=()=>{r(),re.info("Refreshing templates from Facebook...")},l=m=>{switch(m.toLowerCase()){case"approved":return n.jsxs(Ae,{className:"bg-green-500 hover:bg-green-600",children:[n.jsx(Pn,{className:"mr-1 h-3 w-3"}),"Approved"]});case"rejected":return n.jsxs(Ae,{variant:"destructive",children:[n.jsx(Li,{className:"mr-1 h-3 w-3"}),"Rejected"]});case"pending":return n.jsxs(Ae,{variant:"secondary",children:[n.jsx(Ht,{className:"mr-1 h-3 w-3"}),"Pending"]});case"in_appeal":return n.jsxs(Ae,{className:"bg-yellow-500 hover:bg-yellow-600",children:[n.jsx(Go,{className:"mr-1 h-3 w-3"}),"In Appeal"]});default:return n.jsx(Ae,{variant:"outline",children:m})}},u=m=>{const p={marketing:"bg-purple-100 text-purple-700 border-purple-200",utility:"bg-blue-100 text-blue-700 border-blue-200",authentication:"bg-orange-100 text-orange-700 border-orange-200"};return n.jsx(Ae,{variant:"outline",className:p[m.toLowerCase()]||"",children:m})},d=e?.templates||[],f=e?.summary||{total:0,approved:0,pending:0,rejected:0};return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[n.jsx(kF,{className:"h-8 w-8 text-blue-600"}),"Template Status (Live from Facebook)"]}),n.jsx("p",{className:"text-muted-foreground",children:"View real-time approval status directly from Meta/Facebook"})]}),n.jsxs(Y,{variant:"outline",onClick:i,disabled:a,children:[a?n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(gn,{className:"mr-2 h-4 w-4"}),"Refresh from Facebook"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Total Templates"})}),n.jsx(Z,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yn,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("span",{className:"text-2xl font-bold",children:f.total})]})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Approved"})}),n.jsx(Z,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pn,{className:"h-5 w-5 text-green-500"}),n.jsx("span",{className:"text-2xl font-bold text-green-600",children:f.approved})]})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Pending Review"})}),n.jsx(Z,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"h-5 w-5 text-yellow-500"}),n.jsx("span",{className:"text-2xl font-bold text-yellow-600",children:f.pending})]})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Rejected"})}),n.jsx(Z,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Li,{className:"h-5 w-5 text-red-500"}),n.jsx("span",{className:"text-2xl font-bold text-red-600",children:f.rejected})]})})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Templates from Meta"}),n.jsx(Le,{children:"Live data fetched directly from your WhatsApp Business Account on Facebook"})]}),n.jsx(Z,{children:t?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Go,{className:"h-12 w-12 mx-auto mb-4 text-orange-500"}),n.jsx("h3",{className:"font-medium text-lg mb-2",children:"Unable to fetch templates"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:s.message||"Please configure your WhatsApp credentials in Settings."}),n.jsxs(Y,{variant:"outline",onClick:()=>r(),children:[n.jsx(gn,{className:"mr-2 h-4 w-4"}),"Try Again"]})]}):d.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(Yn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"font-medium",children:"No templates found"}),n.jsx("p",{className:"text-sm",children:"Create templates in the Meta Business Suite to see them here."})]}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Template Name"}),n.jsx(ne,{children:"Category"}),n.jsx(ne,{children:"Language"}),n.jsx(ne,{children:"Content Preview"}),n.jsx(ne,{children:"Status"})]})}),n.jsx(Lt,{children:d.map(m=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:m.name}),n.jsx(te,{children:u(m.category)}),n.jsx(te,{children:n.jsx(Ae,{variant:"outline",children:m.language})}),n.jsx(te,{className:"max-w-[300px] truncate text-muted-foreground",children:m.content||m.header||"(No content)"}),n.jsx(te,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[l(m.status),m.rejectedReason&&n.jsxs("span",{className:"text-xs text-red-500 mt-1",children:["Reason: ",m.rejectedReason]})]})})]},m.id))})]})})]})]})})}function P4e(){const[e,t]=b.useState(!1),[r,a]=b.useState(!1),[s,i]=b.useState(null),[l,u]=b.useState({name:"",category:"utility",content:"",variables:""}),d=yn(),{data:f=[],isLoading:m}=Ie({queryKey:["/api/templates"],queryFn:async()=>{const M=await fetch("/api/templates");if(!M.ok)throw new Error("Failed to fetch templates");return M.json()}}),p=qe({mutationFn:async()=>{const M=await fetch("/api/templates/sync-meta",{method:"POST"}),R=await M.json();if(!M.ok)throw new Error(R.error||R.message||"Failed to sync templates");return R},onSuccess:M=>{d.invalidateQueries({queryKey:["/api/templates"]});const R=M.approvedTemplates?.length>0?`Approved: ${M.approvedTemplates.join(", ")}`:"No approved templates found";re.success(M.message||`Synced ${M.synced||0} templates from Meta`,{description:R,duration:5e3})},onError:M=>{re.error("Failed to sync META templates",{description:M.message,duration:5e3})}}),x=qe({mutationFn:async M=>{const R=await fetch("/api/templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(!R.ok)throw new Error("Failed to create template");return R.json()},onSuccess:M=>{d.invalidateQueries({queryKey:["/api/templates"]}),a(!1),N(),re.success("Template created successfully!",{description:"Click 'Submit' button to send it to Meta for approval.",duration:4e3})},onError:()=>{re.error("Failed to create template")}}),v=qe({mutationFn:async M=>{const R=await fetch(`/api/templates/${M}/submit-approval`,{method:"POST"}),I=await R.json();if(!R.ok)throw new Error(I.error||I.message||"Failed to submit for approval");return I},onSuccess:M=>{d.invalidateQueries({queryKey:["/api/templates"]}),re.success(M.message||"Template submitted to Meta for approval!",{description:M.metaTemplateName?`Template name in Meta: ${M.metaTemplateName}`:void 0,duration:5e3})},onError:M=>{re.error("Failed to submit template",{description:M.message,duration:5e3})}}),j=qe({mutationFn:async({id:M,data:R})=>{const I=await fetch(`/api/templates/${M}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(!I.ok)throw new Error("Failed to update template");return I.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/templates"]}),t(!1),i(null),re.success("Template updated successfully")},onError:()=>{re.error("Failed to update template")}}),y=qe({mutationFn:async M=>{if(!(await fetch(`/api/templates/${M}`,{method:"DELETE"})).ok)throw new Error("Failed to delete template")},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/templates"]}),re.success("Template deleted successfully")},onError:()=>{re.error("Failed to delete template")}}),N=()=>{u({name:"",category:"utility",content:"",variables:""})},C=M=>{i(M),u({name:M.name,category:M.category,content:M.content,variables:M.variables.join(", ")}),t(!0)},A=()=>{x.mutate({name:l.name,category:l.category,content:l.content,variables:l.variables.split(",").map(M=>M.trim()).filter(Boolean)})},w=()=>{s&&j.mutate({id:s.id,data:{name:l.name,category:l.category,content:l.content,variables:l.variables.split(",").map(M=>M.trim()).filter(Boolean),status:"pending"}})},S=M=>{navigator.clipboard.writeText(M),re.success("Template content copied to clipboard")},E=M=>{switch(M){case"approved":return"default";case"pending":return"secondary";case"rejected":return"destructive";default:return"secondary"}},O=M=>new Date(M).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return n.jsxs(ct,{children:[n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Manage Templates"}),n.jsx("p",{className:"text-muted-foreground",children:"Create and manage your WhatsApp message templates."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Y,{variant:"outline",onClick:()=>p.mutate(),disabled:p.isPending,children:[p.isPending?n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(gn,{className:"mr-2 h-4 w-4"}),"Sync META Templates"]}),n.jsxs(Y,{onClick:()=>{N(),a(!0)},children:[n.jsx(An,{className:"mr-2 h-4 w-4"}),"Create Template"]})]})]}),n.jsxs(Q,{className:"border-blue-200 bg-blue-50/50 dark:bg-blue-950/20 dark:border-blue-900",children:[n.jsx(ie,{className:"pb-3",children:n.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[n.jsx(Nh,{className:"h-5 w-5 text-blue-600"}),"WhatsApp Template Rules & Guidelines"]})}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx(Pn,{className:"h-4 w-4 text-green-600"}),"Allowed Content"]}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 pl-6 list-disc",children:[n.jsx("li",{children:"Transaction confirmations (orders, bookings)"}),n.jsx("li",{children:"Account updates and notifications"}),n.jsx("li",{children:"Customer service responses"}),n.jsx("li",{children:"One-time passwords (OTP)"}),n.jsx("li",{children:"Appointment reminders"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx(Go,{className:"h-4 w-4 text-red-600"}),"Not Allowed"]}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 pl-6 list-disc",children:[n.jsx("li",{children:"Promotional content without opt-in"}),n.jsx("li",{children:"Adult or gambling content"}),n.jsx("li",{children:"Misleading or spam messages"}),n.jsx("li",{children:"Political content"}),n.jsx("li",{children:"Cryptocurrency promotions"})]})]})]}),n.jsxs(Zo,{children:[n.jsx(Nh,{className:"h-4 w-4"}),n.jsx(km,{children:"Approval Process"}),n.jsxs(Jo,{children:["Templates must be approved by Meta before use. Marketing templates may take 24-48 hours. Utility and authentication templates are usually approved faster.",n.jsxs("a",{href:"https://developers.facebook.com/docs/whatsapp/message-templates/guidelines",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 ml-2 text-blue-600 hover:underline",children:["View Full Guidelines ",n.jsx(Dh,{className:"h-3 w-3"})]})]})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"All Templates"}),n.jsxs(Le,{children:[f.length," template",f.length!==1?"s":""," in your library. Note that editing an approved template will require re-approval."]})]}),n.jsx(Z,{children:m?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):f.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No templates yet. Create your first template or sync from Meta to get started."}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Name"}),n.jsx(ne,{children:"Category"}),n.jsx(ne,{children:"Language"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{children:"Variables"}),n.jsx(ne,{children:"Last Updated"}),n.jsx(ne,{className:"text-right",children:"Actions"})]})}),n.jsx(Lt,{children:f.map(M=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:M.name}),n.jsx(te,{children:n.jsx(Ae,{variant:"outline",className:"capitalize",children:M.category})}),n.jsx(te,{children:M.language||"en"}),n.jsx(te,{children:n.jsx(Ae,{variant:E(M.metaStatus?.toLowerCase()||M.status),className:"capitalize",children:M.metaStatus?.toLowerCase()||M.status})}),n.jsx(te,{children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.variables.slice(0,3).map(R=>n.jsx(Ae,{variant:"secondary",className:"text-xs",children:`{{${R}}}`},R)),M.variables.length>3&&n.jsxs(Ae,{variant:"secondary",className:"text-xs",children:["+",M.variables.length-3]})]})}),n.jsx(te,{className:"text-muted-foreground",children:O(M.updatedAt)}),n.jsx(te,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(M.metaStatus?.toLowerCase()||M.status)==="pending"&&!M.metaTemplateId&&n.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>v.mutate(M.id),disabled:v.isPending,children:[n.jsx(nr,{className:"mr-1 h-3 w-3"}),"Submit"]}),n.jsxs(ol,{children:[n.jsx(ll,{asChild:!0,children:n.jsx(Y,{variant:"ghost",size:"icon",children:n.jsx(JC,{className:"h-4 w-4"})})}),n.jsxs(Gi,{align:"end",children:[n.jsxs(Bn,{onClick:()=>S(M.content),children:[n.jsx(Sc,{className:"mr-2 h-4 w-4"}),"Copy Content"]}),n.jsxs(Bn,{onClick:()=>C(M),children:[n.jsx(Es,{className:"mr-2 h-4 w-4"}),"Edit"]}),n.jsxs(Bn,{className:"text-destructive",onClick:()=>y.mutate(M.id),children:[n.jsx(hr,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},M.id))})]})})]})]}),n.jsx($t,{open:r,onOpenChange:a,children:n.jsxs(kt,{className:"max-w-2xl",children:[n.jsx(Pt,{children:n.jsx(Rt,{children:"Create Template"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs(Zo,{className:"bg-yellow-50 border-yellow-200 dark:bg-yellow-950/20",children:[n.jsx(Go,{className:"h-4 w-4 text-yellow-600"}),n.jsx(Jo,{className:"text-sm",children:"This template will be submitted to Meta for approval. Approval may take up to 24-48 hours for marketing templates."})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Template Name *"}),n.jsx(Pe,{placeholder:"welcome_message",value:l.name,onChange:M=>u({...l,name:M.target.value.toLowerCase().replace(/\s+/g,"_")})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Use lowercase with underscores (no spaces)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Category *"}),n.jsxs(Xe,{value:l.category,onValueChange:M=>u({...l,category:M}),children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"marketing",children:"Marketing (Promotional)"}),n.jsx(ae,{value:"utility",children:"Utility (Transactional)"}),n.jsx(ae,{value:"authentication",children:"Authentication (OTP)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Message Content *"}),n.jsx(cn,{placeholder:"Hello {{name}}, welcome to our service!",value:l.content,onChange:M=>u({...l,content:M.target.value}),rows:5}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Use ","{{variable}}"," syntax for dynamic content. Max 1024 characters."]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Variables (comma-separated)"}),n.jsx(Pe,{placeholder:"name, order_id, delivery_date",value:l.variables,onChange:M=>u({...l,variables:M.target.value})})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),n.jsxs(Y,{onClick:A,disabled:x.isPending||!l.name||!l.content,children:[x.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Create & Submit for Approval"]})]})]})}),n.jsx($t,{open:e,onOpenChange:t,children:n.jsxs(kt,{className:"max-w-2xl",children:[n.jsx(Pt,{children:n.jsx(Rt,{children:"Edit Template"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[s?.status==="approved"&&n.jsxs(Zo,{className:"bg-yellow-50 border-yellow-200 dark:bg-yellow-950/20",children:[n.jsx(Go,{className:"h-4 w-4 text-yellow-600"}),n.jsx(Jo,{className:"text-sm",children:"Editing this approved template will require re-approval from Meta."})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Template Name"}),n.jsx(Pe,{value:l.name,onChange:M=>u({...l,name:M.target.value.toLowerCase().replace(/\s+/g,"_")})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Category"}),n.jsxs(Xe,{value:l.category,onValueChange:M=>u({...l,category:M}),children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"marketing",children:"Marketing"}),n.jsx(ae,{value:"utility",children:"Utility"}),n.jsx(ae,{value:"authentication",children:"Authentication"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Message Content"}),n.jsx(cn,{value:l.content,onChange:M=>u({...l,content:M.target.value}),rows:5})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Variables (comma-separated)"}),n.jsx(Pe,{value:l.variables,onChange:M=>u({...l,variables:M.target.value})})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(Y,{onClick:w,disabled:j.isPending||!l.name||!l.content,children:[j.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Save & Resubmit"]})]})]})})]})}var FV=["PageUp","PageDown"],qV=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zV={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ef="Slider",[IC,R4e,D4e]=Im(ef),[BV]=Qr(ef,[D4e]),[I4e,O0]=BV(ef),UV=b.forwardRef((e,t)=>{const{name:r,min:a=0,max:s=100,step:i=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[a],value:m,onValueChange:p=()=>{},onValueCommit:x=()=>{},inverted:v=!1,form:j,...y}=e,N=b.useRef(new Set),C=b.useRef(0),w=l==="horizontal"?L4e:$4e,[S=[],E]=Cs({prop:m,defaultProp:f,onChange:F=>{[...N.current][C.current]?.focus(),p(F)}}),O=b.useRef(S);function M(F){const H=U4e(S,F);V(F,H)}function R(F){V(F,C.current)}function I(){const F=O.current[C.current];S[C.current]!==F&&x(S)}function V(F,H,{commit:K}={commit:!1}){const q=W4e(i),$=G4e(Math.round((F-a)/i)*i+a,q),k=Nm($,[a,s]);E((D=[])=>{const P=z4e(D,k,H);if(V4e(P,d*i)){C.current=P.indexOf(k);const U=String(P)!==String(D);return U&&K&&x(P),U?P:D}else return D})}return n.jsx(I4e,{scope:e.__scopeSlider,name:r,disabled:u,min:a,max:s,valueIndexToChangeRef:C,thumbs:N.current,values:S,orientation:l,form:j,children:n.jsx(IC.Provider,{scope:e.__scopeSlider,children:n.jsx(IC.Slot,{scope:e.__scopeSlider,children:n.jsx(w,{"aria-disabled":u,"data-disabled":u?"":void 0,...y,ref:t,onPointerDown:Be(y.onPointerDown,()=>{u||(O.current=S)}),min:a,max:s,inverted:v,onSlideStart:u?void 0:M,onSlideMove:u?void 0:R,onSlideEnd:u?void 0:I,onHomeKeyDown:()=>!u&&V(a,0,{commit:!0}),onEndKeyDown:()=>!u&&V(s,S.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:H})=>{if(!u){const $=FV.includes(F.key)||F.shiftKey&&qV.includes(F.key)?10:1,k=C.current,D=S[k],P=i*$*H;V(D+P,k,{commit:!0})}}})})})})});UV.displayName=ef;var[HV,KV]=BV(ef,{startEdge:"left",endEdge:"right",size:"width",direction:1}),L4e=b.forwardRef((e,t)=>{const{min:r,max:a,dir:s,inverted:i,onSlideStart:l,onSlideMove:u,onSlideEnd:d,onStepKeyDown:f,...m}=e,[p,x]=b.useState(null),v=At(t,w=>x(w)),j=b.useRef(void 0),y=Hd(s),N=y==="ltr",C=N&&!i||!N&&i;function A(w){const S=j.current||p.getBoundingClientRect(),E=[0,S.width],M=gT(E,C?[r,a]:[a,r]);return j.current=S,M(w-S.left)}return n.jsx(HV,{scope:e.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:n.jsx(VV,{dir:y,"data-orientation":"horizontal",...m,ref:v,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const S=A(w.clientX);l?.(S)},onSlideMove:w=>{const S=A(w.clientX);u?.(S)},onSlideEnd:()=>{j.current=void 0,d?.()},onStepKeyDown:w=>{const E=zV[C?"from-left":"from-right"].includes(w.key);f?.({event:w,direction:E?-1:1})}})})}),$4e=b.forwardRef((e,t)=>{const{min:r,max:a,inverted:s,onSlideStart:i,onSlideMove:l,onSlideEnd:u,onStepKeyDown:d,...f}=e,m=b.useRef(null),p=At(t,m),x=b.useRef(void 0),v=!s;function j(y){const N=x.current||m.current.getBoundingClientRect(),C=[0,N.height],w=gT(C,v?[a,r]:[r,a]);return x.current=N,w(y-N.top)}return n.jsx(HV,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:n.jsx(VV,{"data-orientation":"vertical",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const N=j(y.clientY);i?.(N)},onSlideMove:y=>{const N=j(y.clientY);l?.(N)},onSlideEnd:()=>{x.current=void 0,u?.()},onStepKeyDown:y=>{const C=zV[v?"from-bottom":"from-top"].includes(y.key);d?.({event:y,direction:C?-1:1})}})})}),VV=b.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:a,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:d,...f}=e,m=O0(ef,r);return n.jsx(dt.span,{...f,ref:t,onKeyDown:Be(e.onKeyDown,p=>{p.key==="Home"?(l(p),p.preventDefault()):p.key==="End"?(u(p),p.preventDefault()):FV.concat(qV).includes(p.key)&&(d(p),p.preventDefault())}),onPointerDown:Be(e.onPointerDown,p=>{const x=p.target;x.setPointerCapture(p.pointerId),p.preventDefault(),m.thumbs.has(x)?x.focus():a(p)}),onPointerMove:Be(e.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&s(p)}),onPointerUp:Be(e.onPointerUp,p=>{const x=p.target;x.hasPointerCapture(p.pointerId)&&(x.releasePointerCapture(p.pointerId),i(p))})})}),WV="SliderTrack",GV=b.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,s=O0(WV,r);return n.jsx(dt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...a,ref:t})});GV.displayName=WV;var LC="SliderRange",YV=b.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,s=O0(LC,r),i=KV(LC,r),l=b.useRef(null),u=At(t,l),d=s.values.length,f=s.values.map(x=>ZV(x,s.min,s.max)),m=d>1?Math.min(...f):0,p=100-Math.max(...f);return n.jsx(dt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...a,ref:u,style:{...e.style,[i.startEdge]:m+"%",[i.endEdge]:p+"%"}})});YV.displayName=LC;var $C="SliderThumb",XV=b.forwardRef((e,t)=>{const r=R4e(e.__scopeSlider),[a,s]=b.useState(null),i=At(t,u=>s(u)),l=b.useMemo(()=>a?r().findIndex(u=>u.ref.current===a):-1,[r,a]);return n.jsx(F4e,{...e,ref:i,index:l})}),F4e=b.forwardRef((e,t)=>{const{__scopeSlider:r,index:a,name:s,...i}=e,l=O0($C,r),u=KV($C,r),[d,f]=b.useState(null),m=At(t,A=>f(A)),p=d?l.form||!!d.closest("form"):!0,x=fv(d),v=l.values[a],j=v===void 0?0:ZV(v,l.min,l.max),y=B4e(a,l.values.length),N=x?.[u.size],C=N?H4e(N,j,u.direction):0;return b.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${j}% + ${C}px)`},children:[n.jsx(IC.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(dt.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":l.min,"aria-valuenow":v,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...i,ref:m,style:v===void 0?{display:"none"}:e.style,onFocus:Be(e.onFocus,()=>{l.valueIndexToChangeRef.current=a})})}),p&&n.jsx(QV,{name:s??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:v},a)]})});XV.displayName=$C;var q4e="RadioBubbleInput",QV=b.forwardRef(({__scopeSlider:e,value:t,...r},a)=>{const s=b.useRef(null),i=At(s,a),l=c0(t);return b.useEffect(()=>{const u=s.current;if(!u)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const p=new Event("input",{bubbles:!0});m.call(u,t),u.dispatchEvent(p)}},[l,t]),n.jsx(dt.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});QV.displayName=q4e;function z4e(e=[],t,r){const a=[...e];return a[r]=t,a.sort((s,i)=>s-i)}function ZV(e,t,r){const i=100/(r-t)*(e-t);return Nm(i,[0,100])}function B4e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function U4e(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),a=Math.min(...r);return r.indexOf(a)}function H4e(e,t,r){const a=e/2,i=gT([0,50],[0,a]);return(a-i(t)*r)*r}function K4e(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function V4e(e,t){if(t>0){const r=K4e(e);return Math.min(...r)>=t}return!0}function gT(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function W4e(e){return(String(e).split(".")[1]||"").length}function G4e(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var JV=UV,Y4e=GV,X4e=YV,Q4e=XV;const yT=b.forwardRef(({className:e,...t},r)=>n.jsxs(JV,{ref:r,className:Je("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(Y4e,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:n.jsx(X4e,{className:"absolute h-full bg-primary"})}),n.jsx(Q4e,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));yT.displayName=JV.displayName;function Z4e(){const[,e]=il(),{toast:t}=Ki(),[r,a]=b.useState(!1),[s,i]=b.useState(!1),[l,u]=b.useState(""),[d,f]=b.useState(""),[m,p]=b.useState(null),[x,v]=b.useState({name:"",description:"",systemPrompt:"",model:"gpt-4o",temperature:.7}),j=async()=>{if(!x.name.trim()){t({title:"Missing Name",description:"Please enter an agent name.",variant:"destructive"});return}if(!x.systemPrompt.trim()){t({title:"Missing Instructions",description:"Please enter system instructions for your agent.",variant:"destructive"});return}a(!0);try{const N=await fetch("/api/agents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...x,isActive:!0})});if(N.ok){const C=await N.json();p(C.id),t({title:"Agent Created!",description:`${C.name} has been created successfully. You can now test it.`})}else{const C=await N.json();t({title:"Failed to Create Agent",description:C.error||"Something went wrong. Please try again.",variant:"destructive"})}}catch{t({title:"Error",description:"Failed to connect to server. Please try again.",variant:"destructive"})}finally{a(!1)}},y=async()=>{if(!m){t({title:"No Agent Created",description:"Please create an agent first before testing.",variant:"destructive"});return}if(!l.trim()){t({title:"Empty Message",description:"Please enter a test message.",variant:"destructive"});return}i(!0),f("");try{const N=await fetch(`/api/agents/${m}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:l})});if(N.ok){const C=await N.json();f(C.response)}else{const C=await N.json();f(`Error: ${C.error||"Failed to get response"}`)}}catch{f("Error: Failed to connect to server.")}finally{i(!1)}};return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"New AI Agent"}),n.jsx(Y,{variant:"outline",onClick:()=>e("/ai/agents"),children:"View All Agents"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(Q,{className:"h-full",children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Agent Configuration"}),n.jsx(Le,{children:"Define how your AI agent should behave."})]}),n.jsxs(Z,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Agent Name *"}),n.jsx(Pe,{placeholder:"e.g., Support Bot Level 1",value:x.name,onChange:N=>v(C=>({...C,name:N.target.value})),disabled:!!m})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Description"}),n.jsx(Pe,{placeholder:"Brief description of this agent",value:x.description,onChange:N=>v(C=>({...C,description:N.target.value})),disabled:!!m})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"AI Model"}),n.jsxs(Xe,{value:x.model,onValueChange:N=>v(C=>({...C,model:N})),disabled:!!m,children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsxs(ae,{value:"gpt-4o",className:"flex items-center",children:[n.jsx("span",{className:"font-medium",children:"Boomer GPT-4o"}),n.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Most Intelligent)"})]}),n.jsxs(ae,{value:"gpt-4o-mini",children:[n.jsx("span",{className:"font-medium",children:"Boomer GPT-4o Mini"}),n.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Smart & Fast)"})]}),n.jsxs(ae,{value:"gpt-4-turbo",children:[n.jsx("span",{className:"font-medium",children:"Boomer GPT-4 Turbo"}),n.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Premium)"})]}),n.jsxs(ae,{value:"gpt-3.5-turbo",children:[n.jsx("span",{className:"font-medium",children:"Boomer GPT-3.5"}),n.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Economy)"})]}),n.jsxs(ae,{value:"gemini-2.5-flash",children:[n.jsx("span",{className:"font-medium",children:"Kaaya 2.5 Flash"}),n.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Fast & Efficient)"})]}),n.jsxs(ae,{value:"gemini-2.5-pro",children:[n.jsx("span",{className:"font-medium",children:"Kaaya 2.5 Pro"}),n.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Advanced Reasoning)"})]}),n.jsxs(ae,{value:"gemini-1.5-flash",children:[n.jsx("span",{className:"font-medium",children:"Kaaya 1.5 Flash"}),n.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Budget Friendly)"})]}),n.jsxs(ae,{value:"gemini-1.5-pro",children:[n.jsx("span",{className:"font-medium",children:"Kaaya 1.5 Pro"}),n.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Multimodal)"})]})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"OpenAI models require OpenAI API key | Gemini models require Gemini API key"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsxs(de,{children:["Temperature: ",x.temperature]}),n.jsx(yT,{value:[x.temperature],min:0,max:1,step:.1,onValueChange:([N])=>v(C=>({...C,temperature:N})),disabled:!!m}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower = more focused, Higher = more creative"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"System Instructions *"}),n.jsx(cn,{className:"min-h-[200px] font-mono text-sm",placeholder:"You are a helpful support assistant for Acme Corp. You answer questions about our widgets. If you don't know the answer, politely transfer the chat to a human agent.",value:x.systemPrompt,onChange:N=>v(C=>({...C,systemPrompt:N.target.value})),disabled:!!m})]}),m?n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Agent created successfully! You can now test it on the right."}),n.jsx(Y,{className:"w-full",variant:"outline",onClick:()=>{p(null),v({name:"",description:"",systemPrompt:"",model:"gpt-4o",temperature:.7}),u(""),f("")},children:"Create Another Agent"})]}):n.jsx(Y,{className:"w-full",onClick:j,disabled:r,children:r?n.jsxs(n.Fragment,{children:[n.jsx(We,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):"Create Agent"})]})]}),n.jsxs(Q,{className:"h-full flex flex-col",children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Test Playground"}),n.jsx(Le,{children:m?"Interact with your agent to test the instructions.":"Create an agent first to test it here."})]}),n.jsxs(Z,{className:"flex-1 flex flex-col",children:[n.jsx("div",{className:"flex-1 bg-muted/50 rounded-md border p-4 mb-4 min-h-[300px] max-h-[400px] overflow-auto",children:m?d?n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsx("div",{className:"bg-primary text-primary-foreground p-3 rounded-lg rounded-tr-none max-w-[80%] text-sm",children:l})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground shrink-0",children:n.jsx(Ct,{className:"h-5 w-5"})}),n.jsx("div",{className:"bg-white p-3 rounded-lg rounded-tl-none shadow-sm max-w-[80%] text-sm whitespace-pre-wrap",children:d})]})]}):n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:n.jsx(Ct,{className:"h-5 w-5"})}),n.jsx("div",{className:"bg-white p-3 rounded-lg rounded-tl-none shadow-sm max-w-[80%] text-sm",children:"Hello! I am your AI assistant. How can I help you today?"})]}):n.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:n.jsx("p",{children:"Create an agent to start testing"})})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Pe,{placeholder:"Type a message...",value:l,onChange:N=>u(N.target.value),onKeyDown:N=>N.key==="Enter"&&y(),disabled:!m||s}),n.jsx(Y,{size:"icon",onClick:y,disabled:!m||s||!l.trim(),children:s?n.jsx(gn,{className:"h-4 w-4 animate-spin"}):n.jsx(Za,{className:"h-4 w-4"})})]})]})]})]})]})})}function S2(){const[e,t]=b.useState([]),[r,a]=b.useState(!1),[s,i]=b.useState(!1),[l,u]=b.useState(null),[d,f]=b.useState(!1),[m,p]=b.useState(null),[x,v]=b.useState(""),[j,y]=b.useState(""),[N,C]=b.useState(!1),{toast:A}=Ki(),[w,S]=b.useState({name:"",description:"",systemPrompt:"",model:"gpt-4o",temperature:.7,isActive:!0}),E=D=>({"gpt-4o":"GPT-4o","gpt-4o-mini":"GPT-4o Mini","gpt-4-turbo":"GPT-4 Turbo","gpt-3.5-turbo":"GPT-3.5","gemini-2.5-flash":"Gemini 2.5 Flash","gemini-2.5-pro":"Gemini 2.5 Pro","gemini-2.0-flash":"Gemini 2.0 Flash","gemini-1.5-flash":"Gemini 1.5 Flash","gemini-1.5-pro":"Gemini 1.5 Pro"})[D]||D,O=D=>D.startsWith("gemini-")?"gemini":"openai",M=D=>D==="gemini"?"gemini-2.5-flash":"gpt-4o",R=async(D,P)=>{const U=M(P);try{const G=await fetch(`/api/agents/${D.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:U})});if(G.ok){const B=await G.json();t(z=>z.map(X=>X.id===D.id?B:X)),A({title:"Provider Switched",description:`${D.name} now uses ${P==="openai"?"OpenAI":"Gemini"}.`})}}catch{A({title:"Error",description:"Failed to switch provider.",variant:"destructive"})}},I=async D=>{const P=M(D);try{const U=e.map(G=>fetch(`/api/agents/${G.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:P})}));await Promise.all(U),await V(),A({title:"All Agents Updated",description:`All agents now use ${D==="openai"?"OpenAI":"Gemini"}.`})}catch{A({title:"Error",description:"Failed to update agents.",variant:"destructive"})}},V=async()=>{a(!0);try{const D=await fetch("/api/agents");if(D.ok){const P=await D.json();t(P)}}catch(D){console.error("Error fetching agents:",D)}finally{a(!1)}};b.useEffect(()=>{V()},[]);const F=()=>{S({name:"",description:"",systemPrompt:"",model:"gpt-4o",temperature:.7,isActive:!0}),u(null)},H=D=>{u(D),S({name:D.name,description:D.description,systemPrompt:D.systemPrompt,model:D.model,temperature:D.temperature,isActive:D.isActive}),i(!0)},K=async()=>{if(!w.name||!w.systemPrompt){A({title:"Missing Fields",description:"Name and system prompt are required.",variant:"destructive"});return}try{const D=l?`/api/agents/${l.id}`:"/api/agents",U=await fetch(D,{method:l?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(U.ok){const G=await U.json();l?(t(B=>B.map(z=>z.id===G.id?G:z)),A({title:"Agent Updated",description:`${G.name} has been updated.`})):(t(B=>[...B,G]),A({title:"Agent Created",description:`${G.name} has been created.`})),i(!1),F()}else{const G=await U.json();A({title:"Error",description:G.error,variant:"destructive"})}}catch{A({title:"Error",description:"Failed to save agent.",variant:"destructive"})}},q=async D=>{try{(await fetch(`/api/agents/${D}`,{method:"DELETE"})).ok&&(t(U=>U.filter(G=>G.id!==D)),A({title:"Agent Deleted",description:"The agent has been removed."}))}catch{A({title:"Error",description:"Failed to delete agent.",variant:"destructive"})}},$=async D=>{try{const P=await fetch(`/api/agents/${D.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!D.isActive})});if(P.ok){const U=await P.json();t(G=>G.map(B=>B.id===D.id?U:B))}}catch{A({title:"Error",description:"Failed to update agent.",variant:"destructive"})}},k=async()=>{if(!(!m||!x)){C(!0),y("");try{const D=await fetch(`/api/agents/${m.id}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:x})});if(D.ok){const P=await D.json();y(P.response)}else{const P=await D.json();y(`Error: ${P.error}`)}}catch{y("Error: Failed to test agent.")}finally{C(!1)}}};return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"AI Agents"}),n.jsx("p",{className:"text-muted-foreground",children:"Create and manage AI agents for automated responses"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[e.length>0&&n.jsxs("div",{className:"flex items-center gap-1 mr-2",title:"Quick switch uses default models (GPT-4o / Gemini 2.5 Flash). Use Edit for specific models.",children:[n.jsx("span",{className:"text-sm text-muted-foreground mr-1",children:"Switch All:"}),n.jsx(Y,{variant:"outline",size:"sm",onClick:()=>I("openai"),className:"text-xs",title:"Switch all agents to OpenAI GPT-4o",children:"Boomer"}),n.jsx(Y,{variant:"outline",size:"sm",onClick:()=>I("gemini"),className:"text-xs",title:"Switch all agents to Gemini 2.5 Flash",children:"Kaaya"})]}),n.jsxs($t,{open:s,onOpenChange:D=>{i(D),D||F()},children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{children:[n.jsx(An,{className:"h-4 w-4 mr-2"}),"New Agent"]})}),n.jsxs(kt,{className:"max-w-2xl",children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:l?"Edit Agent":"Create New Agent"}),n.jsx(Dn,{children:"Configure your AI agent's behavior and personality."})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Name"}),n.jsx(Pe,{placeholder:"e.g., Support Bot",value:w.name,onChange:D=>S(P=>({...P,name:D.target.value}))})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"AI Model"}),n.jsxs(Xe,{value:w.model,onValueChange:D=>S(P=>({...P,model:D})),children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"gpt-4o",children:"Boomer GPT-4o (Most Intelligent)"}),n.jsx(ae,{value:"gpt-4o-mini",children:"Boomer GPT-4o Mini (Smart & Fast)"}),n.jsx(ae,{value:"gpt-4-turbo",children:"Boomer GPT-4 Turbo (Premium)"}),n.jsx(ae,{value:"gpt-3.5-turbo",children:"Boomer GPT-3.5 (Economy)"}),n.jsx(ae,{value:"gemini-2.5-flash",children:"Kaaya 2.5 Flash (Fast & Efficient)"}),n.jsx(ae,{value:"gemini-2.5-pro",children:"Kaaya 2.5 Pro (Advanced)"}),n.jsx(ae,{value:"gemini-1.5-flash",children:"Kaaya 1.5 Flash (Budget)"}),n.jsx(ae,{value:"gemini-1.5-pro",children:"Kaaya 1.5 Pro (Multimodal)"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"OpenAI models use your OpenAI API key | Gemini models use your Google API key"})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Description"}),n.jsx(Pe,{placeholder:"Brief description of this agent",value:w.description,onChange:D=>S(P=>({...P,description:D.target.value}))})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"System Prompt"}),n.jsx(cn,{className:"min-h-[150px] font-mono text-sm",placeholder:"You are a helpful assistant...",value:w.systemPrompt,onChange:D=>S(P=>({...P,systemPrompt:D.target.value}))})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsxs(de,{children:["Temperature: ",w.temperature]}),n.jsx(yT,{value:[w.temperature],min:0,max:1,step:.1,onValueChange:([D])=>S(P=>({...P,temperature:D}))}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower values make responses more focused, higher values more creative."})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>{i(!1),F()},children:"Cancel"}),n.jsx(Y,{onClick:K,children:l?"Update Agent":"Create Agent"})]})]})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"h-5 w-5"}),"Active Agents"]}),n.jsx(Le,{children:"Your AI agents that can respond to WhatsApp messages automatically"})]}),n.jsx(Z,{children:r?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(gn,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):e.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Ct,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:'No agents created yet. Click "New Agent" to get started.'})]}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Name"}),n.jsx(ne,{children:"Provider"}),n.jsx(ne,{children:"Model"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{className:"text-right",children:"Actions"})]})}),n.jsx(Lt,{children:e.map(D=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4 text-primary"}),D.name]})}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Y,{variant:O(D.model)==="openai"?"default":"outline",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>R(D,"openai"),title:"Switch to OpenAI GPT-4o",children:"Boomer"}),n.jsx(Y,{variant:O(D.model)==="gemini"?"default":"outline",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>R(D,"gemini"),title:"Switch to Gemini 2.5 Flash",children:"Kaaya"})]})}),n.jsx(te,{children:n.jsx(Ae,{variant:"outline",children:E(D.model)})}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tr,{checked:D.isActive,onCheckedChange:()=>$(D)}),n.jsx(Ae,{variant:D.isActive?"default":"secondary",children:D.isActive?"Active":"Inactive"})]})}),n.jsxs(te,{className:"text-right space-x-1",children:[n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>{p(D),f(!0),v(""),y("")},children:n.jsx(Za,{className:"h-4 w-4"})}),n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>H(D),children:n.jsx(Es,{className:"h-4 w-4"})}),n.jsx(Y,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>q(D.id),children:n.jsx(hr,{className:"h-4 w-4"})})]})]},D.id))})]})})]}),n.jsx($t,{open:d,onOpenChange:f,children:n.jsxs(kt,{className:"max-w-2xl",children:[n.jsxs(Pt,{children:[n.jsxs(Rt,{children:["Test Agent: ",m?.name]}),n.jsx(Dn,{children:"Send a test message to see how this agent responds."})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsx("div",{className:"bg-muted/50 rounded-lg p-4 min-h-[150px] max-h-[300px] overflow-auto",children:j?n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground shrink-0",children:n.jsx(Ct,{className:"h-5 w-5"})}),n.jsx("div",{className:"bg-white p-3 rounded-lg rounded-tl-none shadow-sm text-sm whitespace-pre-wrap",children:j})]}):n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Send a message to see the agent's response"})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Pe,{placeholder:"Type a test message...",value:x,onChange:D=>v(D.target.value),onKeyDown:D=>D.key==="Enter"&&k()}),n.jsx(Y,{onClick:k,disabled:N||!x,children:N?n.jsx(gn,{className:"h-4 w-4 animate-spin"}):n.jsx(Za,{className:"h-4 w-4"})})]})]})]})})]})})}function J4e(){const[e,t]=b.useState([]),[r,a]=b.useState([]),[s,i]=b.useState([]),[l,u]=b.useState(!1),[d,f]=b.useState(!1),[m,p]=b.useState(""),[x,v]=b.useState(""),{toast:j}=Ki(),y=async()=>{u(!0);try{const[w,S,E]=await Promise.all([fetch("/api/map-agent"),fetch("/api/agents"),fetch("/api/facebook/forms")]);w.ok&&t(await w.json()),S.ok&&a(await S.json()),E.ok&&i(await E.json())}catch(w){console.error("Error fetching data:",w)}finally{u(!1)}};b.useEffect(()=>{y()},[]);const N=async()=>{if(!m||!x){j({title:"Missing Selection",description:"Please select both a form and an agent.",variant:"destructive"});return}const w=s.find(E=>E.id===m),S=r.find(E=>E.id===x);try{const E=await fetch("/api/map-agent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({formId:m,formName:w?.name||"Unknown",agentId:x,agentName:S?.name||"Unknown",isActive:!0})});if(E.ok){const O=await E.json();t(M=>{const R=M.findIndex(I=>I.formId===O.formId);if(R>=0){const I=[...M];return I[R]=O,I}return[...M,O]}),j({title:"Mapping Created",description:`${w?.name} is now connected to ${S?.name}`}),f(!1),p(""),v("")}else{const O=await E.json();j({title:"Failed to Create Mapping",description:O.error,variant:"destructive"})}}catch{j({title:"Error",description:"Failed to create mapping.",variant:"destructive"})}},C=async w=>{try{(await fetch(`/api/map-agent/${w}`,{method:"DELETE"})).ok&&(t(E=>E.filter(O=>O.id!==w)),j({title:"Mapping Deleted",description:"The mapping has been removed."}))}catch{j({title:"Error",description:"Failed to delete mapping.",variant:"destructive"})}},A=async w=>{try{const S=await fetch(`/api/map-agent/${w.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!w.isActive})});if(S.ok){const E=await S.json();t(O=>O.map(M=>M.id===w.id?E:M))}}catch{j({title:"Error",description:"Failed to update mapping.",variant:"destructive"})}};return s.filter(w=>!e.some(S=>S.formId===w.id)),n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Agent-Form Mapping"}),n.jsx("p",{className:"text-muted-foreground",children:"Connect AI agents to lead forms for automatic responses"})]}),n.jsxs($t,{open:d,onOpenChange:f,children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{children:[n.jsx(An,{className:"h-4 w-4 mr-2"}),"Create Mapping"]})}),n.jsxs(kt,{children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Create Agent-Form Mapping"}),n.jsx(Dn,{children:"Select a lead form and an AI agent to handle responses automatically."})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"Lead Form"}),n.jsxs(Xe,{value:m,onValueChange:p,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select a form"})}),n.jsx(Ye,{children:s.map(w=>n.jsx(ae,{value:w.id,children:w.name},w.id))})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(de,{children:"AI Agent"}),n.jsxs(Xe,{value:x,onValueChange:v,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select an agent"})}),n.jsx(Ye,{children:r.map(w=>n.jsxs(ae,{value:w.id,children:[w.name," ",w.isActive?"(Active)":"(Inactive)"]},w.id))})]})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),n.jsx(Y,{onClick:N,children:"Create Mapping"})]})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(qk,{className:"h-5 w-5"}),"Active Mappings"]}),n.jsx(Le,{children:"When a lead comes from a mapped form, the connected AI agent will respond via WhatsApp"})]}),n.jsx(Z,{children:e.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(qk,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No mappings created yet. Connect a form to an AI agent to get started."})]}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Lead Form"}),n.jsx(ne,{children:"AI Agent"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{children:"Created"}),n.jsx(ne,{className:"text-right",children:"Actions"})]})}),n.jsx(Lt,{children:e.map(w=>n.jsxs(Ve,{children:[n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yn,{className:"h-4 w-4 text-blue-500"}),w.formName]})}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4 text-purple-500"}),w.agentName]})}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tr,{checked:w.isActive,onCheckedChange:()=>A(w)}),n.jsx(Ae,{variant:w.isActive?"default":"secondary",children:w.isActive?"Active":"Inactive"})]})}),n.jsx(te,{children:new Date(w.createdAt).toLocaleDateString()}),n.jsx(te,{className:"text-right",children:n.jsx(Y,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>C(w.id),children:n.jsx(hr,{className:"h-4 w-4"})})})]},w.id))})]})})]})]})})}const hh=(e,t)=>{if(!e)return"N/A";const r=new Date(e);return IV(r)?qn(r,t):"N/A"};function eMe(){const{toast:e}=Ki(),t=yn(),[r,a]=b.useState("overview"),[s,i]=b.useState(null),[l,u]=b.useState(!1),[d,f]=b.useState(!1),[m,p]=b.useState("all"),[x,v]=b.useState("all"),[j,y]=b.useState(""),[N,C]=b.useState(""),[A,w]=b.useState(""),{data:S=[],isLoading:E}=Ie({queryKey:["/api/ai-analytics/qualifications"],refetchInterval:5e3}),{data:O}=Ie({queryKey:["/api/ai-analytics/qualifications/stats"],refetchInterval:5e3}),{data:M}=Ie({queryKey:["/api/ai-analytics/qualifications/report"],refetchInterval:1e4}),R=qe({mutationFn:async({id:G,category:B,notes:z})=>{const X=await fetch(`/api/ai-analytics/qualifications/${G}/category`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:B,notes:z})});if(!X.ok)throw new Error("Failed to update category");return X.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/ai-analytics/qualifications"]}),t.invalidateQueries({queryKey:["/api/ai-analytics/qualifications/stats"]}),t.invalidateQueries({queryKey:["/api/ai-analytics/qualifications/report"]}),e({title:"Category Updated",description:"Lead qualification updated successfully"}),f(!1)},onError:()=>{e({title:"Error",description:"Failed to update category",variant:"destructive"})}}),I=S.filter(G=>{if(m!=="all"&&G.category!==m||x!=="all"&&G.source!==x)return!1;if(j){const B=j.toLowerCase();return G.name.toLowerCase().includes(B)||G.phone.includes(B)||G.keywords.some(z=>z.toLowerCase().includes(B))}return!0}),V=I.filter(G=>G.category==="interested"),F=I.filter(G=>G.category==="not_interested"),H=I.filter(G=>G.category==="pending"),K=G=>{switch(G){case"interested":return n.jsxs(Ae,{className:"bg-green-500 hover:bg-green-600",children:[n.jsx(Pn,{className:"w-3 h-3 mr-1"})," Interested"]});case"not_interested":return n.jsxs(Ae,{className:"bg-red-500 hover:bg-red-600",children:[n.jsx(Li,{className:"w-3 h-3 mr-1"})," Not Interested"]});case"pending":return n.jsxs(Ae,{className:"bg-yellow-500 hover:bg-yellow-600",children:[n.jsx(Ht,{className:"w-3 h-3 mr-1"})," Pending"]});default:return n.jsx(Ae,{variant:"secondary",children:G})}},q=G=>{const B={ai_chat:"bg-blue-500",campaign:"bg-purple-500",ad:"bg-orange-500",lead_form:"bg-green-500",manual:"bg-gray-500"},z={ai_chat:"AI Chat",campaign:"Campaign",ad:"Ad",lead_form:"Lead Form",manual:"Manual"};return n.jsx(Ae,{className:B[G]||"bg-gray-500",children:z[G]||G})},$=G=>{i(G),u(!0)},k=G=>{i(G),w(G.category),C(G.notes||""),f(!0)},D=()=>{s&&A&&R.mutate({id:s.id,category:A,notes:N})},P=(G,B)=>{const z=["Name","Phone","Category","Source","Score","Messages","Keywords","First Contact","Last Message","Notes"],X=G.map(ve=>[ve.name,ve.phone,ve.category,ve.source,ve.score.toString(),ve.totalMessages.toString(),ve.keywords.join("; "),hh(ve.firstContactAt,"yyyy-MM-dd HH:mm"),hh(ve.lastMessageAt,"yyyy-MM-dd HH:mm"),ve.notes||""]),ee=[z,...X].map(ve=>ve.map(xe=>`"${xe}"`).join(",")).join(`
`),je=new Blob([ee],{type:"text/csv"}),he=URL.createObjectURL(je),le=document.createElement("a");le.href=he,le.download=`${B}_${qn(new Date,"yyyy-MM-dd")}.csv`,le.click(),URL.revokeObjectURL(he)},U=({leads:G,title:B})=>n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(oe,{className:"text-lg",children:B}),n.jsxs(Le,{children:[G.length," leads"]})]}),n.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>P(G,B.toLowerCase().replace(/\s+/g,"_")),children:[n.jsx(Or,{className:"w-4 h-4 mr-2"}),"Export"]})]}),n.jsx(Z,{children:n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Name"}),n.jsx(ne,{children:"Phone"}),n.jsx(ne,{children:"Source"}),n.jsx(ne,{children:"Score"}),n.jsx(ne,{children:"Messages"}),n.jsx(ne,{children:"Last Contact"}),n.jsx(ne,{children:"Keywords"}),n.jsx(ne,{children:"Actions"})]})}),n.jsx(Lt,{children:G.length===0?n.jsx(Ve,{children:n.jsx(te,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"No leads in this category"})}):G.map(z=>n.jsxs(Ve,{className:"cursor-pointer hover:bg-muted/50",children:[n.jsx(te,{className:"font-medium",children:z.name}),n.jsx(te,{children:z.phone}),n.jsx(te,{children:q(z.source)}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-12 h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full ${z.score>=70?"bg-green-500":z.score>=40?"bg-yellow-500":"bg-red-500"}`,style:{width:`${z.score}%`}})}),n.jsxs("span",{className:"text-sm",children:[z.score,"%"]})]})}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(qt,{className:"w-4 h-4"}),z.totalMessages]})}),n.jsx(te,{className:"text-sm text-muted-foreground",children:hh(z.lastMessageAt,"MMM dd, HH:mm")}),n.jsx(te,{children:n.jsxs("div",{className:"flex flex-wrap gap-1 max-w-[150px]",children:[z.keywords.slice(0,2).map((X,ee)=>n.jsx(Ae,{variant:"outline",className:"text-xs",children:X},ee)),z.keywords.length>2&&n.jsxs(Ae,{variant:"outline",className:"text-xs",children:["+",z.keywords.length-2]})]})}),n.jsx(te,{children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>$(z),children:n.jsx(ma,{className:"w-4 h-4"})}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>k(z),children:n.jsx(Es,{className:"w-4 h-4"})})]})})]},z.id))})]})})]});return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"AI Agent Reports"}),n.jsx("p",{className:"text-muted-foreground",children:"Track lead qualification from AI conversations"})]}),n.jsxs(Y,{variant:"outline",onClick:()=>P(S,"all_qualifications"),children:[n.jsx(Or,{className:"w-4 h-4 mr-2"}),"Export All"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Q,{children:n.jsx(Z,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Contacts"}),n.jsx("p",{className:"text-3xl font-bold",children:O?.total||0})]}),n.jsx(Yt,{className:"w-10 h-10 text-blue-500 opacity-50"})]})})}),n.jsx(Q,{className:"border-green-200 bg-green-50/50",children:n.jsx(Z,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-green-600",children:"Interested"}),n.jsx("p",{className:"text-3xl font-bold text-green-700",children:O?.interested||0}),n.jsxs("p",{className:"text-sm text-green-600",children:[O?.interestedPercent||0,"%"]})]}),n.jsx(ks,{className:"w-10 h-10 text-green-500 opacity-50"})]})})}),n.jsx(Q,{className:"border-red-200 bg-red-50/50",children:n.jsx(Z,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-red-600",children:"Not Interested"}),n.jsx("p",{className:"text-3xl font-bold text-red-700",children:O?.notInterested||0}),n.jsxs("p",{className:"text-sm text-red-600",children:[O?.notInterestedPercent||0,"%"]})]}),n.jsx(DJ,{className:"w-10 h-10 text-red-500 opacity-50"})]})})}),n.jsx(Q,{className:"border-yellow-200 bg-yellow-50/50",children:n.jsx(Z,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-yellow-600",children:"Pending"}),n.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:O?.pending||0}),n.jsxs("p",{className:"text-sm text-yellow-600",children:[O?.pendingPercent||0,"%"]})]}),n.jsx(Ht,{className:"w-10 h-10 text-yellow-500 opacity-50"})]})})})]}),n.jsx(Q,{children:n.jsx(Z,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qn,{className:"w-4 h-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search by name, phone, or keyword...",value:j,onChange:G=>y(G.target.value),className:"w-64"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($m,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs(Xe,{value:m,onValueChange:p,children:[n.jsx(Ge,{className:"w-40",children:n.jsx(Qe,{placeholder:"Category"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"all",children:"All Categories"}),n.jsx(ae,{value:"interested",children:"Interested"}),n.jsx(ae,{value:"not_interested",children:"Not Interested"}),n.jsx(ae,{value:"pending",children:"Pending"})]})]}),n.jsxs(Xe,{value:x,onValueChange:v,children:[n.jsx(Ge,{className:"w-40",children:n.jsx(Qe,{placeholder:"Source"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"all",children:"All Sources"}),n.jsx(ae,{value:"ai_chat",children:"AI Chat"}),n.jsx(ae,{value:"campaign",children:"Campaign"}),n.jsx(ae,{value:"ad",children:"Ad"}),n.jsx(ae,{value:"lead_form",children:"Lead Form"}),n.jsx(ae,{value:"manual",children:"Manual"})]})]})]})]})})}),n.jsxs(rr,{value:r,onValueChange:a,children:[n.jsxs(Zn,{className:"grid w-full max-w-md grid-cols-4",children:[n.jsx(lt,{value:"overview",children:"Overview"}),n.jsx(lt,{value:"interested",className:"text-green-600",children:"Interested"}),n.jsx(lt,{value:"not_interested",className:"text-red-600",children:"Not Interested"}),n.jsx(lt,{value:"pending",className:"text-yellow-600",children:"Pending"})]}),n.jsxs(ft,{value:"overview",className:"space-y-4",children:[M?.byAgent&&Object.keys(M.byAgent).length>0&&n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"w-5 h-5"}),n.jsx(oe,{children:"By AI Agent"})]})}),n.jsx(Z,{children:n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Agent"}),n.jsx(ne,{children:"Total"}),n.jsx(ne,{className:"text-green-600",children:"Interested"}),n.jsx(ne,{className:"text-red-600",children:"Not Interested"}),n.jsx(ne,{className:"text-yellow-600",children:"Pending"}),n.jsx(ne,{children:"Conversion Rate"})]})}),n.jsx(Lt,{children:Object.entries(M.byAgent).map(([G,B])=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:B.agentName}),n.jsx(te,{children:B.total}),n.jsx(te,{className:"text-green-600",children:B.interested}),n.jsx(te,{className:"text-red-600",children:B.notInterested}),n.jsx(te,{className:"text-yellow-600",children:B.pending}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-16 h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500",style:{width:`${B.interestedPercent}%`}})}),n.jsxs("span",{className:"text-sm font-medium",children:[B.interestedPercent,"%"]})]})})]},G))})]})})]}),M?.bySource&&n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ou,{className:"w-5 h-5"}),n.jsx(oe,{children:"By Source"})]})}),n.jsx(Z,{children:n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Source"}),n.jsx(ne,{children:"Total"}),n.jsx(ne,{className:"text-green-600",children:"Interested"}),n.jsx(ne,{className:"text-red-600",children:"Not Interested"}),n.jsx(ne,{className:"text-yellow-600",children:"Pending"}),n.jsx(ne,{children:"Conversion Rate"})]})}),n.jsx(Lt,{children:Object.entries(M.bySource).filter(([G,B])=>B.total>0).map(([G,B])=>n.jsxs(Ve,{children:[n.jsx(te,{children:q(G)}),n.jsx(te,{children:B.total}),n.jsx(te,{className:"text-green-600",children:B.interested}),n.jsx(te,{className:"text-red-600",children:B.notInterested}),n.jsx(te,{className:"text-yellow-600",children:B.pending}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-16 h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500",style:{width:`${B.interestedPercent}%`}})}),n.jsxs("span",{className:"text-sm font-medium",children:[B.interestedPercent,"%"]})]})})]},G))})]})})]}),M?.byCampaign&&Object.keys(M.byCampaign).length>0&&n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_s,{className:"w-5 h-5"}),n.jsx(oe,{children:"By Campaign"})]})}),n.jsx(Z,{children:n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Campaign"}),n.jsx(ne,{children:"Total"}),n.jsx(ne,{className:"text-green-600",children:"Interested"}),n.jsx(ne,{className:"text-red-600",children:"Not Interested"}),n.jsx(ne,{className:"text-yellow-600",children:"Pending"}),n.jsx(ne,{children:"Conversion Rate"})]})}),n.jsx(Lt,{children:Object.entries(M.byCampaign).map(([G,B])=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:B.campaignName}),n.jsx(te,{children:B.total}),n.jsx(te,{className:"text-green-600",children:B.interested}),n.jsx(te,{className:"text-red-600",children:B.notInterested}),n.jsx(te,{className:"text-yellow-600",children:B.pending}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-16 h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500",style:{width:`${B.interestedPercent}%`}})}),n.jsxs("span",{className:"text-sm font-medium",children:[B.interestedPercent,"%"]})]})})]},G))})]})})]}),n.jsx(U,{leads:I,title:"All Leads"})]}),n.jsx(ft,{value:"interested",children:n.jsx(U,{leads:V,title:"Interested Leads"})}),n.jsx(ft,{value:"not_interested",children:n.jsx(U,{leads:F,title:"Not Interested Leads"})}),n.jsx(ft,{value:"pending",children:n.jsx(U,{leads:H,title:"Pending Leads"})})]}),n.jsx($t,{open:l,onOpenChange:u,children:n.jsxs(kt,{className:"max-w-lg",children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Lead Details"}),n.jsx(Dn,{children:"Complete information about this lead"})]}),s&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:s.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Phone"}),n.jsx("p",{className:"font-medium",children:s.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Category"}),n.jsx("div",{className:"mt-1",children:K(s.category)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Source"}),n.jsx("div",{className:"mt-1",children:q(s.source)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Score"}),n.jsxs("p",{className:"font-medium",children:[s.score,"%"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Total Messages"}),n.jsx("p",{className:"font-medium",children:s.totalMessages})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"First Contact"}),n.jsx("p",{className:"font-medium",children:hh(s.firstContactAt,"MMM dd, yyyy HH:mm")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Last Message"}),n.jsx("p",{className:"font-medium",children:hh(s.lastMessageAt,"MMM dd, yyyy HH:mm")})]})]}),s.agentName&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"AI Agent"}),n.jsx("p",{className:"font-medium",children:s.agentName})]}),s.campaignName&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Campaign"}),n.jsx("p",{className:"font-medium",children:s.campaignName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Keywords Detected"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:s.keywords.length>0?s.keywords.map((G,B)=>n.jsx(Ae,{variant:"outline",children:G},B)):n.jsx("span",{className:"text-muted-foreground text-sm",children:"No keywords detected"})})]}),s.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Notes"}),n.jsx("p",{className:"text-sm mt-1",children:s.notes})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>u(!1),children:"Close"}),n.jsxs(Y,{onClick:()=>{u(!1),s&&k(s)},children:[n.jsx(Es,{className:"w-4 h-4 mr-2"}),"Edit Category"]})]})]})}),n.jsx($t,{open:d,onOpenChange:f,children:n.jsxs(kt,{children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Update Lead Category"}),n.jsxs(Dn,{children:["Change the qualification category for ",s?.name]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Category"}),n.jsxs(Xe,{value:A,onValueChange:w,children:[n.jsx(Ge,{className:"mt-1",children:n.jsx(Qe,{placeholder:"Select category"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"interested",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pn,{className:"w-4 h-4 text-green-500"}),"Interested"]})}),n.jsx(ae,{value:"not_interested",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Li,{className:"w-4 h-4 text-red-500"}),"Not Interested"]})}),n.jsx(ae,{value:"pending",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"w-4 h-4 text-yellow-500"}),"Pending"]})})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Notes (Optional)"}),n.jsx(cn,{value:N,onChange:G=>C(G.target.value),placeholder:"Add notes about this lead...",className:"mt-1"})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),n.jsx(Y,{onClick:D,disabled:R.isPending,children:R.isPending?"Saving...":"Save Changes"})]})]})})]})}function tMe(){const[e,t]=b.useState(!1),[r,a]=b.useState(null),[s,i]=b.useState(""),[l,u]=b.useState(""),d=yn(),{data:f=[],isLoading:m}=Ie({queryKey:["/api/prefilled-text"]}),{data:p=[]}=Ie({queryKey:["/api/agents"]}),x=qe({mutationFn:async S=>{const E=await fetch("/api/prefilled-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!E.ok)throw new Error("Failed to create mapping");return E.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/prefilled-text"]}),t(!1),i(""),u(""),re.success("Mapping created successfully")},onError:()=>{re.error("Failed to create mapping")}}),v=qe({mutationFn:async({id:S,...E})=>{const O=await fetch(`/api/prefilled-text/${S}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(!O.ok)throw new Error("Failed to update mapping");return O.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/prefilled-text"]}),a(null),i(""),u(""),re.success("Mapping updated successfully")},onError:()=>{re.error("Failed to update mapping")}}),j=qe({mutationFn:async S=>{if(!(await fetch(`/api/prefilled-text/${S}`,{method:"DELETE"})).ok)throw new Error("Failed to delete mapping")},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/prefilled-text"]}),re.success("Mapping deleted successfully")},onError:()=>{re.error("Failed to delete mapping")}}),y=()=>{if(!s.trim()||!l){re.error("Please fill in all fields");return}const S=p.find(E=>E.id===l);if(!S){re.error("Please select an agent");return}x.mutate({prefilledText:s.trim(),agentId:l,agentName:S.name})},N=()=>{if(!r)return;if(!s.trim()||!l){re.error("Please fill in all fields");return}const S=p.find(E=>E.id===l);if(!S){re.error("Please select an agent");return}v.mutate({id:r.id,prefilledText:s.trim(),agentId:l,agentName:S.name})},C=S=>{v.mutate({id:S.id,isActive:!S.isActive})},A=S=>{a(S),i(S.prefilledText),u(S.agentId)},w=()=>{t(!1),a(null),i(""),u("")};return n.jsxs(ct,{children:[n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Yr,{className:"h-6 w-6 text-primary"}),"Pre-filled Text Mappings"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Automatically assign AI agents to WhatsApp leads based on their first message"})]}),n.jsxs($t,{open:e,onOpenChange:t,children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{className:"gap-2",children:[n.jsx(An,{className:"h-4 w-4"}),"Add Mapping"]})}),n.jsxs(kt,{children:[n.jsx(Pt,{children:n.jsx(Rt,{children:"Add Pre-filled Text Mapping"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Pre-filled Text"}),n.jsx(Pe,{placeholder:"e.g., Hi, I'm interested in pricing",value:s,onChange:S=>i(S.target.value)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"When a new contact sends a message starting with this text, the selected AI agent will respond"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"AI Agent"}),n.jsxs(Xe,{value:l,onValueChange:u,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select an AI agent"})}),n.jsx(Ye,{children:p.filter(S=>S.isActive).map(S=>n.jsx(ae,{value:S.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4"}),S.name]})},S.id))})]})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:w,children:"Cancel"}),n.jsxs(Y,{onClick:y,disabled:x.isPending,children:[x.isPending?n.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):null,"Create Mapping"]})]})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{className:"text-lg",children:"How it works"}),n.jsx(Le,{children:"When someone who is not in your contacts list messages you on WhatsApp, the system checks if their message matches any pre-filled text you've configured. If it matches, the assigned AI agent will automatically respond and handle the conversation."})]}),n.jsx(Z,{children:n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(qt,{className:"h-5 w-5 text-blue-500"}),n.jsx("span",{children:"User sends message"})]}),n.jsx(wh,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Yr,{className:"h-5 w-5 text-yellow-500"}),n.jsx("span",{children:"Match pre-filled text"})]}),n.jsx(wh,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Ct,{className:"h-5 w-5 text-green-500"}),n.jsx("span",{children:"AI Agent responds"})]})]})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{className:"text-lg",children:"Configured Mappings"}),n.jsxs(Le,{children:[f.length," mapping",f.length!==1?"s":""," configured"]})]}),n.jsx(Z,{children:m?n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsx(We,{className:"h-6 w-6 animate-spin text-primary"})}):f.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-muted-foreground",children:[n.jsx(Yr,{className:"h-8 w-8 mb-2"}),n.jsx("p",{children:"No mappings configured yet"}),n.jsx("p",{className:"text-xs",children:"Add a mapping to auto-assign AI agents to incoming leads"})]}):n.jsx(as,{className:"h-[400px]",children:n.jsx("div",{className:"space-y-3",children:f.map(S=>n.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg ${S.isActive?"bg-background":"bg-muted/30 opacity-60"}`,children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-950 rounded-lg",children:n.jsx(qt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:['"',S.prefilledText,'"']}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages starting with this text will trigger the AI"})]})]}),n.jsx(wh,{className:"h-4 w-4 text-muted-foreground mx-4"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-950 rounded-lg",children:n.jsx(Ct,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:S.agentName}),n.jsx(Ae,{variant:S.isActive?"default":"secondary",className:"text-xs",children:S.isActive?"Active":"Inactive"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tr,{checked:S.isActive,onCheckedChange:()=>C(S)}),n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>A(S),children:n.jsx(Es,{className:"h-4 w-4"})}),n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>j.mutate(S.id),children:n.jsx(hr,{className:"h-4 w-4 text-destructive"})})]})]},S.id))})})})]})]}),n.jsx($t,{open:!!r,onOpenChange:S=>!S&&w(),children:n.jsxs(kt,{children:[n.jsx(Pt,{children:n.jsx(Rt,{children:"Edit Mapping"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Pre-filled Text"}),n.jsx(Pe,{placeholder:"e.g., Hi, I'm interested in pricing",value:s,onChange:S=>i(S.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"AI Agent"}),n.jsxs(Xe,{value:l,onValueChange:u,children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select an AI agent"})}),n.jsx(Ye,{children:p.filter(S=>S.isActive).map(S=>n.jsx(ae,{value:S.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4"}),S.name]})},S.id))})]})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:w,children:"Cancel"}),n.jsxs(Y,{onClick:N,disabled:v.isPending,children:[v.isPending?n.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):null,"Update Mapping"]})]})]})})]})}function nMe(){const[e,t]=b.useState([]),[r,a]=b.useState(!1),[s,i]=b.useState(!1),{toast:l}=Ki(),u=async()=>{a(!0);try{const m=await fetch("/api/facebook/forms");if(m.ok){const p=await m.json();t(p)}}catch(m){console.error("Error fetching forms:",m)}finally{a(!1)}},d=async()=>{i(!0);try{const m=await fetch("/api/facebook/forms/sync",{method:"POST"});if(m.ok){const p=await m.json();t(p.forms),l({title:"Forms Synced",description:`Successfully synced ${p.count} lead form(s) from Facebook.`})}else{const p=await m.json();l({title:"Sync Failed",description:p.error||"Failed to sync forms from Facebook.",variant:"destructive"})}}catch{l({title:"Sync Failed",description:"Network error while syncing forms.",variant:"destructive"})}finally{i(!1)}},f=async m=>{try{const p=await fetch(`/api/facebook/forms/${m}/sync-leads`,{method:"POST"});if(p.ok){const x=await p.json();l({title:"Leads Synced",description:`Successfully synced ${x.count} new lead(s).`})}else{const x=await p.json();l({title:"Sync Failed",description:x.error||"Failed to sync leads.",variant:"destructive"})}}catch{l({title:"Sync Failed",description:"Network error while syncing leads.",variant:"destructive"})}};return b.useEffect(()=>{u()},[]),n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Facebook Lead Forms"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage and sync your Facebook lead generation forms"})]}),n.jsxs(Y,{onClick:d,disabled:s,children:[n.jsx(gn,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),s?"Syncing...":"Sync Forms"]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Yn,{className:"h-5 w-5"}),"Lead Forms"]}),n.jsx(Le,{children:'Your connected Facebook lead forms. Click "Sync Leads" to fetch new submissions.'})]}),n.jsx(Z,{children:r?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(gn,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):e.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Yn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:'No lead forms found. Click "Sync Forms" to fetch from Facebook.'})]}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Form Name"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{children:"Facebook ID"}),n.jsx(ne,{children:"Last Synced"}),n.jsx(ne,{className:"text-right",children:"Actions"})]})}),n.jsx(Lt,{children:e.map(m=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:m.name}),n.jsx(te,{children:n.jsx(Ae,{variant:m.status==="ACTIVE"?"default":"secondary",children:m.status})}),n.jsx(te,{className:"font-mono text-xs",children:m.fbFormId}),n.jsx(te,{children:new Date(m.syncedAt).toLocaleString()}),n.jsx(te,{className:"text-right space-x-2",children:n.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>f(m.id),children:[n.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Sync Leads"]})})]},m.id))})]})})]})]})})}function rMe(){const{toast:e}=Ki(),[t,r]=b.useState([]),[a,s]=b.useState([]),[i,l]=b.useState(!1),[u,d]=b.useState(""),[f,m]=b.useState("all"),[p,x]=b.useState(new Set),[v,j]=b.useState(!1),[y,N]=b.useState(!1),[C,A]=b.useState(""),[w,S]=b.useState(null),[E,O]=b.useState(!1),M=async()=>{l(!0);try{const D=await fetch("/api/facebook/leads");if(D.ok){const P=await D.json();r(P)}}catch(D){console.error("Error fetching leads:",D)}finally{l(!1)}},R=async()=>{try{const D=await fetch("/api/facebook/forms");if(D.ok){const P=await D.json();s(P)}}catch(D){console.error("Error fetching forms:",D)}};b.useEffect(()=>{R(),M()},[]);const I=t.filter(D=>{const P=u.toLowerCase(),U=D.name?.toLowerCase().includes(P)||!1||D.email?.toLowerCase().includes(P)||!1||D.phone?.includes(u)||!1||D.formName.toLowerCase().includes(P),G=f==="all"||D.formId===f;return U&&G}),V=D=>{const P=new Set(p);P.has(D)?P.delete(D):P.add(D),x(P)},F=()=>{p.size===I.length?x(new Set):x(new Set(I.map(D=>D.id)))},H=()=>{const D=p.size>0?I.filter(ee=>p.has(ee.id)):I;if(D.length===0){e({title:"No Leads to Export",description:"Please select leads or ensure there are leads to export.",variant:"destructive"});return}const P=["Name","Email","Phone","Form Name","Created Date","Auto Reply Sent","Auto Reply Message"],U=D.map(ee=>[ee.name||"",ee.email||"",ee.phone||"",ee.formName,new Date(ee.createdTime).toLocaleString(),ee.autoReplySent?"Yes":"No",ee.autoReplyMessage||""]),G=[P.join(","),...U.map(ee=>ee.map(je=>`"${String(je).replace(/"/g,'""')}"`).join(","))].join(`
`),B=new Blob([G],{type:"text/csv;charset=utf-8;"}),z=URL.createObjectURL(B),X=document.createElement("a");X.href=z,X.download=`leads_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(z),e({title:"Export Successful",description:`Exported ${D.length} leads to CSV.`})},K=D=>{if(!D.phone){e({title:"No Phone Number",description:"This lead does not have a phone number.",variant:"destructive"});return}S(D),A(`Hi ${D.name||"there"}! Thank you for your interest. How can we help you today?`),N(!0)},q=async()=>{if(!(!w||!C.trim())){j(!0);try{const D=await fetch(`/api/leads/auto-reply/send/${w.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:C})});if(D.ok)e({title:"Message Sent",description:`Message sent to ${w.name||w.phone}`}),N(!1),M();else{const P=await D.json();e({title:"Failed to Send",description:P.error||"Could not send message",variant:"destructive"})}}catch{e({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{j(!1)}}},$=async()=>{O(!0);try{const D=await fetch("/api/leads/auto-reply/process-all",{method:"POST"});if(D.ok){const P=await D.json();e({title:"Auto-Reply Processing Complete",description:`Processed ${P.processed} leads. Successful: ${P.successful}, Failed: ${P.failed}`}),M()}else{const P=await D.json();e({title:"Processing Failed",description:P.error||"Could not process leads",variant:"destructive"})}}catch{e({title:"Error",description:"Failed to process leads. Please try again.",variant:"destructive"})}finally{O(!1)}},k=t.filter(D=>D.phone&&!D.autoReplySent).length;return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Lead Management"}),n.jsx("p",{className:"text-muted-foreground",children:"View, export, and send messages to leads from Facebook forms"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Y,{variant:"outline",onClick:H,children:[n.jsx(e_,{className:"h-4 w-4 mr-2"}),"Export ",p.size>0?`(${p.size})`:"All"]}),n.jsxs(Y,{variant:"outline",onClick:$,disabled:E||k===0,children:[n.jsx(nr,{className:`h-4 w-4 mr-2 ${E?"animate-pulse":""}`}),"Auto-Reply (",k,")"]}),n.jsxs(Y,{onClick:M,disabled:i,children:[n.jsx(gn,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Refresh"]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium",children:"Total Leads"})}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold",children:t.length})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium",children:"With Phone"})}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold",children:t.filter(D=>D.phone).length})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium",children:"Auto-Reply Sent"})}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(D=>D.autoReplySent).length})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium",children:"Pending Reply"})}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold text-orange-500",children:k})})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Qn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search by name, email, or phone...",value:u,onChange:D=>d(D.target.value),className:"pl-10"})]}),n.jsxs(Xe,{value:f,onValueChange:m,children:[n.jsx(Ge,{className:"w-[280px]",children:n.jsx(Qe,{placeholder:"Filter by form"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"all",children:"All Forms"}),a.map(D=>n.jsx(ae,{value:D.fbFormId,children:D.name},D.id))]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Yt,{className:"h-5 w-5"}),"Leads (",I.length,")"]}),n.jsx(Le,{children:"All leads collected from your Facebook lead forms. Select leads to export or send messages."})]}),n.jsx(Z,{children:i?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(gn,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):I.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Yt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No leads found. Sync your lead forms to fetch new leads."})]}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{className:"w-12",children:n.jsx(Wn,{checked:p.size===I.length&&I.length>0,onCheckedChange:F})}),n.jsx(ne,{children:"Name"}),n.jsx(ne,{children:"Email"}),n.jsx(ne,{children:"Phone"}),n.jsx(ne,{children:"Form"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{children:"Created"}),n.jsx(ne,{children:"Actions"})]})}),n.jsx(Lt,{children:I.map(D=>n.jsxs(Ve,{children:[n.jsx(te,{children:n.jsx(Wn,{checked:p.has(D.id),onCheckedChange:()=>V(D.id)})}),n.jsx(te,{className:"font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rc,{className:"h-4 w-4 text-muted-foreground"}),D.name||"N/A"]})}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xa,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm truncate max-w-[150px]",children:D.email||"N/A"})]})}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ac,{className:"h-4 w-4 text-muted-foreground"}),D.phone||"N/A"]})}),n.jsx(te,{children:n.jsx(Ae,{variant:"outline",className:"text-xs truncate max-w-[120px]",children:D.formName.replace("Life Changing Networks's form - ","")})}),n.jsx(te,{children:D.autoReplySent?n.jsxs(Ae,{className:"bg-green-100 text-green-700 border-green-200",children:[n.jsx(Eu,{className:"h-3 w-3 mr-1"}),"Sent"]}):D.phone?n.jsxs(Ae,{variant:"outline",className:"text-orange-600 border-orange-200",children:[n.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Pending"]}):n.jsx(Ae,{variant:"secondary",children:"No Phone"})}),n.jsx(te,{className:"text-sm text-muted-foreground",children:new Date(D.createdTime).toLocaleDateString()}),n.jsx(te,{children:n.jsx(Y,{size:"sm",variant:"ghost",onClick:()=>K(D),disabled:!D.phone,children:n.jsx(qt,{className:"h-4 w-4"})})})]},D.id))})]})})]}),n.jsx($t,{open:y,onOpenChange:N,children:n.jsxs(kt,{children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Send WhatsApp Message"}),n.jsxs(Dn,{children:["Send a message to ",w?.name||w?.phone]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{children:n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Phone: ",w?.phone]})}),n.jsx(cn,{placeholder:"Enter your message...",value:C,onChange:D=>A(D.target.value),rows:4})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),n.jsx(Y,{onClick:q,disabled:v||!C.trim(),children:v?n.jsxs(n.Fragment,{children:[n.jsx(gn,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx(nr,{className:"h-4 w-4 mr-2"}),"Send Message"]})})]})]})})]})})}const E6="https://graph.facebook.com/v18.0",T6="EAAO1YPeIbdABQH1TresAdKODLNRGydKZBByQHNNKXsZASpIV5lZAD6MLMGdgL8t3rHGhlZBr089UfdURhsQJTd9aZCsbbGeFSsZAhZAAholXOt5z88zGHxfwNfx0wIEuWSpglj95e5ZAK5u4DlytGbWT6OqNxq4bEuNxAjtAYxnoMVXhAQIWZBo1ZCk77rgvdGkgZDZD",aMe="3646219455517188";function sMe(){const[e,t]=b.useState([]),[r,a]=b.useState(null),[s,i]=b.useState(!1),[l,u]=b.useState(!1),[d,f]=b.useState(null),m=async()=>{i(!0),f(null);try{const y=await(await fetch(`${E6}/${aMe}/flows`,{headers:{Authorization:`Bearer ${T6}`}})).json();if(y.error)throw new Error(y.error.message);t(y.data||[])}catch(j){f(j instanceof Error?j.message:"Failed to fetch flows")}finally{i(!1)}},p=async j=>{u(!0),f(null);try{const N=await(await fetch(`${E6}/${j}?fields=id,name,categories,preview,status,validation_errors,json_version,data_api_version,data_channel_uri,health_status,whatsapp_business_account,application`,{headers:{Authorization:`Bearer ${T6}`}})).json();if(N.error)throw new Error(N.error.message);a(N)}catch(y){f(y instanceof Error?y.message:"Failed to fetch flow details")}finally{u(!1)}};b.useEffect(()=>{m()},[]);const x=j=>{switch(j.toLowerCase()){case"published":return"bg-green-100 text-green-800 border-green-200";case"draft":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},v=j=>j==="AVAILABLE"?n.jsx(Eu,{className:"w-4 h-4 text-green-600"}):n.jsx(el,{className:"w-4 h-4 text-red-600"});return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-6",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"WhatsApp Flow Manager"}),n.jsx("p",{className:"text-gray-600",children:"Manage and monitor your WhatsApp flows"})]}),n.jsxs("button",{onClick:m,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[n.jsx(gn,{className:`w-4 h-4 ${s?"animate-spin":""}`}),"Refresh"]})]}),d&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:d}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Available Flows"}),s?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(gn,{className:"w-8 h-8 animate-spin text-green-600"})}):n.jsxs("div",{className:"space-y-3",children:[e.map(j=>n.jsxs("button",{onClick:()=>p(j.id),className:`w-full text-left p-4 rounded-lg border-2 transition-all ${r?.id===j.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300 bg-white"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:j.name}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${x(j.status)}`,children:j.status})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:j.categories.map(y=>n.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded-full",children:y},y))})]},j.id)),e.length===0&&!s&&n.jsx("p",{className:"text-gray-500 text-center py-8",children:"No flows available"})]})]}),n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Flow Details"}),l?n.jsx("div",{className:"flex items-center justify-center py-12 bg-white rounded-lg border-2 border-gray-200",children:n.jsx(gn,{className:"w-8 h-8 animate-spin text-green-600"})}):r?n.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-200 overflow-hidden",children:[n.jsxs("div",{className:"p-6 bg-gradient-to-r from-green-600 to-blue-600 text-white",children:[n.jsx("h3",{className:"text-2xl font-bold mb-2",children:r.name}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full",children:r.status}),n.jsxs("span",{children:["JSON v",r.json_version]}),n.jsxs("span",{children:["API v",r.data_api_version]})]})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[r.preview&&n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"Preview"}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Ht,{className:"w-4 h-4"}),"Expires: ",new Date(r.preview.expires_at).toLocaleDateString()]})]}),n.jsxs("a",{href:r.preview.preview_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:["Open Preview",n.jsx(Dh,{className:"w-4 h-4"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Health Status"}),n.jsx("div",{className:"space-y-2",children:r.health_status.entities.map((j,y)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-900",children:j.entity_type}),n.jsx("span",{className:"text-xs text-gray-500 ml-2",children:j.id})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[v(j.can_send_message),n.jsx("span",{className:"text-sm text-gray-700",children:j.can_send_message})]})]},y))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"WhatsApp Business Account"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Name"}),n.jsx("p",{className:"font-medium text-gray-900",children:r.whatsapp_business_account.name})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Currency"}),n.jsx("p",{className:"font-medium text-gray-900",children:r.whatsapp_business_account.currency})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"ID"}),n.jsx("p",{className:"font-mono text-sm text-gray-700",children:r.whatsapp_business_account.id})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Application"}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"font-medium text-gray-900",children:r.application.name}),n.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded-full",children:r.application.category})]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["ID: ",r.application.id]}),n.jsxs("a",{href:r.application.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-sm font-medium",children:["View Application",n.jsx(Dh,{className:"w-4 h-4"})]})]})]})]})]}):n.jsx("div",{className:"flex items-center justify-center py-12 bg-white rounded-lg border-2 border-gray-200",children:n.jsx("p",{className:"text-gray-500",children:"Select a flow to view details"})})]})]})]})})})}function O6(){const[e,t]=b.useState("7"),{data:r,isLoading:a}=Ie({queryKey:["/api/reports/delivery",e],queryFn:async()=>{const j=await fetch(`/api/reports/delivery?days=${e}`);if(!j.ok)throw new Error("Failed to fetch report");return j.json()},refetchInterval:3e4}),s=()=>{if(!r)return;const j=["Date","Sent","Delivered","Read","Failed"],y=r.dailyData.map(S=>[S.fullDate,S.sent.toString(),S.delivered.toString(),S.read.toString(),S.failed.toString()]),N=[j.join(","),...y.map(S=>S.join(","))].join(`
`),C=new Blob([N],{type:"text/csv"}),A=URL.createObjectURL(C),w=document.createElement("a");w.href=A,w.download=`delivery-report-${qn(new Date,"yyyyMMdd")}.csv`,w.click(),URL.revokeObjectURL(A)};if(a)return n.jsx(ct,{children:n.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-8rem)]",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})})});const i=r?.totalSent||0,l=r?.delivered||0,u=r?.read||0,d=r?.failed||0,f=r?.deliveryRate||0,m=r?.readRate||0,p=r?.failureRate||0,x=r?.dailyData||[],v=r?.hourlyData||[];return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Message Delivery Report"}),n.jsx("p",{className:"text-muted-foreground",children:"Detailed analysis of message delivery rates over time."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Xe,{value:e,onValueChange:t,children:[n.jsx(Ge,{className:"w-[140px]",children:n.jsx(Qe,{placeholder:"Period"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"1",children:"Last 24 Hours"}),n.jsx(ae,{value:"7",children:"Last 7 Days"}),n.jsx(ae,{value:"30",children:"Last 30 Days"})]})]}),n.jsxs(Y,{variant:"outline",onClick:s,children:[n.jsx(Or,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Total Sent"})}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold",children:i.toLocaleString()})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Delivered"})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.toLocaleString()}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[f,"% Delivery Rate"]})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Read"})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.toLocaleString()}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[m,"% Read Rate"]})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Failed"})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold text-destructive",children:d.toLocaleString()}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[p,"% Failure Rate"]})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Delivery Timeline"}),n.jsx(Le,{children:"Message status trends over the selected period."})]}),n.jsx(Z,{children:n.jsx("div",{className:"h-[400px] w-full",children:x.length>0&&x.some(j=>j.sent>0)?n.jsx(Gr,{width:"100%",height:"100%",children:n.jsxs(bNe,{data:x,margin:{top:10,right:30,left:0,bottom:0},children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorSent",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.1}),n.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorDelivered",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.1}),n.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorRead",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.1}),n.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})]}),n.jsx(zr,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(Mr,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(Ms,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),n.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"}}),n.jsx(qr,{}),n.jsx(Pa,{type:"monotone",dataKey:"sent",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorSent)",name:"Sent"}),n.jsx(Pa,{type:"monotone",dataKey:"delivered",stroke:"#22c55e",fillOpacity:1,fill:"url(#colorDelivered)",name:"Delivered"}),n.jsx(Pa,{type:"monotone",dataKey:"read",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorRead)",name:"Read"})]})}):n.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:n.jsxs("div",{className:"text-center",children:[n.jsx(qt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No message data available for this period"}),n.jsx("p",{className:"text-sm",children:"Send messages to see delivery trends here."})]})})})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Hourly Distribution"}),n.jsx(Le,{children:"Message volume by hour of day."})]}),n.jsx(Z,{children:n.jsx("div",{className:"h-[300px] w-full",children:v.length>0&&v.some(j=>j.sent>0)?n.jsx(Gr,{width:"100%",height:"100%",children:n.jsxs(ml,{data:v,margin:{top:10,right:30,left:0,bottom:0},children:[n.jsx(Ms,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),n.jsx(zr,{dataKey:"hour",stroke:"hsl(var(--muted-foreground))",fontSize:10,tickLine:!1,axisLine:!1}),n.jsx(Mr,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"}}),n.jsx(qr,{}),n.jsx($n,{dataKey:"sent",name:"Sent",fill:"#8884d8",radius:[4,4,0,0]}),n.jsx($n,{dataKey:"delivered",name:"Delivered",fill:"#22c55e",radius:[4,4,0,0]})]})}):n.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:n.jsxs("div",{className:"text-center",children:[n.jsx(_s,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No hourly data available"})]})})})})]})]})})}function iMe(){const[e,t]=b.useState("week"),{data:r,isLoading:a,error:s}=Ie({queryKey:["/api/reports/campaign-performance",e],queryFn:async()=>{const i=await Nn(`/api/reports/campaign-performance?period=${e}`);if(!i.ok)throw new Error("Failed to fetch campaign performance");return i.json()}});return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[n.jsx(Ou,{className:"h-8 w-8 text-primary"}),"Campaign Performance"]}),n.jsx("p",{className:"text-muted-foreground",children:"ROI and engagement metrics for your broadcasts."})]}),n.jsxs(Xe,{value:e,onValueChange:t,children:[n.jsx(Ge,{className:"w-[150px]",children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"today",children:"Today"}),n.jsx(ae,{value:"yesterday",children:"Yesterday"}),n.jsx(ae,{value:"week",children:"Last 7 Days"}),n.jsx(ae,{value:"month",children:"Last 30 Days"})]})]})]}),a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?n.jsx(Q,{children:n.jsx(Z,{className:"pt-6",children:n.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load campaign data"})})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Ou,{className:"h-4 w-4"}),"Campaigns"]})}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold",children:r?.summary.totalCampaigns||0})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(nr,{className:"h-4 w-4"}),"Total Sent"]})}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold",children:(r?.summary.totalSent||0).toLocaleString()})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(ma,{className:"h-4 w-4"}),"Read Rate"]})}),n.jsx(Z,{children:n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[r?.summary.avgReadRate||0,"%"]})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(qt,{className:"h-4 w-4"}),"Reply Rate"]})}),n.jsx(Z,{children:n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r?.summary.avgReplyRate||0,"%"]})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx($u,{className:"h-4 w-4"}),"Total Cost"]})}),n.jsx(Z,{children:n.jsxs("div",{className:"text-2xl font-bold",children:["$",r?.summary.totalCost||"0.00"]})})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Engagement Comparison"}),n.jsx(Le,{children:"Compare Sent vs Read vs Replied across top campaigns."})]}),n.jsx(Z,{children:r?.chartData&&r.chartData.length>0?n.jsx("div",{className:"h-[350px] w-full",children:n.jsx(Gr,{width:"100%",height:"100%",children:n.jsxs(ml,{data:r.chartData,margin:{top:20,right:30,left:20,bottom:5},children:[n.jsx(Ms,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),n.jsx(zr,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(Mr,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(kn,{cursor:{fill:"hsl(var(--muted)/0.2)"},contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"}}),n.jsx(qr,{}),n.jsx($n,{dataKey:"sent",fill:"hsl(var(--primary))",radius:[4,4,0,0],name:"Sent"}),n.jsx($n,{dataKey:"read",fill:"hsl(var(--chart-2))",radius:[4,4,0,0],name:"Read"}),n.jsx($n,{dataKey:"replied",fill:"hsl(var(--chart-5))",radius:[4,4,0,0],name:"Replied"})]})})}):n.jsx("div",{className:"h-[350px] flex items-center justify-center text-muted-foreground",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ou,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No campaign data for this period."})]})})})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsx(oe,{children:"Detailed Report"})}),n.jsx(Z,{children:r?.campaigns&&r.campaigns.length>0?n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Campaign Name"}),n.jsx(ne,{children:"Date"}),n.jsx(ne,{children:"Sent"}),n.jsx(ne,{children:"Delivered"}),n.jsx(ne,{children:"Read Rate"}),n.jsx(ne,{children:"Reply Rate"}),n.jsx(ne,{className:"text-right",children:"Cost"})]})}),n.jsx(Lt,{children:r.campaigns.map(i=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:i.name}),n.jsx(te,{className:"text-muted-foreground",children:i.date}),n.jsx(te,{children:i.sent.toLocaleString()}),n.jsx(te,{children:n.jsxs(Ae,{variant:"outline",className:"text-green-600 border-green-200 bg-green-50",children:[i.deliveryRate,"%"]})}),n.jsxs(te,{children:[i.readRate,"%"]}),n.jsxs(te,{children:[i.replyRate,"%"]}),n.jsxs(te,{className:"text-right font-medium",children:["$",i.cost]})]},i.id))})]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Ou,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No campaigns found for this period. Send a broadcast to see data here."})]})})]})]})]})})}function oMe(){const[e,t]=b.useState("week"),{data:r,isLoading:a,error:s}=Ie({queryKey:["/api/reports/customer-replies",e],queryFn:async()=>{const u=await Nn(`/api/reports/customer-replies?period=${e}`);if(!u.ok)throw new Error("Failed to fetch customer replies");return u.json()}}),i=u=>{switch(u){case"Positive":return n.jsx(Wo,{className:"h-4 w-4 text-green-600"});case"Negative":return n.jsx(Vo,{className:"h-4 w-4 text-red-600"});default:return n.jsx(Ih,{className:"h-4 w-4 text-gray-600"})}},l=u=>{const d={Positive:"text-green-600 bg-green-50 border-green-200",Negative:"text-red-600 bg-red-50 border-red-200",Neutral:"text-gray-600 bg-gray-50 border-gray-200"};return n.jsx(Ae,{variant:"outline",className:d[u]||d.Neutral,children:n.jsxs("span",{className:"flex items-center gap-1",children:[i(u),u]})})};return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Customers Who Replied"}),n.jsx("p",{className:"text-muted-foreground",children:"Track incoming messages and customer sentiment."})]}),n.jsxs(Xe,{value:e,onValueChange:t,children:[n.jsx(Ge,{className:"w-[150px]",children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"today",children:"Today"}),n.jsx(ae,{value:"yesterday",children:"Yesterday"}),n.jsx(ae,{value:"week",children:"Last 7 Days"}),n.jsx(ae,{value:"month",children:"Last 30 Days"})]})]})]}),a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?n.jsx(Q,{children:n.jsx(Z,{className:"pt-6",children:n.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load customer replies data"})})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Total Replies"})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r?.summary.totalReplies||0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["This ",e]})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Wo,{className:"h-4 w-4 text-green-600"}),"Positive Sentiment"]})}),n.jsxs(Z,{children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r?.summary.positiveSentiment||0,"%"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[r?.summary.sentimentBreakdown?.positive||0," positive replies"]})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Vo,{className:"h-4 w-4 text-red-600"}),"Negative Sentiment"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:r?.summary.sentimentBreakdown?.negative||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Negative replies"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Go,{className:"h-4 w-4 text-orange-600"}),"Unsubscribe Requests"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r?.summary.unsubscribeRequests||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Stop/unsubscribe requests"})]})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsx(oe,{children:"Recent Replies"})}),n.jsx(Z,{children:r?.replies&&r.replies.length>0?n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Customer"}),n.jsx(ne,{children:"Message"}),n.jsx(ne,{children:"Time"}),n.jsx(ne,{children:"Sentiment"}),n.jsx(ne,{className:"text-right",children:"Action"})]})}),n.jsx(Lt,{children:r.replies.map(u=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aa,{className:"h-8 w-8",children:n.jsx(sa,{className:"text-xs",children:u.name.charAt(0).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:u.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:u.phone})]})]})}),n.jsxs(te,{className:"text-muted-foreground max-w-[300px] truncate",children:['"',u.message,'"']}),n.jsx(te,{className:"text-muted-foreground",children:u.time}),n.jsx(te,{children:l(u.sentiment)}),n.jsx(te,{className:"text-right",children:n.jsxs(Y,{variant:"ghost",size:"sm",children:[n.jsx(qt,{className:"mr-2 h-4 w-4"})," Reply"]})})]},u.id))})]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(qt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No customer replies found for this period."})]})})]})]})]})})}function lMe(){const[e,t]=b.useState("week"),{data:r,isLoading:a,error:s}=Ie({queryKey:["/api/reports/ai-agents",e],queryFn:async()=>{const l=await Nn(`/api/reports/ai-agents?period=${e}`);if(!l.ok)throw new Error("Failed to fetch agent performance");return l.json()}}),i=l=>l.startsWith("gemini")?n.jsx(Ae,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Gemini"}):n.jsx(Ae,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"OpenAI"});return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[n.jsx(Ct,{className:"h-8 w-8 text-primary"}),"AI Agent Performance"]}),n.jsx("p",{className:"text-muted-foreground",children:"Track AI agent productivity and response metrics."})]}),n.jsxs(Xe,{value:e,onValueChange:t,children:[n.jsx(Ge,{className:"w-[150px]",children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"today",children:"Today"}),n.jsx(ae,{value:"yesterday",children:"Yesterday"}),n.jsx(ae,{value:"week",children:"Last 7 Days"}),n.jsx(ae,{value:"month",children:"Last 30 Days"})]})]})]}),a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?n.jsx(Q,{children:n.jsx(Z,{className:"pt-6",children:n.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load agent performance data"})})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4"}),"Total Agents"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r?.summary.totalAgents||0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[r?.summary.activeAgents||0," active"]})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(qt,{className:"h-4 w-4"}),"Chats Handled"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r?.summary.totalChats||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique conversations"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Yr,{className:"h-4 w-4"}),"Messages Generated"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r?.summary.totalMessages||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"AI responses sent"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Ht,{className:"h-4 w-4"}),"Avg Response Time"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r?.summary.avgResponseTime||"N/A"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Time to respond"})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Agent Leaderboard"}),n.jsxs(Le,{children:["Top performing AI agents this ",e==="today"||e==="yesterday"?"day":e,"."]})]}),n.jsx(Z,{children:r?.agents&&r.agents.length>0?n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Agent"}),n.jsx(ne,{children:"Model"}),n.jsx(ne,{className:"text-center",children:"Chats"}),n.jsx(ne,{className:"text-center",children:"Messages"}),n.jsx(ne,{children:"Avg Response"}),n.jsx(ne,{children:"Status"})]})}),n.jsx(Lt,{children:r.agents.map(l=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(aa,{children:n.jsx(sa,{className:"bg-primary/10 text-primary",children:l.name.split(" ").map(u=>u[0]).join("").slice(0,2).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:l.name}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Temp: ",l.temperature]})]})]})}),n.jsx(te,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[i(l.model),n.jsx("span",{className:"text-xs text-muted-foreground",children:l.model})]})}),n.jsx(te,{className:"text-center",children:n.jsx("div",{className:"text-lg font-semibold",children:l.chatsHandled})}),n.jsx(te,{className:"text-center",children:n.jsx("div",{className:"text-lg font-semibold",children:l.messagesGenerated})}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:l.avgResponseTime})]})}),n.jsx(te,{children:n.jsx(Ae,{variant:l.isActive?"default":"secondary",children:l.isActive?"Active":"Inactive"})})]},l.id))})]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Ct,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No AI agents found. Create your first agent to see performance data."})]})})]})]})]})})}const ug={name:"Life Changing Networks",displayPhoneNumber:"+91 98765 43210",phoneNumberId:"848441401690739",whatsappBusinessAccountId:"3646219455517188"},Ng=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),A2=e=>Math.floor(e)===e?`${Math.round(e).toLocaleString("en-IN")}`:Ng(e);function cMe(){const[e,t]=b.useState("week"),{data:r,isLoading:a,error:s}=Ie({queryKey:["/api/reports/spending",e],queryFn:async()=>{const i=await Nn(`/api/reports/spending?period=${e}`);if(!i.ok)throw new Error("Failed to fetch spending data");return i.json()}});return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[n.jsx($u,{className:"h-8 w-8 text-green-600"}),"WhatsApp Spending"]}),n.jsx("p",{className:"text-muted-foreground",children:"Track your daily expenditure on WhatsApp conversations (INR)."})]}),n.jsxs(Xe,{value:e,onValueChange:t,children:[n.jsx(Ge,{className:"w-[150px]",children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"today",children:"Today"}),n.jsx(ae,{value:"yesterday",children:"Yesterday"}),n.jsx(ae,{value:"week",children:"Last 7 Days"}),n.jsx(ae,{value:"month",children:"Last 30 Days"})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsxs("div",{children:[n.jsx(oe,{className:"text-lg font-medium",children:"Connected WhatsApp"}),n.jsx(Le,{children:"Business account used for billing"})]}),n.jsx(ki,{className:"h-6 w-6 text-green-500"})]}),n.jsx(Z,{children:n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Business:"})," ",ug.name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",ug.displayPhoneNumber]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Phone ID:"})," ",ug.phoneNumberId]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"WABA ID:"})," ",ug.whatsappBusinessAccountId]})]})})]}),a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?n.jsx(Q,{children:n.jsx(Z,{className:"pt-6",children:n.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load spending data"})})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx($u,{className:"h-4 w-4"}),"Total Spend"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:Ng(r?.summary.totalSpend??0)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["This ",e]})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Ii,{className:"h-4 w-4"}),"Avg Daily Spend"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:Ng(r?.summary.avgDailySpend??0)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Per day average"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(ks,{className:"h-4 w-4"}),"Projected Monthly"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:Ng(r?.summary.projectedMonthly??0)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Based on current usage"})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Cost Breakdown by Category"}),n.jsx(Le,{children:"Daily spend split by conversation type (Marketing, Utility, Service) in ."})]}),n.jsx(Z,{children:r?.dailySpending&&r.dailySpending.length>0?n.jsx("div",{className:"h-[400px] w-full",children:n.jsx(Gr,{width:"100%",height:"100%",children:n.jsxs(ml,{data:r.dailySpending,margin:{top:20,right:30,left:20,bottom:5},children:[n.jsx(Ms,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),n.jsx(zr,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(Mr,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:i=>`${i}`}),n.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"},formatter:i=>[`${i.toFixed(2)}`,""],labelFormatter:i=>`Date: ${i}`}),n.jsx(qr,{}),n.jsx($n,{dataKey:"marketing",name:"Marketing",stackId:"a",fill:"hsl(var(--primary))",radius:[0,0,4,4]}),n.jsx($n,{dataKey:"utility",name:"Utility",stackId:"a",fill:"hsl(var(--chart-2))"}),n.jsx($n,{dataKey:"service",name:"Service",stackId:"a",fill:"hsl(var(--chart-3))",radius:[4,4,0,0]})]})})}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx($u,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No spending data available for this period."})]})})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs(oe,{className:"text-base flex items-center justify-between",children:["Marketing Conversations",n.jsx(Ae,{variant:"outline",className:"bg-primary/10",children:A2(r?.summary.totalMarketing??0)})]})}),n.jsxs(Z,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["",r?.summary.marketingRate?.toFixed(2)||"0.08"," ",n.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/ conv"})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Promotions, offers, updates"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs(oe,{className:"text-base flex items-center justify-between",children:["Utility Conversations",n.jsx(Ae,{variant:"outline",className:"bg-blue-500/10 text-blue-600",children:A2(r?.summary.totalUtility??0)})]})}),n.jsxs(Z,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["",r?.summary.utilityRate?.toFixed(2)||"0.05"," ",n.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/ conv"})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Transaction updates, post-purchase"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs(oe,{className:"text-base flex items-center justify-between",children:["Service Conversations",n.jsx(Ae,{variant:"outline",className:"bg-green-500/10 text-green-600",children:A2(r?.summary.totalService??0)})]})}),n.jsxs(Z,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["",r?.summary.serviceRate?.toFixed(2)||"0.03"," ",n.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/ conv"})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"User-initiated support inquiries"})]})]})]})]})]})})}const dg={name:"Life Changing Networks",displayPhoneNumber:"+91 98765 43210",phoneNumberId:"848441401690739",whatsappBusinessAccountId:"3646219455517188"},uMe=[{id:1,date:"27 Nov 2025",type:"Recharge",amount:"+4,150",balance:"6,170",status:"Success"},{id:2,date:"26 Nov 2025",type:"Usage - Marketing",amount:"-1,025",balance:"2,025",status:"Success"},{id:3,date:"25 Nov 2025",type:"Usage - Utility",amount:"-430",balance:"3,050",status:"Success"},{id:4,date:"20 Nov 2025",type:"Recharge",amount:"+1,660",balance:"3,485",status:"Success"},{id:5,date:"15 Nov 2025",type:"Monthly Subscription",amount:"-2,405",balance:"1,825",status:"Success"}],dMe="6,170";function fMe(){return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Credits & Transactions"}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor your wallet balance and WhatsApp usage."})]}),n.jsxs(Y,{children:[n.jsx(An,{className:"mr-2 h-4 w-4"}),"Add Credits"]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsxs("div",{children:[n.jsx(oe,{className:"text-lg font-medium",children:"Connected WhatsApp"}),n.jsx(Le,{children:"Business account details"})]}),n.jsx(ki,{className:"h-6 w-6 text-green-500"})]}),n.jsx(Z,{children:n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Business:"})," ",dg.name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",dg.displayPhoneNumber]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Phone ID:"})," ",dg.phoneNumberId]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"WABA ID:"})," ",dg.whatsappBusinessAccountId]})]})})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(Q,{className:"bg-primary text-primary-foreground",children:[n.jsx(ie,{children:n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(hZ,{className:"h-5 w-5"}),"Current Balance"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-5xl font-bold",children:dMe}),n.jsx("p",{className:"text-primary-foreground/80 mt-2",children:"Auto-recharge disabled"})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Low Balance Alert"}),n.jsx(Le,{children:"Get notified when your balance falls below a threshold."})]}),n.jsxs(Z,{children:[n.jsxs("div",{className:"text-sm text-muted-foreground mb-4",children:["Current threshold: ",n.jsx("span",{className:"font-bold text-foreground",children:"830"})]}),n.jsx(Y,{variant:"outline",size:"sm",children:"Configure Alert"})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(oe,{children:"Transaction History"}),n.jsxs(Y,{variant:"ghost",size:"sm",children:[n.jsx(Or,{className:"mr-2 h-4 w-4"})," Export"]})]}),n.jsx(Le,{children:"All credit purchases and WhatsApp usage charges."})]}),n.jsx(Z,{children:n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Date"}),n.jsx(ne,{children:"Type"}),n.jsx(ne,{children:"Amount"}),n.jsx(ne,{children:"Balance"}),n.jsx(ne,{children:"Status"})]})}),n.jsx(Lt,{children:uMe.map(e=>n.jsxs(Ve,{children:[n.jsx(te,{children:e.date}),n.jsx(te,{children:e.type}),n.jsx(te,{className:e.amount.startsWith("+")?"text-green-600 font-medium":"text-red-600 font-medium",children:e.amount}),n.jsx(te,{children:e.balance}),n.jsx(te,{children:n.jsx(Ae,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:e.status})})]},e.id))})]})})]}),n.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"* All amounts in Indian Rupees (). 1 credit  0.01 per WhatsApp message."})]})})}function hMe(){const[e,t]=b.useState("week"),[r,a]=b.useState(""),[s,i]=b.useState("engagement"),[l,u]=b.useState("desc"),{data:d,isLoading:f,error:m}=Ie({queryKey:["/api/reports/user-engagement",e],queryFn:async()=>{const y=await Nn(`/api/reports/user-engagement?period=${e}`);if(!y.ok)throw new Error("Failed to fetch user engagement");return y.json()}}),p=(d?.users||[]).filter(y=>y.name.toLowerCase().includes(r.toLowerCase())||y.phone.includes(r)).sort((y,N)=>{const C=y[s],A=N[s];return l==="desc"?A-C:C-A}),x=y=>y>=90?"text-green-600":y>=75?"text-lime-600":y>=60?"text-yellow-600":y>=45?"text-orange-600":"text-red-600",v=y=>y>=90?n.jsx(Ae,{className:"bg-green-500",children:"Excellent"}):y>=75?n.jsx(Ae,{className:"bg-lime-500",children:"Good"}):y>=60?n.jsx(Ae,{className:"bg-yellow-500",children:"Average"}):y>=45?n.jsx(Ae,{className:"bg-orange-500",children:"Low"}):n.jsx(Ae,{variant:"destructive",children:"Very Low"}),j=y=>y===0?n.jsx(Zb,{className:"h-5 w-5 text-yellow-500"}):y===1?n.jsx(Zb,{className:"h-5 w-5 text-gray-400"}):y===2?n.jsx(Zb,{className:"h-5 w-5 text-amber-700"}):n.jsx("span",{className:"w-5 text-center text-muted-foreground",children:y+1});return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[n.jsx(s_,{className:"h-8 w-8 text-yellow-500"}),"User Engagement Report"]}),n.jsx("p",{className:"text-muted-foreground",children:"See which users engage most with your messages."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Xe,{value:e,onValueChange:t,children:[n.jsx(Ge,{className:"w-[150px]",children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"today",children:"Today"}),n.jsx(ae,{value:"yesterday",children:"Yesterday"}),n.jsx(ae,{value:"week",children:"Last 7 Days"}),n.jsx(ae,{value:"month",children:"Last 30 Days"})]})]}),n.jsxs(Y,{variant:"outline",children:[n.jsx(Or,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),f?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):m?n.jsx(Q,{children:n.jsx(Z,{className:"pt-6",children:n.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load engagement data"})})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"}),"Total Users"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d?.summary.totalUsers||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Active recipients"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(ma,{className:"h-4 w-4 text-blue-600"}),"Avg Read Rate"]})}),n.jsxs(Z,{children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[d?.summary.avgReadRate||0,"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all users"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(qt,{className:"h-4 w-4 text-purple-600"}),"Avg Reply Rate"]})}),n.jsxs(Z,{children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[d?.summary.avgReplyRate||0,"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all users"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(ks,{className:"h-4 w-4 text-green-600"}),"Total Replies"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:d?.summary.totalReplies||0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",d?.summary.totalMessages||0," messages"]})]})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[n.jsxs(Q,{className:"md:col-span-2",children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(oe,{children:"Top Engaged Users"}),n.jsx(Le,{children:"Users ranked by engagement score"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative w-64",children:[n.jsx(Qn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search users...",className:"pl-9",value:r,onChange:y=>a(y.target.value)})]}),n.jsxs(Xe,{value:s,onValueChange:y=>i(y),children:[n.jsx(Ge,{className:"w-[150px]",children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"engagement",children:"Engagement %"}),n.jsx(ae,{value:"readRate",children:"Read Rate %"}),n.jsx(ae,{value:"replyRate",children:"Reply Rate %"})]})]}),n.jsx(Y,{variant:"outline",size:"icon",onClick:()=>u(y=>y==="desc"?"asc":"desc"),children:l==="desc"?n.jsx(IQ,{className:"h-4 w-4"}):n.jsx(BQ,{className:"h-4 w-4"})})]})]})}),n.jsx(Z,{children:p.length>0?n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{className:"w-12",children:"Rank"}),n.jsx(ne,{children:"User"}),n.jsx(ne,{className:"text-right",children:"Messages"}),n.jsx(ne,{className:"text-right",children:"Read %"}),n.jsx(ne,{className:"text-right",children:"Reply %"}),n.jsx(ne,{className:"text-right",children:"Engagement"})]})}),n.jsx(Lt,{children:p.slice(0,10).map((y,N)=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:n.jsx("div",{className:"flex items-center justify-center",children:j(N)})}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(aa,{className:"h-8 w-8",children:n.jsx(sa,{className:"text-xs bg-primary/10 text-primary",children:y.name.split(" ").map(C=>C[0]).join("").slice(0,2).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:y.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:y.phone})]})]})}),n.jsxs(te,{className:"text-right",children:[n.jsx("div",{className:"text-sm",children:y.messagesReceived}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[y.replies," replies"]})]}),n.jsx(te,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx(ur,{value:y.readRate,className:"w-16 h-2"}),n.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[y.readRate,"%"]})]})}),n.jsx(te,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx(ur,{value:y.replyRate,className:"w-16 h-2"}),n.jsxs("span",{className:"text-sm font-medium text-purple-600",children:[y.replyRate,"%"]})]})}),n.jsx(te,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsxs("span",{className:`text-lg font-bold ${x(y.engagement)}`,children:[y.engagement,"%"]}),v(y.engagement)]})})]},y.id))})]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Yt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No engagement data found for this period."})]})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Engagement Distribution"}),n.jsx(Le,{children:"How users are distributed across engagement levels"})]}),n.jsx(Z,{children:d?.distribution&&d.distribution.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-[300px]",children:n.jsx(Gr,{width:"100%",height:"100%",children:n.jsxs(ml,{data:d.distribution,layout:"vertical",children:[n.jsx(Ms,{strokeDasharray:"3 3",horizontal:!0,vertical:!1,stroke:"hsl(var(--border))"}),n.jsx(zr,{type:"number",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(Mr,{type:"category",dataKey:"range",stroke:"hsl(var(--muted-foreground))",fontSize:11,tickLine:!1,axisLine:!1,width:70}),n.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"},formatter:y=>[`${y} users`,"Count"]}),n.jsx($n,{dataKey:"count",radius:[0,4,4,0],children:d.distribution.map((y,N)=>n.jsx(Xs,{fill:y.color},`cell-${N}`))})]})})}),n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Legend"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),n.jsx("span",{children:"Excellent (90%+)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-lime-500"}),n.jsx("span",{children:"Good (80-89%)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),n.jsx("span",{children:"Average (70-79%)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),n.jsx("span",{children:"Low (60-69%)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),n.jsx("span",{children:"Very Low (<60%)"})]})]})]})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"No distribution data available."})})})]})]})]})]})})}function mMe(){const[e,t]=b.useState(""),[r,a]=b.useState(null),{data:s=[],isLoading:i,refetch:l}=Ie({queryKey:["/api/broadcast/logs"],queryFn:async()=>{const v=await fetch("/api/broadcast/logs?limit=1000");if(!v.ok)throw new Error("Failed to fetch broadcast logs");return v.json()},refetchInterval:6e4,staleTime:3e4}),u=Object.values(s.reduce((v,j)=>{const y=j.campaignName;return v[y]||(v[y]={campaignName:j.campaignName,totalContacts:0,sent:0,delivered:0,failed:0,pending:0,replied:0,replyRate:0,deliveryRate:0,lastSent:j.timestamp,logs:[]}),v[y].totalContacts++,v[y].logs.push(j),j.status==="sent"&&v[y].sent++,j.status==="delivered"&&v[y].delivered++,j.status==="failed"&&v[y].failed++,j.status==="pending"&&v[y].pending++,j.replied&&v[y].replied++,new Date(j.timestamp)>new Date(v[y].lastSent)&&(v[y].lastSent=j.timestamp),v},{})).map(v=>({...v,replyRate:v.totalContacts>0?Math.round(v.replied/v.totalContacts*100):0,deliveryRate:v.totalContacts>0?Math.round((v.sent+v.delivered)/v.totalContacts*100):0})).sort((v,j)=>new Date(j.lastSent).getTime()-new Date(v.lastSent).getTime()),d=u.filter(v=>e===""||v.campaignName.toLowerCase().includes(e.toLowerCase())),f={totalCampaigns:u.length,totalMessages:s.length,totalSent:s.filter(v=>v.status==="sent").length,totalDelivered:s.filter(v=>v.status==="delivered").length,totalFailed:s.filter(v=>v.status==="failed").length,totalReplied:s.filter(v=>v.replied).length},m=v=>{switch(v){case"sent":return n.jsxs(Ae,{variant:"default",className:"bg-blue-500",children:[n.jsx(Eu,{className:"h-3 w-3 mr-1"}),"Sent"]});case"delivered":return n.jsxs(Ae,{variant:"default",className:"bg-green-500",children:[n.jsx(Eu,{className:"h-3 w-3 mr-1"}),"Delivered"]});case"failed":return n.jsxs(Ae,{variant:"destructive",children:[n.jsx(Li,{className:"h-3 w-3 mr-1"}),"Failed"]});case"pending":return n.jsxs(Ae,{variant:"secondary",children:[n.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Pending"]});default:return n.jsx(Ae,{variant:"outline",children:v})}},p=v=>{const y=[["Timestamp","Contact Name","Phone","Type","Template","Status","Replied","Replied At","Message ID","Error"].join(","),...v.logs.map(w=>[qn(new Date(w.timestamp),"yyyy-MM-dd HH:mm:ss"),`"${w.contactName}"`,w.contactPhone,w.messageType,w.templateName||"",w.status,w.replied?"Yes":"No",w.repliedAt?qn(new Date(w.repliedAt),"yyyy-MM-dd HH:mm:ss"):"",w.messageId||"",`"${w.error||""}"`].join(","))].join(`
`),N=new Blob([y],{type:"text/csv"}),C=URL.createObjectURL(N),A=document.createElement("a");A.href=C,A.download=`${v.campaignName.replace(/[^a-z0-9]/gi,"_")}-${qn(new Date,"yyyyMMdd-HHmmss")}.csv`,A.click(),URL.revokeObjectURL(C)},x=()=>{const j=[["Campaign","Timestamp","Contact Name","Phone","Type","Template","Status","Replied","Replied At","Message ID","Error"].join(","),...s.map(A=>[`"${A.campaignName}"`,qn(new Date(A.timestamp),"yyyy-MM-dd HH:mm:ss"),`"${A.contactName}"`,A.contactPhone,A.messageType,A.templateName||"",A.status,A.replied?"Yes":"No",A.repliedAt?qn(new Date(A.repliedAt),"yyyy-MM-dd HH:mm:ss"):"",A.messageId||"",`"${A.error||""}"`].join(","))].join(`
`),y=new Blob([j],{type:"text/csv"}),N=URL.createObjectURL(y),C=document.createElement("a");C.href=N,C.download=`all-broadcasts-${qn(new Date,"yyyyMMdd-HHmmss")}.csv`,C.click(),URL.revokeObjectURL(N)};return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Broadcast Reports"}),n.jsx("p",{className:"text-muted-foreground",children:"Campaign-wise analysis of your broadcast messages."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Y,{variant:"outline",onClick:()=>l(),children:[n.jsx(gn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs(Y,{variant:"outline",onClick:x,children:[n.jsx(Or,{className:"h-4 w-4 mr-2"}),"Export All"]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-6",children:[n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Campaigns"}),n.jsx(ks,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold",children:f.totalCampaigns})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Total Messages"}),n.jsx(qt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold",children:f.totalMessages})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Read"}),n.jsx(Eu,{className:"h-4 w-4 text-blue-500"})]}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f.totalSent})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Delivered"}),n.jsx(Eu,{className:"h-4 w-4 text-green-500"})]}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold text-green-600",children:f.totalDelivered})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Replied"}),n.jsx(es,{className:"h-4 w-4 text-purple-500"})]}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.totalReplied})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Failed"}),n.jsx(Li,{className:"h-4 w-4 text-red-500"})]}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold text-red-600",children:f.totalFailed})})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Qn,{className:"h-5 w-5"}),"Search Campaigns"]})}),n.jsx(Z,{children:n.jsxs("div",{className:"relative",children:[n.jsx(Qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search by campaign name...",value:e,onChange:v=>t(v.target.value),className:"pl-10"})]})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{children:["Campaigns (",d.length,")"]}),n.jsx(Le,{children:"Click on a campaign to view detailed message logs"})]}),n.jsx(Z,{children:i?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(gn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):d.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(qt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No campaigns found."}),n.jsx("p",{className:"text-sm",children:"Send your first broadcast to see campaigns here."})]}):n.jsx("div",{className:"space-y-4",children:d.map(v=>n.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"p-4 bg-muted/30 hover:bg-muted/50 cursor-pointer flex items-center justify-between",onClick:()=>a(r===v.campaignName?null:v.campaignName),children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r===v.campaignName?n.jsx(av,{className:"h-5 w-5 text-muted-foreground"}):n.jsx(ZC,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-lg",children:v.campaignName}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last sent: ",qn(new Date(v.lastSent),"MMM d, yyyy HH:mm")]})]})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Contacts"}),n.jsxs("div",{className:"text-xl font-bold flex items-center gap-1",children:[n.jsx(Yt,{className:"h-4 w-4"}),v.totalContacts]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Delivered"}),n.jsxs("div",{className:"text-xl font-bold text-green-600",children:[v.deliveryRate,"%"]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Replied"}),n.jsxs("div",{className:"text-xl font-bold text-purple-600 flex items-center gap-1",children:[n.jsx(es,{className:"h-4 w-4"}),v.replied," (",v.replyRate,"%)"]})]}),n.jsx(Y,{variant:"outline",size:"sm",onClick:j=>{j.stopPropagation(),p(v)},children:n.jsx(Or,{className:"h-4 w-4"})})]})]}),r===v.campaignName&&n.jsxs("div",{className:"p-4 border-t",children:[n.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-4 p-3 bg-muted/20 rounded-lg",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Read"}),n.jsx("div",{className:"text-lg font-bold text-blue-600",children:v.sent})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Delivered"}),n.jsx("div",{className:"text-lg font-bold text-green-600",children:v.delivered})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed"}),n.jsx("div",{className:"text-lg font-bold text-red-600",children:v.failed})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending"}),n.jsx("div",{className:"text-lg font-bold text-gray-600",children:v.pending})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Replied"}),n.jsx("div",{className:"text-lg font-bold text-purple-600",children:v.replied})]})]}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-muted/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Contact"}),n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Phone"}),n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Status"}),n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Replied"}),n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Timestamp"})]})}),n.jsx("tbody",{className:"divide-y",children:v.logs.map(j=>n.jsxs("tr",{className:"hover:bg-muted/20",children:[n.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:j.contactName}),n.jsx("td",{className:"px-4 py-2 text-sm text-muted-foreground",children:j.contactPhone}),n.jsx("td",{className:"px-4 py-2",children:m(j.status)}),n.jsx("td",{className:"px-4 py-2",children:j.replied?n.jsxs("div",{children:[n.jsxs(Ae,{variant:"default",className:"bg-purple-500",children:[n.jsx(es,{className:"h-3 w-3 mr-1"}),"Yes"]}),j.repliedAt&&n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:qn(new Date(j.repliedAt),"MMM d, HH:mm")})]}):n.jsx(Ae,{variant:"outline",className:"text-muted-foreground",children:"No"})}),n.jsx("td",{className:"px-4 py-2 text-sm text-muted-foreground",children:qn(new Date(j.timestamp),"MMM d, HH:mm")})]},j.id))})]})})})]})]},v.campaignName))})})]})]})})}const M6=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];function pMe(){const[e,t]=b.useState("month"),[r,a]=b.useState(""),[s,i]=b.useState(""),[l,u]=b.useState(!1),d=()=>e==="custom"&&r&&s?`?period=custom&startDate=${r}&endDate=${s}`:`?period=${e}`,{data:f,isLoading:m,refetch:p}=Ie({queryKey:["/api/reports/billing/summary",e,r,s],queryFn:async()=>{const A=await fetch(`/api/reports/billing/summary${d()}`,{headers:Ke()});if(!A.ok)throw new Error("Failed to fetch billing summary");return A.json()}}),{data:x,isLoading:v}=Ie({queryKey:["/api/reports/billing/conversations",e,r,s],queryFn:async()=>{const A=await fetch(`/api/reports/billing/conversations${d()}&limit=100`,{headers:Ke()});if(!A.ok)throw new Error("Failed to fetch conversations billing");return A.json()}}),j=A=>{t(A),u(A==="custom")},y=A=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(A),N=A=>new Date(A).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),C=f?.agentBreakdown?.map(A=>({name:A.agentName,value:A.messageCount,cost:A.cost}))||[];return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Billing Report"}),n.jsx("p",{className:"text-gray-500",children:"Track message costs and usage across your WhatsApp conversations"})]}),n.jsxs(Y,{variant:"outline",onClick:()=>p(),children:[n.jsx(gn,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx($m,{className:"h-5 w-5"}),"Filter Period"]})}),n.jsxs(Z,{children:[n.jsxs("div",{className:"flex items-end gap-4 flex-wrap",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Time Period"}),n.jsxs(Xe,{value:e,onValueChange:j,children:[n.jsx(Ge,{className:"w-48",children:n.jsx(Qe,{})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"day",children:"Today"}),n.jsx(ae,{value:"week",children:"Last 7 Days"}),n.jsx(ae,{value:"month",children:"This Month"}),n.jsx(ae,{value:"custom",children:"Custom Range"})]})]})]}),l&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Start Date"}),n.jsx(Pe,{type:"date",value:r,onChange:A=>a(A.target.value),className:"w-48"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"End Date"}),n.jsx(Pe,{type:"date",value:s,onChange:A=>i(A.target.value),className:"w-48"})]})]})]}),f&&n.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Showing data from ",N(f.period.start)," to"," ",N(f.period.end)]})]})]}),m?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(We,{className:"h-8 w-8 animate-spin"})}):f?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(LZ,{className:"h-4 w-4 text-green-600"}),"Total Cost"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-3xl font-bold text-green-600",children:y(f.metrics.totalCost)}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["@ ",y(f.metrics.costPerMessage),"/message"]})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(qt,{className:"h-4 w-4 text-blue-600"}),"Total Messages"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-3xl font-bold text-blue-600",children:f.metrics.totalMessages.toLocaleString()}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Billable messages"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Yt,{className:"h-4 w-4 text-purple-600"}),"User Messages"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-3xl font-bold text-purple-600",children:f.metrics.userMessages.toLocaleString()}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Inbound messages"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4 text-orange-600"}),"AI Messages"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-3xl font-bold text-orange-600",children:f.metrics.aiMessages.toLocaleString()}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"AI agent responses"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(ks,{className:"h-4 w-4 text-teal-600"}),"Conversations"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-3xl font-bold text-teal-600",children:f.metrics.totalConversations.toLocaleString()}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Unique contacts"})]})]})]}),n.jsxs(rr,{defaultValue:"daily",className:"w-full",children:[n.jsxs(Zn,{children:[n.jsx(lt,{value:"daily",children:"Daily Breakdown"}),n.jsx(lt,{value:"agents",children:"AI Agent Costs"}),n.jsx(lt,{value:"conversations",children:"Per Conversation"})]}),n.jsxs(ft,{value:"daily",className:"space-y-4",children:[n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Daily Message & Cost Trend"}),n.jsx(Le,{children:"Message volume and costs over time"})]}),n.jsx(Z,{children:f.dailyBreakdown.length>0?n.jsx(Gr,{width:"100%",height:350,children:n.jsxs(ml,{data:f.dailyBreakdown,children:[n.jsx(Ms,{strokeDasharray:"3 3"}),n.jsx(zr,{dataKey:"date",tickFormatter:A=>new Date(A).toLocaleDateString("en-IN",{month:"short",day:"numeric"})}),n.jsx(Mr,{yAxisId:"left",orientation:"left",stroke:"#8884d8"}),n.jsx(Mr,{yAxisId:"right",orientation:"right",stroke:"#82ca9d"}),n.jsx(kn,{formatter:(A,w)=>w==="cost"?[y(A),"Cost"]:[A,w],labelFormatter:A=>N(A)}),n.jsx(qr,{}),n.jsx($n,{yAxisId:"left",dataKey:"userMessages",fill:"#8884d8",name:"User Messages"}),n.jsx($n,{yAxisId:"left",dataKey:"aiMessages",fill:"#82ca9d",name:"AI Messages"}),n.jsx(Ui,{yAxisId:"right",type:"monotone",dataKey:"cost",stroke:"#ff7300",name:"Cost"})]})}):n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No data available for selected period"})})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsx(oe,{children:"Daily Details"})}),n.jsx(Z,{children:n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Date"}),n.jsx(ne,{className:"text-right",children:"User Messages"}),n.jsx(ne,{className:"text-right",children:"AI Messages"}),n.jsx(ne,{className:"text-right",children:"Total"}),n.jsx(ne,{className:"text-right",children:"Cost"})]})}),n.jsxs(Lt,{children:[f.dailyBreakdown.map(A=>n.jsxs(Ve,{children:[n.jsx(te,{children:N(A.date)}),n.jsx(te,{className:"text-right",children:A.userMessages}),n.jsx(te,{className:"text-right",children:A.aiMessages}),n.jsx(te,{className:"text-right font-medium",children:A.totalMessages}),n.jsx(te,{className:"text-right font-medium text-green-600",children:y(A.cost)})]},A.date)),n.jsxs(Ve,{className:"bg-gray-50 font-bold",children:[n.jsx(te,{children:"Total"}),n.jsx(te,{className:"text-right",children:f.metrics.userMessages}),n.jsx(te,{className:"text-right",children:f.metrics.aiMessages}),n.jsx(te,{className:"text-right",children:f.metrics.totalMessages}),n.jsx(te,{className:"text-right text-green-600",children:y(f.metrics.totalCost)})]})]})]})})]})]}),n.jsx(ft,{value:"agents",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"AI Agent Message Distribution"}),n.jsx(Le,{children:"Messages handled by each AI agent"})]}),n.jsx(Z,{children:C.length>0?n.jsx(Gr,{width:"100%",height:300,children:n.jsxs(wm,{children:[n.jsx(Ra,{data:C,cx:"50%",cy:"50%",labelLine:!1,label:({name:A,percent:w})=>`${A} (${(w*100).toFixed(0)}%)`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:C.map((A,w)=>n.jsx(Xs,{fill:M6[w%M6.length]},`cell-${w}`))}),n.jsx(kn,{formatter:A=>[A,"Messages"]})]})}):n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No AI agent data available"})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"AI Agent Cost Breakdown"}),n.jsx(Le,{children:"Cost per AI agent based on messages"})]}),n.jsx(Z,{children:n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Agent Name"}),n.jsx(ne,{className:"text-right",children:"Conversations"}),n.jsx(ne,{className:"text-right",children:"Messages"}),n.jsx(ne,{className:"text-right",children:"Cost"})]})}),n.jsx(Lt,{children:f.agentBreakdown.length>0?f.agentBreakdown.map(A=>n.jsxs(Ve,{children:[n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4 text-orange-500"}),A.agentName]})}),n.jsx(te,{className:"text-right",children:A.conversationCount}),n.jsx(te,{className:"text-right",children:A.messageCount}),n.jsx(te,{className:"text-right font-medium text-green-600",children:y(A.cost)})]},A.agentId)):n.jsx(Ve,{children:n.jsx(te,{colSpan:4,className:"text-center text-gray-500",children:"No AI agent activity in this period"})})})]})})]})]})}),n.jsx(ft,{value:"conversations",className:"space-y-4",children:n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Per Conversation Billing"}),n.jsx(Le,{children:"Message counts and costs for each contact conversation"})]}),n.jsx(Z,{children:v?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(We,{className:"h-6 w-6 animate-spin"})}):x&&x.conversations.length>0?n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Contact"}),n.jsx(ne,{children:"Phone"}),n.jsx(ne,{children:"AI Agent"}),n.jsx(ne,{className:"text-right",children:"User Msgs"}),n.jsx(ne,{className:"text-right",children:"AI Msgs"}),n.jsx(ne,{className:"text-right",children:"Total"}),n.jsx(ne,{className:"text-right",children:"Cost"}),n.jsx(ne,{children:"Last Message"})]})}),n.jsx(Lt,{children:x.conversations.map(A=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:A.contactName}),n.jsx(te,{children:A.contactPhone}),n.jsx(te,{children:A.agentName?n.jsxs(Ae,{variant:"secondary",children:[n.jsx(Ct,{className:"h-3 w-3 mr-1"}),A.agentName]}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx(te,{className:"text-right",children:A.userMessages}),n.jsx(te,{className:"text-right",children:A.aiMessages}),n.jsx(te,{className:"text-right font-medium",children:A.totalMessages}),n.jsx(te,{className:"text-right font-medium text-green-600",children:y(A.cost)}),n.jsx(te,{className:"text-sm text-gray-500",children:N(A.lastMessageAt)})]},A.contactId))})]}),n.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Showing ",x.conversations.length," of"," ",x.total," conversations"]})]}):n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No conversations found in this period"})})]})})]})]}):n.jsx(Q,{children:n.jsx(Z,{className:"py-12 text-center text-gray-500",children:"No billing data available. Start sending messages to see your usage."})})]})})}function xMe(){const[e,t]=b.useState(""),[r,a]=b.useState(!1),[s,i]=b.useState(null),l=yn(),{data:u,isLoading:d}=Ie({queryKey:["/api/reports/blocked-contacts"],queryFn:async()=>{const j=await Nn("/api/reports/blocked-contacts");if(!j.ok)throw new Error("Failed to fetch blocked contacts");return j.json()}}),f=qe({mutationFn:async j=>{const y=await Nn("/api/contacts/unblock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:j})});if(!y.ok)throw new Error("Failed to unblock contact");return y.json()},onSuccess:()=>{l.invalidateQueries({queryKey:["/api/reports/blocked-contacts"]}),l.invalidateQueries({queryKey:["/api/contacts/blocked"]}),a(!1),i(null),re.success("Contact unblocked successfully")},onError:()=>{re.error("Failed to unblock contact")}}),m=u?.contacts||[],p=u?.summary||{totalBlocked:0,blockedThisMonth:0,blockedThisWeek:0,blockedToday:0,withReason:0,topReasons:[]},x=m.filter(j=>{const y=e.toLowerCase();return j.phone.toLowerCase().includes(y)||j.name.toLowerCase().includes(y)||j.reason?.toLowerCase().includes(y)}),v=j=>j.startsWith("+")?j:`+${j}`;return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[n.jsx(zo,{className:"h-8 w-8 text-red-500"}),"Blocked Contacts Report"]}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage contacts you've blocked from sending messages"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(zo,{className:"h-4 w-4"}),"Total Blocked"]})}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold text-red-600",children:p.totalBlocked})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Ii,{className:"h-4 w-4"}),"This Month"]})}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold",children:p.blockedThisMonth})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(ks,{className:"h-4 w-4"}),"This Week"]})}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold",children:p.blockedThisWeek})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Ii,{className:"h-4 w-4"}),"Today"]})}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold",children:p.blockedToday})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(qt,{className:"h-4 w-4"}),"With Reason"]})}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold",children:p.withReason})})]})]}),p.topReasons.length>0&&n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsx(oe,{children:"Top Block Reasons"})}),n.jsx(Z,{children:n.jsx("div",{className:"flex flex-wrap gap-2",children:p.topReasons.map((j,y)=>n.jsxs(Ae,{variant:"outline",className:"text-sm py-1 px-3",children:[j.reason," (",j.count,")"]},y))})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Blocked Contacts List"}),n.jsx(Le,{children:"View and manage all blocked contacts. Unblock contacts to resume receiving their messages."})]}),n.jsxs(Z,{children:[n.jsx("div",{className:"flex items-center gap-4 mb-4",children:n.jsxs("div",{className:"relative flex-1 max-w-sm",children:[n.jsx(Qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search by phone, name, or reason...",value:e,onChange:j=>t(j.target.value),className:"pl-9"})]})}),d?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(We,{className:"h-6 w-6 animate-spin text-primary"})}):x.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[n.jsx(zo,{className:"h-12 w-12 mb-4 opacity-50"}),n.jsx("p",{className:"text-lg font-medium",children:"No blocked contacts"}),n.jsx("p",{className:"text-sm",children:e?"No contacts match your search":"You haven't blocked any contacts yet"})]}):n.jsx("div",{className:"border rounded-lg",children:n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Contact"}),n.jsx(ne,{children:"Phone"}),n.jsx(ne,{children:"Reason"}),n.jsx(ne,{children:"Blocked Date"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{className:"text-right",children:"Actions"})]})}),n.jsx(Lt,{children:x.map(j=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:j.name||"Unknown"}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ac,{className:"h-4 w-4 text-muted-foreground"}),v(j.phone)]})}),n.jsx(te,{className:"max-w-[200px]",children:j.reason?n.jsx("span",{className:"text-sm text-muted-foreground truncate block",children:j.reason}):n.jsx("span",{className:"text-sm text-muted-foreground italic",children:"No reason provided"})}),n.jsx(te,{children:j.blockedAt?qn(new Date(j.blockedAt),"MMM d, yyyy h:mm a"):"Unknown"}),n.jsx(te,{children:n.jsxs(Ae,{variant:"destructive",className:"bg-orange-100 text-orange-800 border-orange-200",children:[n.jsx(zo,{className:"h-3 w-3 mr-1"}),"Blocked"]})}),n.jsx(te,{className:"text-right",children:n.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>{i(j),a(!0)},children:[n.jsx(i_,{className:"h-4 w-4 mr-1"}),"Unblock"]})})]},j.id))})]})})]})]}),n.jsx(Sd,{open:r,onOpenChange:a,children:n.jsxs(mc,{children:[n.jsxs(pc,{children:[n.jsx(gc,{children:"Unblock Contact"}),n.jsxs(yc,{children:["Are you sure you want to unblock ",s?.name||s?.phone,"? They will be able to send messages again and may receive AI responses."]})]}),n.jsxs(xc,{children:[n.jsx(jc,{children:"Cancel"}),n.jsxs(vc,{onClick:()=>s&&f.mutate(s.phone),disabled:f.isPending,children:[f.isPending?n.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):null,"Unblock"]})]})]})})]})})}var gMe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yMe=gMe.reduce((e,t)=>{const r=Bm(`Primitive.${t}`),a=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...u,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),vMe="Separator",k6="horizontal",jMe=["horizontal","vertical"],eW=b.forwardRef((e,t)=>{const{decorative:r,orientation:a=k6,...s}=e,i=bMe(a)?a:k6,u=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(yMe.div,{"data-orientation":i,...u,...s,ref:t})});eW.displayName=vMe;function bMe(e){return jMe.includes(e)}var tW=eW;const nW=b.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},s)=>n.jsx(tW,{ref:s,decorative:r,orientation:t,className:Je("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));nW.displayName=tW.displayName;const ev={highly_interested:"#22c55e",interested:"#84cc16",neutral:"#f59e0b",not_interested:"#ef4444",pending:"#94a3b8"},rW={highly_interested:"Highly Interested",interested:"Interested",neutral:"Neutral",not_interested:"Not Interested",pending:"Pending Analysis"},wMe=e=>{switch(e){case"highly_interested":return n.jsx(s_,{className:"h-4 w-4 text-green-500"});case"interested":return n.jsx(Wo,{className:"h-4 w-4 text-lime-500"});case"neutral":return n.jsx(Ih,{className:"h-4 w-4 text-amber-500"});case"not_interested":return n.jsx(Vo,{className:"h-4 w-4 text-red-500"});default:return n.jsx(Ht,{className:"h-4 w-4 text-slate-400"})}},P6=e=>{const t=ev[e]||ev.pending;return n.jsxs(Ae,{className:"flex items-center gap-1",style:{backgroundColor:t,color:"white"},children:[wMe(e),rW[e]||"Unknown"]})};function NMe(){const[e,t]=b.useState("all"),[r,a]=b.useState(""),[s,i]=b.useState(null),{toast:l}=Ki(),u=yn(),{data:d,isLoading:f}=Ie({queryKey:["/api/contact-analytics/reports",e],queryFn:async()=>{const A=new URLSearchParams;e!=="all"&&A.set("interestLevel",e),A.set("limit","100");const w=await fetch(`/api/contact-analytics/reports?${A}`);if(!w.ok)throw new Error("Failed to fetch reports");return w.json()}}),{data:m,isLoading:p}=Ie({queryKey:["/api/contact-analytics/summary"],queryFn:async()=>{const A=await fetch("/api/contact-analytics/summary");if(!A.ok)throw new Error("Failed to fetch summary");return A.json()}}),x=qe({mutationFn:async()=>{const A=await fetch("/api/contact-analytics/analyze-all",{method:"POST",headers:{"Content-Type":"application/json"}});if(!A.ok)throw new Error("Failed to analyze contacts");return A.json()},onSuccess:A=>{l({title:"Analysis Complete",description:`Analyzed ${A.analyzed} contacts`}),u.invalidateQueries({queryKey:["/api/contact-analytics"]})},onError:A=>{l({title:"Analysis Failed",description:A.message,variant:"destructive"})}}),v=d?.reports?.filter(A=>{if(!r)return!0;const w=r.toLowerCase();return A.phone.includes(w)||A.contactName.toLowerCase().includes(w)})||[],j=m?.byInterestLevel?.map(A=>({name:rW[A.level]||A.level,value:A.count,color:ev[A.level]||ev.pending}))||[],y=m?.topAgents?.map(A=>({name:A.agentName,contacts:A.contactsHandled}))||[],N=A=>{if(A<60)return`${A}m`;const w=Math.floor(A/60),S=A%60;return`${w}h ${S}m`},C=A=>{if(!A)return"N/A";const w=new Date(A);return w.toLocaleDateString()+" "+w.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Contact Analytics"}),n.jsx("p",{className:"text-muted-foreground",children:"AI-powered analysis of contact interest levels and conversation insights"})]}),n.jsxs(Y,{onClick:()=>x.mutate(),disabled:x.isPending,children:[x.isPending?n.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(gn,{className:"h-4 w-4 mr-2"}),"Analyze All Contacts"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Total Contacts"})}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold",children:m?.total||0})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Average Interest Score"})}),n.jsx(Z,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"text-2xl font-bold",children:m?.averageScore||0}),n.jsx(ur,{value:m?.averageScore||0,className:"w-20"})]})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Interested Leads"})}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold text-green-600",children:(m?.byInterestLevel?.find(A=>A.level==="interested")?.count||0)+(m?.byInterestLevel?.find(A=>A.level==="highly_interested")?.count||0)})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Not Interested"})}),n.jsx(Z,{children:n.jsx("div",{className:"text-2xl font-bold text-red-500",children:m?.byInterestLevel?.find(A=>A.level==="not_interested")?.count||0})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsx(oe,{children:"Interest Level Distribution"})}),n.jsx(Z,{children:n.jsx("div",{className:"h-[250px]",children:n.jsx(Gr,{width:"100%",height:"100%",children:n.jsxs(wm,{children:[n.jsx(Ra,{data:j,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:j.map((A,w)=>n.jsx(Xs,{fill:A.color},`cell-${w}`))}),n.jsx(kn,{}),n.jsx(qr,{})]})})})})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsx(oe,{children:"Top AI Agents by Contacts"})}),n.jsx(Z,{children:n.jsx("div",{className:"h-[250px]",children:y.length>0?n.jsx(Gr,{width:"100%",height:"100%",children:n.jsxs(ml,{data:y,layout:"vertical",children:[n.jsx(zr,{type:"number"}),n.jsx(Mr,{dataKey:"name",type:"category",width:120}),n.jsx(kn,{}),n.jsx($n,{dataKey:"contacts",fill:"#8b5cf6",radius:4})]})}):n.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"No agent data available"})})})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[n.jsxs("div",{children:[n.jsx(oe,{children:"Contact Reports"}),n.jsx(Le,{children:"Click on a contact to view detailed analysis"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative w-64",children:[n.jsx(Qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search by name or phone...",value:r,onChange:A=>a(A.target.value),className:"pl-10"})]}),n.jsxs(Xe,{value:e,onValueChange:t,children:[n.jsx(Ge,{className:"w-48",children:n.jsx(Qe,{placeholder:"Filter by interest"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"all",children:"All Contacts"}),n.jsx(ae,{value:"highly_interested",children:"Highly Interested"}),n.jsx(ae,{value:"interested",children:"Interested"}),n.jsx(ae,{value:"neutral",children:"Neutral"}),n.jsx(ae,{value:"not_interested",children:"Not Interested"}),n.jsx(ae,{value:"pending",children:"Pending Analysis"})]})]})]})]})}),n.jsx(Z,{children:f?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):v.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Yt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No contact reports found"}),n.jsx("p",{className:"text-sm mt-2",children:'Click "Analyze All Contacts" to generate reports'})]}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Contact"}),n.jsx(ne,{children:"Interest Level"}),n.jsx(ne,{children:"Score"}),n.jsx(ne,{children:"Messages"}),n.jsx(ne,{children:"AI Agents"}),n.jsx(ne,{children:"Duration"}),n.jsx(ne,{children:"Last Contact"}),n.jsx(ne,{})]})}),n.jsx(Lt,{children:v.map(A=>n.jsxs(Ve,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>i(A),children:[n.jsx(te,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:A.contactName}),n.jsx("div",{className:"text-sm text-muted-foreground",children:A.phone})]})}),n.jsx(te,{children:P6(A.interestLevel)}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:A.interestScore}),n.jsx(ur,{value:A.interestScore,className:"w-16 h-2"})]})}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ki,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:A.totalMessages}),n.jsxs("span",{className:"text-muted-foreground text-xs",children:["(",A.inboundMessages," in / ",A.outboundMessages," out)"]})]})}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ct,{className:"h-4 w-4 text-purple-500"}),n.jsx("span",{children:A.aiAgentInteractions?.length||0})]})}),n.jsx(te,{children:N(A.conversationDuration)}),n.jsx(te,{className:"text-muted-foreground text-sm",children:C(A.lastContactTime)}),n.jsx(te,{children:n.jsx(Y,{variant:"ghost",size:"sm",children:n.jsx(ma,{className:"h-4 w-4"})})})]},A.id))})]})})]}),n.jsx($t,{open:!!s,onOpenChange:()=>i(null),children:n.jsxs(kt,{className:"max-w-3xl max-h-[90vh]",children:[n.jsxs(Pt,{children:[n.jsxs(Rt,{className:"flex items-center gap-3",children:[n.jsx("span",{children:s?.contactName||"Unknown"}),s&&P6(s.interestLevel)]}),n.jsx(Dn,{children:s?.phone})]}),s&&n.jsx(as,{className:"max-h-[70vh]",children:n.jsxs("div",{className:"space-y-6 pr-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm",children:"Interest Score"})}),n.jsx(Z,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"text-3xl font-bold",children:s.interestScore}),n.jsx(ur,{value:s.interestScore,className:"flex-1"})]})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm",children:"Conversation Duration"})}),n.jsx(Z,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("span",{className:"text-2xl font-bold",children:N(s.conversationDuration)})]})})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm",children:"AI Analysis Reason"})}),n.jsx(Z,{children:n.jsx("p",{className:"text-muted-foreground",children:s.interestReason})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.positiveSignals?.length>0&&n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm flex items-center gap-2",children:[n.jsx(Pn,{className:"h-4 w-4 text-green-500"}),"Positive Signals"]})}),n.jsx(Z,{children:n.jsx("ul",{className:"space-y-1",children:s.positiveSignals.map((A,w)=>n.jsxs("li",{className:"text-sm text-green-600",children:["+ ",A]},w))})})]}),s.negativeSignals?.length>0&&n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm flex items-center gap-2",children:[n.jsx(el,{className:"h-4 w-4 text-red-500"}),"Negative Signals"]})}),n.jsx(Z,{children:n.jsx("ul",{className:"space-y-1",children:s.negativeSignals.map((A,w)=>n.jsxs("li",{className:"text-sm text-red-600",children:["- ",A]},w))})})]})]}),s.keyTopics?.length>0&&n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm",children:"Key Topics Discussed"})}),n.jsx(Z,{children:n.jsx("div",{className:"flex flex-wrap gap-2",children:s.keyTopics.map((A,w)=>n.jsx(Ae,{variant:"secondary",children:A},w))})})]}),s.objections?.length>0&&n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm",children:"Objections Raised"})}),n.jsx(Z,{children:n.jsx("ul",{className:"space-y-1",children:s.objections.map((A,w)=>n.jsx("li",{className:"text-sm text-amber-600",children:A},w))})})]}),n.jsx(nW,{}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4 text-purple-500"}),"AI Agent Interactions"]})}),n.jsx(Z,{children:s.aiAgentInteractions?.length>0?n.jsx("div",{className:"space-y-3",children:s.aiAgentInteractions.map((A,w)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:A.agentName}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[A.messagesCount," messages | Duration: ",N(A.durationMinutes)]})]}),n.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[n.jsxs("div",{children:["First: ",C(A.firstInteraction)]}),n.jsxs("div",{children:["Last: ",C(A.lastInteraction)]})]})]},w))}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"No AI agent interactions recorded"})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm",children:"Message Statistics"})}),n.jsx(Z,{children:n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold",children:s.totalMessages}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.inboundMessages}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Inbound"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.outboundMessages}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Outbound"})]})]})})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm",children:"Contact Timeline"})}),n.jsx(Z,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"First Contact:"}),n.jsx("div",{children:C(s.firstContactTime)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Last Contact:"}),n.jsx("div",{children:C(s.lastContactTime)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Last Analyzed:"}),n.jsx("div",{children:s.lastAnalyzedAt?C(s.lastAnalyzedAt):"Never"})]})]})})]})]})})]})})]})})}const R6={LayoutDashboard:n.jsx(_g,{className:"h-4 w-4"}),Clock:n.jsx(Ht,{className:"h-4 w-4"}),MessageSquare:n.jsx(qt,{className:"h-4 w-4"}),Users:n.jsx(Yt,{className:"h-4 w-4"}),Radio:n.jsx(mJ,{className:"h-4 w-4"}),FileText:n.jsx(Yn,{className:"h-4 w-4"}),Bot:n.jsx(Ct,{className:"h-4 w-4"}),UserPlus:n.jsx(nc,{className:"h-4 w-4"}),Facebook:n.jsx($d,{className:"h-4 w-4"}),Zap:n.jsx(Yr,{className:"h-4 w-4"}),GitBranch:n.jsx(ws,{className:"h-4 w-4"}),BarChart3:n.jsx(_s,{className:"h-4 w-4"}),Ban:n.jsx(zo,{className:"h-4 w-4"}),TrendingUp:n.jsx(ks,{className:"h-4 w-4"}),Settings:n.jsx(Tg,{className:"h-4 w-4"}),UserCog:n.jsx(iv,{className:"h-4 w-4"})},D6={super_admin:"bg-red-100 text-red-800 border-red-200",sub_admin:"bg-purple-100 text-purple-800 border-purple-200",manager:"bg-blue-100 text-blue-800 border-blue-200",user:"bg-gray-100 text-gray-800 border-gray-200"};function SMe(){const[e,t]=b.useState(!1),[r,a]=b.useState(!1),[s,i]=b.useState(!1),[l,u]=b.useState(!1),[d,f]=b.useState(null),[m,p]=b.useState(null),[x,v]=b.useState(!1),[j,y]=b.useState({email:"",name:"",role:"user",pageAccess:["dashboard"]}),N=yn(),{data:C=[],isLoading:A}=Ie({queryKey:["/api/users"],queryFn:async()=>{const $=await fetch("/api/users",{headers:Ke()});if(!$.ok)throw new Error("Failed to fetch users");return $.json()}}),{data:w=[]}=Ie({queryKey:["/api/users/pages"],queryFn:async()=>{const $=await fetch("/api/users/pages",{headers:Ke()});if(!$.ok)throw new Error("Failed to fetch pages");return $.json()}}),{data:S=[]}=Ie({queryKey:["/api/users/roles"],queryFn:async()=>{const $=await fetch("/api/users/roles",{headers:Ke()});if(!$.ok)throw new Error("Failed to fetch roles");return $.json()}}),E=qe({mutationFn:async $=>{const k=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json",...Ke()},body:JSON.stringify($)});if(!k.ok){const D=await k.json();throw new Error(D.error||"Failed to create user")}return k.json()},onSuccess:$=>{N.invalidateQueries({queryKey:["/api/users"]}),p($.credentials),t(!1),u(!0),I(),$.emailSent?re.success("User created successfully. Credentials have been emailed."):re.success("User created successfully. Email could not be sent - share credentials manually.")},onError:$=>{re.error($.message)}}),O=qe({mutationFn:async $=>{const k=await fetch(`/api/users/${$.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...Ke()},body:JSON.stringify($)});if(!k.ok){const D=await k.json();throw new Error(D.error||"Failed to update user")}return k.json()},onSuccess:()=>{N.invalidateQueries({queryKey:["/api/users"]}),a(!1),f(null),I(),re.success("User updated successfully")},onError:$=>{re.error($.message)}}),M=qe({mutationFn:async $=>{const k=await fetch(`/api/users/${$}`,{method:"DELETE",headers:Ke()});if(!k.ok)throw new Error("Failed to delete user");return k.json()},onSuccess:()=>{N.invalidateQueries({queryKey:["/api/users"]}),i(!1),f(null),re.success("User deleted successfully")},onError:()=>{re.error("Failed to delete user")}}),R=qe({mutationFn:async $=>{const k=await fetch(`/api/users/${$}/reset-password`,{method:"POST",headers:Ke()});if(!k.ok)throw new Error("Failed to reset password");return k.json()},onSuccess:$=>{p($),u(!0),$.emailSent?re.success("Password reset successfully. New credentials have been emailed."):re.success("Password reset successfully. Email could not be sent - share credentials manually.")},onError:()=>{re.error("Failed to reset password")}}),I=()=>{y({email:"",name:"",role:"user",pageAccess:["dashboard"]})},V=$=>{f($),y({email:$.email,name:$.name,role:$.role,pageAccess:$.pageAccess}),a(!0)},F=$=>{y(k=>({...k,pageAccess:k.pageAccess.includes($)?k.pageAccess.filter(D=>D!==$):[...k.pageAccess,$]}))},H=()=>{j.pageAccess.length===w.length?y($=>({...$,pageAccess:["dashboard"]})):y($=>({...$,pageAccess:w.map(k=>k.id)}))},K=()=>{m&&(navigator.clipboard.writeText(`Username: ${m.username}
Password: ${m.password}`),v(!0),setTimeout(()=>v(!1),2e3),re.success("Credentials copied to clipboard"))},q=$=>new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return n.jsx(ct,{children:n.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold tracking-tight flex items-center gap-2",children:[n.jsx(iv,{className:"h-7 w-7 text-primary"}),"User Management"]}),n.jsx("p",{className:"text-muted-foreground",children:"Create and manage users, assign roles and page access permissions"}),n.jsx("a",{href:"/reports/lead-assignments",children:n.jsx(Y,{className:"mt-4 cursor-pointer bg-white text-black border border-black",children:"See All Reports"})})]}),n.jsxs($t,{open:e,onOpenChange:t,children:[n.jsx(Xr,{asChild:!0,children:n.jsxs(Y,{onClick:()=>{I(),t(!0)},children:[n.jsx(nc,{className:"mr-2 h-4 w-4"}),"Create User"]})}),n.jsxs(kt,{className:"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Create New User"}),n.jsx(Dn,{children:"Add a new user to the system. They will receive login credentials after creation."})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"name",children:"Full Name"}),n.jsx(Pe,{id:"name",placeholder:"John Doe",value:j.name,onChange:$=>y(k=>({...k,name:$.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"email",children:"Email Address"}),n.jsx(Pe,{id:"email",type:"email",placeholder:"john@example.com",value:j.email,onChange:$=>y(k=>({...k,email:$.target.value}))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Role"}),n.jsxs(Xe,{value:j.role,onValueChange:$=>y(k=>({...k,role:$})),children:[n.jsx(Ge,{children:n.jsx(Qe,{placeholder:"Select a role"})}),n.jsx(Ye,{children:S.filter($=>$.id!=="super_admin").map($=>n.jsx(ae,{value:$.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tc,{className:"h-4 w-4"}),$.name]})},$.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(de,{children:"Page Access"}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:H,children:j.pageAccess.length===w.length?"Deselect All":"Select All"})]}),n.jsx(Q,{children:n.jsx(as,{className:"h-[200px]",children:n.jsx("div",{className:"p-4 grid grid-cols-2 gap-3",children:w.map($=>n.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg border cursor-pointer transition-colors ${j.pageAccess.includes($.id)?"bg-primary/10 border-primary":"hover:bg-muted"}`,onClick:()=>F($.id),children:[n.jsx(Wn,{checked:j.pageAccess.includes($.id),onCheckedChange:()=>F($.id)}),n.jsxs("div",{className:"flex items-center gap-2",children:[R6[$.icon]||n.jsx(_g,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:$.name})]})]},$.id))})})}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.pageAccess.length," page(s) selected"]})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(Y,{onClick:()=>E.mutate(j),disabled:!j.name||!j.email||E.isPending,children:[E.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Create User"]})]})]})]})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Yt,{className:"h-5 w-5"}),"System Users"]}),n.jsxs(Le,{children:[C.length," user",C.length!==1?"s":""," in the system"]})]}),n.jsx(Z,{children:A?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(We,{className:"h-6 w-6 animate-spin text-primary"})}):C.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Yt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No users created yet"}),n.jsx("p",{className:"text-sm",children:"Create your first user to get started"})]}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"User"}),n.jsx(ne,{children:"Username"}),n.jsx(ne,{children:"Role"}),n.jsx(ne,{children:"Pages"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{children:"Created"}),n.jsx(ne,{className:"w-[50px]"})]})}),n.jsx(Lt,{children:C.map($=>n.jsxs(Ve,{children:[n.jsx(te,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:$.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:$.email})]})}),n.jsx(te,{children:n.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:$.username})}),n.jsx(te,{children:n.jsx(Ae,{variant:"outline",className:D6[$.role]||D6.user,children:S.find(k=>k.id===$.role)?.name||$.role})}),n.jsx(te,{children:n.jsxs(Ae,{variant:"secondary",children:[$.pageAccess.length," pages"]})}),n.jsx(te,{children:n.jsx(Ae,{variant:$.isActive?"default":"destructive",children:$.isActive?"Active":"Inactive"})}),n.jsx(te,{className:"text-muted-foreground text-sm",children:q($.createdAt)}),n.jsx(te,{children:n.jsxs(ol,{children:[n.jsx(ll,{asChild:!0,children:n.jsx(Y,{variant:"ghost",size:"icon",children:n.jsx(sv,{className:"h-4 w-4"})})}),n.jsxs(Gi,{align:"end",children:[n.jsxs(Bn,{onClick:()=>V($),children:[n.jsx(Es,{className:"mr-2 h-4 w-4"}),"Edit User"]}),n.jsxs(Bn,{onClick:()=>R.mutate($.id),children:[n.jsx(Cg,{className:"mr-2 h-4 w-4"}),"Reset Password"]}),n.jsxs(Bn,{className:"text-destructive",onClick:()=>{f($),i(!0)},children:[n.jsx(hr,{className:"mr-2 h-4 w-4"}),"Delete User"]})]})]})})]},$.id))})]})})]}),n.jsx($t,{open:r,onOpenChange:a,children:n.jsxs(kt,{className:"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs(Pt,{children:[n.jsx(Rt,{children:"Edit User"}),n.jsx(Dn,{children:"Update user details and permissions"})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"edit-name",children:"Full Name"}),n.jsx(Pe,{id:"edit-name",value:j.name,onChange:$=>y(k=>({...k,name:$.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"edit-email",children:"Email Address"}),n.jsx(Pe,{id:"edit-email",type:"email",value:j.email,onChange:$=>y(k=>({...k,email:$.target.value}))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{children:"Role"}),n.jsxs(Xe,{value:j.role,onValueChange:$=>y(k=>({...k,role:$})),children:[n.jsx(Ge,{children:n.jsx(Qe,{})}),n.jsx(Ye,{children:S.filter($=>$.id!=="super_admin").map($=>n.jsx(ae,{value:$.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tc,{className:"h-4 w-4"}),$.name]})},$.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(de,{children:"Page Access"}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:H,children:j.pageAccess.length===w.length?"Deselect All":"Select All"})]}),n.jsx(Q,{children:n.jsx(as,{className:"h-[200px]",children:n.jsx("div",{className:"p-4 grid grid-cols-2 gap-3",children:w.map($=>n.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg border cursor-pointer transition-colors ${j.pageAccess.includes($.id)?"bg-primary/10 border-primary":"hover:bg-muted"}`,onClick:()=>F($.id),children:[n.jsx(Wn,{checked:j.pageAccess.includes($.id),onCheckedChange:()=>F($.id)}),n.jsxs("div",{className:"flex items-center gap-2",children:[R6[$.icon]||n.jsx(_g,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:$.name})]})]},$.id))})})})]})]}),n.jsxs(Kt,{children:[n.jsx(Y,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),n.jsxs(Y,{onClick:()=>d&&O.mutate({id:d.id,...j}),disabled:O.isPending,children:[O.isPending&&n.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})}),n.jsx($t,{open:l,onOpenChange:u,children:n.jsxs(kt,{children:[n.jsxs(Pt,{children:[n.jsxs(Rt,{className:"flex items-center gap-2",children:[n.jsx(Cg,{className:"h-5 w-5 text-primary"}),"User Credentials"]}),n.jsx(Dn,{children:"Share these credentials with the user. The password cannot be viewed again."})]}),m&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsx(Q,{className:"bg-muted/50",children:n.jsxs(Z,{className:"pt-6 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{className:"text-muted-foreground",children:"Username"}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("code",{className:"flex-1 bg-background p-3 rounded-lg font-mono text-lg",children:m.username})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{className:"text-muted-foreground",children:"Password"}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("code",{className:"flex-1 bg-background p-3 rounded-lg font-mono text-lg",children:m.password})})]})]})}),n.jsxs(Y,{className:"w-full",variant:"outline",onClick:K,children:[x?n.jsx(Ld,{className:"mr-2 h-4 w-4"}):n.jsx(Sc,{className:"mr-2 h-4 w-4"}),x?"Copied!":"Copy Credentials"]})]}),n.jsx(Kt,{children:n.jsx(Y,{onClick:()=>{u(!1),p(null)},children:"Done"})})]})}),n.jsx(Sd,{open:s,onOpenChange:i,children:n.jsxs(mc,{children:[n.jsxs(pc,{children:[n.jsx(gc,{children:"Delete User"}),n.jsxs(yc,{children:["Are you sure you want to delete ",d?.name,"? This action cannot be undone."]})]}),n.jsxs(xc,{children:[n.jsx(jc,{children:"Cancel"}),n.jsx(vc,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>d&&M.mutate(d.id),children:"Delete User"})]})]})})]})})}function AMe(){const[e,t]=b.useState("7"),[r,a]=b.useState("all"),[s,i]=b.useState("all"),[l,u]=b.useState("all"),{data:d,isLoading:f,refetch:m}=Ie({queryKey:["/api/lead-management/reports/summary",e],queryFn:async()=>{const S=Jy(new Date,parseInt(e)),E=await fetch(`/api/lead-management/reports/summary?startDate=${S.toISOString()}`,{headers:Ke()});if(!E.ok)throw new Error("Failed to fetch summary");return E.json()}}),{data:p,isLoading:x,refetch:v}=Ie({queryKey:["/api/lead-management/reports/assignments",e,r,s,l],queryFn:async()=>{const S=Jy(new Date,parseInt(e)),E=new URLSearchParams({startDate:S.toISOString()});r!=="all"&&E.append("userId",r),s!=="all"&&E.append("priority",s),l!=="all"&&E.append("status",l);const O=await fetch(`/api/lead-management/reports/assignments?${E}`,{headers:Ke()});if(!O.ok)throw new Error("Failed to fetch assignments");return O.json()}}),{data:j}=Ie({queryKey:["/api/users"],queryFn:async()=>{const S=await fetch("/api/users",{headers:Ke()});return S.ok?S.json():[]}}),y=()=>{m(),v()},N=()=>{if(!p)return;const S=["Contact Name","Phone","Assigned To","Assigned By","Priority","Status","Created At"],E=p.map(V=>[V.contactName,V.phone,V.assignedToUserName,V.assignedByUserName,V.priority,V.status,qn(new Date(V.createdAt),"yyyy-MM-dd HH:mm")]),O=[S.join(","),...E.map(V=>V.join(","))].join(`
`),M=new Blob([O],{type:"text/csv"}),R=URL.createObjectURL(M),I=document.createElement("a");I.href=R,I.download=`lead-assignments-${qn(new Date,"yyyy-MM-dd")}.csv`,I.click()},C=S=>{const E={urgent:"bg-red-100 text-red-700 border-red-200",high:"bg-orange-100 text-orange-700 border-orange-200",medium:"bg-yellow-100 text-yellow-700 border-yellow-200",low:"bg-green-100 text-green-700 border-green-200"};return n.jsx(Ae,{variant:"outline",className:E[S]||"",children:S})},A=S=>{const E={assigned:"bg-blue-100 text-blue-700 border-blue-200",in_progress:"bg-yellow-100 text-yellow-700 border-yellow-200",completed:"bg-green-100 text-green-700 border-green-200",transferred:"bg-purple-100 text-purple-700 border-purple-200"},O={assigned:"Active",in_progress:"In Progress",completed:"Completed",transferred:"Transferred"};return n.jsx(Ae,{variant:"outline",className:E[S]||"",children:O[S]||S.replace("_"," ")})},w=S=>S<60?`${Math.round(S)} min`:S<1440?`${Math.round(S/60)} hrs`:`${Math.round(S/1440)} days`;return n.jsx(ct,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Lead Assignment Reports"}),n.jsx("p",{className:"text-muted-foreground",children:"Track lead distribution and team performance"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Xe,{value:e,onValueChange:t,children:[n.jsxs(Ge,{className:"w-40",children:[n.jsx(Ii,{className:"h-4 w-4 mr-2"}),n.jsx(Qe,{})]}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"1",children:"Today"}),n.jsx(ae,{value:"7",children:"Last 7 days"}),n.jsx(ae,{value:"30",children:"Last 30 days"}),n.jsx(ae,{value:"90",children:"Last 90 days"})]})]}),n.jsx(Y,{variant:"outline",size:"icon",onClick:y,children:n.jsx(gn,{className:"h-4 w-4"})}),n.jsxs(Y,{variant:"outline",onClick:N,children:[n.jsx(Or,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),f?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):d?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),"Total Assignments"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-3xl font-bold",children:d.totalAssignments}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In selected period"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(i_,{className:"h-4 w-4"}),"Active Assignments"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-3xl font-bold",children:d.activeAssignments}),n.jsx(ur,{value:d.activeAssignments/Math.max(d.totalAssignments,1)*100,className:"mt-2 h-2"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(ks,{className:"h-4 w-4"}),"Completed"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-3xl font-bold text-green-600",children:d.completedAssignments}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.totalAssignments>0?`${Math.round(d.completedAssignments/d.totalAssignments*100)}% completion rate`:"No data"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Ht,{className:"h-4 w-4"}),"Avg Response Time"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-3xl font-bold",children:w(d.averageResponseTime||0)}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"First contact after assignment"})]})]})]}),n.jsxs(rr,{defaultValue:"by-user",children:[n.jsxs(Zn,{children:[n.jsx(lt,{value:"by-user",children:"By Team Member"}),n.jsx(lt,{value:"by-priority",children:"By Priority"}),n.jsx(lt,{value:"all-assignments",children:"All Assignments"})]}),n.jsx(ft,{value:"by-user",className:"mt-4",children:n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Team Member Performance"}),n.jsx(Le,{children:"Lead distribution and response metrics per team member"})]}),n.jsx(Z,{children:d.byUser.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No assignments found in selected period"}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Team Member"}),n.jsx(ne,{children:"Role"}),n.jsx(ne,{className:"text-center",children:"Total"}),n.jsx(ne,{className:"text-center",children:"Active"}),n.jsx(ne,{className:"text-center",children:"In Progress"}),n.jsx(ne,{className:"text-center",children:"Completed"}),n.jsx(ne,{className:"text-center",children:"Avg Response"}),n.jsx(ne,{children:"Last Activity"})]})}),n.jsx(Lt,{children:d.byUser.map(S=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:S.userName}),n.jsx(te,{children:n.jsx(Ae,{variant:"secondary",children:S.userRole})}),n.jsx(te,{className:"text-center",children:S.totalAssigned}),n.jsx(te,{className:"text-center",children:n.jsx(Ae,{variant:"outline",className:"bg-blue-50 text-blue-700",children:S.active})}),n.jsx(te,{className:"text-center",children:n.jsx(Ae,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:S.inProgress})}),n.jsx(te,{className:"text-center",children:n.jsx(Ae,{variant:"outline",className:"bg-green-50 text-green-700",children:S.completed})}),n.jsx(te,{className:"text-center",children:w(S.avgResponseTime||0)}),n.jsx(te,{className:"text-muted-foreground text-sm",children:S.lastActivityAt?qn(new Date(S.lastActivityAt),"MMM d, HH:mm"):"N/A"})]},S.userId))})]})})]})}),n.jsx(ft,{value:"by-priority",className:"mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Priority Distribution"}),n.jsx(Le,{children:"Assignments by priority level"})]}),n.jsx(Z,{children:n.jsx("div",{className:"space-y-4",children:["urgent","high","medium","low"].map(S=>{const O=d.byPriority.find(R=>R.priority===S)?.count||0,M=d.totalAssignments>0?O/d.totalAssignments*100:0;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[C(S),n.jsxs("span",{className:"text-sm font-medium",children:[O," (",Math.round(M),"%)"]})]}),n.jsx(ur,{value:M,className:"h-2"})]},S)})})})]}),n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Status Distribution"}),n.jsx(Le,{children:"Assignments by current status"})]}),n.jsx(Z,{children:n.jsx("div",{className:"space-y-4",children:["assigned","in_progress","completed","transferred"].map(S=>{const O=d.byStatus.find(R=>R.status===S)?.count||0,M=d.totalAssignments>0?O/d.totalAssignments*100:0;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[A(S),n.jsxs("span",{className:"text-sm font-medium",children:[O," (",Math.round(M),"%)"]})]}),n.jsx(ur,{value:M,className:"h-2"})]},S)})})})]})]})}),n.jsx(ft,{value:"all-assignments",className:"mt-4",children:n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"All Assignments"}),n.jsx(Le,{children:"Detailed list of all lead assignments"})]}),n.jsxs(Z,{children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($m,{className:"h-4 w-4 text-muted-foreground"}),n.jsx(de,{className:"text-sm",children:"Filters:"})]}),n.jsxs(Xe,{value:r,onValueChange:a,children:[n.jsx(Ge,{className:"w-40",children:n.jsx(Qe,{placeholder:"All Users"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"all",children:"All Users"}),j?.map(S=>n.jsx(ae,{value:S.id,children:S.name},S.id))]})]}),n.jsxs(Xe,{value:s,onValueChange:i,children:[n.jsx(Ge,{className:"w-32",children:n.jsx(Qe,{placeholder:"Priority"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"all",children:"All Priority"}),n.jsx(ae,{value:"urgent",children:"Urgent"}),n.jsx(ae,{value:"high",children:"High"}),n.jsx(ae,{value:"medium",children:"Medium"}),n.jsx(ae,{value:"low",children:"Low"})]})]}),n.jsxs(Xe,{value:l,onValueChange:u,children:[n.jsx(Ge,{className:"w-32",children:n.jsx(Qe,{placeholder:"Status"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"all",children:"All Status"}),n.jsx(ae,{value:"assigned",children:"Active"}),n.jsx(ae,{value:"in_progress",children:"In Progress"}),n.jsx(ae,{value:"completed",children:"Completed"}),n.jsx(ae,{value:"transferred",children:"Transferred"})]})]})]}),x?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(We,{className:"h-6 w-6 animate-spin text-primary"})}):!p||p.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No assignments found matching filters"}):n.jsx(as,{className:"h-[400px]",children:n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Contact"}),n.jsx(ne,{children:"Phone"}),n.jsx(ne,{children:"Assigned To"}),n.jsx(ne,{children:"Assigned By"}),n.jsx(ne,{children:"Priority"}),n.jsx(ne,{children:"Status"}),n.jsx(ne,{children:"Created"})]})}),n.jsx(Lt,{children:p.map(S=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:S.contactName}),n.jsx(te,{className:"text-muted-foreground",children:S.phone}),n.jsx(te,{children:S.assignedToUserName}),n.jsx(te,{className:"text-muted-foreground",children:S.assignedByUserName}),n.jsx(te,{children:C(S.priority)}),n.jsx(te,{children:A(S.status)}),n.jsx(te,{className:"text-muted-foreground text-sm",children:qn(new Date(S.createdAt),"MMM d, HH:mm")})]},S._id))})]})})]})]})})]})]}):n.jsx(Q,{children:n.jsx(Z,{className:"py-8",children:n.jsxs("div",{className:"text-center text-muted-foreground",children:[n.jsx(Go,{className:"h-8 w-8 mx-auto mb-2"}),n.jsx("p",{children:"Failed to load report data. Please try again."})]})})})]})})}function CMe(){const[e,t]=b.useState("7"),[r,a]=b.useState("all"),[s,i]=b.useState("all"),{data:l,isLoading:u,refetch:d}=Ie({queryKey:["/api/lead-management/reports/activity-stats",e],queryFn:async()=>{const A=Jy(new Date,parseInt(e)),w=await fetch(`/api/lead-management/reports/activity-stats?startDate=${A.toISOString()}`,{headers:Ke()});if(!w.ok)throw new Error("Failed to fetch activity stats");return w.json()}}),{data:f,isLoading:m,refetch:p}=Ie({queryKey:["/api/lead-management/reports/activity-logs",e,r,s],queryFn:async()=>{const A=Jy(new Date,parseInt(e)),w=new URLSearchParams({startDate:A.toISOString(),limit:"200"});r!=="all"&&w.append("userId",r),s!=="all"&&w.append("action",s);const S=await fetch(`/api/lead-management/reports/activity-logs?${w}`,{headers:Ke()});if(!S.ok)throw new Error("Failed to fetch activity logs");return S.json()}}),{data:x}=Ie({queryKey:["/api/users"],queryFn:async()=>{const A=await fetch("/api/users",{headers:Ke()});return A.ok?A.json():[]}}),v=()=>{d(),p()},j=()=>{if(!f)return;const A=["User","Role","Action","Entity Type","Details","Timestamp"],w=f.map(R=>[R.userName,R.userRole,R.action,R.entityType,JSON.stringify(R.details),qn(new Date(R.createdAt),"yyyy-MM-dd HH:mm:ss")]),S=[A.join(","),...w.map(R=>R.map(I=>`"${I}"`).join(","))].join(`
`),E=new Blob([S],{type:"text/csv"}),O=URL.createObjectURL(E),M=document.createElement("a");M.href=O,M.download=`user-activity-${qn(new Date,"yyyy-MM-dd")}.csv`,M.click()},y=A=>{switch(A){case"create":case"assign":return n.jsx(An,{className:"h-4 w-4 text-green-600"});case"update":case"reassign":return n.jsx(Es,{className:"h-4 w-4 text-blue-600"});case"delete":case"unassign":return n.jsx(hr,{className:"h-4 w-4 text-red-600"});case"view":return n.jsx(ma,{className:"h-4 w-4 text-gray-600"});default:return n.jsx(vs,{className:"h-4 w-4 text-gray-600"})}},N=A=>{const w={create:"bg-green-100 text-green-700 border-green-200",assign:"bg-green-100 text-green-700 border-green-200",update:"bg-blue-100 text-blue-700 border-blue-200",reassign:"bg-blue-100 text-blue-700 border-blue-200",delete:"bg-red-100 text-red-700 border-red-200",unassign:"bg-red-100 text-red-700 border-red-200",view:"bg-gray-100 text-gray-700 border-gray-200",bulk_assign:"bg-purple-100 text-purple-700 border-purple-200"};return n.jsx(Ae,{variant:"outline",className:w[A]||"bg-gray-100 text-gray-700",children:n.jsxs("span",{className:"flex items-center gap-1",children:[y(A),A.replace("_"," ")]})})},C=A=>{const w=Object.keys(A);return w.length===0?"-":w.slice(0,3).map(S=>{const E=A[S],O=typeof E=="string"?E:JSON.stringify(E);return`${S}: ${O.slice(0,30)}${O.length>30?"...":""}`}).join(", ")};return n.jsx(ct,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"User Activity Reports"}),n.jsx("p",{className:"text-muted-foreground",children:"Track team member actions and system activity"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Xe,{value:e,onValueChange:t,children:[n.jsxs(Ge,{className:"w-40",children:[n.jsx(Ii,{className:"h-4 w-4 mr-2"}),n.jsx(Qe,{})]}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"1",children:"Today"}),n.jsx(ae,{value:"7",children:"Last 7 days"}),n.jsx(ae,{value:"30",children:"Last 30 days"}),n.jsx(ae,{value:"90",children:"Last 90 days"})]})]}),n.jsx(Y,{variant:"outline",size:"icon",onClick:v,children:n.jsx(gn,{className:"h-4 w-4"})}),n.jsxs(Y,{variant:"outline",onClick:j,children:[n.jsx(Or,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),u?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):l?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(vs,{className:"h-4 w-4"}),"Total Activities"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-3xl font-bold",children:l.totalActivities}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In selected period"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(i_,{className:"h-4 w-4"}),"Active Users"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-3xl font-bold",children:l.uniqueUsers}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Team members with activity"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(kZ,{className:"h-4 w-4"}),"Assignment Actions"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-3xl font-bold",children:l.byAction.filter(A=>A.action==="assign"||A.action==="bulk_assign").reduce((A,w)=>A+w.count,0)}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lead assignments made"})]})]}),n.jsxs(Q,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Ht,{className:"h-4 w-4"}),"Avg Daily Actions"]})}),n.jsxs(Z,{children:[n.jsx("div",{className:"text-3xl font-bold",children:Math.round(l.totalActivities/parseInt(e))}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per day average"})]})]})]}),n.jsxs(rr,{defaultValue:"by-user",children:[n.jsxs(Zn,{children:[n.jsx(lt,{value:"by-user",children:"By Team Member"}),n.jsx(lt,{value:"all-activities",children:"Activity Log"})]}),n.jsx(ft,{value:"by-user",className:"mt-4",children:n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Team Member Activity Summary"}),n.jsx(Le,{children:"Actions performed by each team member"})]}),n.jsx(Z,{children:l.byUser.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No activity found in selected period"}):n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"Team Member"}),n.jsx(ne,{children:"Role"}),n.jsx(ne,{className:"text-center",children:"Total Actions"}),n.jsx(ne,{children:"Action Breakdown"}),n.jsx(ne,{children:"Last Activity"})]})}),n.jsx(Lt,{children:l.byUser.map(A=>n.jsxs(Ve,{children:[n.jsx(te,{className:"font-medium",children:A.userName}),n.jsx(te,{children:n.jsx(Ae,{variant:"secondary",children:A.userRole})}),n.jsx(te,{className:"text-center",children:n.jsx(Ae,{variant:"outline",children:A.totalActions})}),n.jsx(te,{children:n.jsx("div",{className:"flex flex-wrap gap-1",children:A.actionBreakdown.slice(0,4).map(w=>n.jsxs(Ae,{variant:"outline",className:"text-xs",children:[w.action,": ",w.count]},w.action))})}),n.jsx(te,{className:"text-muted-foreground text-sm",children:A.lastActivityAt?qn(new Date(A.lastActivityAt),"MMM d, HH:mm"):"N/A"})]},A.userId))})]})})]})}),n.jsx(ft,{value:"all-activities",className:"mt-4",children:n.jsxs(Q,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Activity Log"}),n.jsx(Le,{children:"Detailed log of all user activities"})]}),n.jsxs(Z,{children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsxs(Xe,{value:r,onValueChange:a,children:[n.jsx(Ge,{className:"w-40",children:n.jsx(Qe,{placeholder:"All Users"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"all",children:"All Users"}),x?.map(A=>n.jsx(ae,{value:A.id,children:A.name},A.id))]})]}),n.jsxs(Xe,{value:s,onValueChange:i,children:[n.jsx(Ge,{className:"w-36",children:n.jsx(Qe,{placeholder:"All Actions"})}),n.jsxs(Ye,{children:[n.jsx(ae,{value:"all",children:"All Actions"}),n.jsx(ae,{value:"assign",children:"Assign"}),n.jsx(ae,{value:"bulk_assign",children:"Bulk Assign"}),n.jsx(ae,{value:"unassign",children:"Unassign"}),n.jsx(ae,{value:"reassign",children:"Reassign"}),n.jsx(ae,{value:"update",children:"Update"}),n.jsx(ae,{value:"view",children:"View"})]})]})]}),m?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(We,{className:"h-6 w-6 animate-spin text-primary"})}):!f||f.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No activities found matching filters"}):n.jsx(as,{className:"h-[400px]",children:n.jsxs(Dt,{children:[n.jsx(It,{children:n.jsxs(Ve,{children:[n.jsx(ne,{children:"User"}),n.jsx(ne,{children:"Action"}),n.jsx(ne,{children:"Entity Type"}),n.jsx(ne,{children:"Details"}),n.jsx(ne,{children:"Timestamp"})]})}),n.jsx(Lt,{children:f.map(A=>n.jsxs(Ve,{children:[n.jsx(te,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:A.userName}),n.jsx("div",{className:"text-xs text-muted-foreground",children:A.userRole})]})}),n.jsx(te,{children:N(A.action)}),n.jsx(te,{className:"text-muted-foreground",children:A.entityType}),n.jsx(te,{className:"text-sm text-muted-foreground max-w-[200px] truncate",children:C(A.details)}),n.jsx(te,{className:"text-muted-foreground text-sm whitespace-nowrap",children:qn(new Date(A.createdAt),"MMM d, HH:mm:ss")})]},A._id))})]})})]})]})})]})]}):n.jsx(Q,{children:n.jsx(Z,{className:"py-8",children:n.jsxs("div",{className:"text-center text-muted-foreground",children:[n.jsx(vs,{className:"h-8 w-8 mx-auto mb-2"}),n.jsx("p",{children:"Failed to load activity data. Please try again."})]})})})]})})}function st({component:e}){const{isAuthenticated:t}=zm();return t?n.jsx(e,{}):n.jsx(W6,{to:"/login"})}function _Me(){const{isAuthenticated:e}=zm();return n.jsxs($Y,{children:[n.jsx(tt,{path:"/login",children:e?n.jsx(W6,{to:"/"}):n.jsx(dre,{})}),n.jsx(tt,{path:"/",children:()=>n.jsx(st,{component:p1e})}),n.jsx(tt,{path:"/inbox/window",children:()=>n.jsx(st,{component:Z1e})}),n.jsx(tt,{path:"/inbox/leads",children:()=>n.jsx(st,{component:J1e})}),n.jsx(tt,{path:"/inbox",children:()=>n.jsx(st,{component:Y1e})}),n.jsx(tt,{path:"/campaigns",children:()=>n.jsx(st,{component:nSe})}),n.jsx(tt,{path:"/campaigns/manager",children:()=>n.jsx(st,{component:i4e})}),n.jsx(tt,{path:"/campaigns/broadcast",children:()=>n.jsx(st,{component:XTe})}),n.jsx(tt,{path:"/campaigns/selected-contacts",children:()=>n.jsx(st,{component:QTe})}),n.jsx(tt,{path:"/campaigns/schedule",children:()=>n.jsx(st,{component:ZTe})}),n.jsx(tt,{path:"/campaigns/single",children:()=>n.jsx(st,{component:JTe})}),n.jsx(tt,{path:"/campaigns/report",children:()=>n.jsx(st,{component:s4e})}),n.jsx(tt,{path:"/automation",children:()=>n.jsx(st,{component:kTe})}),n.jsx(tt,{path:"/automation/dashboard",children:()=>n.jsx(st,{component:f4e})}),n.jsx(tt,{path:"/automation/triggers",children:()=>n.jsx(st,{component:C6})}),n.jsx(tt,{path:"/automation/triggers/new",children:()=>n.jsx(st,{component:C6})}),n.jsx(tt,{path:"/automation/flows",children:()=>n.jsx(st,{component:h4e})}),n.jsx(tt,{path:"/automation/flows/new",children:()=>n.jsx(st,{component:_6})}),n.jsx(tt,{path:"/automation/flows/:flowId/edit",children:()=>n.jsx(st,{component:_6})}),n.jsx(tt,{path:"/automation/campaigns",children:()=>n.jsx(st,{component:w4e})}),n.jsx(tt,{path:"/automation/segments",children:()=>n.jsx(st,{component:N4e})}),n.jsx(tt,{path:"/automation/analytics",children:()=>n.jsx(st,{component:S4e})}),n.jsx(tt,{path:"/automation/interest",children:()=>n.jsx(st,{component:A4e})}),n.jsx(tt,{path:"/automation/leads",children:()=>n.jsx(st,{component:o4e})}),n.jsx(tt,{path:"/automation/keywords",children:()=>n.jsx(st,{component:l4e})}),n.jsx(tt,{path:"/automation/follow-up",children:()=>n.jsx(st,{component:c4e})}),n.jsx(tt,{path:"/automation/drip",children:()=>n.jsx(st,{component:u4e})}),n.jsx(tt,{path:"/automation/new-leads",children:()=>n.jsx(st,{component:d4e})}),n.jsx(tt,{path:"/apps/connect",children:()=>n.jsx(st,{component:O4e})}),n.jsx(tt,{path:"/templates",children:()=>n.jsx(st,{component:YTe})}),n.jsx(tt,{path:"/templates/add",children:()=>n.jsx(st,{component:M4e})}),n.jsx(tt,{path:"/templates/status",children:()=>n.jsx(st,{component:k4e})}),n.jsx(tt,{path:"/templates/manage",children:()=>n.jsx(st,{component:P4e})}),n.jsx(tt,{path:"/ai",children:()=>n.jsx(st,{component:S2})}),n.jsx(tt,{path:"/ai/new",children:()=>n.jsx(st,{component:Z4e})}),n.jsx(tt,{path:"/ai/manage",children:()=>n.jsx(st,{component:S2})}),n.jsx(tt,{path:"/ai/agents",children:()=>n.jsx(st,{component:S2})}),n.jsx(tt,{path:"/ai/map",children:()=>n.jsx(st,{component:J4e})}),n.jsx(tt,{path:"/ai/prefilled",children:()=>n.jsx(st,{component:tMe})}),n.jsx(tt,{path:"/ai/reports",children:()=>n.jsx(st,{component:eMe})}),n.jsx(tt,{path:"/facebook/forms",children:()=>n.jsx(st,{component:nMe})}),n.jsx(tt,{path:"/facebook/leads",children:()=>n.jsx(st,{component:rMe})}),n.jsx(tt,{path:"/whatsapp/flows",children:()=>n.jsx(st,{component:sMe})}),n.jsx(tt,{path:"/reports",children:()=>n.jsx(st,{component:O6})}),n.jsx(tt,{path:"/reports/delivery",children:()=>n.jsx(st,{component:O6})}),n.jsx(tt,{path:"/reports/campaigns",children:()=>n.jsx(st,{component:iMe})}),n.jsx(tt,{path:"/reports/replies",children:()=>n.jsx(st,{component:oMe})}),n.jsx(tt,{path:"/reports/agents",children:()=>n.jsx(st,{component:lMe})}),n.jsx(tt,{path:"/reports/spending",children:()=>n.jsx(st,{component:cMe})}),n.jsx(tt,{path:"/reports/credits",children:()=>n.jsx(st,{component:fMe})}),n.jsx(tt,{path:"/reports/user-engagement",children:()=>n.jsx(st,{component:hMe})}),n.jsx(tt,{path:"/reports/broadcast",children:()=>n.jsx(st,{component:mMe})}),n.jsx(tt,{path:"/reports/billing",children:()=>n.jsx(st,{component:pMe})}),n.jsx(tt,{path:"/reports/blocked",children:()=>n.jsx(st,{component:xMe})}),n.jsx(tt,{path:"/reports/contacts",children:()=>n.jsx(st,{component:NMe})}),n.jsx(tt,{path:"/reports/lead-assignments",children:()=>n.jsx(st,{component:AMe})}),n.jsx(tt,{path:"/reports/user-activity",children:()=>n.jsx(st,{component:CMe})}),n.jsx(tt,{path:"/contacts",children:()=>n.jsx(st,{component:PTe})}),n.jsx(tt,{path:"/settings",children:()=>n.jsx(st,{component:FTe})}),n.jsx(tt,{path:"/settings/team",children:()=>n.jsx(st,{component:qTe})}),n.jsx(tt,{path:"/settings/permissions",children:()=>n.jsx(st,{component:zTe})}),n.jsx(tt,{path:"/settings/whatsapp",children:()=>n.jsx(st,{component:BTe})}),n.jsx(tt,{path:"/settings/profile",children:()=>n.jsx(st,{component:HTe})}),n.jsx(tt,{path:"/settings/api",children:()=>n.jsx(st,{component:VTe})}),n.jsx(tt,{path:"/settings/billing",children:()=>n.jsx(st,{component:WTe})}),n.jsx(tt,{path:"/user-management",children:()=>n.jsx(st,{component:SMe})}),n.jsx(tt,{component:Mne})]})}function EMe(){return n.jsx(lX,{client:SX,children:n.jsx(One,{children:n.jsxs(Ene,{children:[n.jsx(zee,{}),n.jsx(_Me,{})]})})})}yY.createRoot(document.getElementById("root")).render(n.jsx(EMe,{}));
